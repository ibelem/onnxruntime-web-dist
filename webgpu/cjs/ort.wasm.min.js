/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
"use strict";var Xt=Object.defineProperty;var Ra=Object.getOwnPropertyDescriptor;var Ia=Object.getOwnPropertyNames;var Da=Object.prototype.hasOwnProperty;var N=(r,n)=>()=>(r&&(n=r(r=0)),n);var rt=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports),nt=(r,n)=>{for(var t in n)Xt(r,t,{get:n[t],enumerable:!0})},Pa=(r,n,t,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of Ia(n))!Da.call(r,s)&&s!==t&&Xt(r,s,{get:()=>n[s],enumerable:!(f=Ra(n,s))||f.enumerable});return r};var $e=r=>Pa(Xt({},"__esModule",{value:!0}),r);var Tt,Ve,Ne,At,Mt=N(()=>{Tt=new Map,Ve=[],Ne=(r,n,t)=>{if(n&&typeof n.init=="function"&&typeof n.createInferenceSessionHandler=="function"){let f=Tt.get(r);if(f===void 0)Tt.set(r,{backend:n,priority:t});else{if(f.priority>t)return;if(f.priority===t&&f.backend!==n)throw new Error(`cannot register backend "${r}" using priority ${t}`)}if(t>=0){let s=Ve.indexOf(r);s!==-1&&Ve.splice(s,1);for(let h=0;h<Ve.length;h++)if(Tt.get(Ve[h]).priority<=t){Ve.splice(h,0,r);return}Ve.push(r)}return}throw new TypeError("not a valid backend")},At=async r=>{let n=r.length===0?Ve:r,t=[];for(let f of n){let s=Tt.get(f);if(s){if(s.initialized)return s.backend;if(s.aborted)continue;let h=!!s.initPromise;try{return h||(s.initPromise=s.backend.init()),await s.initPromise,s.initialized=!0,s.backend}catch(d){h||t.push({name:f,err:d}),s.aborted=!0}finally{delete s.initPromise}}}throw new Error(`no available backend found. ERR: ${t.map(f=>`[${f.name}] ${f.err}`).join(", ")}`)}});var Kr=N(()=>{Mt()});var en,tn=N(()=>{en="1.17.0"});var rn,Jt,nn=N(()=>{tn();rn="warning",Jt={wasm:{},webgl:{},webgpu:{},versions:{common:en},set logLevel(r){if(r!==void 0){if(typeof r!="string"||["verbose","info","warning","error","fatal"].indexOf(r)===-1)throw new Error(`Unsupported logging level: ${r}`);rn=r}},get logLevel(){return rn}};Object.defineProperty(Jt,"logLevel",{enumerable:!0})});var $,an=N(()=>{nn();$=Jt});var on,sn,un=N(()=>{on=(r,n)=>{let t=document.createElement("canvas");t.width=r.dims[3],t.height=r.dims[2];let f=t.getContext("2d");if(f!=null){let s,h;n?.tensorLayout!==void 0&&n.tensorLayout==="NHWC"?(s=r.dims[2],h=r.dims[3]):(s=r.dims[3],h=r.dims[2]);let d=n?.format!==void 0?n.format:"RGB",o=n?.norm,w,m;o===void 0||o.mean===void 0?w=[255,255,255,255]:typeof o.mean=="number"?w=[o.mean,o.mean,o.mean,o.mean]:(w=[o.mean[0],o.mean[1],o.mean[2],0],o.mean[3]!==void 0&&(w[3]=o.mean[3])),o===void 0||o.bias===void 0?m=[0,0,0,0]:typeof o.bias=="number"?m=[o.bias,o.bias,o.bias,o.bias]:(m=[o.bias[0],o.bias[1],o.bias[2],0],o.bias[3]!==void 0&&(m[3]=o.bias[3]));let v=h*s,E=0,_=v,A=v*2,F=-1;d==="RGBA"?(E=0,_=v,A=v*2,F=v*3):d==="RGB"?(E=0,_=v,A=v*2):d==="RBG"&&(E=0,A=v,_=v*2);for(let I=0;I<h;I++)for(let T=0;T<s;T++){let L=(r.data[E++]-m[0])*w[0],z=(r.data[_++]-m[1])*w[1],oe=(r.data[A++]-m[2])*w[2],K=F===-1?255:(r.data[F++]-m[3])*w[3];f.fillStyle="rgba("+L+","+z+","+oe+","+K+")",f.fillRect(T,I,1,1)}return t.toDataURL()}else throw new Error("Can not access image data")},sn=(r,n)=>{let t=document.createElement("canvas").getContext("2d"),f;if(t!=null){let s,h,d;n?.tensorLayout!==void 0&&n.tensorLayout==="NHWC"?(s=r.dims[2],h=r.dims[1],d=r.dims[3]):(s=r.dims[3],h=r.dims[2],d=r.dims[1]);let o=n!==void 0&&n.format!==void 0?n.format:"RGB",w=n?.norm,m,v;w===void 0||w.mean===void 0?m=[255,255,255,255]:typeof w.mean=="number"?m=[w.mean,w.mean,w.mean,w.mean]:(m=[w.mean[0],w.mean[1],w.mean[2],255],w.mean[3]!==void 0&&(m[3]=w.mean[3])),w===void 0||w.bias===void 0?v=[0,0,0,0]:typeof w.bias=="number"?v=[w.bias,w.bias,w.bias,w.bias]:(v=[w.bias[0],w.bias[1],w.bias[2],0],w.bias[3]!==void 0&&(v[3]=w.bias[3]));let E=h*s;if(n!==void 0&&(n.format!==void 0&&d===4&&n.format!=="RGBA"||d===3&&n.format!=="RGB"&&n.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let _=4,A=0,F=1,I=2,T=3,L=0,z=E,oe=E*2,K=-1;o==="RGBA"?(L=0,z=E,oe=E*2,K=E*3):o==="RGB"?(L=0,z=E,oe=E*2):o==="RBG"&&(L=0,oe=E,z=E*2),f=t.createImageData(s,h);for(let C=0;C<h*s;A+=_,F+=_,I+=_,T+=_,C++)f.data[A]=(r.data[L++]-v[0])*m[0],f.data[F]=(r.data[z++]-v[1])*m[1],f.data[I]=(r.data[oe++]-v[2])*m[2],f.data[T]=K===-1?255:(r.data[K++]-v[3])*m[3]}else throw new Error("Can not access image data");return f}});var Zt,fn,ln,cn,dn,pn=N(()=>{Rt();Zt=(r,n)=>{if(r===void 0)throw new Error("Image buffer must be defined");if(n.height===void 0||n.width===void 0)throw new Error("Image height and width must be defined");if(n.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:t,width:f}=n,s=n.norm??{mean:255,bias:0},h,d;typeof s.mean=="number"?h=[s.mean,s.mean,s.mean,s.mean]:h=[s.mean[0],s.mean[1],s.mean[2],s.mean[3]??255],typeof s.bias=="number"?d=[s.bias,s.bias,s.bias,s.bias]:d=[s.bias[0],s.bias[1],s.bias[2],s.bias[3]??0];let o=n.format!==void 0?n.format:"RGBA",w=n.tensorFormat!==void 0&&n.tensorFormat!==void 0?n.tensorFormat:"RGB",m=t*f,v=w==="RGBA"?new Float32Array(m*4):new Float32Array(m*3),E=4,_=0,A=1,F=2,I=3,T=0,L=m,z=m*2,oe=-1;o==="RGB"&&(E=3,_=0,A=1,F=2,I=-1),w==="RGBA"?oe=m*3:w==="RBG"?(T=0,z=m,L=m*2):w==="BGR"&&(z=0,L=m,T=m*2);for(let C=0;C<m;C++,_+=E,F+=E,A+=E,I+=E)v[T++]=(r[_]+d[0])/h[0],v[L++]=(r[A]+d[1])/h[1],v[z++]=(r[F]+d[2])/h[2],oe!==-1&&I!==-1&&(v[oe++]=(r[I]+d[3])/h[3]);return w==="RGBA"?new he("float32",v,[1,4,t,f]):new he("float32",v,[1,3,t,f])},fn=async(r,n)=>{let t=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,f=typeof ImageData<"u"&&r instanceof ImageData,s=typeof ImageBitmap<"u"&&r instanceof ImageBitmap,h=typeof r=="string",d,o=n??{};if(t){let w=document.createElement("canvas");w.width=r.width,w.height=r.height;let m=w.getContext("2d");if(m!=null){let v=r.height,E=r.width;if(n!==void 0&&n.resizedHeight!==void 0&&n.resizedWidth!==void 0&&(v=n.resizedHeight,E=n.resizedWidth),n!==void 0){if(o=n,n.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");o.tensorFormat="RGBA",o.height=v,o.width=E}else o.tensorFormat="RGBA",o.height=v,o.width=E;m.drawImage(r,0,0),d=m.getImageData(0,0,E,v).data}else throw new Error("Can not access image data")}else if(f){let w,m;if(n!==void 0&&n.resizedWidth!==void 0&&n.resizedHeight!==void 0?(w=n.resizedHeight,m=n.resizedWidth):(w=r.height,m=r.width),n!==void 0&&(o=n),o.format="RGBA",o.height=w,o.width=m,n!==void 0){let v=document.createElement("canvas");v.width=m,v.height=w;let E=v.getContext("2d");if(E!=null)E.putImageData(r,0,0),d=E.getImageData(0,0,m,w).data;else throw new Error("Can not access image data")}else d=r.data}else if(s){if(n===void 0)throw new Error("Please provide image config with format for Imagebitmap");let w=document.createElement("canvas");w.width=r.width,w.height=r.height;let m=w.getContext("2d");if(m!=null){let v=r.height,E=r.width;return m.drawImage(r,0,0,E,v),d=m.getImageData(0,0,E,v).data,o.height=v,o.width=E,Zt(d,o)}else throw new Error("Can not access image data")}else{if(h)return new Promise((w,m)=>{let v=document.createElement("canvas"),E=v.getContext("2d");if(!r||!E)return m();let _=new Image;_.crossOrigin="Anonymous",_.src=r,_.onload=()=>{v.width=_.width,v.height=_.height,E.drawImage(_,0,0,v.width,v.height);let A=E.getImageData(0,0,v.width,v.height);o.height=v.height,o.width=v.width,w(Zt(A.data,o))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(d!==void 0)return Zt(d,o);throw new Error("Input data provided is not supported - aborted tensor creation")},ln=(r,n)=>{let{width:t,height:f,download:s,dispose:h}=n,d=[1,f,t,4];return new he({location:"texture",type:"float32",texture:r,dims:d,download:s,dispose:h})},cn=(r,n)=>{let{dataType:t,dims:f,download:s,dispose:h}=n;return new he({location:"gpu-buffer",type:t??"float32",gpuBuffer:r,dims:f,download:s,dispose:h})},dn=(r,n,t)=>new he({location:"cpu-pinned",type:r,data:n,dims:t??[n.length]})});var gt,It,mn,hn,gn=N(()=>{gt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),It=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),mn=!1,hn=()=>{if(!mn){mn=!0;let r=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",n=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";r&&(gt.set("int64",BigInt64Array),It.set(BigInt64Array,"int64")),n&&(gt.set("uint64",BigUint64Array),It.set(BigUint64Array,"uint64"))}}});var yn,wn,bn=N(()=>{Rt();yn=r=>{let n=1;for(let t=0;t<r.length;t++){let f=r[t];if(typeof f!="number"||!Number.isSafeInteger(f))throw new TypeError(`dims[${t}] must be an integer, got: ${f}`);if(f<0)throw new RangeError(`dims[${t}] must be a non-negative integer, got: ${f}`);n*=f}return n},wn=(r,n)=>{switch(r.location){case"cpu":return new he(r.type,r.data,n);case"cpu-pinned":return new he({location:"cpu-pinned",data:r.data,type:r.type,dims:n});case"texture":return new he({location:"texture",texture:r.texture,type:r.type,dims:n});case"gpu-buffer":return new he({location:"gpu-buffer",gpuBuffer:r.gpuBuffer,type:r.type,dims:n});default:throw new Error(`tensorReshape: tensor location ${r.location} is not supported`)}}});var he,Rt=N(()=>{un();pn();gn();bn();he=class{constructor(n,t,f){hn();let s,h;if(typeof n=="object"&&"location"in n)switch(this.dataLocation=n.location,s=n.type,h=n.dims,n.location){case"cpu-pinned":{let o=gt.get(s);if(!o)throw new TypeError(`unsupported type "${s}" to create tensor from pinned buffer`);if(!(n.data instanceof o))throw new TypeError(`buffer should be of type ${o.name}`);this.cpuData=n.data;break}case"texture":{if(s!=="float32")throw new TypeError(`unsupported type "${s}" to create tensor from texture`);this.gpuTextureData=n.texture,this.downloader=n.download,this.disposer=n.dispose;break}case"gpu-buffer":{if(s!=="float32"&&s!=="float16"&&s!=="int32"&&s!=="int64"&&s!=="uint32"&&s!=="bool")throw new TypeError(`unsupported type "${s}" to create tensor from gpu buffer`);this.gpuBufferData=n.gpuBuffer,this.downloader=n.download,this.disposer=n.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let o,w;if(typeof n=="string")if(s=n,w=f,n==="string"){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");o=t}else{let m=gt.get(n);if(m===void 0)throw new TypeError(`Unsupported tensor type: ${n}.`);if(Array.isArray(t)){if(n==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");n==="uint64"||n==="int64"?o=m.from(t,BigInt):o=m.from(t)}else if(t instanceof m)o=t;else throw new TypeError(`A ${s} tensor's data must be type of ${m}`)}else if(w=t,Array.isArray(n)){if(n.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let m=typeof n[0];if(m==="string")s="string",o=n;else if(m==="boolean")s="bool",o=Uint8Array.from(n);else throw new TypeError(`Invalid element type of data array: ${m}.`)}else{let m=It.get(n.constructor);if(m===void 0)throw new TypeError(`Unsupported type for tensor data: ${n.constructor}.`);s=m,o=n}if(w===void 0)w=[o.length];else if(!Array.isArray(w))throw new TypeError("A tensor's dims must be a number array");h=w,this.cpuData=o,this.dataLocation="cpu"}let d=yn(h);if(this.cpuData&&d!==this.cpuData.length)throw new Error(`Tensor's size(${d}) does not match data length(${this.cpuData.length}).`);this.type=s,this.dims=h,this.size=d}static async fromImage(n,t){return fn(n,t)}static fromTexture(n,t){return ln(n,t)}static fromGpuBuffer(n,t){return cn(n,t)}static fromPinnedBuffer(n,t,f){return dn(n,t,f)}toDataURL(n){return on(this,n)}toImageData(n){return sn(this,n)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(n){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,n&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(n){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return wn(this,n)}}});var le,Dt=N(()=>{Rt();le=he});var Pt,vn=N(()=>{Mt();Dt();Pt=class r{constructor(n){this.handler=n}async run(n,t,f){let s={},h={};if(typeof n!="object"||n===null||n instanceof le||Array.isArray(n))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let d=!0;if(typeof t=="object"){if(t===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof le)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(t.length===0)throw new TypeError("'fetches' cannot be an empty array.");d=!1;for(let m of t){if(typeof m!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(m)===-1)throw new RangeError(`'fetches' contains invalid output name: ${m}.`);s[m]=null}if(typeof f=="object"&&f!==null)h=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else{let m=!1,v=Object.getOwnPropertyNames(t);for(let E of this.outputNames)if(v.indexOf(E)!==-1){let _=t[E];(_===null||_ instanceof le)&&(m=!0,d=!1,s[E]=_)}if(m){if(typeof f=="object"&&f!==null)h=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else h=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let m of this.inputNames)if(typeof n[m]>"u")throw new Error(`input '${m}' is missing in 'feeds'.`);if(d)for(let m of this.outputNames)s[m]=null;let o=await this.handler.run(n,s,h),w={};for(let m in o)if(Object.hasOwnProperty.call(o,m)){let v=o[m];v instanceof le?w[m]=v:w[m]=new le(v.type,v.data,v.dims)}return w}async release(){return this.handler.dispose()}static async create(n,t,f,s){let h,d={};if(typeof n=="string"){if(h=n,typeof t=="object"&&t!==null)d=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof Uint8Array){if(h=n,typeof t=="object"&&t!==null)d=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer){let E=n,_=0,A=n.byteLength;if(typeof t=="object"&&t!==null)d=t;else if(typeof t=="number"){if(_=t,!Number.isSafeInteger(_))throw new RangeError("'byteOffset' must be an integer.");if(_<0||_>=E.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${E.byteLength}).`);if(A=n.byteLength-_,typeof f=="number"){if(A=f,!Number.isSafeInteger(A))throw new RangeError("'byteLength' must be an integer.");if(A<=0||_+A>E.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${E.byteLength-_}].`);if(typeof s=="object"&&s!==null)d=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(typeof f<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof t<"u")throw new TypeError("'options' must be an object.");h=new Uint8Array(E,_,A)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let w=(d.executionProviders||[]).map(E=>typeof E=="string"?E:E.name),v=await(await At(w)).createInferenceSessionHandler(h,d);return new r(v)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var On,_n=N(()=>{vn();On=Pt});var En=N(()=>{});var xa,xt,Sn=N(()=>{Mt();Dt();xa="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",xt=class r{constructor(n){this.handler=n}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}static async create(n,t){let f=n.evalModel||"",s=n.optimizerModel||"",h=t||{},o=(h.executionProviders||[]).map(m=>typeof m=="string"?m:m.name),w=await At(o);if(w.createTrainingSessionHandler){let m=await w.createTrainingSessionHandler(n.checkpointState,n.trainModel,f,s,h);return new r(m)}else throw new Error(xa)}typeNarrowingForRunStep(n,t,f){let s={},h={};if(typeof n!="object"||n===null||n instanceof le||Array.isArray(n))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let d=!0;if(typeof t=="object"){if(t===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof le)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(t.length===0)throw new TypeError("'fetches' cannot be an empty array.");d=!1;for(let o of t){if(typeof o!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(o)===-1)throw new RangeError(`'fetches' contains invalid output name: ${o}.`);s[o]=null}if(typeof f=="object"&&f!==null)h=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else{let o=!1,w=Object.getOwnPropertyNames(t);for(let m of this.outputNames)if(w.indexOf(m)!==-1){let v=t[m];(v===null||v instanceof le)&&(o=!0,d=!1,s[m]=v)}if(o){if(typeof f=="object"&&f!==null)h=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else h=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let o of this.inputNames)if(typeof n[o]>"u")throw new Error(`input '${o}' is missing in 'feeds'.`);if(d)for(let o of this.outputNames)s[o]=null;return[s,h]}convertHandlerReturnTypeToMapOfTensors(n){let t={};for(let f in n)if(Object.hasOwnProperty.call(n,f)){let s=n[f];s instanceof le?t[f]=s:t[f]=new le(s.type,s.data,s.dims)}return t}async runTrainStep(n,t,f){let[s,h]=this.typeNarrowingForRunStep(n,t,f),d=await this.handler.runTrainStep(n,s,h);return this.convertHandlerReturnTypeToMapOfTensors(d)}async loadParametersBuffer(n,t){throw new Error("Method not implemented.")}async getContiguousParameters(n){throw new Error("Method not implemented.")}async release(){return this.handler.dispose()}}});var Tn,An=N(()=>{Sn();Tn=xt});var Qt={};nt(Qt,{InferenceSession:()=>On,Tensor:()=>le,TrainingSession:()=>Tn,env:()=>$,registerBackend:()=>Ne});var qe=N(()=>{Kr();an();_n();Dt();En();An()});var Kt={};nt(Kt,{readFile:()=>Ca});var Ca,er=N(()=>{Ca=void 0});var tr={};nt(tr,{join:()=>Ua});var Ua,rr=N(()=>{Ua=void 0});var Dn=rt((In,nr)=>{"use strict";var Rn=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(n={}){var t=n,f,s;t.ready=new Promise((i,l)=>{f=i,s=l});var h=Object.assign({},t),d="./this.program",o=typeof window=="object",w=typeof importScripts=="function",m=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v="",E,_,A;if(m){var F=(er(),$e(Kt)),I=(rr(),$e(tr));v=w?I.dirname(v)+"/":__dirname+"/",E=(i,l)=>(i=i.startsWith("file://")?new URL(i):I.normalize(i),F.readFileSync(i,l?void 0:"utf8")),A=i=>(i=E(i,!0),i.buffer||(i=new Uint8Array(i)),i),_=(i,l,c,b=!0)=>{i=i.startsWith("file://")?new URL(i):I.normalize(i),F.readFile(i,b?void 0:"utf8",(M,x)=>{M?c(M):l(b?x.buffer:x)})},!t.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||w)&&(w?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),r&&(v=r),v.indexOf("blob:")!==0?v=v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):v="",E=i=>{var l=new XMLHttpRequest;return l.open("GET",i,!1),l.send(null),l.responseText},w&&(A=i=>{var l=new XMLHttpRequest;return l.open("GET",i,!1),l.responseType="arraybuffer",l.send(null),new Uint8Array(l.response)}),_=(i,l,c)=>{var b=new XMLHttpRequest;b.open("GET",i,!0),b.responseType="arraybuffer",b.onload=()=>{b.status==200||b.status==0&&b.response?l(b.response):c()},b.onerror=c,b.send(null)});var T=t.print||console.log.bind(console),L=t.printErr||console.error.bind(console);Object.assign(t,h),h=null,t.thisProgram&&(d=t.thisProgram);var z;t.wasmBinary&&(z=t.wasmBinary);var oe=t.noExitRuntime||!0;typeof WebAssembly!="object"&&Y("no native wasm support detected");var K,C,_e=!1,Ee,Q,P,ee;function ie(){var i=K.buffer;t.HEAP8=Ee=new Int8Array(i),t.HEAP16=new Int16Array(i),t.HEAP32=P=new Int32Array(i),t.HEAPU8=Q=new Uint8Array(i),t.HEAPU16=new Uint16Array(i),t.HEAPU32=ee=new Uint32Array(i),t.HEAPF32=new Float32Array(i),t.HEAPF64=new Float64Array(i)}var Se=[],Te=[],B=[];function D(){var i=t.preRun.shift();Se.unshift(i)}var we=0,ce=null,se=null;function Y(i){throw t.onAbort&&t.onAbort(i),i="Aborted("+i+")",L(i),_e=!0,i=new WebAssembly.RuntimeError(i+". Build with -sASSERTIONS for more info."),s(i),i}function pe(i){return i.startsWith("data:application/octet-stream;base64,")}var Ae;if(Ae="ort-wasm.wasm",!pe(Ae)){var Me=Ae;Ae=t.locateFile?t.locateFile(Me,v):v+Me}function Le(i){if(i==Ae&&z)return new Uint8Array(z);if(A)return A(i);throw"both async and sync fetching of the wasm failed"}function ve(i){if(!z&&(o||w)){if(typeof fetch=="function"&&!i.startsWith("file://"))return fetch(i,{credentials:"same-origin"}).then(l=>{if(!l.ok)throw"failed to load wasm binary file at '"+i+"'";return l.arrayBuffer()}).catch(()=>Le(i));if(_)return new Promise((l,c)=>{_(i,b=>l(new Uint8Array(b)),c)})}return Promise.resolve().then(()=>Le(i))}function Ce(i,l,c){return ve(i).then(b=>WebAssembly.instantiate(b,l)).then(b=>b).then(c,b=>{L("failed to asynchronously prepare wasm: "+b),Y(b)})}function Re(i,l){var c=Ae;return z||typeof WebAssembly.instantiateStreaming!="function"||pe(c)||c.startsWith("file://")||m||typeof fetch!="function"?Ce(c,i,l):fetch(c,{credentials:"same-origin"}).then(b=>WebAssembly.instantiateStreaming(b,i).then(l,function(M){return L("wasm streaming compile failed: "+M),L("falling back to ArrayBuffer instantiation"),Ce(c,i,l)}))}var de,Ie=i=>{for(;0<i.length;)i.shift()(t)};function ne(i){this.va=i-24,this.Ea=function(l){ee[this.va+4>>2>>>0]=l},this.za=function(l){ee[this.va+8>>2>>>0]=l},this.xa=function(l,c){this.ya(),this.Ea(l),this.za(c)},this.ya=function(){ee[this.va+16>>2>>>0]=0}}var te=0,De=0,be=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ke=(i,l,c)=>{l>>>=0;var b=l+c;for(c=l;i[c]&&!(c>=b);)++c;if(16<c-l&&i.buffer&&be)return be.decode(i.subarray(l,c));for(b="";l<c;){var M=i[l++];if(M&128){var x=i[l++]&63;if((M&224)==192)b+=String.fromCharCode((M&31)<<6|x);else{var k=i[l++]&63;M=(M&240)==224?(M&15)<<12|x<<6|k:(M&7)<<18|x<<12|k<<6|i[l++]&63,65536>M?b+=String.fromCharCode(M):(M-=65536,b+=String.fromCharCode(55296|M>>10,56320|M&1023))}}else b+=String.fromCharCode(M)}return b},Ue=(i,l)=>(i>>>=0)?ke(Q,i,l):"",Xe=i=>{for(var l=0,c=0;c<i.length;++c){var b=i.charCodeAt(c);127>=b?l++:2047>=b?l+=2:55296<=b&&57343>=b?(l+=4,++c):l+=3}return l},Je=(i,l,c,b)=>{if(c>>>=0,!(0<b))return 0;var M=c;b=c+b-1;for(var x=0;x<i.length;++x){var k=i.charCodeAt(x);if(55296<=k&&57343>=k){var re=i.charCodeAt(++x);k=65536+((k&1023)<<10)|re&1023}if(127>=k){if(c>=b)break;l[c++>>>0]=k}else{if(2047>=k){if(c+1>=b)break;l[c++>>>0]=192|k>>6}else{if(65535>=k){if(c+2>=b)break;l[c++>>>0]=224|k>>12}else{if(c+3>=b)break;l[c++>>>0]=240|k>>18,l[c++>>>0]=128|k>>12&63}l[c++>>>0]=128|k>>6&63}l[c++>>>0]=128|k&63}}return l[c>>>0]=0,c-M},Oe=i=>i%4===0&&(i%100!==0||i%400===0),ot=[0,31,60,91,121,152,182,213,244,274,305,335],Be=[0,31,59,90,120,151,181,212,243,273,304,334],it=i=>{var l=Xe(i)+1,c=ct(l);return c&&Je(i,Q,c,l),c},st={},ut=()=>{if(!ft){var i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},l;for(l in st)st[l]===void 0?delete i[l]:i[l]=st[l];var c=[];for(l in i)c.push(`${l}=${i[l]}`);ft=c}return ft},ft,We=[null,[],[]],ze=[31,29,31,30,31,30,31,31,30,31,30,31],Ze=[31,28,31,30,31,30,31,31,30,31,30,31];function bt(i){var l=Array(Xe(i)+1);return Je(i,l,0,l.length),l}function lt(i,l,c,b){function M(g,W,j){for(g=typeof g=="number"?g.toString():g||"";g.length<W;)g=j[0]+g;return g}function x(g,W){return M(g,W,"0")}function k(g,W){function j(ht){return 0>ht?-1:0<ht?1:0}var Pe;return(Pe=j(g.getFullYear()-W.getFullYear()))===0&&(Pe=j(g.getMonth()-W.getMonth()))===0&&(Pe=j(g.getDate()-W.getDate())),Pe}function re(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function me(g){var W=g.ra;for(g=new Date(new Date(g.sa+1900,0,1).getTime());0<W;){var j=g.getMonth(),Pe=(Oe(g.getFullYear())?ze:Ze)[j];if(W>Pe-g.getDate())W-=Pe-g.getDate()+1,g.setDate(1),11>j?g.setMonth(j+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+W);break}}return j=new Date(g.getFullYear()+1,0,4),W=re(new Date(g.getFullYear(),0,4)),j=re(j),0>=k(W,g)?0>=k(j,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}i>>>=0,l>>>=0,c>>>=0,b>>>=0;var ue=P[b+40>>2>>>0];b={Ca:P[b>>2>>>0],Ba:P[b+4>>2>>>0],ta:P[b+8>>2>>>0],wa:P[b+12>>2>>>0],ua:P[b+16>>2>>>0],sa:P[b+20>>2>>>0],ma:P[b+24>>2>>>0],ra:P[b+28>>2>>>0],Fa:P[b+32>>2>>>0],Aa:P[b+36>>2>>>0],Da:ue?Ue(ue):""},c=Ue(c),ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var fe in ue)c=c.replace(new RegExp(fe,"g"),ue[fe]);var pt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),mt="January February March April May June July August September October November December".split(" ");ue={"%a":g=>pt[g.ma].substring(0,3),"%A":g=>pt[g.ma],"%b":g=>mt[g.ua].substring(0,3),"%B":g=>mt[g.ua],"%C":g=>x((g.sa+1900)/100|0,2),"%d":g=>x(g.wa,2),"%e":g=>M(g.wa,2," "),"%g":g=>me(g).toString().substring(2),"%G":g=>me(g),"%H":g=>x(g.ta,2),"%I":g=>(g=g.ta,g==0?g=12:12<g&&(g-=12),x(g,2)),"%j":g=>{for(var W=0,j=0;j<=g.ua-1;W+=(Oe(g.sa+1900)?ze:Ze)[j++]);return x(g.wa+W,3)},"%m":g=>x(g.ua+1,2),"%M":g=>x(g.Ba,2),"%n":()=>`
`,"%p":g=>0<=g.ta&&12>g.ta?"AM":"PM","%S":g=>x(g.Ca,2),"%t":()=>"	","%u":g=>g.ma||7,"%U":g=>x(Math.floor((g.ra+7-g.ma)/7),2),"%V":g=>{var W=Math.floor((g.ra+7-(g.ma+6)%7)/7);if(2>=(g.ma+371-g.ra-2)%7&&W++,W)W==53&&(j=(g.ma+371-g.ra)%7,j==4||j==3&&Oe(g.sa)||(W=1));else{W=52;var j=(g.ma+7-g.ra-1)%7;(j==4||j==5&&Oe(g.sa%400-1))&&W++}return x(W,2)},"%w":g=>g.ma,"%W":g=>x(Math.floor((g.ra+7-(g.ma+6)%7)/7),2),"%y":g=>(g.sa+1900).toString().substring(2),"%Y":g=>g.sa+1900,"%z":g=>{g=g.Aa;var W=0<=g;return g=Math.abs(g)/60,(W?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.Da,"%%":()=>"%"},c=c.replace(/%%/g,"\0\0");for(fe in ue)c.includes(fe)&&(c=c.replace(new RegExp(fe,"g"),ue[fe](b)));return c=c.replace(/\0\0/g,"%"),fe=bt(c),fe.length>l?0:(Ee.set(fe,i>>>0),fe.length-1)}var vt={a:function(i,l,c){throw i>>>=0,new ne(i).xa(l>>>0,c>>>0),te=i,De++,te},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(i,l,c){i=l+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*l:NaN,c>>>=0,i=new Date(1e3*i),P[c>>2>>>0]=i.getUTCSeconds(),P[c+4>>2>>>0]=i.getUTCMinutes(),P[c+8>>2>>>0]=i.getUTCHours(),P[c+12>>2>>>0]=i.getUTCDate(),P[c+16>>2>>>0]=i.getUTCMonth(),P[c+20>>2>>>0]=i.getUTCFullYear()-1900,P[c+24>>2>>>0]=i.getUTCDay(),P[c+28>>2>>>0]=(i.getTime()-Date.UTC(i.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(i,l,c){i=l+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*l:NaN,c>>>=0,i=new Date(1e3*i),P[c>>2>>>0]=i.getSeconds(),P[c+4>>2>>>0]=i.getMinutes(),P[c+8>>2>>>0]=i.getHours(),P[c+12>>2>>>0]=i.getDate(),P[c+16>>2>>>0]=i.getMonth(),P[c+20>>2>>>0]=i.getFullYear()-1900,P[c+24>>2>>>0]=i.getDay(),P[c+28>>2>>>0]=(Oe(i.getFullYear())?ot:Be)[i.getMonth()]+i.getDate()-1|0,P[c+36>>2>>>0]=-(60*i.getTimezoneOffset()),l=new Date(i.getFullYear(),6,1).getTimezoneOffset();var b=new Date(i.getFullYear(),0,1).getTimezoneOffset();P[c+32>>2>>>0]=(l!=b&&i.getTimezoneOffset()==Math.min(b,l))|0},q:function(i){i>>>=0;var l=new Date(P[i+20>>2>>>0]+1900,P[i+16>>2>>>0],P[i+12>>2>>>0],P[i+8>>2>>>0],P[i+4>>2>>>0],P[i>>2>>>0],0),c=P[i+32>>2>>>0],b=l.getTimezoneOffset(),M=new Date(l.getFullYear(),6,1).getTimezoneOffset(),x=new Date(l.getFullYear(),0,1).getTimezoneOffset(),k=Math.min(x,M);return 0>c?P[i+32>>2>>>0]=+(M!=x&&k==b):0<c!=(k==b)&&(M=Math.max(x,M),l.setTime(l.getTime()+6e4*((0<c?k:M)-b))),P[i+24>>2>>>0]=l.getDay(),P[i+28>>2>>>0]=(Oe(l.getFullYear())?ot:Be)[l.getMonth()]+l.getDate()-1|0,P[i>>2>>>0]=l.getSeconds(),P[i+4>>2>>>0]=l.getMinutes(),P[i+8>>2>>>0]=l.getHours(),P[i+12>>2>>>0]=l.getDate(),P[i+16>>2>>>0]=l.getMonth(),P[i+20>>2>>>0]=l.getYear(),i=l.getTime()/1e3,Qe((de=i,1<=+Math.abs(de)?0<de?+Math.floor(de/4294967296)>>>0:~~+Math.ceil((de-+(~~de>>>0))/4294967296)>>>0:0)),i>>>0},m:function(){return-52},n:function(){},t:function(i,l,c){function b(me){return(me=me.toTimeString().match(/\(([A-Za-z ]+)\)$/))?me[1]:"GMT"}c>>>=0;var M=new Date().getFullYear(),x=new Date(M,0,1),k=new Date(M,6,1);M=x.getTimezoneOffset();var re=k.getTimezoneOffset();ee[i>>>0>>2>>>0]=60*Math.max(M,re),P[l>>>0>>2>>>0]=+(M!=re),i=b(x),l=b(k),i=it(i),l=it(l),re<M?(ee[c>>2>>>0]=i,ee[c+4>>2>>>0]=l):(ee[c>>2>>>0]=l,ee[c+4>>2>>>0]=i)},d:()=>{Y("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(i,l,c){return l>>>=0,Q.copyWithin(i>>>0>>>0,l>>>0,l+(c>>>0)>>>0)},s:function(i){i>>>=0;var l=Q.length;if(4294901760<i)return!1;for(var c=1;4>=c;c*=2){var b=l*(1+.2/c);b=Math.min(b,i+100663296);var M=Math;b=Math.max(i,b);e:{M=M.min.call(M,4294901760,b+(65536-b%65536)%65536)-K.buffer.byteLength+65535>>>16;try{K.grow(M),ie();var x=1;break e}catch{}x=void 0}if(x)return!0}return!1},C:function(i,l){i>>>=0,l>>>=0;var c=0;return ut().forEach(function(b,M){var x=l+c;for(M=ee[i+4*M>>2>>>0]=x,x=0;x<b.length;++x)Ee[M++>>0>>>0]=b.charCodeAt(x);Ee[M>>0>>>0]=0,c+=b.length+1}),0},D:function(i,l){i>>>=0,l>>>=0;var c=ut();ee[i>>2>>>0]=c.length;var b=0;return c.forEach(function(M){b+=M.length+1}),ee[l>>2>>>0]=b,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(i,l,c,b){l>>>=0,c>>>=0,b>>>=0;for(var M=0,x=0;x<c;x++){var k=ee[l>>2>>>0],re=ee[l+4>>2>>>0];l+=8;for(var me=0;me<re;me++){var ue=Q[k+me>>>0],fe=We[i];ue===0||ue===10?((i===1?T:L)(ke(fe,0)),fe.length=0):fe.push(ue)}M+=re}return ee[b>>2>>>0]=M,0},A:lt,c:function(i,l,c,b){return lt(i>>>0,l>>>0,c>>>0,b>>>0)}};(function(){function i(c){if(c=c.exports,C=c=et(c),K=C.J,ie(),Te.unshift(C.K),we--,t.monitorRunDependencies&&t.monitorRunDependencies(we),we==0&&(ce!==null&&(clearInterval(ce),ce=null),se)){var b=se;se=null,b()}return c}var l={a:vt};if(we++,t.monitorRunDependencies&&t.monitorRunDependencies(we),t.instantiateWasm)try{return t.instantiateWasm(l,i)}catch(c){L("Module.instantiateWasm callback failed with error: "+c),s(c)}return Re(l,function(c){i(c.instance)}).catch(s),{}})(),t._OrtInit=(i,l)=>(t._OrtInit=C.L)(i,l),t._OrtGetLastError=(i,l)=>(t._OrtGetLastError=C.M)(i,l),t._OrtCreateSessionOptions=(i,l,c,b,M,x,k,re,me,ue)=>(t._OrtCreateSessionOptions=C.N)(i,l,c,b,M,x,k,re,me,ue),t._OrtAppendExecutionProvider=(i,l)=>(t._OrtAppendExecutionProvider=C.O)(i,l),t._OrtAddFreeDimensionOverride=(i,l,c)=>(t._OrtAddFreeDimensionOverride=C.P)(i,l,c),t._OrtAddSessionConfigEntry=(i,l,c)=>(t._OrtAddSessionConfigEntry=C.Q)(i,l,c),t._OrtReleaseSessionOptions=i=>(t._OrtReleaseSessionOptions=C.R)(i),t._OrtCreateSession=(i,l,c)=>(t._OrtCreateSession=C.S)(i,l,c),t._OrtReleaseSession=i=>(t._OrtReleaseSession=C.T)(i),t._OrtGetInputOutputCount=(i,l,c)=>(t._OrtGetInputOutputCount=C.U)(i,l,c),t._OrtGetInputName=(i,l)=>(t._OrtGetInputName=C.V)(i,l),t._OrtGetOutputName=(i,l)=>(t._OrtGetOutputName=C.W)(i,l),t._OrtFree=i=>(t._OrtFree=C.X)(i),t._OrtCreateTensor=(i,l,c,b,M,x)=>(t._OrtCreateTensor=C.Y)(i,l,c,b,M,x),t._OrtGetTensorData=(i,l,c,b,M)=>(t._OrtGetTensorData=C.Z)(i,l,c,b,M),t._OrtReleaseTensor=i=>(t._OrtReleaseTensor=C._)(i),t._OrtCreateRunOptions=(i,l,c,b)=>(t._OrtCreateRunOptions=C.$)(i,l,c,b),t._OrtAddRunConfigEntry=(i,l,c)=>(t._OrtAddRunConfigEntry=C.aa)(i,l,c),t._OrtReleaseRunOptions=i=>(t._OrtReleaseRunOptions=C.ba)(i),t._OrtCreateBinding=i=>(t._OrtCreateBinding=C.ca)(i),t._OrtBindInput=(i,l,c)=>(t._OrtBindInput=C.da)(i,l,c),t._OrtBindOutput=(i,l,c,b)=>(t._OrtBindOutput=C.ea)(i,l,c,b),t._OrtClearBoundOutputs=i=>(t._OrtClearBoundOutputs=C.fa)(i),t._OrtReleaseBinding=i=>(t._OrtReleaseBinding=C.ga)(i),t._OrtRunWithBinding=(i,l,c,b,M)=>(t._OrtRunWithBinding=C.ha)(i,l,c,b,M),t._OrtRun=(i,l,c,b,M,x,k,re)=>(t._OrtRun=C.ia)(i,l,c,b,M,x,k,re),t._OrtEndProfiling=i=>(t._OrtEndProfiling=C.ja)(i);var ct=t._malloc=i=>(ct=t._malloc=C.ka)(i);t._free=i=>(t._free=C.la)(i);var Qe=i=>(Qe=C.na)(i),dt=()=>(dt=C.oa)(),Ke=i=>(Ke=C.pa)(i),U=i=>(U=C.qa)(i);function et(i){i=Object.assign({},i);var l=b=>()=>b()>>>0,c=b=>M=>b(M)>>>0;return i.__errno_location=l(i.__errno_location),i.malloc=c(i.malloc),i.stackSave=l(i.stackSave),i.stackAlloc=c(i.stackAlloc),i}t.stackAlloc=U,t.stackSave=dt,t.stackRestore=Ke,t.UTF8ToString=Ue,t.stringToUTF8=(i,l,c)=>Je(i,Q,l,c),t.lengthBytesUTF8=Xe;var je;se=function i(){je||Ye(),je||(se=i)};function Ye(){function i(){if(!je&&(je=!0,t.calledRun=!0,!_e)){if(Ie(Te),f(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;){var l=t.postRun.shift();B.unshift(l)}Ie(B)}}if(!(0<we)){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)D();Ie(Se),0<we||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),i()},1)):i())}}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return Ye(),n.ready}})();typeof In=="object"&&typeof nr=="object"?nr.exports=Rn:typeof define=="function"&&define.amd&&define([],()=>Rn)});var Pn=rt(()=>{});var xn=rt(()=>{});var Cn={};nt(Cn,{cpus:()=>Ba});var Ba,Un=N(()=>{Ba=void 0});var Ln=rt((Fn,ar)=>{"use strict";var Bn=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(n={}){function t(){return B.buffer!=Y.buffer&&ve(),Y}function f(){return B.buffer!=Y.buffer&&ve(),pe}function s(){return B.buffer!=Y.buffer&&ve(),Ae}function h(){return B.buffer!=Y.buffer&&ve(),Me}function d(){return B.buffer!=Y.buffer&&ve(),Le}var o=n,w,m;o.ready=new Promise((e,a)=>{w=e,m=a});var v=Object.assign({},o),E="./this.program",_=(e,a)=>{throw a},A=typeof window=="object",F=typeof importScripts=="function",I=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",T=o.ENVIRONMENT_IS_PTHREAD||!1,L="";function z(e){return o.locateFile?o.locateFile(e,L):L+e}var oe,K,C;if(I){var _e=(er(),$e(Kt)),Ee=(rr(),$e(tr));L=F?Ee.dirname(L)+"/":__dirname+"/",oe=(a,u)=>(a=a.startsWith("file://")?new URL(a):Ee.normalize(a),_e.readFileSync(a,u?void 0:"utf8")),C=a=>(a=oe(a,!0),a.buffer||(a=new Uint8Array(a)),a),K=(a,u,p,S=!0)=>{a=a.startsWith("file://")?new URL(a):Ee.normalize(a),_e.readFile(a,S?void 0:"utf8",(O,R)=>{O?p(O):u(S?R.buffer:R)})},!o.thisProgram&&1<process.argv.length&&(E=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),_=(a,u)=>{throw process.exitCode=a,u},o.inspect=()=>"[Emscripten Module object]";let e;try{e=Pn()}catch(a){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),a}global.Worker=e.Worker}else(A||F)&&(F?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),typeof r<"u"&&r&&(L=r),L.indexOf("blob:")!==0?L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1):L="",I||(oe=e=>{var a=new XMLHttpRequest;return a.open("GET",e,!1),a.send(null),a.responseText},F&&(C=e=>{var a=new XMLHttpRequest;return a.open("GET",e,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),K=(e,a,u)=>{var p=new XMLHttpRequest;p.open("GET",e,!0),p.responseType="arraybuffer",p.onload=()=>{p.status==200||p.status==0&&p.response?a(p.response):u()},p.onerror=u,p.send(null)}));I&&typeof performance>"u"&&(global.performance=xn().performance);var Q=console.log.bind(console),P=console.error.bind(console);I&&(Q=(...e)=>_e.writeSync(1,e.join(" ")+`
`),P=(...e)=>_e.writeSync(2,e.join(" ")+`
`));var ee=o.print||Q,ie=o.printErr||P;Object.assign(o,v),v=null,o.thisProgram&&(E=o.thisProgram),o.quit&&(_=o.quit);var Se;o.wasmBinary&&(Se=o.wasmBinary);var Te=o.noExitRuntime||!0;typeof WebAssembly!="object"&&Oe("no native wasm support detected");var B,D,we,ce=!1,se,Y,pe,Ae,Me,Le;function ve(){var e=B.buffer;o.HEAP8=Y=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=Ae=new Int32Array(e),o.HEAPU8=pe=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=Me=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=Le=new Float64Array(e)}var Ce=o.INITIAL_MEMORY||16777216;if(5242880<=Ce||Oe("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Ce+"! (STACK_SIZE=5242880)"),T)B=o.wasmMemory;else if(o.wasmMemory)B=o.wasmMemory;else if(B=new WebAssembly.Memory({initial:Ce/65536,maximum:65536,shared:!0}),!(B.buffer instanceof SharedArrayBuffer))throw ie("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),I&&ie("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");ve(),Ce=B.buffer.byteLength;var Re,de=[],Ie=[],ne=[],te=0;function De(){return Te||0<te}var be=0,ke=null,Ue=null;function Xe(){be++,o.monitorRunDependencies&&o.monitorRunDependencies(be)}function Je(){if(be--,o.monitorRunDependencies&&o.monitorRunDependencies(be),be==0&&(ke!==null&&(clearInterval(ke),ke=null),Ue)){var e=Ue;Ue=null,e()}}function Oe(e){throw o.onAbort&&o.onAbort(e),e="Aborted("+e+")",ie(e),ce=!0,se=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),m(e),e}function ot(e){return e.startsWith("data:application/octet-stream;base64,")}var Be;Be="ort-wasm-threaded.wasm",ot(Be)||(Be=z(Be));function it(e){if(e==Be&&Se)return new Uint8Array(Se);if(C)return C(e);throw"both async and sync fetching of the wasm failed"}function st(e){if(!Se&&(A||F)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw"failed to load wasm binary file at '"+e+"'";return a.arrayBuffer()}).catch(()=>it(e));if(K)return new Promise((a,u)=>{K(e,p=>a(new Uint8Array(p)),u)})}return Promise.resolve().then(()=>it(e))}function ut(e,a,u){return st(e).then(p=>WebAssembly.instantiate(p,a)).then(p=>p).then(u,p=>{ie("failed to asynchronously prepare wasm: "+p),Oe(p)})}function ft(e,a){var u=Be;return Se||typeof WebAssembly.instantiateStreaming!="function"||ot(u)||u.startsWith("file://")||I||typeof fetch!="function"?ut(u,e,a):fetch(u,{credentials:"same-origin"}).then(p=>WebAssembly.instantiateStreaming(p,e).then(a,function(S){return ie("wasm streaming compile failed: "+S),ie("falling back to ArrayBuffer instantiation"),ut(u,e,a)}))}var We;function ze(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function Ze(e){e.terminate(),e.onmessage=()=>{}}function bt(e){(e=U.La[e])||Oe(),U.lb(e)}function lt(e){var a=U.fb();if(!a)return 6;U.Oa.push(a),U.La[e.Na]=a,a.Na=e.Na;var u={cmd:"run",start_routine:e.mb,arg:e.eb,pthread_ptr:e.Na};return I&&a.unref(),a.postMessage(u,e.sb),0}var vt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ct=(e,a,u)=>{a>>>=0;var p=a+u;for(u=a;e[u]&&!(u>=p);)++u;if(16<u-a&&e.buffer&&vt)return vt.decode(e.buffer instanceof SharedArrayBuffer?e.slice(a,u):e.subarray(a,u));for(p="";a<u;){var S=e[a++];if(S&128){var O=e[a++]&63;if((S&224)==192)p+=String.fromCharCode((S&31)<<6|O);else{var R=e[a++]&63;S=(S&240)==224?(S&15)<<12|O<<6|R:(S&7)<<18|O<<12|R<<6|e[a++]&63,65536>S?p+=String.fromCharCode(S):(S-=65536,p+=String.fromCharCode(55296|S>>10,56320|S&1023))}}else p+=String.fromCharCode(S)}return p},Qe=(e,a)=>(e>>>=0)?ct(f(),e,a):"";function dt(e){if(T)return G(1,1,e);se=e,De()||(U.nb(),o.onExit&&o.onExit(e),ce=!0),_(e,new ze(e))}var Ke=e=>{if(se=e,T)throw je(e),"unwind";dt(e)},U={Ra:[],Oa:[],Za:[],La:{},Va:function(){T?U.hb():U.gb()},gb:function(){de.unshift(()=>{Xe(),U.ib(()=>Je())})},hb:function(){U.receiveObjectTransfer=U.kb,U.threadInitTLS=U.Ya,U.setExitStatus=U.Xa,Te=!1},Xa:function(e){se=e},xb:["$terminateWorker"],nb:function(){for(var e of U.Oa)Ze(e);for(e of U.Ra)Ze(e);U.Ra=[],U.Oa=[],U.La=[]},lb:function(e){var a=e.Na;delete U.La[a],U.Ra.push(e),U.Oa.splice(U.Oa.indexOf(e),1),e.Na=0,Gt(a)},kb:function(){},Ya:function(){U.Za.forEach(e=>e())},jb:e=>new Promise(a=>{e.onmessage=O=>{O=O.data;var R=O.cmd;if(O.targetThread&&O.targetThread!=_t()){var V=U.La[O.wb];V?V.postMessage(O,O.transferList):ie('Internal error! Worker sent a message "'+R+'" to target pthread '+O.targetThread+", but that thread no longer exists!")}else R==="checkMailbox"?Ot():R==="spawnThread"?lt(O):R==="cleanupThread"?bt(O.thread):R==="killThread"?(O=O.thread,R=U.La[O],delete U.La[O],Ze(R),Gt(O),U.Oa.splice(U.Oa.indexOf(R),1),R.Na=0):R==="cancelThread"?U.La[O.thread].postMessage({cmd:"cancel"}):R==="loaded"?(e.loaded=!0,a(e)):R==="alert"?alert("Thread "+O.threadId+": "+O.text):O.target==="setimmediate"?e.postMessage(O):R==="callHandler"?o[O.handler](...O.args):R&&ie("worker sent an unknown command "+R)},e.onerror=O=>{throw ie("worker sent an error! "+O.filename+":"+O.lineno+": "+O.message),O},I&&(e.on("message",function(O){e.onmessage({data:O})}),e.on("error",function(O){e.onerror(O)}));var u=[],p=["onExit","onAbort","print","printErr"],S;for(S of p)o.hasOwnProperty(S)&&u.push(S);e.postMessage({cmd:"load",handlers:u,urlOrBlob:o.mainScriptUrlOrBlob||r,wasmMemory:B,wasmModule:we})}),ib:function(e){e()},cb:function(){var e=z("ort-wasm-threaded.worker.js");e=new Worker(e),U.Ra.push(e)},fb:function(){return U.Ra.length==0&&(U.cb(),U.jb(U.Ra[0])),U.Ra.pop()}};o.PThread=U;var et=e=>{for(;0<e.length;)e.shift()(o)};o.establishStackSpace=function(){var e=_t(),a=s()[e+52>>2>>>0];e=s()[e+56>>2>>>0],qr(a,a-e),Et(a)};function je(e){if(T)return G(2,0,e);Ke(e)}var Ye=[];o.invokeEntryPoint=function(e,a){var u=Ye[e];u||(e>=Ye.length&&(Ye.length=e+1),Ye[e]=u=Re.get(e)),e=u(a),De()?U.Xa(e):$t(e)};function i(e){this.Ua=e-24,this.bb=function(a){h()[this.Ua+4>>2>>>0]=a},this.ab=function(a){h()[this.Ua+8>>2>>>0]=a},this.Va=function(a,u){this.$a(),this.bb(a),this.ab(u)},this.$a=function(){h()[this.Ua+16>>2>>>0]=0}}var l=0,c=0;function b(e,a,u,p){return T?G(3,1,e,a,u,p):M(e,a,u,p)}function M(e,a,u,p){if(e>>>=0,a>>>=0,u>>>=0,p>>>=0,typeof SharedArrayBuffer>"u")return ie("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var S=[];return T&&S.length===0?b(e,a,u,p):(e={mb:u,Na:e,eb:p,sb:S},T?(e.ub="spawnThread",postMessage(e,S),0):lt(e))}function x(e,a,u){return T?G(4,1,e,a,u):0}function k(e,a){if(T)return G(5,1,e,a)}var re=e=>{for(var a=0,u=0;u<e.length;++u){var p=e.charCodeAt(u);127>=p?a++:2047>=p?a+=2:55296<=p&&57343>=p?(a+=4,++u):a+=3}return a},me=(e,a,u,p)=>{if(u>>>=0,!(0<p))return 0;var S=u;p=u+p-1;for(var O=0;O<e.length;++O){var R=e.charCodeAt(O);if(55296<=R&&57343>=R){var V=e.charCodeAt(++O);R=65536+((R&1023)<<10)|V&1023}if(127>=R){if(u>=p)break;a[u++>>>0]=R}else{if(2047>=R){if(u+1>=p)break;a[u++>>>0]=192|R>>6}else{if(65535>=R){if(u+2>=p)break;a[u++>>>0]=224|R>>12}else{if(u+3>=p)break;a[u++>>>0]=240|R>>18,a[u++>>>0]=128|R>>12&63}a[u++>>>0]=128|R>>6&63}a[u++>>>0]=128|R&63}}return a[u>>>0]=0,u-S},ue=(e,a,u)=>me(e,f(),a,u);function fe(e,a){if(T)return G(6,1,e,a)}function pt(e,a,u){if(T)return G(7,1,e,a,u)}function mt(e,a,u){return T?G(8,1,e,a,u):0}function g(e,a){if(T)return G(9,1,e,a)}function W(e,a,u){if(T)return G(10,1,e,a,u)}function j(e,a,u,p){if(T)return G(11,1,e,a,u,p)}function Pe(e,a,u,p){if(T)return G(12,1,e,a,u,p)}function ht(e,a,u,p){if(T)return G(13,1,e,a,u,p)}function Tr(e){if(T)return G(14,1,e)}function Ar(e,a){if(T)return G(15,1,e,a)}function Mr(e,a,u){if(T)return G(16,1,e,a,u)}var va=e=>{if(!ce)try{if(e(),!De())try{T?$t(se):Ke(se)}catch(a){a instanceof ze||a=="unwind"||_(1,a)}}catch(a){a instanceof ze||a=="unwind"||_(1,a)}};function Ht(e){e>>>=0,typeof Atomics.tb=="function"&&(Atomics.tb(s(),e>>2,e).value.then(Ot),e+=128,Atomics.store(s(),e>>2,1))}o.__emscripten_thread_mailbox_await=Ht;function Ot(){var e=_t();e&&(Ht(e),va(()=>$r()))}o.checkMailbox=Ot;var tt=e=>e%4===0&&(e%100!==0||e%400===0),Rr=[0,31,60,91,121,152,182,213,244,274,305,335],Ir=[0,31,59,90,120,151,181,212,243,273,304,334];function Dr(e,a,u,p,S,O,R,V){return T?G(17,1,e,a,u,p,S,O,R,V):-52}function Pr(e,a,u,p,S,O,R){if(T)return G(18,1,e,a,u,p,S,O,R)}var xr=e=>{var a=re(e)+1,u=jr(a);return u&&ue(e,u,a),u},Oa=e=>{var a=Vt();return e=e(),Et(a),e};function G(e,a){var u=arguments.length-2,p=arguments;return Oa(()=>{for(var S=qt(8*u),O=S>>3,R=0;R<u;R++){var V=p[2+R];d()[O+R>>>0]=V}return Gr(e,u,S,a)})}var zt=[],jt={},Cr=()=>{if(!Yt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"},a;for(a in jt)jt[a]===void 0?delete e[a]:e[a]=jt[a];var u=[];for(a in e)u.push(`${a}=${e[a]}`);Yt=u}return Yt},Yt;function Ur(e,a){if(T)return G(19,1,e,a);e>>>=0,a>>>=0;var u=0;return Cr().forEach(function(p,S){var O=a+u;for(S=h()[e+4*S>>2>>>0]=O,O=0;O<p.length;++O)t()[S++>>0>>>0]=p.charCodeAt(O);t()[S>>0>>>0]=0,u+=p.length+1}),0}function Br(e,a){if(T)return G(20,1,e,a);e>>>=0,a>>>=0;var u=Cr();h()[e>>2>>>0]=u.length;var p=0;return u.forEach(function(S){p+=S.length+1}),h()[a>>2>>>0]=p,0}function Fr(e){return T?G(21,1,e):52}function Lr(e,a,u,p){return T?G(22,1,e,a,u,p):52}function kr(e,a,u,p,S){return T?G(23,1,e,a,u,p,S):70}var _a=[null,[],[]];function Wr(e,a,u,p){if(T)return G(24,1,e,a,u,p);a>>>=0,u>>>=0,p>>>=0;for(var S=0,O=0;O<u;O++){var R=h()[a>>2>>>0],V=h()[a+4>>2>>>0];a+=8;for(var xe=0;xe<V;xe++){var ae=f()[R+xe>>>0],ge=_a[e];ae===0||ae===10?((e===1?ee:ie)(ct(ge,0)),ge.length=0):ge.push(ae)}S+=V}return h()[p>>2>>>0]=S,0}var Nr=[31,29,31,30,31,30,31,31,30,31,30,31],Hr=[31,28,31,30,31,30,31,31,30,31,30,31];function Ea(e){var a=Array(re(e)+1);return me(e,a,0,a.length),a}var Sa=(e,a)=>{t().set(e,a>>>0)};function zr(e,a,u,p){function S(y,H,q){for(y=typeof y=="number"?y.toString():y||"";y.length<H;)y=q[0]+y;return y}function O(y,H){return S(y,H,"0")}function R(y,H){function q(Qr){return 0>Qr?-1:0<Qr?1:0}var Ge;return(Ge=q(y.getFullYear()-H.getFullYear()))===0&&(Ge=q(y.getMonth()-H.getMonth()))===0&&(Ge=q(y.getDate()-H.getDate())),Ge}function V(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function xe(y){var H=y.Pa;for(y=new Date(new Date(y.Qa+1900,0,1).getTime());0<H;){var q=y.getMonth(),Ge=(tt(y.getFullYear())?Nr:Hr)[q];if(H>Ge-y.getDate())H-=Ge-y.getDate()+1,y.setDate(1),11>q?y.setMonth(q+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+H);break}}return q=new Date(y.getFullYear()+1,0,4),H=V(new Date(y.getFullYear(),0,4)),q=V(q),0>=R(H,y)?0>=R(q,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}e>>>=0,a>>>=0,u>>>=0,p>>>=0;var ae=s()[p+40>>2>>>0];p={qb:s()[p>>2>>>0],pb:s()[p+4>>2>>>0],Sa:s()[p+8>>2>>>0],Wa:s()[p+12>>2>>>0],Ta:s()[p+16>>2>>>0],Qa:s()[p+20>>2>>>0],Ma:s()[p+24>>2>>>0],Pa:s()[p+28>>2>>>0],yb:s()[p+32>>2>>>0],ob:s()[p+36>>2>>>0],rb:ae?Qe(ae):""},u=Qe(u),ae={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ge in ae)u=u.replace(new RegExp(ge,"g"),ae[ge]);var Jr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Zr="January February March April May June July August September October November December".split(" ");ae={"%a":y=>Jr[y.Ma].substring(0,3),"%A":y=>Jr[y.Ma],"%b":y=>Zr[y.Ta].substring(0,3),"%B":y=>Zr[y.Ta],"%C":y=>O((y.Qa+1900)/100|0,2),"%d":y=>O(y.Wa,2),"%e":y=>S(y.Wa,2," "),"%g":y=>xe(y).toString().substring(2),"%G":y=>xe(y),"%H":y=>O(y.Sa,2),"%I":y=>(y=y.Sa,y==0?y=12:12<y&&(y-=12),O(y,2)),"%j":y=>{for(var H=0,q=0;q<=y.Ta-1;H+=(tt(y.Qa+1900)?Nr:Hr)[q++]);return O(y.Wa+H,3)},"%m":y=>O(y.Ta+1,2),"%M":y=>O(y.pb,2),"%n":()=>`
`,"%p":y=>0<=y.Sa&&12>y.Sa?"AM":"PM","%S":y=>O(y.qb,2),"%t":()=>"	","%u":y=>y.Ma||7,"%U":y=>O(Math.floor((y.Pa+7-y.Ma)/7),2),"%V":y=>{var H=Math.floor((y.Pa+7-(y.Ma+6)%7)/7);if(2>=(y.Ma+371-y.Pa-2)%7&&H++,H)H==53&&(q=(y.Ma+371-y.Pa)%7,q==4||q==3&&tt(y.Qa)||(H=1));else{H=52;var q=(y.Ma+7-y.Pa-1)%7;(q==4||q==5&&tt(y.Qa%400-1))&&H++}return O(H,2)},"%w":y=>y.Ma,"%W":y=>O(Math.floor((y.Pa+7-(y.Ma+6)%7)/7),2),"%y":y=>(y.Qa+1900).toString().substring(2),"%Y":y=>y.Qa+1900,"%z":y=>{y=y.ob;var H=0<=y;return y=Math.abs(y)/60,(H?"+":"-")+("0000"+(y/60*100+y%60)).slice(-4)},"%Z":y=>y.rb,"%%":()=>"%"},u=u.replace(/%%/g,"\0\0");for(ge in ae)u.includes(ge)&&(u=u.replace(new RegExp(ge,"g"),ae[ge](p)));return u=u.replace(/\0\0/g,"%"),ge=Ea(u),ge.length>a?0:(Sa(ge,e),ge.length-1)}U.Va();var Ta=[null,dt,je,b,x,k,fe,pt,mt,g,W,j,Pe,ht,Tr,Ar,Mr,Dr,Pr,Ur,Br,Fr,Lr,kr,Wr],Aa={b:function(e,a,u){throw e>>>=0,new i(e).Va(a>>>0,u>>>0),l=e,c++,l},N:function(e){Yr(e>>>0,!F,1,!A,131072,!1),U.Ya()},j:function(e){e>>>=0,T?postMessage({cmd:"cleanupThread",thread:e}):bt(e)},I:M,h:x,T:k,D:fe,F:pt,U:mt,R:g,J:W,Q:j,n:Pe,E:ht,B:Tr,S:Ar,C:Mr,q:()=>!0,z:function(e,a){e>>>=0,e==a>>>0?setTimeout(()=>Ot()):T?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=U.La[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:Ht,p:function(e){I&&U.La[e>>>0].ref()},t:function(e,a,u){e=a+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*a:NaN,u>>>=0,e=new Date(1e3*e),s()[u>>2>>>0]=e.getUTCSeconds(),s()[u+4>>2>>>0]=e.getUTCMinutes(),s()[u+8>>2>>>0]=e.getUTCHours(),s()[u+12>>2>>>0]=e.getUTCDate(),s()[u+16>>2>>>0]=e.getUTCMonth(),s()[u+20>>2>>>0]=e.getUTCFullYear()-1900,s()[u+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,s()[u+28>>2>>>0]=e},u:function(e,a,u){e=a+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*a:NaN,u>>>=0,e=new Date(1e3*e),s()[u>>2>>>0]=e.getSeconds(),s()[u+4>>2>>>0]=e.getMinutes(),s()[u+8>>2>>>0]=e.getHours(),s()[u+12>>2>>>0]=e.getDate(),s()[u+16>>2>>>0]=e.getMonth(),s()[u+20>>2>>>0]=e.getFullYear()-1900,s()[u+24>>2>>>0]=e.getDay(),a=(tt(e.getFullYear())?Rr:Ir)[e.getMonth()]+e.getDate()-1|0,s()[u+28>>2>>>0]=a,s()[u+36>>2>>>0]=-(60*e.getTimezoneOffset()),a=new Date(e.getFullYear(),6,1).getTimezoneOffset();var p=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(a!=p&&e.getTimezoneOffset()==Math.min(p,a))|0,s()[u+32>>2>>>0]=e},v:function(e){e>>>=0;var a=new Date(s()[e+20>>2>>>0]+1900,s()[e+16>>2>>>0],s()[e+12>>2>>>0],s()[e+8>>2>>>0],s()[e+4>>2>>>0],s()[e>>2>>>0],0),u=s()[e+32>>2>>>0],p=a.getTimezoneOffset(),S=new Date(a.getFullYear(),6,1).getTimezoneOffset(),O=new Date(a.getFullYear(),0,1).getTimezoneOffset(),R=Math.min(O,S);return 0>u?s()[e+32>>2>>>0]=+(S!=O&&R==p):0<u!=(R==p)&&(S=Math.max(O,S),a.setTime(a.getTime()+6e4*((0<u?R:S)-p))),s()[e+24>>2>>>0]=a.getDay(),u=(tt(a.getFullYear())?Rr:Ir)[a.getMonth()]+a.getDate()-1|0,s()[e+28>>2>>>0]=u,s()[e>>2>>>0]=a.getSeconds(),s()[e+4>>2>>>0]=a.getMinutes(),s()[e+8>>2>>>0]=a.getHours(),s()[e+12>>2>>>0]=a.getDate(),s()[e+16>>2>>>0]=a.getMonth(),s()[e+20>>2>>>0]=a.getYear(),e=a.getTime()/1e3,Vr((We=e,1<=+Math.abs(We)?0<We?+Math.floor(We/4294967296)>>>0:~~+Math.ceil((We-+(~~We>>>0))/4294967296)>>>0:0)),e>>>0},r:Dr,s:Pr,y:function(e,a,u){function p(ae){return(ae=ae.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ae[1]:"GMT"}e>>>=0,a>>>=0,u>>>=0;var S=new Date().getFullYear(),O=new Date(S,0,1),R=new Date(S,6,1);S=O.getTimezoneOffset();var V=R.getTimezoneOffset(),xe=Math.max(S,V);h()[e>>2>>>0]=60*xe,s()[a>>2>>>0]=+(S!=V),e=p(O),a=p(R),e=xr(e),a=xr(a),V<S?(h()[u>>2>>>0]=e,h()[u+4>>2>>>0]=a):(h()[u>>2>>>0]=a,h()[u+4>>2>>>0]=e)},c:()=>{Oe("")},k:function(){},i:function(){return Date.now()},o:()=>{throw te+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return I?(Un(),$e(Cn)).cpus().length:navigator.hardwareConcurrency},K:function(e,a,u,p){for(U.vb=a>>>0,zt.length=u,a=p>>>0>>3,p=0;p<u;p++)zt[p]=d()[a+p>>>0];return Ta[e].apply(null,zt)},x:function(e){e>>>=0;var a=f().length;if(e<=a||4294901760<e)return!1;for(var u=1;4>=u;u*=2){var p=a*(1+.2/u);p=Math.min(p,e+100663296);var S=Math;p=Math.max(e,p);e:{S=S.min.call(S,4294901760,p+(65536-p%65536)%65536)-B.buffer.byteLength+65535>>>16;try{B.grow(S),ve();var O=1;break e}catch{}O=void 0}if(O)return!0}return!1},O:Ur,P:Br,H:Ke,g:Fr,m:Lr,w:kr,l:Wr,a:B||o.wasmMemory,G:zr,d:function(e,a,u,p){return zr(e>>>0,a>>>0,u>>>0,p>>>0)}};(function(){function e(u,p){return u=u.exports,D=u=Ma(u),U.Za.push(D.ya),Re=D.za,Ie.unshift(D.V),we=p,Je(),u}var a={a:Aa};if(Xe(),o.instantiateWasm)try{return o.instantiateWasm(a,e)}catch(u){ie("Module.instantiateWasm callback failed with error: "+u),m(u)}return ft(a,function(u){e(u.instance,u.module)}).catch(m),{}})(),o._OrtInit=(e,a)=>(o._OrtInit=D.W)(e,a),o._OrtGetLastError=(e,a)=>(o._OrtGetLastError=D.X)(e,a),o._OrtCreateSessionOptions=(e,a,u,p,S,O,R,V,xe,ae)=>(o._OrtCreateSessionOptions=D.Y)(e,a,u,p,S,O,R,V,xe,ae),o._OrtAppendExecutionProvider=(e,a)=>(o._OrtAppendExecutionProvider=D.Z)(e,a),o._OrtAddFreeDimensionOverride=(e,a,u)=>(o._OrtAddFreeDimensionOverride=D._)(e,a,u),o._OrtAddSessionConfigEntry=(e,a,u)=>(o._OrtAddSessionConfigEntry=D.$)(e,a,u),o._OrtReleaseSessionOptions=e=>(o._OrtReleaseSessionOptions=D.aa)(e),o._OrtCreateSession=(e,a,u)=>(o._OrtCreateSession=D.ba)(e,a,u),o._OrtReleaseSession=e=>(o._OrtReleaseSession=D.ca)(e),o._OrtGetInputOutputCount=(e,a,u)=>(o._OrtGetInputOutputCount=D.da)(e,a,u),o._OrtGetInputName=(e,a)=>(o._OrtGetInputName=D.ea)(e,a),o._OrtGetOutputName=(e,a)=>(o._OrtGetOutputName=D.fa)(e,a),o._OrtFree=e=>(o._OrtFree=D.ga)(e),o._OrtCreateTensor=(e,a,u,p,S,O)=>(o._OrtCreateTensor=D.ha)(e,a,u,p,S,O),o._OrtGetTensorData=(e,a,u,p,S)=>(o._OrtGetTensorData=D.ia)(e,a,u,p,S),o._OrtReleaseTensor=e=>(o._OrtReleaseTensor=D.ja)(e),o._OrtCreateRunOptions=(e,a,u,p)=>(o._OrtCreateRunOptions=D.ka)(e,a,u,p),o._OrtAddRunConfigEntry=(e,a,u)=>(o._OrtAddRunConfigEntry=D.la)(e,a,u),o._OrtReleaseRunOptions=e=>(o._OrtReleaseRunOptions=D.ma)(e),o._OrtCreateBinding=e=>(o._OrtCreateBinding=D.na)(e),o._OrtBindInput=(e,a,u)=>(o._OrtBindInput=D.oa)(e,a,u),o._OrtBindOutput=(e,a,u,p)=>(o._OrtBindOutput=D.pa)(e,a,u,p),o._OrtClearBoundOutputs=e=>(o._OrtClearBoundOutputs=D.qa)(e),o._OrtReleaseBinding=e=>(o._OrtReleaseBinding=D.ra)(e),o._OrtRunWithBinding=(e,a,u,p,S)=>(o._OrtRunWithBinding=D.sa)(e,a,u,p,S),o._OrtRun=(e,a,u,p,S,O,R,V)=>(o._OrtRun=D.ta)(e,a,u,p,S,O,R,V),o._OrtEndProfiling=e=>(o._OrtEndProfiling=D.ua)(e);var _t=o._pthread_self=()=>(_t=o._pthread_self=D.va)(),jr=o._malloc=e=>(jr=o._malloc=D.wa)(e);o._free=e=>(o._free=D.xa)(e),o.__emscripten_tls_init=()=>(o.__emscripten_tls_init=D.ya)();var Yr=o.__emscripten_thread_init=(e,a,u,p,S,O)=>(Yr=o.__emscripten_thread_init=D.Aa)(e,a,u,p,S,O);o.__emscripten_thread_crashed=()=>(o.__emscripten_thread_crashed=D.Ba)();var Gr=(e,a,u,p)=>(Gr=D.Ca)(e,a,u,p),Gt=e=>(Gt=D.Da)(e),$t=o.__emscripten_thread_exit=e=>($t=o.__emscripten_thread_exit=D.Ea)(e),$r=o.__emscripten_check_mailbox=()=>($r=o.__emscripten_check_mailbox=D.Fa)(),Vr=e=>(Vr=D.Ga)(e),qr=(e,a)=>(qr=D.Ha)(e,a),Vt=()=>(Vt=D.Ia)(),Et=e=>(Et=D.Ja)(e),qt=e=>(qt=D.Ka)(e);function Ma(e){e=Object.assign({},e);var a=p=>()=>p()>>>0,u=p=>S=>p(S)>>>0;return e.__errno_location=a(e.__errno_location),e.pthread_self=a(e.pthread_self),e.malloc=u(e.malloc),e.stackSave=a(e.stackSave),e.stackAlloc=u(e.stackAlloc),e}o.keepRuntimeAlive=De,o.wasmMemory=B,o.stackAlloc=qt,o.stackSave=Vt,o.stackRestore=Et,o.UTF8ToString=Qe,o.stringToUTF8=ue,o.lengthBytesUTF8=re,o.ExitStatus=ze,o.PThread=U;var St;Ue=function e(){St||Xr(),St||(Ue=e)};function Xr(){function e(){if(!St&&(St=!0,o.calledRun=!0,!ce)&&(T||et(Ie),w(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),!T)){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;){var a=o.postRun.shift();ne.unshift(a)}et(ne)}}if(!(0<be))if(T)w(o),T||et(Ie),startWorker(o);else{if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)de.unshift(o.preRun.shift());et(de),0<be||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e())}}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return Xr(),n.ready}})();typeof Fn=="object"&&typeof ar=="object"?ar.exports=Bn:typeof define=="function"&&define.amd&&define([],()=>Bn)});var kn=rt((Go,Fa)=>{Fa.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var Nn,La,or,ir,Ct,Wn,ka,Wa,Na,Hn,J,at=N(()=>{"use strict";Nn=Dn();La=Ln(),ir=!1,Ct=!1,Wn=!1,ka=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Wa=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Na=(r,n)=>r?n?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":n?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Hn=async r=>{if(ir)return Promise.resolve();if(Ct)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Wn)throw new Error("previous call to 'initializeWebAssembly()' failed.");Ct=!0;let n=r.initTimeout,t=r.numThreads,f=r.simd,s=t>1&&ka(),h=f&&Wa(),d=r.wasmPaths,o=typeof d=="string"?d:void 0,w=Na(h,s),m=typeof d=="object"?d[w]:void 0,v=!1,E=[];if(n>0&&E.push(new Promise(_=>{setTimeout(()=>{v=!0,_()},n)})),E.push(new Promise((_,A)=>{let F=s?La:Nn,I={locateFile:(T,L)=>s&&T.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([kn()],{type:"text/javascript"})):T.endsWith(".wasm")?m||(o??L)+w:L+T};if(s)if(typeof Blob>"u")I.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let T=`var ortWasmThreaded=${F.toString()};`;I.mainScriptUrlOrBlob=new Blob([T],{type:"text/javascript"})}F(I).then(T=>{Ct=!1,ir=!0,or=T,_()},T=>{Ct=!1,Wn=!0,A(T)})})),await Promise.race(E),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${n}ms`)},J=()=>{if(ir&&or)return or;throw new Error("WebAssembly is not initialized yet.")}});var Z,yt,X,Ut=N(()=>{"use strict";at();Z=(r,n)=>{let t=J(),f=t.lengthBytesUTF8(r)+1,s=t._malloc(f);return t.stringToUTF8(r,s,f),n.push(s),s},yt=(r,n,t,f)=>{if(typeof r=="object"&&r!==null){if(t.has(r))throw new Error("Circular reference in options");t.add(r)}Object.entries(r).forEach(([s,h])=>{let d=n?n+s:s;if(typeof h=="object")yt(h,d+".",t,f);else if(typeof h=="string"||typeof h=="number")f(d,h.toString());else if(typeof h=="boolean")f(d,h?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof h}`)})},X=r=>{let n=J(),t=n.stackSave();try{let f=n.stackAlloc(8);n._OrtGetLastError(f,f+4);let s=n.HEAP32[f/4],h=n.HEAPU32[f/4+1],d=h?n.UTF8ToString(h):"";throw new Error(`${r} ERROR_CODE: ${s}, ERROR_MESSAGE: ${d}`)}finally{n.stackRestore(t)}}});var zn,jn=N(()=>{"use strict";at();Ut();zn=r=>{let n=J(),t=0,f=[],s=r||{};try{if(r?.logSeverityLevel===void 0)s.logSeverityLevel=2;else if(typeof r.logSeverityLevel!="number"||!Number.isInteger(r.logSeverityLevel)||r.logSeverityLevel<0||r.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${r.logSeverityLevel}`);if(r?.logVerbosityLevel===void 0)s.logVerbosityLevel=0;else if(typeof r.logVerbosityLevel!="number"||!Number.isInteger(r.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${r.logVerbosityLevel}`);r?.terminate===void 0&&(s.terminate=!1);let h=0;return r?.tag!==void 0&&(h=Z(r.tag,f)),t=n._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,h),t===0&&X("Can't create run options."),r?.extra!==void 0&&yt(r.extra,"",new WeakSet,(d,o)=>{let w=Z(d,f),m=Z(o,f);n._OrtAddRunConfigEntry(t,w,m)!==0&&X(`Can't set a run config entry: ${d} - ${o}.`)}),[t,f]}catch(h){throw t!==0&&n._OrtReleaseRunOptions(t),f.forEach(d=>n._free(d)),h}}});var Ha,za,ja,Ya,Yn,Gn=N(()=>{"use strict";at();Ut();Ha=r=>{switch(r){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${r}`)}},za=r=>{switch(r){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${r}`)}},ja=r=>{r.extra||(r.extra={}),r.extra.session||(r.extra.session={});let n=r.extra.session;n.use_ort_model_bytes_directly||(n.use_ort_model_bytes_directly="1"),r.executionProviders&&r.executionProviders.some(t=>(typeof t=="string"?t:t.name)==="webgpu")&&(r.enableMemPattern=!1)},Ya=(r,n,t)=>{for(let f of n){let s=typeof f=="string"?f:f.name;switch(s){case"xnnpack":s="XNNPACK";break;case"webnn":if(s="WEBNN",typeof f!="string"){let d=f;if(d?.deviceType){let o=Z("deviceType",t),w=Z(d.deviceType,t);J()._OrtAddSessionConfigEntry(r,o,w)!==0&&X(`Can't set a session config entry: 'deviceType' - ${d.deviceType}.`)}if(d?.numThreads){let o=d.numThreads;(typeof o!="number"||!Number.isInteger(o)||o<0)&&(o=0);let w=Z("numThreads",t),m=Z(o.toString(),t);J()._OrtAddSessionConfigEntry(r,w,m)!==0&&X(`Can't set a session config entry: 'numThreads' - ${d.numThreads}.`)}if(d?.powerPreference){let o=Z("powerPreference",t),w=Z(d.powerPreference,t);J()._OrtAddSessionConfigEntry(r,o,w)!==0&&X(`Can't set a session config entry: 'powerPreference' - ${d.powerPreference}.`)}}break;case"webgpu":if(s="JS",typeof f!="string"){let d=f;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${d.preferredLayout}`);let o=Z("preferredLayout",t),w=Z(d.preferredLayout,t);J()._OrtAddSessionConfigEntry(r,o,w)!==0&&X(`Can't set a session config entry: 'preferredLayout' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${s}`)}let h=Z(s,t);J()._OrtAppendExecutionProvider(r,h)!==0&&X(`Can't append execution provider: ${s}.`)}},Yn=r=>{let n=J(),t=0,f=[],s=r||{};ja(s);try{let h=Ha(s.graphOptimizationLevel??"all"),d=za(s.executionMode??"sequential"),o=typeof s.logId=="string"?Z(s.logId,f):0,w=s.logSeverityLevel??2;if(!Number.isInteger(w)||w<0||w>4)throw new Error(`log serverity level is not valid: ${w}`);let m=s.logVerbosityLevel??0;if(!Number.isInteger(m)||m<0||m>4)throw new Error(`log verbosity level is not valid: ${m}`);let v=typeof s.optimizedModelFilePath=="string"?Z(s.optimizedModelFilePath,f):0;if(t=n._OrtCreateSessionOptions(h,!!s.enableCpuMemArena,!!s.enableMemPattern,d,!!s.enableProfiling,0,o,w,m,v),t===0&&X("Can't create session options."),s.executionProviders&&Ya(t,s.executionProviders,f),s.freeDimensionOverrides)for(let[E,_]of Object.entries(s.freeDimensionOverrides)){if(typeof E!="string")throw new Error(`free dimension override name must be a string: ${E}`);if(typeof _!="number"||!Number.isInteger(_)||_<0)throw new Error(`free dimension override value must be a non-negative integer: ${_}`);let A=Z(E,f);n._OrtAddFreeDimensionOverride(t,A,_)!==0&&X(`Can't set a free dimension override: ${E} - ${_}.`)}return s.extra!==void 0&&yt(s.extra,"",new WeakSet,(E,_)=>{let A=Z(E,f),F=Z(_,f);n._OrtAddSessionConfigEntry(t,A,F)!==0&&X(`Can't set a session config entry: ${E} - ${_}.`)}),[t,f]}catch(h){throw t!==0&&n._OrtReleaseSessionOptions(t),f.forEach(d=>n._free(d)),h}}});var sr,$n,ur,Vn,qn,Bt,Xn,fr=N(()=>{"use strict";sr=r=>{switch(r){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${r}`)}},$n=r=>{switch(r){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${r}`)}},ur=r=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][r],Vn=r=>{switch(r){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${r}`)}},qn=r=>{switch(r){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${r}`)}},Bt=r=>r==="float32"||r==="int32"||r==="int64"||r==="bool"||r==="float16"||r==="uint32",Xn=r=>{switch(r){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${r}`)}}});var Zn,Ga,$a,Qn,wt,Kn,lr,cr,ea,ta,Jn,ra,na,aa,oa=N(()=>{"use strict";jn();Gn();fr();at();Ut();Zn=!1,Ga=r=>{let n=J(),t=n.stackSave();try{let f=n.stackAlloc(8);return n._OrtGetInputOutputCount(r,f,f+4)!==0&&X("Can't get session input/output count."),[n.HEAP32[f/4],n.HEAP32[f/4+1]]}finally{n.stackRestore(t)}},$a=(r,n)=>{J()._OrtInit(r,n)!==0&&X("Can't initialize onnxruntime.")},Qn=async r=>{$a(r.wasm.numThreads,qn(r.logLevel)),Zn=!0},wt=new Map,Kn=()=>Zn,lr=r=>{let n=J(),t=n._malloc(r.byteLength);if(t===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${r.byteLength}.`);return n.HEAPU8.set(r,t),[t,r.byteLength]},cr=(r,n)=>{let t=J(),f=0,s=0,h=0,d=[],o=[],w=[];try{[s,d]=Yn(n),f=t._OrtCreateSession(r[0],r[1],s),f===0&&X("Can't create a session.");let[m,v]=Ga(f),E=[],_=[],A=[];for(let I=0;I<m;I++){let T=t._OrtGetInputName(f,I);T===0&&X("Can't get an input name."),o.push(T),E.push(t.UTF8ToString(T))}for(let I=0;I<v;I++){let T=t._OrtGetOutputName(f,I);T===0&&X("Can't get an output name."),w.push(T);let L=t.UTF8ToString(T);_.push(L)}let F=null;return wt.set(f,[f,o,w,F]),[f,E,_]}catch(m){throw o.forEach(v=>t._OrtFree(v)),w.forEach(v=>t._OrtFree(v)),h!==0&&t._OrtReleaseBinding(h),f!==0&&t._OrtReleaseSession(f),m}finally{t._free(r[0]),s!==0&&t._OrtReleaseSessionOptions(s),d.forEach(m=>t._free(m))}},ea=(r,n)=>{let t=lr(r);return cr(t,n)},ta=r=>{let n=J(),t=wt.get(r);if(!t)throw new Error(`cannot release session. invalid session id: ${r}`);let[f,s,h,d]=t;d&&n._OrtReleaseBinding(d.handle),n.jsepUnregisterBuffers?.(r),s.forEach(o=>n._OrtFree(o)),h.forEach(o=>n._OrtFree(o)),n._OrtReleaseSession(f),wt.delete(r)},Jn=(r,n,t,f,s)=>{if(!r){n.push(0);return}let h=J(),d=r[0],o=r[1],w=r[3],m,v;if(d==="string"&&w==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(w==="gpu-buffer"){let A=r[2].gpuBuffer,F=ur(sr(d));v=o.reduce((I,T)=>I*T,1)*F,m=h.jsepRegisterBuffer(f,s,A,v)}else{let A=r[2];if(Array.isArray(A)){v=4*A.length,m=h._malloc(v),t.push(m);let F=m/4;for(let I=0;I<A.length;I++){if(typeof A[I]!="string")throw new TypeError(`tensor data at index ${I} is not a string`);h.HEAPU32[F++]=Z(A[I],t)}}else v=A.byteLength,m=h._malloc(v),t.push(m),h.HEAPU8.set(new Uint8Array(A.buffer,A.byteOffset,v),m)}let E=h.stackSave(),_=h.stackAlloc(4*o.length);try{let A=_/4;o.forEach(I=>h.HEAP32[A++]=I);let F=h._OrtCreateTensor(sr(d),m,v,_,o.length,Xn(w));F===0&&X(`Can't create tensor for input/output. session=${f}, index=${s}.`),n.push(F)}finally{h.stackRestore(E)}},ra=async(r,n,t,f,s,h)=>{let d=J(),o=wt.get(r);if(!o)throw new Error(`cannot run inference. invalid session id: ${r}`);let[w,m,v,E]=o,_=n.length,A=f.length,F=0,I=[],T=[],L=[],z=[],oe=d.stackSave(),K=d.stackAlloc(_*4),C=d.stackAlloc(_*4),_e=d.stackAlloc(A*4),Ee=d.stackAlloc(A*4);try{[F,I]=zn(h);for(let B=0;B<_;B++)Jn(t[B],T,z,r,n[B]);for(let B=0;B<A;B++)Jn(s[B],L,z,r,_+f[B]);let Q=K/4,P=C/4,ee=_e/4,ie=Ee/4;for(let B=0;B<_;B++)d.HEAPU32[Q++]=T[B],d.HEAPU32[P++]=m[n[B]];for(let B=0;B<A;B++)d.HEAPU32[ee++]=L[B],d.HEAPU32[ie++]=v[f[B]];let Se;Se=await d._OrtRun(w,C,K,_,Ee,A,_e,F),Se!==0&&X("failed to call OrtRun().");let Te=[];for(let B=0;B<A;B++){let D=d.HEAPU32[_e/4+B];if(D===L[B]){Te.push(s[B]);continue}let we=d.stackSave(),ce=d.stackAlloc(4*4),se=!1,Y,pe=0;try{d._OrtGetTensorData(D,ce,ce+4,ce+8,ce+12)!==0&&X(`Can't access output tensor data on index ${B}.`);let Me=ce/4,Le=d.HEAPU32[Me++];pe=d.HEAPU32[Me++];let ve=d.HEAPU32[Me++],Ce=d.HEAPU32[Me++],Re=[];for(let ne=0;ne<Ce;ne++)Re.push(d.HEAPU32[ve/4+ne]);d._OrtFree(ve);let de=Re.reduce((ne,te)=>ne*te,1);Y=$n(Le);let Ie=E?.outputPreferredLocations[f[B]];if(Y==="string"){if(Ie==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let ne=[],te=pe/4;for(let De=0;De<de;De++){let be=d.HEAPU32[te++],ke=De===de-1?void 0:d.HEAPU32[te]-be;ne.push(d.UTF8ToString(be,ke))}Te.push([Y,Re,ne,"cpu"])}else if(Ie==="gpu-buffer"&&de>0){let ne=d.jsepGetBuffer(pe),te=ur(Le);if(te===void 0||!Bt(Y))throw new Error(`Unsupported data type: ${Y}`);se=!0,Te.push([Y,Re,{gpuBuffer:ne,download:d.jsepCreateDownloader(ne,de*te,Y),dispose:()=>{d._OrtReleaseTensor(D)}},"gpu-buffer"])}else{let ne=Vn(Y),te=new ne(de);new Uint8Array(te.buffer,te.byteOffset,te.byteLength).set(d.HEAPU8.subarray(pe,pe+te.byteLength)),Te.push([Y,Re,te,"cpu"])}}finally{d.stackRestore(we),Y==="string"&&pe&&d._free(pe),se||d._OrtReleaseTensor(D)}}return E&&d._OrtClearBoundOutputs(E.handle),Te}finally{d.stackRestore(oe),T.forEach(Q=>d._OrtReleaseTensor(Q)),L.forEach(Q=>d._OrtReleaseTensor(Q)),z.forEach(Q=>d._free(Q)),F!==0&&d._OrtReleaseRunOptions(F),I.forEach(Q=>d._free(Q))}},na=r=>{let n=J(),t=wt.get(r);if(!t)throw new Error("invalid session id");let f=t[0],s=n._OrtEndProfiling(f);s===0&&X("Can't get an profile file name."),n._OrtFree(s)},aa=r=>{let n=[];for(let t of r){let f=t[2];!Array.isArray(f)&&"buffer"in f&&n.push(f.buffer)}return n}});var ia=rt((ui,qa)=>{qa.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var vt=Object.defineProperty;var Vr=Object.getOwnPropertyDescriptor;var Jr=Object.getOwnPropertyNames;var Xr=Object.prototype.hasOwnProperty;var _t=(u,l)=>()=>(u&&(l=u(u=0)),l);var rt=(u,l)=>()=>(l||u((l={exports:{}}).exports,l),l.exports),St=(u,l)=>{for(var a in l)vt(u,a,{get:l[a],enumerable:!0})},Zr=(u,l,a,y)=>{if(l&&typeof l=="object"||typeof l=="function")for(let c of Jr(l))!Xr.call(u,c)&&c!==a&&vt(u,c,{get:()=>l[c],enumerable:!(y=Vr(l,c))||y.enumerable});return u};var nt=u=>Zr(vt({},"__esModule",{value:!0}),u);var Et={};St(Et,{readFile:()=>Qr});var Qr,Mt=_t(()=>{Qr=void 0});var Tt={};St(Tt,{join:()=>Kr});var Kr,At=_t(()=>{Kr=void 0});var dr=rt((cr,Rt)=>{"use strict";var lr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(l={}){var a=l,y,c;a.ready=new Promise((r,s)=>{y=r,c=s});var w=Object.assign({},a),g="./this.program",o=typeof window=="object",D=typeof importScripts=="function",I=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",x="",W,F,U;if(I){var k=(Mt(),nt(Et)),C=(At(),nt(Tt));x=D?C.dirname(x)+"/":__dirname+"/",W=(r,s)=>(r=r.startsWith("file://")?new URL(r):C.normalize(r),k.readFileSync(r,s?void 0:"utf8")),U=r=>(r=W(r,!0),r.buffer||(r=new Uint8Array(r)),r),F=(r,s,i,m=!0)=>{r=r.startsWith("file://")?new URL(r):C.normalize(r),k.readFile(r,m?void 0:"utf8",(b,M)=>{b?i(b):s(m?M.buffer:M)})},!a.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(o||D)&&(D?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),u&&(x=u),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",W=r=>{var s=new XMLHttpRequest;return s.open("GET",r,!1),s.send(null),s.responseText},D&&(U=r=>{var s=new XMLHttpRequest;return s.open("GET",r,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)}),F=(r,s,i)=>{var m=new XMLHttpRequest;m.open("GET",r,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?s(m.response):i()},m.onerror=i,m.send(null)});var v=a.print||console.log.bind(console),B=a.printErr||console.error.bind(console);Object.assign(a,w),w=null,a.thisProgram&&(g=a.thisProgram);var fe;a.wasmBinary&&(fe=a.wasmBinary);var Be=a.noExitRuntime||!0;typeof WebAssembly!="object"&&z("no native wasm support detected");var pe,R,he=!1,ye,J,E,X;function te(){var r=pe.buffer;a.HEAP8=ye=new Int8Array(r),a.HEAP16=new Int16Array(r),a.HEAP32=E=new Int32Array(r),a.HEAPU8=J=new Uint8Array(r),a.HEAPU16=new Uint16Array(r),a.HEAPU32=X=new Uint32Array(r),a.HEAPF32=new Float32Array(r),a.HEAPF64=new Float64Array(r)}var Oe=[],be=[],A=[];function S(){var r=a.preRun.shift();Oe.unshift(r)}var ce=0,oe=null,re=null;function z(r){throw a.onAbort&&a.onAbort(r),r="Aborted("+r+")",B(r),he=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),c(r),r}function ie(r){return r.startsWith("data:application/octet-stream;base64,")}var we;if(we="ort-wasm.wasm",!ie(we)){var ve=we;we=a.locateFile?a.locateFile(ve,x):x+ve}function De(r){if(r==we&&fe)return new Uint8Array(fe);if(U)return U(r);throw"both async and sync fetching of the wasm failed"}function me(r){if(!fe&&(o||D)){if(typeof fetch=="function"&&!r.startsWith("file://"))return fetch(r,{credentials:"same-origin"}).then(s=>{if(!s.ok)throw"failed to load wasm binary file at \'"+r+"\'";return s.arrayBuffer()}).catch(()=>De(r));if(F)return new Promise((s,i)=>{F(r,m=>s(new Uint8Array(m)),i)})}return Promise.resolve().then(()=>De(r))}function Ae(r,s,i){return me(r).then(m=>WebAssembly.instantiate(m,s)).then(m=>m).then(i,m=>{B("failed to asynchronously prepare wasm: "+m),z(m)})}function _e(r,s){var i=we;return fe||typeof WebAssembly.instantiateStreaming!="function"||ie(i)||i.startsWith("file://")||I||typeof fetch!="function"?Ae(i,r,s):fetch(i,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,r).then(s,function(b){return B("wasm streaming compile failed: "+b),B("falling back to ArrayBuffer instantiation"),Ae(i,r,s)}))}var se,Se=r=>{for(;0<r.length;)r.shift()(a)};function K(r){this.va=r-24,this.Ea=function(s){X[this.va+4>>2>>>0]=s},this.za=function(s){X[this.va+8>>2>>>0]=s},this.xa=function(s,i){this.ya(),this.Ea(s),this.za(i)},this.ya=function(){X[this.va+16>>2>>>0]=0}}var Z=0,Ee=0,de=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ie=(r,s,i)=>{s>>>=0;var m=s+i;for(i=s;r[i]&&!(i>=m);)++i;if(16<i-s&&r.buffer&&de)return de.decode(r.subarray(s,i));for(m="";s<i;){var b=r[s++];if(b&128){var M=r[s++]&63;if((b&224)==192)m+=String.fromCharCode((b&31)<<6|M);else{var P=r[s++]&63;b=(b&240)==224?(b&15)<<12|M<<6|P:(b&7)<<18|M<<12|P<<6|r[s++]&63,65536>b?m+=String.fromCharCode(b):(b-=65536,m+=String.fromCharCode(55296|b>>10,56320|b&1023))}}else m+=String.fromCharCode(b)}return m},Re=(r,s)=>(r>>>=0)?Ie(J,r,s):"",We=r=>{for(var s=0,i=0;i<r.length;++i){var m=r.charCodeAt(i);127>=m?s++:2047>=m?s+=2:55296<=m&&57343>=m?(s+=4,++i):s+=3}return s},ke=(r,s,i,m)=>{if(i>>>=0,!(0<m))return 0;var b=i;m=i+m-1;for(var M=0;M<r.length;++M){var P=r.charCodeAt(M);if(55296<=P&&57343>=P){var Q=r.charCodeAt(++M);P=65536+((P&1023)<<10)|Q&1023}if(127>=P){if(i>=m)break;s[i++>>>0]=P}else{if(2047>=P){if(i+1>=m)break;s[i++>>>0]=192|P>>6}else{if(65535>=P){if(i+2>=m)break;s[i++>>>0]=224|P>>12}else{if(i+3>=m)break;s[i++>>>0]=240|P>>18,s[i++>>>0]=128|P>>12&63}s[i++>>>0]=128|P>>6&63}s[i++>>>0]=128|P&63}}return s[i>>>0]=0,i-b},ge=r=>r%4===0&&(r%100!==0||r%400===0),Ge=[0,31,60,91,121,152,182,213,244,274,305,335],Ce=[0,31,59,90,120,151,181,212,243,273,304,334],$e=r=>{var s=We(r)+1,i=Ze(s);return i&&ke(r,J,i,s),i},qe={},Ve=()=>{if(!Je){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},s;for(s in qe)qe[s]===void 0?delete r[s]:r[s]=qe[s];var i=[];for(s in r)i.push(`${s}=${r[s]}`);Je=i}return Je},Je,xe=[null,[],[]],Fe=[31,29,31,30,31,30,31,31,30,31,30,31],Ne=[31,28,31,30,31,30,31,31,30,31,30,31];function st(r){var s=Array(We(r)+1);return ke(r,s,0,s.length),s}function Xe(r,s,i,m){function b(d,L,H){for(d=typeof d=="number"?d.toString():d||"";d.length<L;)d=H[0]+d;return d}function M(d,L){return b(d,L,"0")}function P(d,L){function H(tt){return 0>tt?-1:0<tt?1:0}var Me;return(Me=H(d.getFullYear()-L.getFullYear()))===0&&(Me=H(d.getMonth()-L.getMonth()))===0&&(Me=H(d.getDate()-L.getDate())),Me}function Q(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function ue(d){var L=d.ra;for(d=new Date(new Date(d.sa+1900,0,1).getTime());0<L;){var H=d.getMonth(),Me=(ge(d.getFullYear())?Fe:Ne)[H];if(L>Me-d.getDate())L-=Me-d.getDate()+1,d.setDate(1),11>H?d.setMonth(H+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else{d.setDate(d.getDate()+L);break}}return H=new Date(d.getFullYear()+1,0,4),L=Q(new Date(d.getFullYear(),0,4)),H=Q(H),0>=P(L,d)?0>=P(H,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}r>>>=0,s>>>=0,i>>>=0,m>>>=0;var ne=E[m+40>>2>>>0];m={Ca:E[m>>2>>>0],Ba:E[m+4>>2>>>0],ta:E[m+8>>2>>>0],wa:E[m+12>>2>>>0],ua:E[m+16>>2>>>0],sa:E[m+20>>2>>>0],ma:E[m+24>>2>>>0],ra:E[m+28>>2>>>0],Fa:E[m+32>>2>>>0],Aa:E[m+36>>2>>>0],Da:ne?Re(ne):""},i=Re(i),ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ae in ne)i=i.replace(new RegExp(ae,"g"),ne[ae]);var Ke="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),et="January February March April May June July August September October November December".split(" ");ne={"%a":d=>Ke[d.ma].substring(0,3),"%A":d=>Ke[d.ma],"%b":d=>et[d.ua].substring(0,3),"%B":d=>et[d.ua],"%C":d=>M((d.sa+1900)/100|0,2),"%d":d=>M(d.wa,2),"%e":d=>b(d.wa,2," "),"%g":d=>ue(d).toString().substring(2),"%G":d=>ue(d),"%H":d=>M(d.ta,2),"%I":d=>(d=d.ta,d==0?d=12:12<d&&(d-=12),M(d,2)),"%j":d=>{for(var L=0,H=0;H<=d.ua-1;L+=(ge(d.sa+1900)?Fe:Ne)[H++]);return M(d.wa+L,3)},"%m":d=>M(d.ua+1,2),"%M":d=>M(d.Ba,2),"%n":()=>`\n`,"%p":d=>0<=d.ta&&12>d.ta?"AM":"PM","%S":d=>M(d.Ca,2),"%t":()=>"	","%u":d=>d.ma||7,"%U":d=>M(Math.floor((d.ra+7-d.ma)/7),2),"%V":d=>{var L=Math.floor((d.ra+7-(d.ma+6)%7)/7);if(2>=(d.ma+371-d.ra-2)%7&&L++,L)L==53&&(H=(d.ma+371-d.ra)%7,H==4||H==3&&ge(d.sa)||(L=1));else{L=52;var H=(d.ma+7-d.ra-1)%7;(H==4||H==5&&ge(d.sa%400-1))&&L++}return M(L,2)},"%w":d=>d.ma,"%W":d=>M(Math.floor((d.ra+7-(d.ma+6)%7)/7),2),"%y":d=>(d.sa+1900).toString().substring(2),"%Y":d=>d.sa+1900,"%z":d=>{d=d.Aa;var L=0<=d;return d=Math.abs(d)/60,(L?"+":"-")+("0000"+(d/60*100+d%60)).slice(-4)},"%Z":d=>d.Da,"%%":()=>"%"},i=i.replace(/%%/g,"\\0\\0");for(ae in ne)i.includes(ae)&&(i=i.replace(new RegExp(ae,"g"),ne[ae](m)));return i=i.replace(/\\0\\0/g,"%"),ae=st(i),ae.length>s?0:(ye.set(ae,r>>>0),ae.length-1)}var it={a:function(r,s,i){throw r>>>=0,new K(r).xa(s>>>0,i>>>0),Z=r,Ee++,Z},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(r,s,i){r=s+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*s:NaN,i>>>=0,r=new Date(1e3*r),E[i>>2>>>0]=r.getUTCSeconds(),E[i+4>>2>>>0]=r.getUTCMinutes(),E[i+8>>2>>>0]=r.getUTCHours(),E[i+12>>2>>>0]=r.getUTCDate(),E[i+16>>2>>>0]=r.getUTCMonth(),E[i+20>>2>>>0]=r.getUTCFullYear()-1900,E[i+24>>2>>>0]=r.getUTCDay(),E[i+28>>2>>>0]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(r,s,i){r=s+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*s:NaN,i>>>=0,r=new Date(1e3*r),E[i>>2>>>0]=r.getSeconds(),E[i+4>>2>>>0]=r.getMinutes(),E[i+8>>2>>>0]=r.getHours(),E[i+12>>2>>>0]=r.getDate(),E[i+16>>2>>>0]=r.getMonth(),E[i+20>>2>>>0]=r.getFullYear()-1900,E[i+24>>2>>>0]=r.getDay(),E[i+28>>2>>>0]=(ge(r.getFullYear())?Ge:Ce)[r.getMonth()]+r.getDate()-1|0,E[i+36>>2>>>0]=-(60*r.getTimezoneOffset()),s=new Date(r.getFullYear(),6,1).getTimezoneOffset();var m=new Date(r.getFullYear(),0,1).getTimezoneOffset();E[i+32>>2>>>0]=(s!=m&&r.getTimezoneOffset()==Math.min(m,s))|0},q:function(r){r>>>=0;var s=new Date(E[r+20>>2>>>0]+1900,E[r+16>>2>>>0],E[r+12>>2>>>0],E[r+8>>2>>>0],E[r+4>>2>>>0],E[r>>2>>>0],0),i=E[r+32>>2>>>0],m=s.getTimezoneOffset(),b=new Date(s.getFullYear(),6,1).getTimezoneOffset(),M=new Date(s.getFullYear(),0,1).getTimezoneOffset(),P=Math.min(M,b);return 0>i?E[r+32>>2>>>0]=+(b!=M&&P==m):0<i!=(P==m)&&(b=Math.max(M,b),s.setTime(s.getTime()+6e4*((0<i?P:b)-m))),E[r+24>>2>>>0]=s.getDay(),E[r+28>>2>>>0]=(ge(s.getFullYear())?Ge:Ce)[s.getMonth()]+s.getDate()-1|0,E[r>>2>>>0]=s.getSeconds(),E[r+4>>2>>>0]=s.getMinutes(),E[r+8>>2>>>0]=s.getHours(),E[r+12>>2>>>0]=s.getDate(),E[r+16>>2>>>0]=s.getMonth(),E[r+20>>2>>>0]=s.getYear(),r=s.getTime()/1e3,He((se=r,1<=+Math.abs(se)?0<se?+Math.floor(se/4294967296)>>>0:~~+Math.ceil((se-+(~~se>>>0))/4294967296)>>>0:0)),r>>>0},m:function(){return-52},n:function(){},t:function(r,s,i){function m(ue){return(ue=ue.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ue[1]:"GMT"}i>>>=0;var b=new Date().getFullYear(),M=new Date(b,0,1),P=new Date(b,6,1);b=M.getTimezoneOffset();var Q=P.getTimezoneOffset();X[r>>>0>>2>>>0]=60*Math.max(b,Q),E[s>>>0>>2>>>0]=+(b!=Q),r=m(M),s=m(P),r=$e(r),s=$e(s),Q<b?(X[i>>2>>>0]=r,X[i+4>>2>>>0]=s):(X[i>>2>>>0]=s,X[i+4>>2>>>0]=r)},d:()=>{z("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(r,s,i){return s>>>=0,J.copyWithin(r>>>0>>>0,s>>>0,s+(i>>>0)>>>0)},s:function(r){r>>>=0;var s=J.length;if(4294901760<r)return!1;for(var i=1;4>=i;i*=2){var m=s*(1+.2/i);m=Math.min(m,r+100663296);var b=Math;m=Math.max(r,m);e:{b=b.min.call(b,4294901760,m+(65536-m%65536)%65536)-pe.buffer.byteLength+65535>>>16;try{pe.grow(b),te();var M=1;break e}catch{}M=void 0}if(M)return!0}return!1},C:function(r,s){r>>>=0,s>>>=0;var i=0;return Ve().forEach(function(m,b){var M=s+i;for(b=X[r+4*b>>2>>>0]=M,M=0;M<m.length;++M)ye[b++>>0>>>0]=m.charCodeAt(M);ye[b>>0>>>0]=0,i+=m.length+1}),0},D:function(r,s){r>>>=0,s>>>=0;var i=Ve();X[r>>2>>>0]=i.length;var m=0;return i.forEach(function(b){m+=b.length+1}),X[s>>2>>>0]=m,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(r,s,i,m){s>>>=0,i>>>=0,m>>>=0;for(var b=0,M=0;M<i;M++){var P=X[s>>2>>>0],Q=X[s+4>>2>>>0];s+=8;for(var ue=0;ue<Q;ue++){var ne=J[P+ue>>>0],ae=xe[r];ne===0||ne===10?((r===1?v:B)(Ie(ae,0)),ae.length=0):ae.push(ne)}b+=Q}return X[m>>2>>>0]=b,0},A:Xe,c:function(r,s,i,m){return Xe(r>>>0,s>>>0,i>>>0,m>>>0)}};(function(){function r(i){if(i=i.exports,R=i=Ye(i),pe=R.J,te(),be.unshift(R.K),ce--,a.monitorRunDependencies&&a.monitorRunDependencies(ce),ce==0&&(oe!==null&&(clearInterval(oe),oe=null),re)){var m=re;re=null,m()}return i}var s={a:it};if(ce++,a.monitorRunDependencies&&a.monitorRunDependencies(ce),a.instantiateWasm)try{return a.instantiateWasm(s,r)}catch(i){B("Module.instantiateWasm callback failed with error: "+i),c(i)}return _e(s,function(i){r(i.instance)}).catch(c),{}})(),a._OrtInit=(r,s)=>(a._OrtInit=R.L)(r,s),a._OrtGetLastError=(r,s)=>(a._OrtGetLastError=R.M)(r,s),a._OrtCreateSessionOptions=(r,s,i,m,b,M,P,Q,ue,ne)=>(a._OrtCreateSessionOptions=R.N)(r,s,i,m,b,M,P,Q,ue,ne),a._OrtAppendExecutionProvider=(r,s)=>(a._OrtAppendExecutionProvider=R.O)(r,s),a._OrtAddFreeDimensionOverride=(r,s,i)=>(a._OrtAddFreeDimensionOverride=R.P)(r,s,i),a._OrtAddSessionConfigEntry=(r,s,i)=>(a._OrtAddSessionConfigEntry=R.Q)(r,s,i),a._OrtReleaseSessionOptions=r=>(a._OrtReleaseSessionOptions=R.R)(r),a._OrtCreateSession=(r,s,i)=>(a._OrtCreateSession=R.S)(r,s,i),a._OrtReleaseSession=r=>(a._OrtReleaseSession=R.T)(r),a._OrtGetInputOutputCount=(r,s,i)=>(a._OrtGetInputOutputCount=R.U)(r,s,i),a._OrtGetInputName=(r,s)=>(a._OrtGetInputName=R.V)(r,s),a._OrtGetOutputName=(r,s)=>(a._OrtGetOutputName=R.W)(r,s),a._OrtFree=r=>(a._OrtFree=R.X)(r),a._OrtCreateTensor=(r,s,i,m,b,M)=>(a._OrtCreateTensor=R.Y)(r,s,i,m,b,M),a._OrtGetTensorData=(r,s,i,m,b)=>(a._OrtGetTensorData=R.Z)(r,s,i,m,b),a._OrtReleaseTensor=r=>(a._OrtReleaseTensor=R._)(r),a._OrtCreateRunOptions=(r,s,i,m)=>(a._OrtCreateRunOptions=R.$)(r,s,i,m),a._OrtAddRunConfigEntry=(r,s,i)=>(a._OrtAddRunConfigEntry=R.aa)(r,s,i),a._OrtReleaseRunOptions=r=>(a._OrtReleaseRunOptions=R.ba)(r),a._OrtCreateBinding=r=>(a._OrtCreateBinding=R.ca)(r),a._OrtBindInput=(r,s,i)=>(a._OrtBindInput=R.da)(r,s,i),a._OrtBindOutput=(r,s,i,m)=>(a._OrtBindOutput=R.ea)(r,s,i,m),a._OrtClearBoundOutputs=r=>(a._OrtClearBoundOutputs=R.fa)(r),a._OrtReleaseBinding=r=>(a._OrtReleaseBinding=R.ga)(r),a._OrtRunWithBinding=(r,s,i,m,b)=>(a._OrtRunWithBinding=R.ha)(r,s,i,m,b),a._OrtRun=(r,s,i,m,b,M,P,Q)=>(a._OrtRun=R.ia)(r,s,i,m,b,M,P,Q),a._OrtEndProfiling=r=>(a._OrtEndProfiling=R.ja)(r);var Ze=a._malloc=r=>(Ze=a._malloc=R.ka)(r);a._free=r=>(a._free=R.la)(r);var He=r=>(He=R.na)(r),Qe=()=>(Qe=R.oa)(),ze=r=>(ze=R.pa)(r),T=r=>(T=R.qa)(r);function Ye(r){r=Object.assign({},r);var s=m=>()=>m()>>>0,i=m=>b=>m(b)>>>0;return r.__errno_location=s(r.__errno_location),r.malloc=i(r.malloc),r.stackSave=s(r.stackSave),r.stackAlloc=i(r.stackAlloc),r}a.stackAlloc=T,a.stackSave=Qe,a.stackRestore=ze,a.UTF8ToString=Re,a.stringToUTF8=(r,s,i)=>ke(r,J,s,i),a.lengthBytesUTF8=We;var Pe;re=function r(){Pe||Ue(),Pe||(re=r)};function Ue(){function r(){if(!Pe&&(Pe=!0,a.calledRun=!0,!he)){if(Se(be),y(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;){var s=a.postRun.shift();A.unshift(s)}Se(A)}}if(!(0<ce)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)S();Se(Oe),0<ce||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),r()},1)):r())}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return Ue(),l.ready}})();typeof cr=="object"&&typeof Rt=="object"?Rt.exports=lr:typeof define=="function"&&define.amd&&define([],()=>lr)});var pr=rt(()=>{});var mr=rt(()=>{});var gr={};St(gr,{cpus:()=>en});var en,hr=_t(()=>{en=void 0});var br=rt((Or,Ct)=>{"use strict";var yr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(l={}){function a(){return A.buffer!=z.buffer&&me(),z}function y(){return A.buffer!=z.buffer&&me(),ie}function c(){return A.buffer!=z.buffer&&me(),we}function w(){return A.buffer!=z.buffer&&me(),ve}function g(){return A.buffer!=z.buffer&&me(),De}var o=l,D,I;o.ready=new Promise((e,t)=>{D=e,I=t});var x=Object.assign({},o),W="./this.program",F=(e,t)=>{throw t},U=typeof window=="object",k=typeof importScripts=="function",C=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v=o.ENVIRONMENT_IS_PTHREAD||!1,B="";function fe(e){return o.locateFile?o.locateFile(e,B):B+e}var Be,pe,R;if(C){var he=(Mt(),nt(Et)),ye=(At(),nt(Tt));B=k?ye.dirname(B)+"/":__dirname+"/",Be=(t,n)=>(t=t.startsWith("file://")?new URL(t):ye.normalize(t),he.readFileSync(t,n?void 0:"utf8")),R=t=>(t=Be(t,!0),t.buffer||(t=new Uint8Array(t)),t),pe=(t,n,f,O=!0)=>{t=t.startsWith("file://")?new URL(t):ye.normalize(t),he.readFile(t,O?void 0:"utf8",(h,_)=>{h?f(h):n(O?_.buffer:_)})},!o.thisProgram&&1<process.argv.length&&(W=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),F=(t,n)=>{throw process.exitCode=t,n},o.inspect=()=>"[Emscripten Module object]";let e;try{e=pr()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else(U||k)&&(k?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),typeof u<"u"&&u&&(B=u),B.indexOf("blob:")!==0?B=B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):B="",C||(Be=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},k&&(R=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),pe=(e,t,n)=>{var f=new XMLHttpRequest;f.open("GET",e,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?t(f.response):n()},f.onerror=n,f.send(null)}));C&&typeof performance>"u"&&(global.performance=mr().performance);var J=console.log.bind(console),E=console.error.bind(console);C&&(J=(...e)=>he.writeSync(1,e.join(" ")+`\n`),E=(...e)=>he.writeSync(2,e.join(" ")+`\n`));var X=o.print||J,te=o.printErr||E;Object.assign(o,x),x=null,o.thisProgram&&(W=o.thisProgram),o.quit&&(F=o.quit);var Oe;o.wasmBinary&&(Oe=o.wasmBinary);var be=o.noExitRuntime||!0;typeof WebAssembly!="object"&&ge("no native wasm support detected");var A,S,ce,oe=!1,re,z,ie,we,ve,De;function me(){var e=A.buffer;o.HEAP8=z=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=we=new Int32Array(e),o.HEAPU8=ie=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=ve=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=De=new Float64Array(e)}var Ae=o.INITIAL_MEMORY||16777216;if(5242880<=Ae||ge("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Ae+"! (STACK_SIZE=5242880)"),v)A=o.wasmMemory;else if(o.wasmMemory)A=o.wasmMemory;else if(A=new WebAssembly.Memory({initial:Ae/65536,maximum:65536,shared:!0}),!(A.buffer instanceof SharedArrayBuffer))throw te("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),C&&te("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");me(),Ae=A.buffer.byteLength;var _e,se=[],Se=[],K=[],Z=0;function Ee(){return be||0<Z}var de=0,Ie=null,Re=null;function We(){de++,o.monitorRunDependencies&&o.monitorRunDependencies(de)}function ke(){if(de--,o.monitorRunDependencies&&o.monitorRunDependencies(de),de==0&&(Ie!==null&&(clearInterval(Ie),Ie=null),Re)){var e=Re;Re=null,e()}}function ge(e){throw o.onAbort&&o.onAbort(e),e="Aborted("+e+")",te(e),oe=!0,re=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),I(e),e}function Ge(e){return e.startsWith("data:application/octet-stream;base64,")}var Ce;Ce="ort-wasm-threaded.wasm",Ge(Ce)||(Ce=fe(Ce));function $e(e){if(e==Ce&&Oe)return new Uint8Array(Oe);if(R)return R(e);throw"both async and sync fetching of the wasm failed"}function qe(e){if(!Oe&&(U||k)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>$e(e));if(pe)return new Promise((t,n)=>{pe(e,f=>t(new Uint8Array(f)),n)})}return Promise.resolve().then(()=>$e(e))}function Ve(e,t,n){return qe(e).then(f=>WebAssembly.instantiate(f,t)).then(f=>f).then(n,f=>{te("failed to asynchronously prepare wasm: "+f),ge(f)})}function Je(e,t){var n=Ce;return Oe||typeof WebAssembly.instantiateStreaming!="function"||Ge(n)||n.startsWith("file://")||C||typeof fetch!="function"?Ve(n,e,t):fetch(n,{credentials:"same-origin"}).then(f=>WebAssembly.instantiateStreaming(f,e).then(t,function(O){return te("wasm streaming compile failed: "+O),te("falling back to ArrayBuffer instantiation"),Ve(n,e,t)}))}var xe;function Fe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function Ne(e){e.terminate(),e.onmessage=()=>{}}function st(e){(e=T.La[e])||ge(),T.lb(e)}function Xe(e){var t=T.fb();if(!t)return 6;T.Oa.push(t),T.La[e.Na]=t,t.Na=e.Na;var n={cmd:"run",start_routine:e.mb,arg:e.eb,pthread_ptr:e.Na};return C&&t.unref(),t.postMessage(n,e.sb),0}var it=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ze=(e,t,n)=>{t>>>=0;var f=t+n;for(n=t;e[n]&&!(n>=f);)++n;if(16<n-t&&e.buffer&&it)return it.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(f="";t<n;){var O=e[t++];if(O&128){var h=e[t++]&63;if((O&224)==192)f+=String.fromCharCode((O&31)<<6|h);else{var _=e[t++]&63;O=(O&240)==224?(O&15)<<12|h<<6|_:(O&7)<<18|h<<12|_<<6|e[t++]&63,65536>O?f+=String.fromCharCode(O):(O-=65536,f+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else f+=String.fromCharCode(O)}return f},He=(e,t)=>(e>>>=0)?Ze(y(),e,t):"";function Qe(e){if(v)return Y(1,1,e);re=e,Ee()||(T.nb(),o.onExit&&o.onExit(e),oe=!0),F(e,new Fe(e))}var ze=e=>{if(re=e,v)throw Pe(e),"unwind";Qe(e)},T={Ra:[],Oa:[],Za:[],La:{},Va:function(){v?T.hb():T.gb()},gb:function(){se.unshift(()=>{We(),T.ib(()=>ke())})},hb:function(){T.receiveObjectTransfer=T.kb,T.threadInitTLS=T.Ya,T.setExitStatus=T.Xa,be=!1},Xa:function(e){re=e},xb:["$terminateWorker"],nb:function(){for(var e of T.Oa)Ne(e);for(e of T.Ra)Ne(e);T.Ra=[],T.Oa=[],T.La=[]},lb:function(e){var t=e.Na;delete T.La[t],T.Ra.push(e),T.Oa.splice(T.Oa.indexOf(e),1),e.Na=0,yt(t)},kb:function(){},Ya:function(){T.Za.forEach(e=>e())},jb:e=>new Promise(t=>{e.onmessage=h=>{h=h.data;var _=h.cmd;if(h.targetThread&&h.targetThread!=ft()){var j=T.La[h.wb];j?j.postMessage(h,h.transferList):te(\'Internal error! Worker sent a message "\'+_+\'" to target pthread \'+h.targetThread+", but that thread no longer exists!")}else _==="checkMailbox"?ut():_==="spawnThread"?Xe(h):_==="cleanupThread"?st(h.thread):_==="killThread"?(h=h.thread,_=T.La[h],delete T.La[h],Ne(_),yt(h),T.Oa.splice(T.Oa.indexOf(_),1),_.Na=0):_==="cancelThread"?T.La[h.thread].postMessage({cmd:"cancel"}):_==="loaded"?(e.loaded=!0,t(e)):_==="alert"?alert("Thread "+h.threadId+": "+h.text):h.target==="setimmediate"?e.postMessage(h):_==="callHandler"?o[h.handler](...h.args):_&&te("worker sent an unknown command "+_)},e.onerror=h=>{throw te("worker sent an error! "+h.filename+":"+h.lineno+": "+h.message),h},C&&(e.on("message",function(h){e.onmessage({data:h})}),e.on("error",function(h){e.onerror(h)}));var n=[],f=["onExit","onAbort","print","printErr"],O;for(O of f)o.hasOwnProperty(O)&&n.push(O);e.postMessage({cmd:"load",handlers:n,urlOrBlob:o.mainScriptUrlOrBlob||u,wasmMemory:A,wasmModule:ce})}),ib:function(e){e()},cb:function(){var e=fe("ort-wasm-threaded.worker.js");e=new Worker(e),T.Ra.push(e)},fb:function(){return T.Ra.length==0&&(T.cb(),T.jb(T.Ra[0])),T.Ra.pop()}};o.PThread=T;var Ye=e=>{for(;0<e.length;)e.shift()(o)};o.establishStackSpace=function(){var e=ft(),t=c()[e+52>>2>>>0];e=c()[e+56>>2>>>0],or(t,t-e),lt(t)};function Pe(e){if(v)return Y(2,0,e);ze(e)}var Ue=[];o.invokeEntryPoint=function(e,t){var n=Ue[e];n||(e>=Ue.length&&(Ue.length=e+1),Ue[e]=n=_e.get(e)),e=n(t),Ee()?T.Xa(e):Ot(e)};function r(e){this.Ua=e-24,this.bb=function(t){w()[this.Ua+4>>2>>>0]=t},this.ab=function(t){w()[this.Ua+8>>2>>>0]=t},this.Va=function(t,n){this.$a(),this.bb(t),this.ab(n)},this.$a=function(){w()[this.Ua+16>>2>>>0]=0}}var s=0,i=0;function m(e,t,n,f){return v?Y(3,1,e,t,n,f):b(e,t,n,f)}function b(e,t,n,f){if(e>>>=0,t>>>=0,n>>>=0,f>>>=0,typeof SharedArrayBuffer>"u")return te("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var O=[];return v&&O.length===0?m(e,t,n,f):(e={mb:n,Na:e,eb:f,sb:O},v?(e.ub="spawnThread",postMessage(e,O),0):Xe(e))}function M(e,t,n){return v?Y(4,1,e,t,n):0}function P(e,t){if(v)return Y(5,1,e,t)}var Q=e=>{for(var t=0,n=0;n<e.length;++n){var f=e.charCodeAt(n);127>=f?t++:2047>=f?t+=2:55296<=f&&57343>=f?(t+=4,++n):t+=3}return t},ue=(e,t,n,f)=>{if(n>>>=0,!(0<f))return 0;var O=n;f=n+f-1;for(var h=0;h<e.length;++h){var _=e.charCodeAt(h);if(55296<=_&&57343>=_){var j=e.charCodeAt(++h);_=65536+((_&1023)<<10)|j&1023}if(127>=_){if(n>=f)break;t[n++>>>0]=_}else{if(2047>=_){if(n+1>=f)break;t[n++>>>0]=192|_>>6}else{if(65535>=_){if(n+2>=f)break;t[n++>>>0]=224|_>>12}else{if(n+3>=f)break;t[n++>>>0]=240|_>>18,t[n++>>>0]=128|_>>12&63}t[n++>>>0]=128|_>>6&63}t[n++>>>0]=128|_&63}}return t[n>>>0]=0,n-O},ne=(e,t,n)=>ue(e,y(),t,n);function ae(e,t){if(v)return Y(6,1,e,t)}function Ke(e,t,n){if(v)return Y(7,1,e,t,n)}function et(e,t,n){return v?Y(8,1,e,t,n):0}function d(e,t){if(v)return Y(9,1,e,t)}function L(e,t,n){if(v)return Y(10,1,e,t,n)}function H(e,t,n,f){if(v)return Y(11,1,e,t,n,f)}function Me(e,t,n,f){if(v)return Y(12,1,e,t,n,f)}function tt(e,t,n,f){if(v)return Y(13,1,e,t,n,f)}function Lt(e){if(v)return Y(14,1,e)}function Bt(e,t){if(v)return Y(15,1,e,t)}function Wt(e,t,n){if(v)return Y(16,1,e,t,n)}var Nr=e=>{if(!oe)try{if(e(),!Ee())try{v?Ot(re):ze(re)}catch(t){t instanceof Fe||t=="unwind"||F(1,t)}}catch(t){t instanceof Fe||t=="unwind"||F(1,t)}};function pt(e){e>>>=0,typeof Atomics.tb=="function"&&(Atomics.tb(c(),e>>2,e).value.then(ut),e+=128,Atomics.store(c(),e>>2,1))}o.__emscripten_thread_mailbox_await=pt;function ut(){var e=ft();e&&(pt(e),Nr(()=>nr()))}o.checkMailbox=ut;var je=e=>e%4===0&&(e%100!==0||e%400===0),kt=[0,31,60,91,121,152,182,213,244,274,305,335],Nt=[0,31,59,90,120,151,181,212,243,273,304,334];function Ht(e,t,n,f,O,h,_,j){return v?Y(17,1,e,t,n,f,O,h,_,j):-52}function zt(e,t,n,f,O,h,_){if(v)return Y(18,1,e,t,n,f,O,h,_)}var Yt=e=>{var t=Q(e)+1,n=er(t);return n&&ne(e,n,t),n},Hr=e=>{var t=bt();return e=e(),lt(t),e};function Y(e,t){var n=arguments.length-2,f=arguments;return Hr(()=>{for(var O=wt(8*n),h=O>>3,_=0;_<n;_++){var j=f[2+_];g()[h+_>>>0]=j}return rr(e,n,O,t)})}var mt=[],gt={},jt=()=>{if(!ht){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:W||"./this.program"},t;for(t in gt)gt[t]===void 0?delete e[t]:e[t]=gt[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);ht=n}return ht},ht;function Gt(e,t){if(v)return Y(19,1,e,t);e>>>=0,t>>>=0;var n=0;return jt().forEach(function(f,O){var h=t+n;for(O=w()[e+4*O>>2>>>0]=h,h=0;h<f.length;++h)a()[O++>>0>>>0]=f.charCodeAt(h);a()[O>>0>>>0]=0,n+=f.length+1}),0}function $t(e,t){if(v)return Y(20,1,e,t);e>>>=0,t>>>=0;var n=jt();w()[e>>2>>>0]=n.length;var f=0;return n.forEach(function(O){f+=O.length+1}),w()[t>>2>>>0]=f,0}function qt(e){return v?Y(21,1,e):52}function Vt(e,t,n,f){return v?Y(22,1,e,t,n,f):52}function Jt(e,t,n,f,O){return v?Y(23,1,e,t,n,f,O):70}var zr=[null,[],[]];function Xt(e,t,n,f){if(v)return Y(24,1,e,t,n,f);t>>>=0,n>>>=0,f>>>=0;for(var O=0,h=0;h<n;h++){var _=w()[t>>2>>>0],j=w()[t+4>>2>>>0];t+=8;for(var Te=0;Te<j;Te++){var ee=y()[_+Te>>>0],le=zr[e];ee===0||ee===10?((e===1?X:te)(Ze(le,0)),le.length=0):le.push(ee)}O+=j}return w()[f>>2>>>0]=O,0}var Zt=[31,29,31,30,31,30,31,31,30,31,30,31],Qt=[31,28,31,30,31,30,31,31,30,31,30,31];function Yr(e){var t=Array(Q(e)+1);return ue(e,t,0,t.length),t}var jr=(e,t)=>{a().set(e,t>>>0)};function Kt(e,t,n,f){function O(p,N,G){for(p=typeof p=="number"?p.toString():p||"";p.length<N;)p=G[0]+p;return p}function h(p,N){return O(p,N,"0")}function _(p,N){function G(fr){return 0>fr?-1:0<fr?1:0}var Le;return(Le=G(p.getFullYear()-N.getFullYear()))===0&&(Le=G(p.getMonth()-N.getMonth()))===0&&(Le=G(p.getDate()-N.getDate())),Le}function j(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function Te(p){var N=p.Pa;for(p=new Date(new Date(p.Qa+1900,0,1).getTime());0<N;){var G=p.getMonth(),Le=(je(p.getFullYear())?Zt:Qt)[G];if(N>Le-p.getDate())N-=Le-p.getDate()+1,p.setDate(1),11>G?p.setMonth(G+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+N);break}}return G=new Date(p.getFullYear()+1,0,4),N=j(new Date(p.getFullYear(),0,4)),G=j(G),0>=_(N,p)?0>=_(G,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}e>>>=0,t>>>=0,n>>>=0,f>>>=0;var ee=c()[f+40>>2>>>0];f={qb:c()[f>>2>>>0],pb:c()[f+4>>2>>>0],Sa:c()[f+8>>2>>>0],Wa:c()[f+12>>2>>>0],Ta:c()[f+16>>2>>>0],Qa:c()[f+20>>2>>>0],Ma:c()[f+24>>2>>>0],Pa:c()[f+28>>2>>>0],yb:c()[f+32>>2>>>0],ob:c()[f+36>>2>>>0],rb:ee?He(ee):""},n=He(n),ee={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var le in ee)n=n.replace(new RegExp(le,"g"),ee[le]);var ir="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ur="January February March April May June July August September October November December".split(" ");ee={"%a":p=>ir[p.Ma].substring(0,3),"%A":p=>ir[p.Ma],"%b":p=>ur[p.Ta].substring(0,3),"%B":p=>ur[p.Ta],"%C":p=>h((p.Qa+1900)/100|0,2),"%d":p=>h(p.Wa,2),"%e":p=>O(p.Wa,2," "),"%g":p=>Te(p).toString().substring(2),"%G":p=>Te(p),"%H":p=>h(p.Sa,2),"%I":p=>(p=p.Sa,p==0?p=12:12<p&&(p-=12),h(p,2)),"%j":p=>{for(var N=0,G=0;G<=p.Ta-1;N+=(je(p.Qa+1900)?Zt:Qt)[G++]);return h(p.Wa+N,3)},"%m":p=>h(p.Ta+1,2),"%M":p=>h(p.pb,2),"%n":()=>`\n`,"%p":p=>0<=p.Sa&&12>p.Sa?"AM":"PM","%S":p=>h(p.qb,2),"%t":()=>"	","%u":p=>p.Ma||7,"%U":p=>h(Math.floor((p.Pa+7-p.Ma)/7),2),"%V":p=>{var N=Math.floor((p.Pa+7-(p.Ma+6)%7)/7);if(2>=(p.Ma+371-p.Pa-2)%7&&N++,N)N==53&&(G=(p.Ma+371-p.Pa)%7,G==4||G==3&&je(p.Qa)||(N=1));else{N=52;var G=(p.Ma+7-p.Pa-1)%7;(G==4||G==5&&je(p.Qa%400-1))&&N++}return h(N,2)},"%w":p=>p.Ma,"%W":p=>h(Math.floor((p.Pa+7-(p.Ma+6)%7)/7),2),"%y":p=>(p.Qa+1900).toString().substring(2),"%Y":p=>p.Qa+1900,"%z":p=>{p=p.ob;var N=0<=p;return p=Math.abs(p)/60,(N?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.rb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(le in ee)n.includes(le)&&(n=n.replace(new RegExp(le,"g"),ee[le](f)));return n=n.replace(/\\0\\0/g,"%"),le=Yr(n),le.length>t?0:(jr(le,e),le.length-1)}T.Va();var Gr=[null,Qe,Pe,m,M,P,ae,Ke,et,d,L,H,Me,tt,Lt,Bt,Wt,Ht,zt,Gt,$t,qt,Vt,Jt,Xt],$r={b:function(e,t,n){throw e>>>=0,new r(e).Va(t>>>0,n>>>0),s=e,i++,s},N:function(e){tr(e>>>0,!k,1,!U,131072,!1),T.Ya()},j:function(e){e>>>=0,v?postMessage({cmd:"cleanupThread",thread:e}):st(e)},I:b,h:M,T:P,D:ae,F:Ke,U:et,R:d,J:L,Q:H,n:Me,E:tt,B:Lt,S:Bt,C:Wt,q:()=>!0,z:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ut()):v?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=T.La[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:pt,p:function(e){C&&T.La[e>>>0].ref()},t:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),c()[n>>2>>>0]=e.getUTCSeconds(),c()[n+4>>2>>>0]=e.getUTCMinutes(),c()[n+8>>2>>>0]=e.getUTCHours(),c()[n+12>>2>>>0]=e.getUTCDate(),c()[n+16>>2>>>0]=e.getUTCMonth(),c()[n+20>>2>>>0]=e.getUTCFullYear()-1900,c()[n+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,c()[n+28>>2>>>0]=e},u:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),c()[n>>2>>>0]=e.getSeconds(),c()[n+4>>2>>>0]=e.getMinutes(),c()[n+8>>2>>>0]=e.getHours(),c()[n+12>>2>>>0]=e.getDate(),c()[n+16>>2>>>0]=e.getMonth(),c()[n+20>>2>>>0]=e.getFullYear()-1900,c()[n+24>>2>>>0]=e.getDay(),t=(je(e.getFullYear())?kt:Nt)[e.getMonth()]+e.getDate()-1|0,c()[n+28>>2>>>0]=t,c()[n+36>>2>>>0]=-(60*e.getTimezoneOffset()),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var f=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(t!=f&&e.getTimezoneOffset()==Math.min(f,t))|0,c()[n+32>>2>>>0]=e},v:function(e){e>>>=0;var t=new Date(c()[e+20>>2>>>0]+1900,c()[e+16>>2>>>0],c()[e+12>>2>>>0],c()[e+8>>2>>>0],c()[e+4>>2>>>0],c()[e>>2>>>0],0),n=c()[e+32>>2>>>0],f=t.getTimezoneOffset(),O=new Date(t.getFullYear(),6,1).getTimezoneOffset(),h=new Date(t.getFullYear(),0,1).getTimezoneOffset(),_=Math.min(h,O);return 0>n?c()[e+32>>2>>>0]=+(O!=h&&_==f):0<n!=(_==f)&&(O=Math.max(h,O),t.setTime(t.getTime()+6e4*((0<n?_:O)-f))),c()[e+24>>2>>>0]=t.getDay(),n=(je(t.getFullYear())?kt:Nt)[t.getMonth()]+t.getDate()-1|0,c()[e+28>>2>>>0]=n,c()[e>>2>>>0]=t.getSeconds(),c()[e+4>>2>>>0]=t.getMinutes(),c()[e+8>>2>>>0]=t.getHours(),c()[e+12>>2>>>0]=t.getDate(),c()[e+16>>2>>>0]=t.getMonth(),c()[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,ar((xe=e,1<=+Math.abs(xe)?0<xe?+Math.floor(xe/4294967296)>>>0:~~+Math.ceil((xe-+(~~xe>>>0))/4294967296)>>>0:0)),e>>>0},r:Ht,s:zt,y:function(e,t,n){function f(ee){return(ee=ee.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ee[1]:"GMT"}e>>>=0,t>>>=0,n>>>=0;var O=new Date().getFullYear(),h=new Date(O,0,1),_=new Date(O,6,1);O=h.getTimezoneOffset();var j=_.getTimezoneOffset(),Te=Math.max(O,j);w()[e>>2>>>0]=60*Te,c()[t>>2>>>0]=+(O!=j),e=f(h),t=f(_),e=Yt(e),t=Yt(t),j<O?(w()[n>>2>>>0]=e,w()[n+4>>2>>>0]=t):(w()[n>>2>>>0]=t,w()[n+4>>2>>>0]=e)},c:()=>{ge("")},k:function(){},i:function(){return Date.now()},o:()=>{throw Z+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return C?(hr(),nt(gr)).cpus().length:navigator.hardwareConcurrency},K:function(e,t,n,f){for(T.vb=t>>>0,mt.length=n,t=f>>>0>>3,f=0;f<n;f++)mt[f]=g()[t+f>>>0];return Gr[e].apply(null,mt)},x:function(e){e>>>=0;var t=y().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var f=t*(1+.2/n);f=Math.min(f,e+100663296);var O=Math;f=Math.max(e,f);e:{O=O.min.call(O,4294901760,f+(65536-f%65536)%65536)-A.buffer.byteLength+65535>>>16;try{A.grow(O),me();var h=1;break e}catch{}h=void 0}if(h)return!0}return!1},O:Gt,P:$t,H:ze,g:qt,m:Vt,w:Jt,l:Xt,a:A||o.wasmMemory,G:Kt,d:function(e,t,n,f){return Kt(e>>>0,t>>>0,n>>>0,f>>>0)}};(function(){function e(n,f){return n=n.exports,S=n=qr(n),T.Za.push(S.ya),_e=S.za,Se.unshift(S.V),ce=f,ke(),n}var t={a:$r};if(We(),o.instantiateWasm)try{return o.instantiateWasm(t,e)}catch(n){te("Module.instantiateWasm callback failed with error: "+n),I(n)}return Je(t,function(n){e(n.instance,n.module)}).catch(I),{}})(),o._OrtInit=(e,t)=>(o._OrtInit=S.W)(e,t),o._OrtGetLastError=(e,t)=>(o._OrtGetLastError=S.X)(e,t),o._OrtCreateSessionOptions=(e,t,n,f,O,h,_,j,Te,ee)=>(o._OrtCreateSessionOptions=S.Y)(e,t,n,f,O,h,_,j,Te,ee),o._OrtAppendExecutionProvider=(e,t)=>(o._OrtAppendExecutionProvider=S.Z)(e,t),o._OrtAddFreeDimensionOverride=(e,t,n)=>(o._OrtAddFreeDimensionOverride=S._)(e,t,n),o._OrtAddSessionConfigEntry=(e,t,n)=>(o._OrtAddSessionConfigEntry=S.$)(e,t,n),o._OrtReleaseSessionOptions=e=>(o._OrtReleaseSessionOptions=S.aa)(e),o._OrtCreateSession=(e,t,n)=>(o._OrtCreateSession=S.ba)(e,t,n),o._OrtReleaseSession=e=>(o._OrtReleaseSession=S.ca)(e),o._OrtGetInputOutputCount=(e,t,n)=>(o._OrtGetInputOutputCount=S.da)(e,t,n),o._OrtGetInputName=(e,t)=>(o._OrtGetInputName=S.ea)(e,t),o._OrtGetOutputName=(e,t)=>(o._OrtGetOutputName=S.fa)(e,t),o._OrtFree=e=>(o._OrtFree=S.ga)(e),o._OrtCreateTensor=(e,t,n,f,O,h)=>(o._OrtCreateTensor=S.ha)(e,t,n,f,O,h),o._OrtGetTensorData=(e,t,n,f,O)=>(o._OrtGetTensorData=S.ia)(e,t,n,f,O),o._OrtReleaseTensor=e=>(o._OrtReleaseTensor=S.ja)(e),o._OrtCreateRunOptions=(e,t,n,f)=>(o._OrtCreateRunOptions=S.ka)(e,t,n,f),o._OrtAddRunConfigEntry=(e,t,n)=>(o._OrtAddRunConfigEntry=S.la)(e,t,n),o._OrtReleaseRunOptions=e=>(o._OrtReleaseRunOptions=S.ma)(e),o._OrtCreateBinding=e=>(o._OrtCreateBinding=S.na)(e),o._OrtBindInput=(e,t,n)=>(o._OrtBindInput=S.oa)(e,t,n),o._OrtBindOutput=(e,t,n,f)=>(o._OrtBindOutput=S.pa)(e,t,n,f),o._OrtClearBoundOutputs=e=>(o._OrtClearBoundOutputs=S.qa)(e),o._OrtReleaseBinding=e=>(o._OrtReleaseBinding=S.ra)(e),o._OrtRunWithBinding=(e,t,n,f,O)=>(o._OrtRunWithBinding=S.sa)(e,t,n,f,O),o._OrtRun=(e,t,n,f,O,h,_,j)=>(o._OrtRun=S.ta)(e,t,n,f,O,h,_,j),o._OrtEndProfiling=e=>(o._OrtEndProfiling=S.ua)(e);var ft=o._pthread_self=()=>(ft=o._pthread_self=S.va)(),er=o._malloc=e=>(er=o._malloc=S.wa)(e);o._free=e=>(o._free=S.xa)(e),o.__emscripten_tls_init=()=>(o.__emscripten_tls_init=S.ya)();var tr=o.__emscripten_thread_init=(e,t,n,f,O,h)=>(tr=o.__emscripten_thread_init=S.Aa)(e,t,n,f,O,h);o.__emscripten_thread_crashed=()=>(o.__emscripten_thread_crashed=S.Ba)();var rr=(e,t,n,f)=>(rr=S.Ca)(e,t,n,f),yt=e=>(yt=S.Da)(e),Ot=o.__emscripten_thread_exit=e=>(Ot=o.__emscripten_thread_exit=S.Ea)(e),nr=o.__emscripten_check_mailbox=()=>(nr=o.__emscripten_check_mailbox=S.Fa)(),ar=e=>(ar=S.Ga)(e),or=(e,t)=>(or=S.Ha)(e,t),bt=()=>(bt=S.Ia)(),lt=e=>(lt=S.Ja)(e),wt=e=>(wt=S.Ka)(e);function qr(e){e=Object.assign({},e);var t=f=>()=>f()>>>0,n=f=>O=>f(O)>>>0;return e.__errno_location=t(e.__errno_location),e.pthread_self=t(e.pthread_self),e.malloc=n(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=n(e.stackAlloc),e}o.keepRuntimeAlive=Ee,o.wasmMemory=A,o.stackAlloc=wt,o.stackSave=bt,o.stackRestore=lt,o.UTF8ToString=He,o.stringToUTF8=ne,o.lengthBytesUTF8=Q,o.ExitStatus=Fe,o.PThread=T;var ct;Re=function e(){ct||sr(),ct||(Re=e)};function sr(){function e(){if(!ct&&(ct=!0,o.calledRun=!0,!oe)&&(v||Ye(Se),D(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),!v)){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;){var t=o.postRun.shift();K.unshift(t)}Ye(K)}}if(!(0<de))if(v)D(o),v||Ye(Se),startWorker(o);else{if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)se.unshift(o.preRun.shift());Ye(se),0<de||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e())}}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return sr(),l.ready}})();typeof Or=="object"&&typeof Ct=="object"?Ct.exports=yr:typeof define=="function"&&define.amd&&define([],()=>yr)});var wr=rt((On,tn)=>{tn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var _r;_r=dr();var rn=br(),Dt,It=!1,dt=!1,vr=!1,nn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},an=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},on=(u,l)=>u?l?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":l?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Sr=async u=>{if(It)return Promise.resolve();if(dt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(vr)throw new Error("previous call to \'initializeWebAssembly()\' failed.");dt=!0;let l=u.initTimeout,a=u.numThreads,y=u.simd,c=a>1&&nn(),w=y&&an(),g=u.wasmPaths,o=typeof g=="string"?g:void 0,D=on(w,c),I=typeof g=="object"?g[D]:void 0,x=!1,W=[];if(l>0&&W.push(new Promise(F=>{setTimeout(()=>{x=!0,F()},l)})),W.push(new Promise((F,U)=>{let k=c?rn:_r,C={locateFile:(v,B)=>c&&v.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([wr()],{type:"text/javascript"})):v.endsWith(".wasm")?I||(o??B)+D:B+v};if(c)if(typeof Blob>"u")C.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let v=`var ortWasmThreaded=${k.toString()};`;C.mainScriptUrlOrBlob=new Blob([v],{type:"text/javascript"})}k(C).then(v=>{dt=!1,It=!0,Dt=v,F()},v=>{dt=!1,vr=!0,U(v)})})),await Promise.race(W),x)throw new Error(`WebAssembly backend initializing failed due to timeout: ${l}ms`)},q=()=>{if(It&&Dt)return Dt;throw new Error("WebAssembly is not initialized yet.")};var V=(u,l)=>{let a=q(),y=a.lengthBytesUTF8(u)+1,c=a._malloc(y);return a.stringToUTF8(u,c,y),l.push(c),c},at=(u,l,a,y)=>{if(typeof u=="object"&&u!==null){if(a.has(u))throw new Error("Circular reference in options");a.add(u)}Object.entries(u).forEach(([c,w])=>{let g=l?l+c:c;if(typeof w=="object")at(w,g+".",a,y);else if(typeof w=="string"||typeof w=="number")y(g,w.toString());else if(typeof w=="boolean")y(g,w?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof w}`)})},$=u=>{let l=q(),a=l.stackSave();try{let y=l.stackAlloc(8);l._OrtGetLastError(y,y+4);let c=l.HEAP32[y/4],w=l.HEAPU32[y/4+1],g=w?l.UTF8ToString(w):"";throw new Error(`${u} ERROR_CODE: ${c}, ERROR_MESSAGE: ${g}`)}finally{l.stackRestore(a)}};var Er=u=>{let l=q(),a=0,y=[],c=u||{};try{if(u?.logSeverityLevel===void 0)c.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if(u?.logVerbosityLevel===void 0)c.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);u?.terminate===void 0&&(c.terminate=!1);let w=0;return u?.tag!==void 0&&(w=V(u.tag,y)),a=l._OrtCreateRunOptions(c.logSeverityLevel,c.logVerbosityLevel,!!c.terminate,w),a===0&&$("Can\'t create run options."),u?.extra!==void 0&&at(u.extra,"",new WeakSet,(g,o)=>{let D=V(g,y),I=V(o,y);l._OrtAddRunConfigEntry(a,D,I)!==0&&$(`Can\'t set a run config entry: ${g} - ${o}.`)}),[a,y]}catch(w){throw a!==0&&l._OrtReleaseRunOptions(a),y.forEach(g=>l._free(g)),w}};var sn=u=>{switch(u){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${u}`)}},un=u=>{switch(u){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${u}`)}},fn=u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});let l=u.extra.session;l.use_ort_model_bytes_directly||(l.use_ort_model_bytes_directly="1"),u.executionProviders&&u.executionProviders.some(a=>(typeof a=="string"?a:a.name)==="webgpu")&&(u.enableMemPattern=!1)},ln=(u,l,a)=>{for(let y of l){let c=typeof y=="string"?y:y.name;switch(c){case"xnnpack":c="XNNPACK";break;case"webnn":if(c="WEBNN",typeof y!="string"){let g=y;if(g?.deviceType){let o=V("deviceType",a),D=V(g.deviceType,a);q()._OrtAddSessionConfigEntry(u,o,D)!==0&&$(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.numThreads){let o=g.numThreads;(typeof o!="number"||!Number.isInteger(o)||o<0)&&(o=0);let D=V("numThreads",a),I=V(o.toString(),a);q()._OrtAddSessionConfigEntry(u,D,I)!==0&&$(`Can\'t set a session config entry: \'numThreads\' - ${g.numThreads}.`)}if(g?.powerPreference){let o=V("powerPreference",a),D=V(g.powerPreference,a);q()._OrtAddSessionConfigEntry(u,o,D)!==0&&$(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(c="JS",typeof y!="string"){let g=y;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let o=V("preferredLayout",a),D=V(g.preferredLayout,a);q()._OrtAddSessionConfigEntry(u,o,D)!==0&&$(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${c}`)}let w=V(c,a);q()._OrtAppendExecutionProvider(u,w)!==0&&$(`Can\'t append execution provider: ${c}.`)}},Mr=u=>{let l=q(),a=0,y=[],c=u||{};fn(c);try{let w=sn(c.graphOptimizationLevel??"all"),g=un(c.executionMode??"sequential"),o=typeof c.logId=="string"?V(c.logId,y):0,D=c.logSeverityLevel??2;if(!Number.isInteger(D)||D<0||D>4)throw new Error(`log serverity level is not valid: ${D}`);let I=c.logVerbosityLevel??0;if(!Number.isInteger(I)||I<0||I>4)throw new Error(`log verbosity level is not valid: ${I}`);let x=typeof c.optimizedModelFilePath=="string"?V(c.optimizedModelFilePath,y):0;if(a=l._OrtCreateSessionOptions(w,!!c.enableCpuMemArena,!!c.enableMemPattern,g,!!c.enableProfiling,0,o,D,I,x),a===0&&$("Can\'t create session options."),c.executionProviders&&ln(a,c.executionProviders,y),c.freeDimensionOverrides)for(let[W,F]of Object.entries(c.freeDimensionOverrides)){if(typeof W!="string")throw new Error(`free dimension override name must be a string: ${W}`);if(typeof F!="number"||!Number.isInteger(F)||F<0)throw new Error(`free dimension override value must be a non-negative integer: ${F}`);let U=V(W,y);l._OrtAddFreeDimensionOverride(a,U,F)!==0&&$(`Can\'t set a free dimension override: ${W} - ${F}.`)}return c.extra!==void 0&&at(c.extra,"",new WeakSet,(W,F)=>{let U=V(W,y),k=V(F,y);l._OrtAddSessionConfigEntry(a,U,k)!==0&&$(`Can\'t set a session config entry: ${W} - ${F}.`)}),[a,y]}catch(w){throw a!==0&&l._OrtReleaseSessionOptions(a),y.forEach(g=>l._free(g)),w}};var xt=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},Tr=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},Ft=u=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][u],Ar=u=>{switch(u){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}},Rr=u=>{switch(u){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${u}`)}},Cr=u=>u==="float32"||u==="int32"||u==="int64"||u==="bool"||u==="float16"||u==="uint32",Dr=u=>{switch(u){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${u}`)}};var xr=!1,cn=u=>{let l=q(),a=l.stackSave();try{let y=l.stackAlloc(8);return l._OrtGetInputOutputCount(u,y,y+4)!==0&&$("Can\'t get session input/output count."),[l.HEAP32[y/4],l.HEAP32[y/4+1]]}finally{l.stackRestore(a)}},dn=(u,l)=>{q()._OrtInit(u,l)!==0&&$("Can\'t initialize onnxruntime.")},Fr=async u=>{dn(u.wasm.numThreads,Rr(u.logLevel)),xr=!0},ot=new Map,Pr=()=>xr,Pt=u=>{let l=q(),a=l._malloc(u.byteLength);if(a===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${u.byteLength}.`);return l.HEAPU8.set(u,a),[a,u.byteLength]},Ut=(u,l)=>{let a=q(),y=0,c=0,w=0,g=[],o=[],D=[];try{[c,g]=Mr(l),y=a._OrtCreateSession(u[0],u[1],c),y===0&&$("Can\'t create a session.");let[I,x]=cn(y),W=[],F=[],U=[];for(let C=0;C<I;C++){let v=a._OrtGetInputName(y,C);v===0&&$("Can\'t get an input name."),o.push(v),W.push(a.UTF8ToString(v))}for(let C=0;C<x;C++){let v=a._OrtGetOutputName(y,C);v===0&&$("Can\'t get an output name."),D.push(v);let B=a.UTF8ToString(v);F.push(B)}let k=null;return ot.set(y,[y,o,D,k]),[y,W,F]}catch(I){throw o.forEach(x=>a._OrtFree(x)),D.forEach(x=>a._OrtFree(x)),w!==0&&a._OrtReleaseBinding(w),y!==0&&a._OrtReleaseSession(y),I}finally{a._free(u[0]),c!==0&&a._OrtReleaseSessionOptions(c),g.forEach(I=>a._free(I))}},Ur=(u,l)=>{let a=Pt(u);return Ut(a,l)},Lr=u=>{let l=q(),a=ot.get(u);if(!a)throw new Error(`cannot release session. invalid session id: ${u}`);let[y,c,w,g]=a;g&&l._OrtReleaseBinding(g.handle),l.jsepUnregisterBuffers?.(u),c.forEach(o=>l._OrtFree(o)),w.forEach(o=>l._OrtFree(o)),l._OrtReleaseSession(y),ot.delete(u)},Ir=(u,l,a,y,c)=>{if(!u){l.push(0);return}let w=q(),g=u[0],o=u[1],D=u[3],I,x;if(g==="string"&&D==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(D==="gpu-buffer"){let U=u[2].gpuBuffer,k=Ft(xt(g));x=o.reduce((C,v)=>C*v,1)*k,I=w.jsepRegisterBuffer(y,c,U,x)}else{let U=u[2];if(Array.isArray(U)){x=4*U.length,I=w._malloc(x),a.push(I);let k=I/4;for(let C=0;C<U.length;C++){if(typeof U[C]!="string")throw new TypeError(`tensor data at index ${C} is not a string`);w.HEAPU32[k++]=V(U[C],a)}}else x=U.byteLength,I=w._malloc(x),a.push(I),w.HEAPU8.set(new Uint8Array(U.buffer,U.byteOffset,x),I)}let W=w.stackSave(),F=w.stackAlloc(4*o.length);try{let U=F/4;o.forEach(C=>w.HEAP32[U++]=C);let k=w._OrtCreateTensor(xt(g),I,x,F,o.length,Dr(D));k===0&&$(`Can\'t create tensor for input/output. session=${y}, index=${c}.`),l.push(k)}finally{w.stackRestore(W)}},Br=async(u,l,a,y,c,w)=>{let g=q(),o=ot.get(u);if(!o)throw new Error(`cannot run inference. invalid session id: ${u}`);let[D,I,x,W]=o,F=l.length,U=y.length,k=0,C=[],v=[],B=[],fe=[],Be=g.stackSave(),pe=g.stackAlloc(F*4),R=g.stackAlloc(F*4),he=g.stackAlloc(U*4),ye=g.stackAlloc(U*4);try{[k,C]=Er(w);for(let A=0;A<F;A++)Ir(a[A],v,fe,u,l[A]);for(let A=0;A<U;A++)Ir(c[A],B,fe,u,F+y[A]);let J=pe/4,E=R/4,X=he/4,te=ye/4;for(let A=0;A<F;A++)g.HEAPU32[J++]=v[A],g.HEAPU32[E++]=I[l[A]];for(let A=0;A<U;A++)g.HEAPU32[X++]=B[A],g.HEAPU32[te++]=x[y[A]];let Oe;Oe=await g._OrtRun(D,R,pe,F,ye,U,he,k),Oe!==0&&$("failed to call OrtRun().");let be=[];for(let A=0;A<U;A++){let S=g.HEAPU32[he/4+A];if(S===B[A]){be.push(c[A]);continue}let ce=g.stackSave(),oe=g.stackAlloc(4*4),re=!1,z,ie=0;try{g._OrtGetTensorData(S,oe,oe+4,oe+8,oe+12)!==0&&$(`Can\'t access output tensor data on index ${A}.`);let ve=oe/4,De=g.HEAPU32[ve++];ie=g.HEAPU32[ve++];let me=g.HEAPU32[ve++],Ae=g.HEAPU32[ve++],_e=[];for(let K=0;K<Ae;K++)_e.push(g.HEAPU32[me/4+K]);g._OrtFree(me);let se=_e.reduce((K,Z)=>K*Z,1);z=Tr(De);let Se=W?.outputPreferredLocations[y[A]];if(z==="string"){if(Se==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let K=[],Z=ie/4;for(let Ee=0;Ee<se;Ee++){let de=g.HEAPU32[Z++],Ie=Ee===se-1?void 0:g.HEAPU32[Z]-de;K.push(g.UTF8ToString(de,Ie))}be.push([z,_e,K,"cpu"])}else if(Se==="gpu-buffer"&&se>0){let K=g.jsepGetBuffer(ie),Z=Ft(De);if(Z===void 0||!Cr(z))throw new Error(`Unsupported data type: ${z}`);re=!0,be.push([z,_e,{gpuBuffer:K,download:g.jsepCreateDownloader(K,se*Z,z),dispose:()=>{g._OrtReleaseTensor(S)}},"gpu-buffer"])}else{let K=Ar(z),Z=new K(se);new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength).set(g.HEAPU8.subarray(ie,ie+Z.byteLength)),be.push([z,_e,Z,"cpu"])}}finally{g.stackRestore(ce),z==="string"&&ie&&g._free(ie),re||g._OrtReleaseTensor(S)}}return W&&g._OrtClearBoundOutputs(W.handle),be}finally{g.stackRestore(Be),v.forEach(J=>g._OrtReleaseTensor(J)),B.forEach(J=>g._OrtReleaseTensor(J)),fe.forEach(J=>g._free(J)),k!==0&&g._OrtReleaseRunOptions(k),C.forEach(J=>g._free(J))}},Wr=u=>{let l=q(),a=ot.get(u);if(!a)throw new Error("invalid session id");let y=a[0],c=l._OrtEndProfiling(y);c===0&&$("Can\'t get an profile file name."),l._OrtFree(c)},kr=u=>{let l=[];for(let a of u){let y=a[2];!Array.isArray(y)&&"buffer"in y&&l.push(y.buffer)}return l};self.onmessage=u=>{switch(u.data.type){case"init-wasm":try{Sr(u.data.in).then(()=>postMessage({type:"init-wasm"}),l=>postMessage({type:"init-wasm",err:l}))}catch(l){postMessage({type:"init-wasm",err:l})}break;case"init-ort":try{Fr(u.data.in).then(()=>postMessage({type:"init-ort"}),l=>postMessage({type:"init-ort",err:l}))}catch(l){postMessage({type:"init-ort",err:l})}break;case"create_allocate":try{let{model:l}=u.data.in,a=Pt(l);postMessage({type:"create_allocate",out:a})}catch(l){postMessage({type:"create_allocate",err:l})}break;case"create_finalize":try{let{modeldata:l,options:a}=u.data.in,y=Ut(l,a);postMessage({type:"create_finalize",out:y})}catch(l){postMessage({type:"create_finalize",err:l})}break;case"create":try{let{model:l,options:a}=u.data.in,y=Ur(l,a);postMessage({type:"create",out:y})}catch(l){postMessage({type:"create",err:l})}break;case"release":try{Lr(u.data.in),postMessage({type:"release"})}catch(l){postMessage({type:"release",err:l})}break;case"run":try{let{sessionId:l,inputIndices:a,inputs:y,outputIndices:c,options:w}=u.data.in;Br(l,a,y,c,new Array(c.length).fill(null),w).then(g=>{g.some(o=>o[3]!=="cpu")?postMessage({type:"run",err:"Proxy does not support non-cpu tensor location."}):postMessage({type:"run",out:g},kr(g))},g=>{postMessage({type:"run",err:g})})}catch(l){postMessage({type:"run",err:l})}break;case"end-profiling":try{let l=u.data.in;Wr(l),postMessage({type:"end-profiling"})}catch(l){postMessage({type:"end-profiling",err:l})}break;case"is-ort-env-initialized":try{let l=Pr();postMessage({type:"is-ort-env-initialized",out:l})}catch(l){postMessage({type:"is-ort-env-initialized",err:l})}break;default:}};})();\n'});var Fe,ye,Lt,Or,_r,dr,pr,mr,hr,gr,yr,wr,br,vr,He,Xa,Ft,sa,ua,fa,la,Er,ca,da,pa,ma,Sr=N(()=>{"use strict";qe();oa();at();Fe=()=>!!$.wasm.proxy&&typeof document<"u",Lt=!1,Or=!1,_r=!1,mr=[],hr=[],gr=[],yr=[],wr=[],br=[],vr=[],He=()=>{if(Lt||!Or||_r||!ye)throw new Error("worker not ready")},Xa=r=>{switch(r.data.type){case"init-wasm":Lt=!1,r.data.err?(_r=!0,dr[1](r.data.err)):(Or=!0,dr[0]());break;case"init-ort":r.data.err?pr[1](r.data.err):pr[0]();break;case"create_allocate":r.data.err?mr.shift()[1](r.data.err):mr.shift()[0](r.data.out);break;case"create_finalize":r.data.err?hr.shift()[1](r.data.err):hr.shift()[0](r.data.out);break;case"create":r.data.err?gr.shift()[1](r.data.err):gr.shift()[0](r.data.out);break;case"release":r.data.err?yr.shift()[1](r.data.err):yr.shift()[0]();break;case"run":r.data.err?wr.shift()[1](r.data.err):wr.shift()[0](r.data.out);break;case"end-profiling":r.data.err?br.shift()[1](r.data.err):br.shift()[0]();break;case"is-ort-env-initialized":r.data.err?vr.shift()[1](r.data.err):vr.shift()[0](r.data.out);break;default:}},Ft=typeof document<"u"?document?.currentScript?.src:void 0,sa=async()=>{if(Fe()){if(Or)return;if(Lt)throw new Error("multiple calls to 'initWasm()' detected.");if(_r)throw new Error("previous call to 'initWasm()' failed.");return Lt=!0,$.wasm.wasmPaths===void 0&&Ft&&Ft.indexOf("blob:")!==0&&($.wasm.wasmPaths=Ft.substr(0,+Ft.lastIndexOf("/")+1)),new Promise((r,n)=>{ye?.terminate();let t=URL.createObjectURL(new Blob([ia()],{type:"text/javascript"}));ye=new Worker(t,{name:"ort-wasm-proxy-worker"}),ye.onerror=s=>n(s),ye.onmessage=Xa,URL.revokeObjectURL(t),dr=[r,n];let f={type:"init-wasm",in:$.wasm};ye.postMessage(f)})}else return Hn($.wasm)},ua=async r=>{if(Fe())return He(),new Promise((n,t)=>{pr=[n,t];let f={type:"init-ort",in:r};ye.postMessage(f)});await Qn(r)},fa=async r=>Fe()?(He(),new Promise((n,t)=>{mr.push([n,t]);let f={type:"create_allocate",in:{model:r}};ye.postMessage(f,[r.buffer])})):lr(r),la=async(r,n)=>Fe()?(He(),new Promise((t,f)=>{hr.push([t,f]);let s={type:"create_finalize",in:{modeldata:r,options:n}};ye.postMessage(s)})):cr(r,n),Er=async(r,n)=>{if(Fe()){if(n?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return He(),new Promise((t,f)=>{gr.push([t,f]);let s={type:"create",in:{model:r,options:n}};ye.postMessage(s,[r.buffer])})}else return ea(r,n)},ca=async r=>{if(Fe())return He(),new Promise((n,t)=>{yr.push([n,t]);let f={type:"release",in:r};ye.postMessage(f)});ta(r)},da=async(r,n,t,f,s,h)=>{if(Fe()){if(t.some(d=>d[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(s.some(d=>d))throw new Error("pre-allocated output tensor is not supported for proxy.");return He(),new Promise((d,o)=>{wr.push([d,o]);let w=t,m={type:"run",in:{sessionId:r,inputIndices:n,inputs:w,outputIndices:f,options:h}};ye.postMessage(m,aa(w))})}else return ra(r,n,t,f,s,h)},pa=async r=>{if(Fe())return He(),new Promise((n,t)=>{br.push([n,t]);let f={type:"end-profiling",in:r};ye.postMessage(f)});na(r)},ma=async()=>Fe()?(He(),new Promise((r,n)=>{vr.push([r,n]);let t={type:"is-ort-env-initialized"};ye.postMessage(t)})):Kn()});var kt,ha,Ja,Wt,ga=N(()=>{"use strict";qe();Sr();fr();ha=(r,n)=>{switch(r.location){case"cpu":return[r.type,r.dims,r.data,"cpu"];case"gpu-buffer":return[r.type,r.dims,{gpuBuffer:r.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${r.location} for ${n()}`)}},Ja=r=>{switch(r[3]){case"cpu":return new le(r[0],r[2],r[1]);case"gpu-buffer":{let n=r[0];if(!Bt(n))throw new Error(`not supported data type: ${n} for deserializing GPU tensor`);let{gpuBuffer:t,download:f,dispose:s}=r[2];return le.fromGpuBuffer(t,{dataType:n,dims:r[1],download:f,dispose:s})}default:throw new Error(`invalid data location: ${r[3]}`)}},Wt=class{async createSessionAllocate(n){let t=await fetch(n);if(t.status!==200)throw new Error(`failed to load model: ${n}`);let f=await t.arrayBuffer();return fa(new Uint8Array(f))}async loadModel(n,t){if(await ma()||(kt||(kt=ua($)),await kt,kt=void 0),typeof n=="string")if(typeof process<"u"&&process.versions&&process.versions.node){let f=await(void 0)(n);[this.sessionId,this.inputNames,this.outputNames]=await Er(f,t)}else{let f=await this.createSessionAllocate(n);[this.sessionId,this.inputNames,this.outputNames]=await la(f,t)}else[this.sessionId,this.inputNames,this.outputNames]=await Er(n,t)}async dispose(){return ca(this.sessionId)}async run(n,t,f){let s=[],h=[];Object.entries(n).forEach(_=>{let A=_[0],F=_[1],I=this.inputNames.indexOf(A);if(I===-1)throw new Error(`invalid input '${A}'`);s.push(F),h.push(I)});let d=[],o=[];Object.entries(t).forEach(_=>{let A=_[0],F=_[1],I=this.outputNames.indexOf(A);if(I===-1)throw new Error(`invalid output '${A}'`);d.push(F),o.push(I)});let w=s.map((_,A)=>ha(_,()=>`input "${this.inputNames[h[A]]}"`)),m=d.map((_,A)=>_?ha(_,()=>`output "${this.outputNames[o[A]]}"`):null),v=await da(this.sessionId,h,w,o,m,f),E={};for(let _=0;_<v.length;_++)E[this.outputNames[o[_]]]=d[_]??Ja(v[_]);return E}startProfiling(){}endProfiling(){pa(this.sessionId)}}});var Za,Nt,ya=N(()=>{"use strict";qe();Sr();ga();Za=()=>{if((typeof $.wasm.initTimeout!="number"||$.wasm.initTimeout<0)&&($.wasm.initTimeout=0),typeof $.wasm.simd!="boolean"&&($.wasm.simd=!0),typeof $.wasm.proxy!="boolean"&&($.wasm.proxy=!1),typeof $.wasm.numThreads!="number"||!Number.isInteger($.wasm.numThreads)||$.wasm.numThreads<=0){let r=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;$.wasm.numThreads=Math.min(4,Math.ceil((r||1)/2))}},Nt=class{async init(){Za(),await sa()}async createInferenceSessionHandler(n,t){let f=new Wt;return await f.loadModel(n,t),Promise.resolve(f)}}});var wa={};nt(wa,{wasmBackend:()=>Qa});var Qa,ba=N(()=>{"use strict";ya();Qa=new Nt});var eo={};nt(eo,{InferenceSession:()=>On,Tensor:()=>le,TrainingSession:()=>Tn,default:()=>Ka,env:()=>$,registerBackend:()=>Ne});module.exports=$e(eo);qe();qe();qe();var Mn="1.17.0";var Ka=Qt;{let r=(ba(),$e(wa)).wasmBackend;Ne("cpu",r,10),Ne("wasm",r,10),Ne("xnnpack",r,9),Ne("webnn",r,9)}Object.defineProperty($.versions,"web",{value:Mn,enumerable:!0});
//# sourceMappingURL=ort.wasm.min.js.map

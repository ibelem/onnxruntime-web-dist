/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
"use strict";var ort=(()=>{var gr=Object.defineProperty;var Ga=Object.getOwnPropertyDescriptor;var ja=Object.getOwnPropertyNames;var $a=Object.prototype.hasOwnProperty;var W=(n,r)=>()=>(n&&(r=n(n=0)),r);var st=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),ut=(n,r)=>{for(var t in r)gr(n,t,{get:r[t],enumerable:!0})},Ya=(n,r,t,u)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of ja(r))!$a.call(n,a)&&a!==t&&gr(n,a,{get:()=>r[a],enumerable:!(u=Ga(r,a))||u.enumerable});return n};var Ve=n=>Ya(gr({},"__esModule",{value:!0}),n);var Nt,qe,ft,Ht,Wt=W(()=>{Nt=new Map,qe=[],ft=(n,r,t)=>{if(r&&typeof r.init=="function"&&typeof r.createInferenceSessionHandler=="function"){let u=Nt.get(n);if(u===void 0)Nt.set(n,{backend:r,priority:t});else{if(u.priority>t)return;if(u.priority===t&&u.backend!==r)throw new Error(`cannot register backend "${n}" using priority ${t}`)}if(t>=0){let a=qe.indexOf(n);a!==-1&&qe.splice(a,1);for(let c=0;c<qe.length;c++)if(Nt.get(qe[c]).priority<=t){qe.splice(c,0,n);return}qe.push(n)}return}throw new TypeError("not a valid backend")},Ht=async n=>{let r=n.length===0?qe:n,t=[];for(let u of r){let a=Nt.get(u);if(a){if(a.initialized)return a.backend;if(a.aborted)continue;let c=!!a.initPromise;try{return c||(a.initPromise=a.backend.init(u)),await a.initPromise,a.initialized=!0,a.backend}catch(l){c||t.push({name:u,err:l}),a.aborted=!0}finally{delete a.initPromise}}}throw new Error(`no available backend found. ERR: ${t.map(u=>`[${u.name}] ${u.err}`).join(", ")}`)}});var hn=W(()=>{Wt()});var gn,yn=W(()=>{gn="1.17.0"});var wn,Xe,yr=W(()=>{yn();wn="warning",Xe={wasm:{},webgl:{},webgpu:{},versions:{common:gn},set logLevel(n){if(n!==void 0){if(typeof n!="string"||["verbose","info","warning","error","fatal"].indexOf(n)===-1)throw new Error(`Unsupported logging level: ${n}`);wn=n}},get logLevel(){return wn}};Object.defineProperty(Xe,"logLevel",{enumerable:!0})});var Y,bn=W(()=>{yr();Y=Xe});var On,vn,_n=W(()=>{On=(n,r)=>{let t=document.createElement("canvas");t.width=n.dims[3],t.height=n.dims[2];let u=t.getContext("2d");if(u!=null){let a,c;r?.tensorLayout!==void 0&&r.tensorLayout==="NHWC"?(a=n.dims[2],c=n.dims[3]):(a=n.dims[3],c=n.dims[2]);let l=r?.format!==void 0?r.format:"RGB",o=r?.norm,h,m;o===void 0||o.mean===void 0?h=[255,255,255,255]:typeof o.mean=="number"?h=[o.mean,o.mean,o.mean,o.mean]:(h=[o.mean[0],o.mean[1],o.mean[2],0],o.mean[3]!==void 0&&(h[3]=o.mean[3])),o===void 0||o.bias===void 0?m=[0,0,0,0]:typeof o.bias=="number"?m=[o.bias,o.bias,o.bias,o.bias]:(m=[o.bias[0],o.bias[1],o.bias[2],0],o.bias[3]!==void 0&&(m[3]=o.bias[3]));let y=c*a,v=0,_=y,E=y*2,D=-1;l==="RGBA"?(v=0,_=y,E=y*2,D=y*3):l==="RGB"?(v=0,_=y,E=y*2):l==="RBG"&&(v=0,E=y,_=y*2);for(let A=0;A<c;A++)for(let M=0;M<a;M++){let P=(n.data[v++]-m[0])*h[0],N=(n.data[_++]-m[1])*h[1],G=(n.data[E++]-m[2])*h[2],z=D===-1?255:(n.data[D++]-m[3])*h[3];u.fillStyle="rgba("+P+","+N+","+G+","+z+")",u.fillRect(M,A,1,1)}return t.toDataURL()}else throw new Error("Can not access image data")},vn=(n,r)=>{let t=document.createElement("canvas").getContext("2d"),u;if(t!=null){let a,c,l;r?.tensorLayout!==void 0&&r.tensorLayout==="NHWC"?(a=n.dims[2],c=n.dims[1],l=n.dims[3]):(a=n.dims[3],c=n.dims[2],l=n.dims[1]);let o=r!==void 0&&r.format!==void 0?r.format:"RGB",h=r?.norm,m,y;h===void 0||h.mean===void 0?m=[255,255,255,255]:typeof h.mean=="number"?m=[h.mean,h.mean,h.mean,h.mean]:(m=[h.mean[0],h.mean[1],h.mean[2],255],h.mean[3]!==void 0&&(m[3]=h.mean[3])),h===void 0||h.bias===void 0?y=[0,0,0,0]:typeof h.bias=="number"?y=[h.bias,h.bias,h.bias,h.bias]:(y=[h.bias[0],h.bias[1],h.bias[2],0],h.bias[3]!==void 0&&(y[3]=h.bias[3]));let v=c*a;if(r!==void 0&&(r.format!==void 0&&l===4&&r.format!=="RGBA"||l===3&&r.format!=="RGB"&&r.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let _=4,E=0,D=1,A=2,M=3,P=0,N=v,G=v*2,z=-1;o==="RGBA"?(P=0,N=v,G=v*2,z=v*3):o==="RGB"?(P=0,N=v,G=v*2):o==="RBG"&&(P=0,G=v,N=v*2),u=t.createImageData(a,c);for(let C=0;C<c*a;E+=_,D+=_,A+=_,M+=_,C++)u.data[E]=(n.data[P++]-y[0])*m[0],u.data[D]=(n.data[N++]-y[1])*m[1],u.data[A]=(n.data[G++]-y[2])*m[2],u.data[M]=z===-1?255:(n.data[z++]-y[3])*m[3]}else throw new Error("Can not access image data");return u}});var wr,Tn,En,Sn,An,Mn=W(()=>{zt();wr=(n,r)=>{if(n===void 0)throw new Error("Image buffer must be defined");if(r.height===void 0||r.width===void 0)throw new Error("Image height and width must be defined");if(r.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:t,width:u}=r,a=r.norm??{mean:255,bias:0},c,l;typeof a.mean=="number"?c=[a.mean,a.mean,a.mean,a.mean]:c=[a.mean[0],a.mean[1],a.mean[2],a.mean[3]??255],typeof a.bias=="number"?l=[a.bias,a.bias,a.bias,a.bias]:l=[a.bias[0],a.bias[1],a.bias[2],a.bias[3]??0];let o=r.format!==void 0?r.format:"RGBA",h=r.tensorFormat!==void 0&&r.tensorFormat!==void 0?r.tensorFormat:"RGB",m=t*u,y=h==="RGBA"?new Float32Array(m*4):new Float32Array(m*3),v=4,_=0,E=1,D=2,A=3,M=0,P=m,N=m*2,G=-1;o==="RGB"&&(v=3,_=0,E=1,D=2,A=-1),h==="RGBA"?G=m*3:h==="RBG"?(M=0,N=m,P=m*2):h==="BGR"&&(N=0,P=m,M=m*2);for(let C=0;C<m;C++,_+=v,D+=v,E+=v,A+=v)y[M++]=(n[_]+l[0])/c[0],y[P++]=(n[E]+l[1])/c[1],y[N++]=(n[D]+l[2])/c[2],G!==-1&&A!==-1&&(y[G++]=(n[A]+l[3])/c[3]);return h==="RGBA"?new he("float32",y,[1,4,t,u]):new he("float32",y,[1,3,t,u])},Tn=async(n,r)=>{let t=typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement,u=typeof ImageData<"u"&&n instanceof ImageData,a=typeof ImageBitmap<"u"&&n instanceof ImageBitmap,c=typeof n=="string",l,o=r??{};if(t){let h=document.createElement("canvas");h.width=n.width,h.height=n.height;let m=h.getContext("2d");if(m!=null){let y=n.height,v=n.width;if(r!==void 0&&r.resizedHeight!==void 0&&r.resizedWidth!==void 0&&(y=r.resizedHeight,v=r.resizedWidth),r!==void 0){if(o=r,r.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");o.tensorFormat="RGBA",o.height=y,o.width=v}else o.tensorFormat="RGBA",o.height=y,o.width=v;m.drawImage(n,0,0),l=m.getImageData(0,0,v,y).data}else throw new Error("Can not access image data")}else if(u){let h,m;if(r!==void 0&&r.resizedWidth!==void 0&&r.resizedHeight!==void 0?(h=r.resizedHeight,m=r.resizedWidth):(h=n.height,m=n.width),r!==void 0&&(o=r),o.format="RGBA",o.height=h,o.width=m,r!==void 0){let y=document.createElement("canvas");y.width=m,y.height=h;let v=y.getContext("2d");if(v!=null)v.putImageData(n,0,0),l=v.getImageData(0,0,m,h).data;else throw new Error("Can not access image data")}else l=n.data}else if(a){if(r===void 0)throw new Error("Please provide image config with format for Imagebitmap");let h=document.createElement("canvas");h.width=n.width,h.height=n.height;let m=h.getContext("2d");if(m!=null){let y=n.height,v=n.width;return m.drawImage(n,0,0,v,y),l=m.getImageData(0,0,v,y).data,o.height=y,o.width=v,wr(l,o)}else throw new Error("Can not access image data")}else{if(c)return new Promise((h,m)=>{let y=document.createElement("canvas"),v=y.getContext("2d");if(!n||!v)return m();let _=new Image;_.crossOrigin="Anonymous",_.src=n,_.onload=()=>{y.width=_.width,y.height=_.height,v.drawImage(_,0,0,y.width,y.height);let E=v.getImageData(0,0,y.width,y.height);o.height=y.height,o.width=y.width,h(wr(E.data,o))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(l!==void 0)return wr(l,o);throw new Error("Input data provided is not supported - aborted tensor creation")},En=(n,r)=>{let{width:t,height:u,download:a,dispose:c}=r,l=[1,u,t,4];return new he({location:"texture",type:"float32",texture:n,dims:l,download:a,dispose:c})},Sn=(n,r)=>{let{dataType:t,dims:u,download:a,dispose:c}=r;return new he({location:"gpu-buffer",type:t??"float32",gpuBuffer:n,dims:u,download:a,dispose:c})},An=(n,r,t)=>new he({location:"cpu-pinned",type:n,data:r,dims:t??[r.length]})});var St,Gt,Rn,Cn,In=W(()=>{St=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Gt=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),Rn=!1,Cn=()=>{if(!Rn){Rn=!0;let n=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",r=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";n&&(St.set("int64",BigInt64Array),Gt.set(BigInt64Array,"int64")),r&&(St.set("uint64",BigUint64Array),Gt.set(BigUint64Array,"uint64"))}}});var Pn,xn,Dn=W(()=>{zt();Pn=n=>{let r=1;for(let t=0;t<n.length;t++){let u=n[t];if(typeof u!="number"||!Number.isSafeInteger(u))throw new TypeError(`dims[${t}] must be an integer, got: ${u}`);if(u<0)throw new RangeError(`dims[${t}] must be a non-negative integer, got: ${u}`);r*=u}return r},xn=(n,r)=>{switch(n.location){case"cpu":return new he(n.type,n.data,r);case"cpu-pinned":return new he({location:"cpu-pinned",data:n.data,type:n.type,dims:r});case"texture":return new he({location:"texture",texture:n.texture,type:n.type,dims:r});case"gpu-buffer":return new he({location:"gpu-buffer",gpuBuffer:n.gpuBuffer,type:n.type,dims:r});default:throw new Error(`tensorReshape: tensor location ${n.location} is not supported`)}}});var he,zt=W(()=>{_n();Mn();In();Dn();he=class{constructor(r,t,u){Cn();let a,c;if(typeof r=="object"&&"location"in r)switch(this.dataLocation=r.location,a=r.type,c=r.dims,r.location){case"cpu-pinned":{let o=St.get(a);if(!o)throw new TypeError(`unsupported type "${a}" to create tensor from pinned buffer`);if(!(r.data instanceof o))throw new TypeError(`buffer should be of type ${o.name}`);this.cpuData=r.data;break}case"texture":{if(a!=="float32")throw new TypeError(`unsupported type "${a}" to create tensor from texture`);this.gpuTextureData=r.texture,this.downloader=r.download,this.disposer=r.dispose;break}case"gpu-buffer":{if(a!=="float32"&&a!=="float16"&&a!=="int32"&&a!=="int64"&&a!=="uint32"&&a!=="bool")throw new TypeError(`unsupported type "${a}" to create tensor from gpu buffer`);this.gpuBufferData=r.gpuBuffer,this.downloader=r.download,this.disposer=r.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let o,h;if(typeof r=="string")if(a=r,h=u,r==="string"){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");o=t}else{let m=St.get(r);if(m===void 0)throw new TypeError(`Unsupported tensor type: ${r}.`);if(Array.isArray(t)){if(r==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");r==="uint64"||r==="int64"?o=m.from(t,BigInt):o=m.from(t)}else if(t instanceof m)o=t;else throw new TypeError(`A ${a} tensor's data must be type of ${m}`)}else if(h=t,Array.isArray(r)){if(r.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let m=typeof r[0];if(m==="string")a="string",o=r;else if(m==="boolean")a="bool",o=Uint8Array.from(r);else throw new TypeError(`Invalid element type of data array: ${m}.`)}else{let m=Gt.get(r.constructor);if(m===void 0)throw new TypeError(`Unsupported type for tensor data: ${r.constructor}.`);a=m,o=r}if(h===void 0)h=[o.length];else if(!Array.isArray(h))throw new TypeError("A tensor's dims must be a number array");c=h,this.cpuData=o,this.dataLocation="cpu"}let l=Pn(c);if(this.cpuData&&l!==this.cpuData.length)throw new Error(`Tensor's size(${l}) does not match data length(${this.cpuData.length}).`);this.type=a,this.dims=c,this.size=l}static async fromImage(r,t){return Tn(r,t)}static fromTexture(r,t){return En(r,t)}static fromGpuBuffer(r,t){return Sn(r,t)}static fromPinnedBuffer(r,t,u){return An(r,t,u)}toDataURL(r){return On(this,r)}toImageData(r){return vn(this,r)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(r){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,r&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(r){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return xn(this,r)}}});var le,jt=W(()=>{zt();le=he});var br,Bn,We,ze,Or=W(()=>{yr();br=(n,r)=>{Xe.wasm.trace&&console.timeStamp(`${n}::ORT::${r}`)},Bn=(n,r)=>{let t=new Error().stack?.split(/\r\n|\r|\n/g)||[],u=!1;for(let a=0;a<t.length;a++){if(u&&!t[a].includes("TRACE_FUNC")){let c=`FUNC_${n}::${t[a].trim().split(" ")[1]}`;r&&(c+=`::${r}`),br("CPU",c);return}t[a].includes("TRACE_FUNC")&&(u=!0)}},We=n=>{Xe.wasm.trace&&Bn("BEGIN",n)},ze=n=>{Xe.wasm.trace&&Bn("END",n)}});var $t,Un=W(()=>{Wt();jt();Or();$t=class n{constructor(r){this.handler=r}async run(r,t,u){We();let a={},c={};if(typeof r!="object"||r===null||r instanceof le||Array.isArray(r))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let l=!0;if(typeof t=="object"){if(t===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof le)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(t.length===0)throw new TypeError("'fetches' cannot be an empty array.");l=!1;for(let m of t){if(typeof m!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(m)===-1)throw new RangeError(`'fetches' contains invalid output name: ${m}.`);a[m]=null}if(typeof u=="object"&&u!==null)c=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else{let m=!1,y=Object.getOwnPropertyNames(t);for(let v of this.outputNames)if(y.indexOf(v)!==-1){let _=t[v];(_===null||_ instanceof le)&&(m=!0,l=!1,a[v]=_)}if(m){if(typeof u=="object"&&u!==null)c=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else c=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let m of this.inputNames)if(typeof r[m]>"u")throw new Error(`input '${m}' is missing in 'feeds'.`);if(l)for(let m of this.outputNames)a[m]=null;let o=await this.handler.run(r,a,c),h={};for(let m in o)if(Object.hasOwnProperty.call(o,m)){let y=o[m];y instanceof le?h[m]=y:h[m]=new le(y.type,y.data,y.dims)}return ze(),h}async release(){return this.handler.dispose()}static async create(r,t,u,a){We();let c,l={};if(typeof r=="string"){if(c=r,typeof t=="object"&&t!==null)l=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(r instanceof Uint8Array){if(c=r,typeof t=="object"&&t!==null)l=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer){let v=r,_=0,E=r.byteLength;if(typeof t=="object"&&t!==null)l=t;else if(typeof t=="number"){if(_=t,!Number.isSafeInteger(_))throw new RangeError("'byteOffset' must be an integer.");if(_<0||_>=v.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${v.byteLength}).`);if(E=r.byteLength-_,typeof u=="number"){if(E=u,!Number.isSafeInteger(E))throw new RangeError("'byteLength' must be an integer.");if(E<=0||_+E>v.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${v.byteLength-_}].`);if(typeof a=="object"&&a!==null)l=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else if(typeof u<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof t<"u")throw new TypeError("'options' must be an object.");c=new Uint8Array(v,_,E)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let h=(l.executionProviders||[]).map(v=>typeof v=="string"?v:v.name),y=await(await Ht(h)).createInferenceSessionHandler(c,l);return ze(),new n(y)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var Fn,kn=W(()=>{Un();Fn=$t});var Ln=W(()=>{});var Va,Yt,Nn=W(()=>{Wt();jt();Va="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Yt=class n{constructor(r,t,u){this.handler=r,this.hasOptimizerModel=t,this.hasEvalModel=u}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(r,t){let u=r.evalModel||"",a=r.optimizerModel||"",c=t||{},o=(c.executionProviders||[]).map(m=>typeof m=="string"?m:m.name),h=await Ht(o);if(h.createTrainingSessionHandler){let m=await h.createTrainingSessionHandler(r.checkpointState,r.trainModel,u,a,c);return new n(m,!!r.optimizerModel,!!r.evalModel)}else throw new Error(Va)}typeNarrowingForRunStep(r,t,u,a,c){let l={},o={};if(typeof u!="object"||u===null||u instanceof le||Array.isArray(u))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let h=!0;if(typeof a=="object"){if(a===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(a instanceof le)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(a)){if(a.length===0)throw new TypeError("'fetches' cannot be an empty array.");h=!1;for(let m of a){if(typeof m!="string")throw new TypeError("'fetches' must be a string array or an object.");if(t.indexOf(m)===-1)throw new RangeError(`'fetches' contains invalid output name: ${m}.`);l[m]=null}if(typeof c=="object"&&c!==null)o=c;else if(typeof c<"u")throw new TypeError("'options' must be an object.")}else{let m=!1,y=Object.getOwnPropertyNames(a);for(let v of t)if(y.indexOf(v)!==-1){let _=a[v];(_===null||_ instanceof le)&&(m=!0,h=!1,l[v]=_)}if(m){if(typeof c=="object"&&c!==null)o=c;else if(typeof c<"u")throw new TypeError("'options' must be an object.")}else o=a}}else if(typeof a<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let m of r)if(typeof u[m]>"u")throw new Error(`input '${m}' is missing in 'feeds'.`);if(h)for(let m of t)l[m]=null;return[l,o]}convertHandlerReturnTypeToMapOfTensors(r){let t={};for(let u in r)if(Object.hasOwnProperty.call(r,u)){let a=r[u];a instanceof le?t[u]=a:t[u]=new le(a.type,a.data,a.dims)}return t}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(r,t,u){let[a,c]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,r,t,u),l=await this.handler.runTrainStep(r,a,c);return this.convertHandlerReturnTypeToMapOfTensors(l)}async runOptimizerStep(r){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(r||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(r,t,u){if(this.hasEvalModel){let[a,c]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,r,t,u),l=await this.handler.runEvalStep(r,a,c);return this.convertHandlerReturnTypeToMapOfTensors(l)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(r=!0){return this.handler.getParametersSize(r)}async loadParametersBuffer(r,t=!0){let u=await this.getParametersSize(t);if(r.length!==4*u)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(r,t)}async getContiguousParameters(r=!0){return this.handler.getContiguousParameters(r)}async release(){return this.handler.dispose()}}});var Hn,Wn=W(()=>{Nn();Hn=Yt});var vr={};ut(vr,{InferenceSession:()=>Fn,TRACE:()=>br,TRACE_FUNC_BEGIN:()=>We,TRACE_FUNC_END:()=>ze,Tensor:()=>le,TrainingSession:()=>Hn,env:()=>Y,registerBackend:()=>ft});var Je=W(()=>{hn();bn();kn();jt();Or();Ln();Wn()});var _r={};ut(_r,{readFile:()=>qa});var qa,Tr=W(()=>{qa=void 0});var Er={};ut(Er,{join:()=>Xa});var Xa,Sr=W(()=>{Xa=void 0});var $n=st((jn,Ar)=>{"use strict";var Gn=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(r={}){var t=r,u,a;t.ready=new Promise((i,d)=>{u=i,a=d});var c=Object.assign({},t),l="./this.program",o=typeof window=="object",h=typeof importScripts=="function",m=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",y="",v,_,E;if(m){var D=(Tr(),Ve(_r)),A=(Sr(),Ve(Er));y=h?A.dirname(y)+"/":__dirname+"/",v=(i,d)=>(i=i.startsWith("file://")?new URL(i):A.normalize(i),D.readFileSync(i,d?void 0:"utf8")),E=i=>(i=v(i,!0),i.buffer||(i=new Uint8Array(i)),i),_=(i,d,p,w=!0)=>{i=i.startsWith("file://")?new URL(i):A.normalize(i),D.readFile(i,w?void 0:"utf8",(R,x)=>{R?p(R):d(w?x.buffer:x)})},!t.thisProgram&&1<process.argv.length&&(l=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(o||h)&&(h?y=self.location.href:typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),n&&(y=n),y.indexOf("blob:")!==0?y=y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):y="",v=i=>{var d=new XMLHttpRequest;return d.open("GET",i,!1),d.send(null),d.responseText},h&&(E=i=>{var d=new XMLHttpRequest;return d.open("GET",i,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),_=(i,d,p)=>{var w=new XMLHttpRequest;w.open("GET",i,!0),w.responseType="arraybuffer",w.onload=()=>{w.status==200||w.status==0&&w.response?d(w.response):p()},w.onerror=p,w.send(null)});var M=t.print||console.log.bind(console),P=t.printErr||console.error.bind(console);Object.assign(t,c),c=null,t.thisProgram&&(l=t.thisProgram);var N;t.wasmBinary&&(N=t.wasmBinary);var G=t.noExitRuntime||!0;typeof WebAssembly!="object"&&X("no native wasm support detected");var z,C,ge=!1,be,te,U,re;function ie(){var i=z.buffer;t.HEAP8=be=new Int8Array(i),t.HEAP16=new Int16Array(i),t.HEAP32=U=new Int32Array(i),t.HEAPU8=te=new Uint8Array(i),t.HEAPU16=new Uint16Array(i),t.HEAPU32=re=new Uint32Array(i),t.HEAPF32=new Float32Array(i),t.HEAPF64=new Float64Array(i)}var Se=[],Ae=[],k=[];function B(){var i=t.preRun.shift();Se.unshift(i)}var Oe=0,ce=null,se=null;function X(i){throw t.onAbort&&t.onAbort(i),i="Aborted("+i+")",P(i),ge=!0,i=new WebAssembly.RuntimeError(i+". Build with -sASSERTIONS for more info."),a(i),i}function pe(i){return i.startsWith("data:application/octet-stream;base64,")}var Re;if(Re="ort-training-wasm-simd.wasm",!pe(Re)){var Ce=Re;Re=t.locateFile?t.locateFile(Ce,y):y+Ce}function Le(i){if(i==Re&&N)return new Uint8Array(N);if(E)return E(i);throw"both async and sync fetching of the wasm failed"}function _e(i){if(!N&&(o||h)){if(typeof fetch=="function"&&!i.startsWith("file://"))return fetch(i,{credentials:"same-origin"}).then(d=>{if(!d.ok)throw"failed to load wasm binary file at '"+i+"'";return d.arrayBuffer()}).catch(()=>Le(i));if(_)return new Promise((d,p)=>{_(i,w=>d(new Uint8Array(w)),p)})}return Promise.resolve().then(()=>Le(i))}function Ue(i,d,p){return _e(i).then(w=>WebAssembly.instantiate(w,d)).then(w=>w).then(p,w=>{P("failed to asynchronously prepare wasm: "+w),X(w)})}function Ie(i,d){var p=Re;return N||typeof WebAssembly.instantiateStreaming!="function"||pe(p)||p.startsWith("file://")||m||typeof fetch!="function"?Ue(p,i,d):fetch(p,{credentials:"same-origin"}).then(w=>WebAssembly.instantiateStreaming(w,i).then(d,function(R){return P("wasm streaming compile failed: "+R),P("falling back to ArrayBuffer instantiation"),Ue(p,i,d)}))}var de,Pe=i=>{for(;0<i.length;)i.shift()(t)};function ae(i){this.Ja=i-24,this.Na=function(d){re[this.Ja+4>>2>>>0]=d},this.Ma=function(d){re[this.Ja+8>>2>>>0]=d},this.Ka=function(d,p){this.La(),this.Na(d),this.Ma(p)},this.La=function(){re[this.Ja+16>>2>>>0]=0}}var ne=0,xe=0,ve=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ne=(i,d,p)=>{d>>>=0;var w=d+p;for(p=d;i[p]&&!(p>=w);)++p;if(16<p-d&&i.buffer&&ve)return ve.decode(i.subarray(d,p));for(w="";d<p;){var R=i[d++];if(R&128){var x=i[d++]&63;if((R&224)==192)w+=String.fromCharCode((R&31)<<6|x);else{var L=i[d++]&63;R=(R&240)==224?(R&15)<<12|x<<6|L:(R&7)<<18|x<<12|L<<6|i[d++]&63,65536>R?w+=String.fromCharCode(R):(R-=65536,w+=String.fromCharCode(55296|R>>10,56320|R&1023))}}else w+=String.fromCharCode(R)}return w},Fe=(i,d)=>(i>>>=0)?Ne(te,i,d):"",et=i=>{for(var d=0,p=0;p<i.length;++p){var w=i.charCodeAt(p);127>=w?d++:2047>=w?d+=2:55296<=w&&57343>=w?(d+=4,++p):d+=3}return d},tt=(i,d,p,w)=>{if(p>>>=0,!(0<w))return 0;var R=p;w=p+w-1;for(var x=0;x<i.length;++x){var L=i.charCodeAt(x);if(55296<=L&&57343>=L){var K=i.charCodeAt(++x);L=65536+((L&1023)<<10)|K&1023}if(127>=L){if(p>=w)break;d[p++>>>0]=L}else{if(2047>=L){if(p+1>=w)break;d[p++>>>0]=192|L>>6}else{if(65535>=L){if(p+2>=w)break;d[p++>>>0]=224|L>>12}else{if(p+3>=w)break;d[p++>>>0]=240|L>>18,d[p++>>>0]=128|L>>12&63}d[p++>>>0]=128|L>>6&63}d[p++>>>0]=128|L&63}}return d[p>>>0]=0,p-R},Te=i=>i%4===0&&(i%100!==0||i%400===0),mt=[0,31,60,91,121,152,182,213,244,274,305,335],ke=[0,31,59,90,120,151,181,212,243,273,304,334],ht=i=>{var d=et(i)+1,p=Ot(d);return p&&tt(i,te,p,d),p},gt={},yt=()=>{if(!wt){var i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"},d;for(d in gt)gt[d]===void 0?delete i[d]:i[d]=gt[d];var p=[];for(d in i)p.push(`${d}=${i[d]}`);wt=p}return wt},wt,He=[null,[],[]],Ge=[31,29,31,30,31,30,31,31,30,31,30,31],rt=[31,28,31,30,31,30,31,31,30,31,30,31];function Dt(i){var d=Array(et(i)+1);return tt(i,d,0,d.length),d}function bt(i,d,p,w){function R(b,j,V){for(b=typeof b=="number"?b.toString():b||"";b.length<j;)b=V[0]+b;return b}function x(b,j){return R(b,j,"0")}function L(b,j){function V(Et){return 0>Et?-1:0<Et?1:0}var De;return(De=V(b.getFullYear()-j.getFullYear()))===0&&(De=V(b.getMonth()-j.getMonth()))===0&&(De=V(b.getDate()-j.getDate())),De}function K(b){switch(b.getDay()){case 0:return new Date(b.getFullYear()-1,11,29);case 1:return b;case 2:return new Date(b.getFullYear(),0,3);case 3:return new Date(b.getFullYear(),0,2);case 4:return new Date(b.getFullYear(),0,1);case 5:return new Date(b.getFullYear()-1,11,31);case 6:return new Date(b.getFullYear()-1,11,30)}}function me(b){var j=b.Ea;for(b=new Date(new Date(b.Fa+1900,0,1).getTime());0<j;){var V=b.getMonth(),De=(Te(b.getFullYear())?Ge:rt)[V];if(j>De-b.getDate())j-=De-b.getDate()+1,b.setDate(1),11>V?b.setMonth(V+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1));else{b.setDate(b.getDate()+j);break}}return V=new Date(b.getFullYear()+1,0,4),j=K(new Date(b.getFullYear(),0,4)),V=K(V),0>=L(j,b)?0>=L(V,b)?b.getFullYear()+1:b.getFullYear():b.getFullYear()-1}i>>>=0,d>>>=0,p>>>=0,w>>>=0;var ue=U[w+40>>2>>>0];w={Qa:U[w>>2>>>0],Pa:U[w+4>>2>>>0],Ga:U[w+8>>2>>>0],Ia:U[w+12>>2>>>0],Ha:U[w+16>>2>>>0],Fa:U[w+20>>2>>>0],za:U[w+24>>2>>>0],Ea:U[w+28>>2>>>0],Sa:U[w+32>>2>>>0],Oa:U[w+36>>2>>>0],Ra:ue?Fe(ue):""},p=Fe(p),ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var fe in ue)p=p.replace(new RegExp(fe,"g"),ue[fe]);var _t="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Tt="January February March April May June July August September October November December".split(" ");ue={"%a":b=>_t[b.za].substring(0,3),"%A":b=>_t[b.za],"%b":b=>Tt[b.Ha].substring(0,3),"%B":b=>Tt[b.Ha],"%C":b=>x((b.Fa+1900)/100|0,2),"%d":b=>x(b.Ia,2),"%e":b=>R(b.Ia,2," "),"%g":b=>me(b).toString().substring(2),"%G":b=>me(b),"%H":b=>x(b.Ga,2),"%I":b=>(b=b.Ga,b==0?b=12:12<b&&(b-=12),x(b,2)),"%j":b=>{for(var j=0,V=0;V<=b.Ha-1;j+=(Te(b.Fa+1900)?Ge:rt)[V++]);return x(b.Ia+j,3)},"%m":b=>x(b.Ha+1,2),"%M":b=>x(b.Pa,2),"%n":()=>`
`,"%p":b=>0<=b.Ga&&12>b.Ga?"AM":"PM","%S":b=>x(b.Qa,2),"%t":()=>"	","%u":b=>b.za||7,"%U":b=>x(Math.floor((b.Ea+7-b.za)/7),2),"%V":b=>{var j=Math.floor((b.Ea+7-(b.za+6)%7)/7);if(2>=(b.za+371-b.Ea-2)%7&&j++,j)j==53&&(V=(b.za+371-b.Ea)%7,V==4||V==3&&Te(b.Fa)||(j=1));else{j=52;var V=(b.za+7-b.Ea-1)%7;(V==4||V==5&&Te(b.Fa%400-1))&&j++}return x(j,2)},"%w":b=>b.za,"%W":b=>x(Math.floor((b.Ea+7-(b.za+6)%7)/7),2),"%y":b=>(b.Fa+1900).toString().substring(2),"%Y":b=>b.Fa+1900,"%z":b=>{b=b.Oa;var j=0<=b;return b=Math.abs(b)/60,(j?"+":"-")+("0000"+(b/60*100+b%60)).slice(-4)},"%Z":b=>b.Ra,"%%":()=>"%"},p=p.replace(/%%/g,"\0\0");for(fe in ue)p.includes(fe)&&(p=p.replace(new RegExp(fe,"g"),ue[fe](w)));return p=p.replace(/\0\0/g,"%"),fe=Dt(p),fe.length>d?0:(be.set(fe,i>>>0),fe.length-1)}var Bt={a:function(i,d,p){throw i>>>=0,new ae(i).Ka(d>>>0,p>>>0),ne=i,xe++,ne},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(i,d,p){i=d+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*d:NaN,p>>>=0,i=new Date(1e3*i),U[p>>2>>>0]=i.getUTCSeconds(),U[p+4>>2>>>0]=i.getUTCMinutes(),U[p+8>>2>>>0]=i.getUTCHours(),U[p+12>>2>>>0]=i.getUTCDate(),U[p+16>>2>>>0]=i.getUTCMonth(),U[p+20>>2>>>0]=i.getUTCFullYear()-1900,U[p+24>>2>>>0]=i.getUTCDay(),U[p+28>>2>>>0]=(i.getTime()-Date.UTC(i.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(i,d,p){i=d+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*d:NaN,p>>>=0,i=new Date(1e3*i),U[p>>2>>>0]=i.getSeconds(),U[p+4>>2>>>0]=i.getMinutes(),U[p+8>>2>>>0]=i.getHours(),U[p+12>>2>>>0]=i.getDate(),U[p+16>>2>>>0]=i.getMonth(),U[p+20>>2>>>0]=i.getFullYear()-1900,U[p+24>>2>>>0]=i.getDay(),U[p+28>>2>>>0]=(Te(i.getFullYear())?mt:ke)[i.getMonth()]+i.getDate()-1|0,U[p+36>>2>>>0]=-(60*i.getTimezoneOffset()),d=new Date(i.getFullYear(),6,1).getTimezoneOffset();var w=new Date(i.getFullYear(),0,1).getTimezoneOffset();U[p+32>>2>>>0]=(d!=w&&i.getTimezoneOffset()==Math.min(w,d))|0},q:function(i){i>>>=0;var d=new Date(U[i+20>>2>>>0]+1900,U[i+16>>2>>>0],U[i+12>>2>>>0],U[i+8>>2>>>0],U[i+4>>2>>>0],U[i>>2>>>0],0),p=U[i+32>>2>>>0],w=d.getTimezoneOffset(),R=new Date(d.getFullYear(),6,1).getTimezoneOffset(),x=new Date(d.getFullYear(),0,1).getTimezoneOffset(),L=Math.min(x,R);return 0>p?U[i+32>>2>>>0]=+(R!=x&&L==w):0<p!=(L==w)&&(R=Math.max(x,R),d.setTime(d.getTime()+6e4*((0<p?L:R)-w))),U[i+24>>2>>>0]=d.getDay(),U[i+28>>2>>>0]=(Te(d.getFullYear())?mt:ke)[d.getMonth()]+d.getDate()-1|0,U[i>>2>>>0]=d.getSeconds(),U[i+4>>2>>>0]=d.getMinutes(),U[i+8>>2>>>0]=d.getHours(),U[i+12>>2>>>0]=d.getDate(),U[i+16>>2>>>0]=d.getMonth(),U[i+20>>2>>>0]=d.getYear(),i=d.getTime()/1e3,nt((de=i,1<=+Math.abs(de)?0<de?+Math.floor(de/4294967296)>>>0:~~+Math.ceil((de-+(~~de>>>0))/4294967296)>>>0:0)),i>>>0},m:function(){return-52},n:function(){},t:function(i,d,p){function w(me){return(me=me.toTimeString().match(/\(([A-Za-z ]+)\)$/))?me[1]:"GMT"}p>>>=0;var R=new Date().getFullYear(),x=new Date(R,0,1),L=new Date(R,6,1);R=x.getTimezoneOffset();var K=L.getTimezoneOffset();re[i>>>0>>2>>>0]=60*Math.max(R,K),U[d>>>0>>2>>>0]=+(R!=K),i=w(x),d=w(L),i=ht(i),d=ht(d),K<R?(re[p>>2>>>0]=i,re[p+4>>2>>>0]=d):(re[p>>2>>>0]=d,re[p+4>>2>>>0]=i)},d:()=>{X("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(i,d,p){return d>>>=0,te.copyWithin(i>>>0>>>0,d>>>0,d+(p>>>0)>>>0)},s:function(i){i>>>=0;var d=te.length;if(4294901760<i)return!1;for(var p=1;4>=p;p*=2){var w=d*(1+.2/p);w=Math.min(w,i+100663296);var R=Math;w=Math.max(i,w);e:{R=R.min.call(R,4294901760,w+(65536-w%65536)%65536)-z.buffer.byteLength+65535>>>16;try{z.grow(R),ie();var x=1;break e}catch{}x=void 0}if(x)return!0}return!1},C:function(i,d){i>>>=0,d>>>=0;var p=0;return yt().forEach(function(w,R){var x=d+p;for(R=re[i+4*R>>2>>>0]=x,x=0;x<w.length;++x)be[R++>>0>>>0]=w.charCodeAt(x);be[R>>0>>>0]=0,p+=w.length+1}),0},D:function(i,d){i>>>=0,d>>>=0;var p=yt();re[i>>2>>>0]=p.length;var w=0;return p.forEach(function(R){w+=R.length+1}),re[d>>2>>>0]=w,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(i,d,p,w){d>>>=0,p>>>=0,w>>>=0;for(var R=0,x=0;x<p;x++){var L=re[d>>2>>>0],K=re[d+4>>2>>>0];d+=8;for(var me=0;me<K;me++){var ue=te[L+me>>>0],fe=He[i];ue===0||ue===10?((i===1?M:P)(Ne(fe,0)),fe.length=0):fe.push(ue)}R+=K}return re[w>>2>>>0]=R,0},A:bt,c:function(i,d,p,w){return bt(i>>>0,d>>>0,p>>>0,w>>>0)}};(function(){function i(p){if(p=p.exports,C=p=ot(p),z=C.J,ie(),Ae.unshift(C.K),Oe--,t.monitorRunDependencies&&t.monitorRunDependencies(Oe),Oe==0&&(ce!==null&&(clearInterval(ce),ce=null),se)){var w=se;se=null,w()}return p}var d={a:Bt};if(Oe++,t.monitorRunDependencies&&t.monitorRunDependencies(Oe),t.instantiateWasm)try{return t.instantiateWasm(d,i)}catch(p){P("Module.instantiateWasm callback failed with error: "+p),a(p)}return Ie(d,function(p){i(p.instance)}).catch(a),{}})(),t._OrtInit=(i,d)=>(t._OrtInit=C.L)(i,d),t._OrtGetLastError=(i,d)=>(t._OrtGetLastError=C.M)(i,d),t._OrtCreateSessionOptions=(i,d,p,w,R,x,L,K,me,ue)=>(t._OrtCreateSessionOptions=C.N)(i,d,p,w,R,x,L,K,me,ue),t._OrtAppendExecutionProvider=(i,d)=>(t._OrtAppendExecutionProvider=C.O)(i,d),t._OrtAddFreeDimensionOverride=(i,d,p)=>(t._OrtAddFreeDimensionOverride=C.P)(i,d,p),t._OrtAddSessionConfigEntry=(i,d,p)=>(t._OrtAddSessionConfigEntry=C.Q)(i,d,p),t._OrtReleaseSessionOptions=i=>(t._OrtReleaseSessionOptions=C.R)(i),t._OrtCreateSession=(i,d,p)=>(t._OrtCreateSession=C.S)(i,d,p),t._OrtReleaseSession=i=>(t._OrtReleaseSession=C.T)(i),t._OrtGetInputOutputCount=(i,d,p)=>(t._OrtGetInputOutputCount=C.U)(i,d,p),t._OrtGetInputName=(i,d)=>(t._OrtGetInputName=C.V)(i,d),t._OrtGetOutputName=(i,d)=>(t._OrtGetOutputName=C.W)(i,d),t._OrtFree=i=>(t._OrtFree=C.X)(i),t._OrtCreateTensor=(i,d,p,w,R,x)=>(t._OrtCreateTensor=C.Y)(i,d,p,w,R,x),t._OrtGetTensorData=(i,d,p,w,R)=>(t._OrtGetTensorData=C.Z)(i,d,p,w,R),t._OrtReleaseTensor=i=>(t._OrtReleaseTensor=C._)(i),t._OrtCreateRunOptions=(i,d,p,w)=>(t._OrtCreateRunOptions=C.$)(i,d,p,w),t._OrtAddRunConfigEntry=(i,d,p)=>(t._OrtAddRunConfigEntry=C.aa)(i,d,p),t._OrtReleaseRunOptions=i=>(t._OrtReleaseRunOptions=C.ba)(i),t._OrtCreateBinding=i=>(t._OrtCreateBinding=C.ca)(i),t._OrtBindInput=(i,d,p)=>(t._OrtBindInput=C.da)(i,d,p),t._OrtBindOutput=(i,d,p,w)=>(t._OrtBindOutput=C.ea)(i,d,p,w),t._OrtClearBoundOutputs=i=>(t._OrtClearBoundOutputs=C.fa)(i),t._OrtReleaseBinding=i=>(t._OrtReleaseBinding=C.ga)(i),t._OrtRunWithBinding=(i,d,p,w,R)=>(t._OrtRunWithBinding=C.ha)(i,d,p,w,R),t._OrtRun=(i,d,p,w,R,x,L,K)=>(t._OrtRun=C.ia)(i,d,p,w,R,x,L,K),t._OrtEndProfiling=i=>(t._OrtEndProfiling=C.ja)(i),t._OrtTrainingLoadCheckpoint=(i,d)=>(t._OrtTrainingLoadCheckpoint=C.ka)(i,d),t._OrtTrainingReleaseCheckpoint=i=>(t._OrtTrainingReleaseCheckpoint=C.la)(i),t._OrtTrainingCreateSession=(i,d,p,w,R,x,L,K)=>(t._OrtTrainingCreateSession=C.ma)(i,d,p,w,R,x,L,K),t._OrtTrainingLazyResetGrad=i=>(t._OrtTrainingLazyResetGrad=C.na)(i),t._OrtTrainingRunTrainStep=(i,d,p,w,R,x)=>(t._OrtTrainingRunTrainStep=C.oa)(i,d,p,w,R,x),t._OrtTrainingOptimizerStep=(i,d)=>(t._OrtTrainingOptimizerStep=C.pa)(i,d),t._OrtTrainingEvalStep=(i,d,p,w,R,x)=>(t._OrtTrainingEvalStep=C.qa)(i,d,p,w,R,x),t._OrtTrainingGetParametersSize=(i,d,p)=>(t._OrtTrainingGetParametersSize=C.ra)(i,d,p),t._OrtTrainingCopyParametersToBuffer=(i,d,p,w)=>(t._OrtTrainingCopyParametersToBuffer=C.sa)(i,d,p,w),t._OrtTrainingCopyParametersFromBuffer=(i,d,p,w)=>(t._OrtTrainingCopyParametersFromBuffer=C.ta)(i,d,p,w),t._OrtTrainingGetModelInputOutputCount=(i,d,p,w)=>(t._OrtTrainingGetModelInputOutputCount=C.ua)(i,d,p,w),t._OrtTrainingGetModelInputOutputName=(i,d,p,w)=>(t._OrtTrainingGetModelInputOutputName=C.va)(i,d,p,w),t._OrtTrainingReleaseSession=i=>(t._OrtTrainingReleaseSession=C.wa)(i);var Ot=t._malloc=i=>(Ot=t._malloc=C.xa)(i);t._free=i=>(t._free=C.ya)(i);var nt=i=>(nt=C.Aa)(i),vt=()=>(vt=C.Ba)(),at=i=>(at=C.Ca)(i),F=i=>(F=C.Da)(i);function ot(i){i=Object.assign({},i);var d=w=>()=>w()>>>0,p=w=>R=>w(R)>>>0;return i.__errno_location=d(i.__errno_location),i.malloc=p(i.malloc),i.stackSave=d(i.stackSave),i.stackAlloc=p(i.stackAlloc),i}t.stackAlloc=F,t.stackSave=vt,t.stackRestore=at,t.UTF8ToString=Fe,t.stringToUTF8=(i,d,p)=>tt(i,te,d,p),t.lengthBytesUTF8=et;var je;se=function i(){je||$e(),je||(se=i)};function $e(){function i(){if(!je&&(je=!0,t.calledRun=!0,!ge)){if(Pe(Ae),u(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;){var d=t.postRun.shift();k.unshift(d)}Pe(k)}}if(!(0<Oe)){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)B();Pe(Se),0<Oe||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),i()},1)):i())}}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return $e(),r.ready}})();typeof jn=="object"&&typeof Ar=="object"?Ar.exports=Gn:typeof define=="function"&&define.amd&&define([],()=>Gn)});var Yn=st(()=>{});var Vn=st(()=>{});var qn={};ut(qn,{cpus:()=>Ja});var Ja,Xn=W(()=>{Ja=void 0});var Zn=st((Qn,Mr)=>{"use strict";var Jn=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(r={}){function t(){return k.buffer!=X.buffer&&_e(),X}function u(){return k.buffer!=X.buffer&&_e(),pe}function a(){return k.buffer!=X.buffer&&_e(),Re}function c(){return k.buffer!=X.buffer&&_e(),Ce}function l(){return k.buffer!=X.buffer&&_e(),Le}var o=r,h,m;o.ready=new Promise((e,s)=>{h=e,m=s});var y=Object.assign({},o),v="./this.program",_=(e,s)=>{throw s},E=typeof window=="object",D=typeof importScripts=="function",A=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",M=o.ENVIRONMENT_IS_PTHREAD||!1,P="";function N(e){return o.locateFile?o.locateFile(e,P):P+e}var G,z,C;if(A){var ge=(Tr(),Ve(_r)),be=(Sr(),Ve(Er));P=D?be.dirname(P)+"/":__dirname+"/",G=(s,f)=>(s=s.startsWith("file://")?new URL(s):be.normalize(s),ge.readFileSync(s,f?void 0:"utf8")),C=s=>(s=G(s,!0),s.buffer||(s=new Uint8Array(s)),s),z=(s,f,g,S=!0)=>{s=s.startsWith("file://")?new URL(s):be.normalize(s),ge.readFile(s,S?void 0:"utf8",(T,I)=>{T?g(T):f(S?I.buffer:I)})},!o.thisProgram&&1<process.argv.length&&(v=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),_=(s,f)=>{throw process.exitCode=s,f},o.inspect=()=>"[Emscripten Module object]";let e;try{e=Yn()}catch(s){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),s}global.Worker=e.Worker}else(E||D)&&(D?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),typeof n<"u"&&n&&(P=n),P.indexOf("blob:")!==0?P=P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):P="",A||(G=e=>{var s=new XMLHttpRequest;return s.open("GET",e,!1),s.send(null),s.responseText},D&&(C=e=>{var s=new XMLHttpRequest;return s.open("GET",e,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)}),z=(e,s,f)=>{var g=new XMLHttpRequest;g.open("GET",e,!0),g.responseType="arraybuffer",g.onload=()=>{g.status==200||g.status==0&&g.response?s(g.response):f()},g.onerror=f,g.send(null)}));A&&typeof performance>"u"&&(global.performance=Vn().performance);var te=console.log.bind(console),U=console.error.bind(console);A&&(te=(...e)=>ge.writeSync(1,e.join(" ")+`
`),U=(...e)=>ge.writeSync(2,e.join(" ")+`
`));var re=o.print||te,ie=o.printErr||U;Object.assign(o,y),y=null,o.thisProgram&&(v=o.thisProgram),o.quit&&(_=o.quit);var Se;o.wasmBinary&&(Se=o.wasmBinary);var Ae=o.noExitRuntime||!0;typeof WebAssembly!="object"&&Te("no native wasm support detected");var k,B,Oe,ce=!1,se,X,pe,Re,Ce,Le;function _e(){var e=k.buffer;o.HEAP8=X=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=Re=new Int32Array(e),o.HEAPU8=pe=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=Ce=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=Le=new Float64Array(e)}var Ue=o.INITIAL_MEMORY||16777216;if(5242880<=Ue||Te("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Ue+"! (STACK_SIZE=5242880)"),M)k=o.wasmMemory;else if(o.wasmMemory)k=o.wasmMemory;else if(k=new WebAssembly.Memory({initial:Ue/65536,maximum:65536,shared:!0}),!(k.buffer instanceof SharedArrayBuffer))throw ie("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),A&&ie("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");_e(),Ue=k.buffer.byteLength;var Ie,de=[],Pe=[],ae=[],ne=0;function xe(){return Ae||0<ne}var ve=0,Ne=null,Fe=null;function et(){ve++,o.monitorRunDependencies&&o.monitorRunDependencies(ve)}function tt(){if(ve--,o.monitorRunDependencies&&o.monitorRunDependencies(ve),ve==0&&(Ne!==null&&(clearInterval(Ne),Ne=null),Fe)){var e=Fe;Fe=null,e()}}function Te(e){throw o.onAbort&&o.onAbort(e),e="Aborted("+e+")",ie(e),ce=!0,se=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),m(e),e}function mt(e){return e.startsWith("data:application/octet-stream;base64,")}var ke;ke="ort-wasm-threaded.wasm",mt(ke)||(ke=N(ke));function ht(e){if(e==ke&&Se)return new Uint8Array(Se);if(C)return C(e);throw"both async and sync fetching of the wasm failed"}function gt(e){if(!Se&&(E||D)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(s=>{if(!s.ok)throw"failed to load wasm binary file at '"+e+"'";return s.arrayBuffer()}).catch(()=>ht(e));if(z)return new Promise((s,f)=>{z(e,g=>s(new Uint8Array(g)),f)})}return Promise.resolve().then(()=>ht(e))}function yt(e,s,f){return gt(e).then(g=>WebAssembly.instantiate(g,s)).then(g=>g).then(f,g=>{ie("failed to asynchronously prepare wasm: "+g),Te(g)})}function wt(e,s){var f=ke;return Se||typeof WebAssembly.instantiateStreaming!="function"||mt(f)||f.startsWith("file://")||A||typeof fetch!="function"?yt(f,e,s):fetch(f,{credentials:"same-origin"}).then(g=>WebAssembly.instantiateStreaming(g,e).then(s,function(S){return ie("wasm streaming compile failed: "+S),ie("falling back to ArrayBuffer instantiation"),yt(f,e,s)}))}var He;function Ge(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function rt(e){e.terminate(),e.onmessage=()=>{}}function Dt(e){(e=F.La[e])||Te(),F.lb(e)}function bt(e){var s=F.gb();if(!s)return 6;F.Pa.push(s),F.La[e.Na]=s,s.Na=e.Na;var f={cmd:"run",start_routine:e.mb,arg:e.fb,pthread_ptr:e.Na};return A&&s.unref(),s.postMessage(f,e.sb),0}var Bt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ot=(e,s,f)=>{s>>>=0;var g=s+f;for(f=s;e[f]&&!(f>=g);)++f;if(16<f-s&&e.buffer&&Bt)return Bt.decode(e.buffer instanceof SharedArrayBuffer?e.slice(s,f):e.subarray(s,f));for(g="";s<f;){var S=e[s++];if(S&128){var T=e[s++]&63;if((S&224)==192)g+=String.fromCharCode((S&31)<<6|T);else{var I=e[s++]&63;S=(S&240)==224?(S&15)<<12|T<<6|I:(S&7)<<18|T<<12|I<<6|e[s++]&63,65536>S?g+=String.fromCharCode(S):(S-=65536,g+=String.fromCharCode(55296|S>>10,56320|S&1023))}}else g+=String.fromCharCode(S)}return g},nt=(e,s)=>(e>>>=0)?Ot(u(),e,s):"";function vt(e){if(M)return J(1,1,e);se=e,xe()||(F.nb(),o.onExit&&o.onExit(e),ce=!0),_(e,new Ge(e))}var at=e=>{if(se=e,M)throw je(e),"unwind";vt(e)},F={Oa:[],Pa:[],ab:[],La:{},Va:function(){M?F.ib():F.hb()},hb:function(){for(var e=o.numThreads;e--;)F.Xa();de.unshift(()=>{et(),F.jb(()=>tt())})},ib:function(){F.receiveObjectTransfer=F.kb,F.threadInitTLS=F.$a,F.setExitStatus=F.Za,Ae=!1},Za:function(e){se=e},xb:["$terminateWorker"],nb:function(){for(var e of F.Pa)rt(e);for(e of F.Oa)rt(e);F.Oa=[],F.Pa=[],F.La=[]},lb:function(e){var s=e.Na;delete F.La[s],F.Oa.push(e),F.Pa.splice(F.Pa.indexOf(e),1),e.Na=0,dr(s)},kb:function(){},$a:function(){F.ab.forEach(e=>e())},Ya:e=>new Promise(s=>{e.onmessage=T=>{T=T.data;var I=T.cmd;if(T.targetThread&&T.targetThread!=Ft()){var Q=F.La[T.wb];Q?Q.postMessage(T,T.transferList):ie('Internal error! Worker sent a message "'+I+'" to target pthread '+T.targetThread+", but that thread no longer exists!")}else I==="checkMailbox"?Ut():I==="spawnThread"?bt(T):I==="cleanupThread"?Dt(T.thread):I==="killThread"?(T=T.thread,I=F.La[T],delete F.La[T],rt(I),dr(T),F.Pa.splice(F.Pa.indexOf(I),1),I.Na=0):I==="cancelThread"?F.La[T.thread].postMessage({cmd:"cancel"}):I==="loaded"?(e.loaded=!0,A&&!e.Na&&e.unref(),s(e)):I==="alert"?alert("Thread "+T.threadId+": "+T.text):T.target==="setimmediate"?e.postMessage(T):I==="callHandler"?o[T.handler](...T.args):I&&ie("worker sent an unknown command "+I)},e.onerror=T=>{throw ie("worker sent an error! "+T.filename+":"+T.lineno+": "+T.message),T},A&&(e.on("message",function(T){e.onmessage({data:T})}),e.on("error",function(T){e.onerror(T)}));var f=[],g=["onExit","onAbort","print","printErr"],S;for(S of g)o.hasOwnProperty(S)&&f.push(S);e.postMessage({cmd:"load",handlers:f,urlOrBlob:o.mainScriptUrlOrBlob||n,wasmMemory:k,wasmModule:Oe})}),jb:function(e){if(M)return e();Promise.all(F.Oa.map(F.Ya)).then(e)},Xa:function(){var e=N("ort-wasm-threaded.worker.js");e=new Worker(e),F.Oa.push(e)},gb:function(){return F.Oa.length==0&&(F.Xa(),F.Ya(F.Oa[0])),F.Oa.pop()}};o.PThread=F;var ot=e=>{for(;0<e.length;)e.shift()(o)};o.establishStackSpace=function(){var e=Ft(),s=a()[e+52>>2>>>0];e=a()[e+56>>2>>>0],ln(s,s-e),kt(s)};function je(e){if(M)return J(2,0,e);at(e)}var $e=[];o.invokeEntryPoint=function(e,s){var f=$e[e];f||(e>=$e.length&&($e.length=e+1),$e[e]=f=Ie.get(e)),e=f(s),xe()?F.Za(e):pr(e)};function i(e){this.Ua=e-24,this.eb=function(s){c()[this.Ua+4>>2>>>0]=s},this.cb=function(s){c()[this.Ua+8>>2>>>0]=s},this.Va=function(s,f){this.bb(),this.eb(s),this.cb(f)},this.bb=function(){c()[this.Ua+16>>2>>>0]=0}}var d=0,p=0;function w(e,s,f,g){return M?J(3,1,e,s,f,g):R(e,s,f,g)}function R(e,s,f,g){if(e>>>=0,s>>>=0,f>>>=0,g>>>=0,typeof SharedArrayBuffer>"u")return ie("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var S=[];return M&&S.length===0?w(e,s,f,g):(e={mb:f,Na:e,fb:g,sb:S},M?(e.ub="spawnThread",postMessage(e,S),0):bt(e))}function x(e,s,f){return M?J(4,1,e,s,f):0}function L(e,s){if(M)return J(5,1,e,s)}var K=e=>{for(var s=0,f=0;f<e.length;++f){var g=e.charCodeAt(f);127>=g?s++:2047>=g?s+=2:55296<=g&&57343>=g?(s+=4,++f):s+=3}return s},me=(e,s,f,g)=>{if(f>>>=0,!(0<g))return 0;var S=f;g=f+g-1;for(var T=0;T<e.length;++T){var I=e.charCodeAt(T);if(55296<=I&&57343>=I){var Q=e.charCodeAt(++T);I=65536+((I&1023)<<10)|Q&1023}if(127>=I){if(f>=g)break;s[f++>>>0]=I}else{if(2047>=I){if(f+1>=g)break;s[f++>>>0]=192|I>>6}else{if(65535>=I){if(f+2>=g)break;s[f++>>>0]=224|I>>12}else{if(f+3>=g)break;s[f++>>>0]=240|I>>18,s[f++>>>0]=128|I>>12&63}s[f++>>>0]=128|I>>6&63}s[f++>>>0]=128|I&63}}return s[f>>>0]=0,f-S},ue=(e,s,f)=>me(e,u(),s,f);function fe(e,s){if(M)return J(6,1,e,s)}function _t(e,s,f){if(M)return J(7,1,e,s,f)}function Tt(e,s,f){return M?J(8,1,e,s,f):0}function b(e,s){if(M)return J(9,1,e,s)}function j(e,s,f){if(M)return J(10,1,e,s,f)}function V(e,s,f,g){if(M)return J(11,1,e,s,f,g)}function De(e,s,f,g){if(M)return J(12,1,e,s,f,g)}function Et(e,s,f,g){if(M)return J(13,1,e,s,f,g)}function Hr(e){if(M)return J(14,1,e)}function Wr(e,s){if(M)return J(15,1,e,s)}function zr(e,s,f){if(M)return J(16,1,e,s,f)}var Ua=e=>{if(!ce)try{if(e(),!xe())try{M?pr(se):at(se)}catch(s){s instanceof Ge||s=="unwind"||_(1,s)}}catch(s){s instanceof Ge||s=="unwind"||_(1,s)}};function ur(e){e>>>=0,typeof Atomics.tb=="function"&&(Atomics.tb(a(),e>>2,e).value.then(Ut),e+=128,Atomics.store(a(),e>>2,1))}o.__emscripten_thread_mailbox_await=ur;function Ut(){var e=Ft();e&&(ur(e),Ua(()=>un()))}o.checkMailbox=Ut;var it=e=>e%4===0&&(e%100!==0||e%400===0),Gr=[0,31,60,91,121,152,182,213,244,274,305,335],jr=[0,31,59,90,120,151,181,212,243,273,304,334];function $r(e,s,f,g,S,T,I,Q){return M?J(17,1,e,s,f,g,S,T,I,Q):-52}function Yr(e,s,f,g,S,T,I){if(M)return J(18,1,e,s,f,g,S,T,I)}var Vr=e=>{var s=K(e)+1,f=an(s);return f&&ue(e,f,s),f},Fa=e=>{var s=mr();return e=e(),kt(s),e};function J(e,s){var f=arguments.length-2,g=arguments;return Fa(()=>{for(var S=hr(8*f),T=S>>3,I=0;I<f;I++){var Q=g[2+I];l()[T+I>>>0]=Q}return sn(e,f,S,s)})}var fr=[],lr={},qr=()=>{if(!cr){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:v||"./this.program"},s;for(s in lr)lr[s]===void 0?delete e[s]:e[s]=lr[s];var f=[];for(s in e)f.push(`${s}=${e[s]}`);cr=f}return cr},cr;function Xr(e,s){if(M)return J(19,1,e,s);e>>>=0,s>>>=0;var f=0;return qr().forEach(function(g,S){var T=s+f;for(S=c()[e+4*S>>2>>>0]=T,T=0;T<g.length;++T)t()[S++>>0>>>0]=g.charCodeAt(T);t()[S>>0>>>0]=0,f+=g.length+1}),0}function Jr(e,s){if(M)return J(20,1,e,s);e>>>=0,s>>>=0;var f=qr();c()[e>>2>>>0]=f.length;var g=0;return f.forEach(function(S){g+=S.length+1}),c()[s>>2>>>0]=g,0}function Qr(e){return M?J(21,1,e):52}function Zr(e,s,f,g){return M?J(22,1,e,s,f,g):52}function Kr(e,s,f,g,S){return M?J(23,1,e,s,f,g,S):70}var ka=[null,[],[]];function en(e,s,f,g){if(M)return J(24,1,e,s,f,g);s>>>=0,f>>>=0,g>>>=0;for(var S=0,T=0;T<f;T++){var I=c()[s>>2>>>0],Q=c()[s+4>>2>>>0];s+=8;for(var Be=0;Be<Q;Be++){var oe=u()[I+Be>>>0],ye=ka[e];oe===0||oe===10?((e===1?re:ie)(Ot(ye,0)),ye.length=0):ye.push(oe)}S+=Q}return c()[g>>2>>>0]=S,0}var tn=[31,29,31,30,31,30,31,31,30,31,30,31],rn=[31,28,31,30,31,30,31,31,30,31,30,31];function La(e){var s=Array(K(e)+1);return me(e,s,0,s.length),s}var Na=(e,s)=>{t().set(e,s>>>0)};function nn(e,s,f,g){function S(O,$,Z){for(O=typeof O=="number"?O.toString():O||"";O.length<$;)O=Z[0]+O;return O}function T(O,$){return S(O,$,"0")}function I(O,$){function Z(mn){return 0>mn?-1:0<mn?1:0}var Ye;return(Ye=Z(O.getFullYear()-$.getFullYear()))===0&&(Ye=Z(O.getMonth()-$.getMonth()))===0&&(Ye=Z(O.getDate()-$.getDate())),Ye}function Q(O){switch(O.getDay()){case 0:return new Date(O.getFullYear()-1,11,29);case 1:return O;case 2:return new Date(O.getFullYear(),0,3);case 3:return new Date(O.getFullYear(),0,2);case 4:return new Date(O.getFullYear(),0,1);case 5:return new Date(O.getFullYear()-1,11,31);case 6:return new Date(O.getFullYear()-1,11,30)}}function Be(O){var $=O.Qa;for(O=new Date(new Date(O.Ra+1900,0,1).getTime());0<$;){var Z=O.getMonth(),Ye=(it(O.getFullYear())?tn:rn)[Z];if($>Ye-O.getDate())$-=Ye-O.getDate()+1,O.setDate(1),11>Z?O.setMonth(Z+1):(O.setMonth(0),O.setFullYear(O.getFullYear()+1));else{O.setDate(O.getDate()+$);break}}return Z=new Date(O.getFullYear()+1,0,4),$=Q(new Date(O.getFullYear(),0,4)),Z=Q(Z),0>=I($,O)?0>=I(Z,O)?O.getFullYear()+1:O.getFullYear():O.getFullYear()-1}e>>>=0,s>>>=0,f>>>=0,g>>>=0;var oe=a()[g+40>>2>>>0];g={qb:a()[g>>2>>>0],pb:a()[g+4>>2>>>0],Sa:a()[g+8>>2>>>0],Wa:a()[g+12>>2>>>0],Ta:a()[g+16>>2>>>0],Ra:a()[g+20>>2>>>0],Ma:a()[g+24>>2>>>0],Qa:a()[g+28>>2>>>0],yb:a()[g+32>>2>>>0],ob:a()[g+36>>2>>>0],rb:oe?nt(oe):""},f=nt(f),oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ye in oe)f=f.replace(new RegExp(ye,"g"),oe[ye]);var dn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),pn="January February March April May June July August September October November December".split(" ");oe={"%a":O=>dn[O.Ma].substring(0,3),"%A":O=>dn[O.Ma],"%b":O=>pn[O.Ta].substring(0,3),"%B":O=>pn[O.Ta],"%C":O=>T((O.Ra+1900)/100|0,2),"%d":O=>T(O.Wa,2),"%e":O=>S(O.Wa,2," "),"%g":O=>Be(O).toString().substring(2),"%G":O=>Be(O),"%H":O=>T(O.Sa,2),"%I":O=>(O=O.Sa,O==0?O=12:12<O&&(O-=12),T(O,2)),"%j":O=>{for(var $=0,Z=0;Z<=O.Ta-1;$+=(it(O.Ra+1900)?tn:rn)[Z++]);return T(O.Wa+$,3)},"%m":O=>T(O.Ta+1,2),"%M":O=>T(O.pb,2),"%n":()=>`
`,"%p":O=>0<=O.Sa&&12>O.Sa?"AM":"PM","%S":O=>T(O.qb,2),"%t":()=>"	","%u":O=>O.Ma||7,"%U":O=>T(Math.floor((O.Qa+7-O.Ma)/7),2),"%V":O=>{var $=Math.floor((O.Qa+7-(O.Ma+6)%7)/7);if(2>=(O.Ma+371-O.Qa-2)%7&&$++,$)$==53&&(Z=(O.Ma+371-O.Qa)%7,Z==4||Z==3&&it(O.Ra)||($=1));else{$=52;var Z=(O.Ma+7-O.Qa-1)%7;(Z==4||Z==5&&it(O.Ra%400-1))&&$++}return T($,2)},"%w":O=>O.Ma,"%W":O=>T(Math.floor((O.Qa+7-(O.Ma+6)%7)/7),2),"%y":O=>(O.Ra+1900).toString().substring(2),"%Y":O=>O.Ra+1900,"%z":O=>{O=O.ob;var $=0<=O;return O=Math.abs(O)/60,($?"+":"-")+("0000"+(O/60*100+O%60)).slice(-4)},"%Z":O=>O.rb,"%%":()=>"%"},f=f.replace(/%%/g,"\0\0");for(ye in oe)f.includes(ye)&&(f=f.replace(new RegExp(ye,"g"),oe[ye](g)));return f=f.replace(/\0\0/g,"%"),ye=La(f),ye.length>s?0:(Na(ye,e),ye.length-1)}F.Va();var Ha=[null,vt,je,w,x,L,fe,_t,Tt,b,j,V,De,Et,Hr,Wr,zr,$r,Yr,Xr,Jr,Qr,Zr,Kr,en],Wa={b:function(e,s,f){throw e>>>=0,new i(e).Va(s>>>0,f>>>0),d=e,p++,d},N:function(e){on(e>>>0,!D,1,!E,131072,!1),F.$a()},j:function(e){e>>>=0,M?postMessage({cmd:"cleanupThread",thread:e}):Dt(e)},I:R,h:x,T:L,D:fe,F:_t,U:Tt,R:b,J:j,Q:V,n:De,E:Et,B:Hr,S:Wr,C:zr,q:()=>!0,z:function(e,s){e>>>=0,e==s>>>0?setTimeout(()=>Ut()):M?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=F.La[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:ur,p:function(e){A&&F.La[e>>>0].ref()},t:function(e,s,f){e=s+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*s:NaN,f>>>=0,e=new Date(1e3*e),a()[f>>2>>>0]=e.getUTCSeconds(),a()[f+4>>2>>>0]=e.getUTCMinutes(),a()[f+8>>2>>>0]=e.getUTCHours(),a()[f+12>>2>>>0]=e.getUTCDate(),a()[f+16>>2>>>0]=e.getUTCMonth(),a()[f+20>>2>>>0]=e.getUTCFullYear()-1900,a()[f+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[f+28>>2>>>0]=e},u:function(e,s,f){e=s+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*s:NaN,f>>>=0,e=new Date(1e3*e),a()[f>>2>>>0]=e.getSeconds(),a()[f+4>>2>>>0]=e.getMinutes(),a()[f+8>>2>>>0]=e.getHours(),a()[f+12>>2>>>0]=e.getDate(),a()[f+16>>2>>>0]=e.getMonth(),a()[f+20>>2>>>0]=e.getFullYear()-1900,a()[f+24>>2>>>0]=e.getDay(),s=(it(e.getFullYear())?Gr:jr)[e.getMonth()]+e.getDate()-1|0,a()[f+28>>2>>>0]=s,a()[f+36>>2>>>0]=-(60*e.getTimezoneOffset()),s=new Date(e.getFullYear(),6,1).getTimezoneOffset();var g=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(s!=g&&e.getTimezoneOffset()==Math.min(g,s))|0,a()[f+32>>2>>>0]=e},v:function(e){e>>>=0;var s=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),f=a()[e+32>>2>>>0],g=s.getTimezoneOffset(),S=new Date(s.getFullYear(),6,1).getTimezoneOffset(),T=new Date(s.getFullYear(),0,1).getTimezoneOffset(),I=Math.min(T,S);return 0>f?a()[e+32>>2>>>0]=+(S!=T&&I==g):0<f!=(I==g)&&(S=Math.max(T,S),s.setTime(s.getTime()+6e4*((0<f?I:S)-g))),a()[e+24>>2>>>0]=s.getDay(),f=(it(s.getFullYear())?Gr:jr)[s.getMonth()]+s.getDate()-1|0,a()[e+28>>2>>>0]=f,a()[e>>2>>>0]=s.getSeconds(),a()[e+4>>2>>>0]=s.getMinutes(),a()[e+8>>2>>>0]=s.getHours(),a()[e+12>>2>>>0]=s.getDate(),a()[e+16>>2>>>0]=s.getMonth(),a()[e+20>>2>>>0]=s.getYear(),e=s.getTime()/1e3,fn((He=e,1<=+Math.abs(He)?0<He?+Math.floor(He/4294967296)>>>0:~~+Math.ceil((He-+(~~He>>>0))/4294967296)>>>0:0)),e>>>0},r:$r,s:Yr,y:function(e,s,f){function g(oe){return(oe=oe.toTimeString().match(/\(([A-Za-z ]+)\)$/))?oe[1]:"GMT"}e>>>=0,s>>>=0,f>>>=0;var S=new Date().getFullYear(),T=new Date(S,0,1),I=new Date(S,6,1);S=T.getTimezoneOffset();var Q=I.getTimezoneOffset(),Be=Math.max(S,Q);c()[e>>2>>>0]=60*Be,a()[s>>2>>>0]=+(S!=Q),e=g(T),s=g(I),e=Vr(e),s=Vr(s),Q<S?(c()[f>>2>>>0]=e,c()[f+4>>2>>>0]=s):(c()[f>>2>>>0]=s,c()[f+4>>2>>>0]=e)},c:()=>{Te("")},k:function(){},i:function(){return Date.now()},o:()=>{throw ne+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return A?(Xn(),Ve(qn)).cpus().length:navigator.hardwareConcurrency},K:function(e,s,f,g){for(F.vb=s>>>0,fr.length=f,s=g>>>0>>3,g=0;g<f;g++)fr[g]=l()[s+g>>>0];return Ha[e].apply(null,fr)},x:function(e){e>>>=0;var s=u().length;if(e<=s||4294901760<e)return!1;for(var f=1;4>=f;f*=2){var g=s*(1+.2/f);g=Math.min(g,e+100663296);var S=Math;g=Math.max(e,g);e:{S=S.min.call(S,4294901760,g+(65536-g%65536)%65536)-k.buffer.byteLength+65535>>>16;try{k.grow(S),_e();var T=1;break e}catch{}T=void 0}if(T)return!0}return!1},O:Xr,P:Jr,H:at,g:Qr,m:Zr,w:Kr,l:en,a:k||o.wasmMemory,G:nn,d:function(e,s,f,g){return nn(e>>>0,s>>>0,f>>>0,g>>>0)}};(function(){function e(f,g){return f=f.exports,B=f=za(f),F.ab.push(B.ya),Ie=B.za,Pe.unshift(B.V),Oe=g,tt(),f}var s={a:Wa};if(et(),o.instantiateWasm)try{return o.instantiateWasm(s,e)}catch(f){ie("Module.instantiateWasm callback failed with error: "+f),m(f)}return wt(s,function(f){e(f.instance,f.module)}).catch(m),{}})(),o._OrtInit=(e,s)=>(o._OrtInit=B.W)(e,s),o._OrtGetLastError=(e,s)=>(o._OrtGetLastError=B.X)(e,s),o._OrtCreateSessionOptions=(e,s,f,g,S,T,I,Q,Be,oe)=>(o._OrtCreateSessionOptions=B.Y)(e,s,f,g,S,T,I,Q,Be,oe),o._OrtAppendExecutionProvider=(e,s)=>(o._OrtAppendExecutionProvider=B.Z)(e,s),o._OrtAddFreeDimensionOverride=(e,s,f)=>(o._OrtAddFreeDimensionOverride=B._)(e,s,f),o._OrtAddSessionConfigEntry=(e,s,f)=>(o._OrtAddSessionConfigEntry=B.$)(e,s,f),o._OrtReleaseSessionOptions=e=>(o._OrtReleaseSessionOptions=B.aa)(e),o._OrtCreateSession=(e,s,f)=>(o._OrtCreateSession=B.ba)(e,s,f),o._OrtReleaseSession=e=>(o._OrtReleaseSession=B.ca)(e),o._OrtGetInputOutputCount=(e,s,f)=>(o._OrtGetInputOutputCount=B.da)(e,s,f),o._OrtGetInputName=(e,s)=>(o._OrtGetInputName=B.ea)(e,s),o._OrtGetOutputName=(e,s)=>(o._OrtGetOutputName=B.fa)(e,s),o._OrtFree=e=>(o._OrtFree=B.ga)(e),o._OrtCreateTensor=(e,s,f,g,S,T)=>(o._OrtCreateTensor=B.ha)(e,s,f,g,S,T),o._OrtGetTensorData=(e,s,f,g,S)=>(o._OrtGetTensorData=B.ia)(e,s,f,g,S),o._OrtReleaseTensor=e=>(o._OrtReleaseTensor=B.ja)(e),o._OrtCreateRunOptions=(e,s,f,g)=>(o._OrtCreateRunOptions=B.ka)(e,s,f,g),o._OrtAddRunConfigEntry=(e,s,f)=>(o._OrtAddRunConfigEntry=B.la)(e,s,f),o._OrtReleaseRunOptions=e=>(o._OrtReleaseRunOptions=B.ma)(e),o._OrtCreateBinding=e=>(o._OrtCreateBinding=B.na)(e),o._OrtBindInput=(e,s,f)=>(o._OrtBindInput=B.oa)(e,s,f),o._OrtBindOutput=(e,s,f,g)=>(o._OrtBindOutput=B.pa)(e,s,f,g),o._OrtClearBoundOutputs=e=>(o._OrtClearBoundOutputs=B.qa)(e),o._OrtReleaseBinding=e=>(o._OrtReleaseBinding=B.ra)(e),o._OrtRunWithBinding=(e,s,f,g,S)=>(o._OrtRunWithBinding=B.sa)(e,s,f,g,S),o._OrtRun=(e,s,f,g,S,T,I,Q)=>(o._OrtRun=B.ta)(e,s,f,g,S,T,I,Q),o._OrtEndProfiling=e=>(o._OrtEndProfiling=B.ua)(e);var Ft=o._pthread_self=()=>(Ft=o._pthread_self=B.va)(),an=o._malloc=e=>(an=o._malloc=B.wa)(e);o._free=e=>(o._free=B.xa)(e),o.__emscripten_tls_init=()=>(o.__emscripten_tls_init=B.ya)();var on=o.__emscripten_thread_init=(e,s,f,g,S,T)=>(on=o.__emscripten_thread_init=B.Aa)(e,s,f,g,S,T);o.__emscripten_thread_crashed=()=>(o.__emscripten_thread_crashed=B.Ba)();var sn=(e,s,f,g)=>(sn=B.Ca)(e,s,f,g),dr=e=>(dr=B.Da)(e),pr=o.__emscripten_thread_exit=e=>(pr=o.__emscripten_thread_exit=B.Ea)(e),un=o.__emscripten_check_mailbox=()=>(un=o.__emscripten_check_mailbox=B.Fa)(),fn=e=>(fn=B.Ga)(e),ln=(e,s)=>(ln=B.Ha)(e,s),mr=()=>(mr=B.Ia)(),kt=e=>(kt=B.Ja)(e),hr=e=>(hr=B.Ka)(e);function za(e){e=Object.assign({},e);var s=g=>()=>g()>>>0,f=g=>S=>g(S)>>>0;return e.__errno_location=s(e.__errno_location),e.pthread_self=s(e.pthread_self),e.malloc=f(e.malloc),e.stackSave=s(e.stackSave),e.stackAlloc=f(e.stackAlloc),e}o.keepRuntimeAlive=xe,o.wasmMemory=k,o.stackAlloc=hr,o.stackSave=mr,o.stackRestore=kt,o.UTF8ToString=nt,o.stringToUTF8=ue,o.lengthBytesUTF8=K,o.ExitStatus=Ge,o.PThread=F;var Lt;Fe=function e(){Lt||cn(),Lt||(Fe=e)};function cn(){function e(){if(!Lt&&(Lt=!0,o.calledRun=!0,!ce)&&(M||ot(Pe),h(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),!M)){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;){var s=o.postRun.shift();ae.unshift(s)}ot(ae)}}if(!(0<ve))if(M)h(o),M||ot(Pe),startWorker(o);else{if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)de.unshift(o.preRun.shift());ot(de),0<ve||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e())}}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return cn(),r.ready}})();typeof Qn=="object"&&typeof Mr=="object"?Mr.exports=Jn:typeof define=="function"&&define.amd&&define([],()=>Jn)});var Kn=st((li,Qa)=>{Qa.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var ta,Za,Rr,Cr,Vt,ea,Ka,eo,to,ra,H,Qe=W(()=>{"use strict";ta=$n();Za=Zn(),Cr=!1,Vt=!1,ea=!1,Ka=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},eo=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},to=(n,r)=>n?"ort-training-wasm-simd.wasm":r?"ort-wasm-threaded.wasm":"ort-wasm.wasm",ra=async n=>{if(Cr)return Promise.resolve();if(Vt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(ea)throw new Error("previous call to 'initializeWebAssembly()' failed.");Vt=!0;let r=n.initTimeout,t=n.numThreads,u=n.simd,a=t>1&&Ka(),c=u&&eo(),l=n.wasmPaths,o=typeof l=="string"?l:void 0,h=to(c,a),m=typeof l=="object"?l[h]:void 0,y=!1,v=[];if(r>0&&v.push(new Promise(_=>{setTimeout(()=>{y=!0,_()},r)})),v.push(new Promise((_,E)=>{let D=a?Za:ta,A={locateFile:(M,P)=>a&&M.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Kn()],{type:"text/javascript"})):M.endsWith(".wasm")?m||(o??P)+h:P+M};if(a)if(A.numThreads=t,typeof Blob>"u")A.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let M=`var ortWasmThreaded=${D.toString()};`;A.mainScriptUrlOrBlob=new Blob([M],{type:"text/javascript"})}D(A).then(M=>{Vt=!1,Cr=!0,Rr=M,_()},M=>{Vt=!1,ea=!0,E(M)})})),await Promise.race(v),y)throw new Error(`WebAssembly backend initializing failed due to timeout: ${r}ms`)},H=()=>{if(Cr&&Rr)return Rr;throw new Error("WebAssembly is not initialized yet.")}});var ee,At,q,Mt=W(()=>{"use strict";Qe();ee=(n,r)=>{let t=H(),u=t.lengthBytesUTF8(n)+1,a=t._malloc(u);return t.stringToUTF8(n,a,u),r.push(a),a},At=(n,r,t,u)=>{if(typeof n=="object"&&n!==null){if(t.has(n))throw new Error("Circular reference in options");t.add(n)}Object.entries(n).forEach(([a,c])=>{let l=r?r+a:a;if(typeof c=="object")At(c,l+".",t,u);else if(typeof c=="string"||typeof c=="number")u(l,c.toString());else if(typeof c=="boolean")u(l,c?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof c}`)})},q=n=>{let r=H(),t=r.stackSave();try{let u=r.stackAlloc(8);r._OrtGetLastError(u,u+4);let a=r.HEAP32[u/4],c=r.HEAPU32[u/4+1],l=c?r.UTF8ToString(c):"";throw new Error(`${n} ERROR_CODE: ${a}, ERROR_MESSAGE: ${l}`)}finally{r.stackRestore(t)}}});var lt,Ir=W(()=>{"use strict";Qe();Mt();lt=n=>{let r=H(),t=0,u=[],a=n||{};try{if(n?.logSeverityLevel===void 0)a.logSeverityLevel=2;else if(typeof n.logSeverityLevel!="number"||!Number.isInteger(n.logSeverityLevel)||n.logSeverityLevel<0||n.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${n.logSeverityLevel}`);if(n?.logVerbosityLevel===void 0)a.logVerbosityLevel=0;else if(typeof n.logVerbosityLevel!="number"||!Number.isInteger(n.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${n.logVerbosityLevel}`);n?.terminate===void 0&&(a.terminate=!1);let c=0;return n?.tag!==void 0&&(c=ee(n.tag,u)),t=r._OrtCreateRunOptions(a.logSeverityLevel,a.logVerbosityLevel,!!a.terminate,c),t===0&&q("Can't create run options."),n?.extra!==void 0&&At(n.extra,"",new WeakSet,(l,o)=>{let h=ee(l,u),m=ee(o,u);r._OrtAddRunConfigEntry(t,h,m)!==0&&q(`Can't set a run config entry: ${l} - ${o}.`)}),[t,u]}catch(c){throw t!==0&&r._OrtReleaseRunOptions(t),u.forEach(l=>r._free(l)),c}}});var ro,no,ao,oo,qt,Pr=W(()=>{"use strict";Qe();Mt();ro=n=>{switch(n){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${n}`)}},no=n=>{switch(n){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${n}`)}},ao=n=>{n.extra||(n.extra={}),n.extra.session||(n.extra.session={});let r=n.extra.session;r.use_ort_model_bytes_directly||(r.use_ort_model_bytes_directly="1"),n.executionProviders&&n.executionProviders.some(t=>(typeof t=="string"?t:t.name)==="webgpu")&&(n.enableMemPattern=!1)},oo=(n,r,t)=>{for(let u of r){let a=typeof u=="string"?u:u.name;switch(a){case"xnnpack":a="XNNPACK";break;case"webnn":if(a="WEBNN",typeof u!="string"){let l=u;if(l?.deviceType){let o=ee("deviceType",t),h=ee(l.deviceType,t);H()._OrtAddSessionConfigEntry(n,o,h)!==0&&q(`Can't set a session config entry: 'deviceType' - ${l.deviceType}.`)}if(l?.numThreads){let o=l.numThreads;(typeof o!="number"||!Number.isInteger(o)||o<0)&&(o=0);let h=ee("numThreads",t),m=ee(o.toString(),t);H()._OrtAddSessionConfigEntry(n,h,m)!==0&&q(`Can't set a session config entry: 'numThreads' - ${l.numThreads}.`)}if(l?.powerPreference){let o=ee("powerPreference",t),h=ee(l.powerPreference,t);H()._OrtAddSessionConfigEntry(n,o,h)!==0&&q(`Can't set a session config entry: 'powerPreference' - ${l.powerPreference}.`)}}break;case"webgpu":if(a="JS",typeof u!="string"){let l=u;if(l?.preferredLayout){if(l.preferredLayout!=="NCHW"&&l.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${l.preferredLayout}`);let o=ee("preferredLayout",t),h=ee(l.preferredLayout,t);H()._OrtAddSessionConfigEntry(n,o,h)!==0&&q(`Can't set a session config entry: 'preferredLayout' - ${l.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${a}`)}let c=ee(a,t);H()._OrtAppendExecutionProvider(n,c)!==0&&q(`Can't append execution provider: ${a}.`)}},qt=n=>{let r=H(),t=0,u=[],a=n||{};ao(a);try{let c=ro(a.graphOptimizationLevel??"all"),l=no(a.executionMode??"sequential"),o=typeof a.logId=="string"?ee(a.logId,u):0,h=a.logSeverityLevel??2;if(!Number.isInteger(h)||h<0||h>4)throw new Error(`log serverity level is not valid: ${h}`);let m=a.logVerbosityLevel??0;if(!Number.isInteger(m)||m<0||m>4)throw new Error(`log verbosity level is not valid: ${m}`);let y=typeof a.optimizedModelFilePath=="string"?ee(a.optimizedModelFilePath,u):0;if(t=r._OrtCreateSessionOptions(c,!!a.enableCpuMemArena,!!a.enableMemPattern,l,!!a.enableProfiling,0,o,h,m,y),t===0&&q("Can't create session options."),a.executionProviders&&oo(t,a.executionProviders,u),a.freeDimensionOverrides)for(let[v,_]of Object.entries(a.freeDimensionOverrides)){if(typeof v!="string")throw new Error(`free dimension override name must be a string: ${v}`);if(typeof _!="number"||!Number.isInteger(_)||_<0)throw new Error(`free dimension override value must be a non-negative integer: ${_}`);let E=ee(v,u);r._OrtAddFreeDimensionOverride(t,E,_)!==0&&q(`Can't set a free dimension override: ${v} - ${_}.`)}return a.extra!==void 0&&At(a.extra,"",new WeakSet,(v,_)=>{let E=ee(v,u),D=ee(_,u);r._OrtAddSessionConfigEntry(t,E,D)!==0&&q(`Can't set a session config entry: ${v} - ${_}.`)}),[t,u]}catch(c){throw t!==0&&r._OrtReleaseSessionOptions(t),u.forEach(l=>r._free(l)),c}}});var ct,Xt,xr,Rt,na,Jt,Ct,Qt=W(()=>{"use strict";ct=n=>{switch(n){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${n}`)}},Xt=n=>{switch(n){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${n}`)}},xr=n=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][n],Rt=n=>{switch(n){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${n}`)}},na=n=>{switch(n){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${n}`)}},Jt=n=>n==="float32"||n==="int32"||n==="int64"||n==="bool"||n==="float16"||n==="uint32",Ct=n=>{switch(n){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${n}`)}}});var io,aa,oa,It,so,Pt,ia,sa,Zt,ua,fa,la,Kt=W(()=>{"use strict";Ir();Pr();Qt();Qe();Mt();io=(n,r)=>{H()._OrtInit(n,r)!==0&&q("Can't initialize onnxruntime.")},aa=async n=>{io(n.wasm.numThreads,na(n.logLevel))},oa=async(n,r)=>{},It=new Map,so=n=>{let r=H(),t=r.stackSave();try{let u=r.stackAlloc(8);return r._OrtGetInputOutputCount(n,u,u+4)!==0&&q("Can't get session input/output count."),[r.HEAP32[u/4],r.HEAP32[u/4+1]]}finally{r.stackRestore(t)}},Pt=n=>{let r=H(),t=r._malloc(n.byteLength);if(t===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${n.byteLength}.`);return r.HEAPU8.set(n,t),[t,n.byteLength]},ia=(n,r)=>{let t,u,a=H();Array.isArray(n)?[t,u]=n:n.buffer===a.HEAPU8.buffer?[t,u]=[n.byteOffset,n.byteLength]:[t,u]=Pt(n);let c=0,l=0,o=0,h=[],m=[],y=[];try{[l,h]=qt(r),c=a._OrtCreateSession(t,u,l),c===0&&q("Can't create a session.");let[v,_]=so(c),E=[],D=[],A=[];for(let P=0;P<v;P++){let N=a._OrtGetInputName(c,P);N===0&&q("Can't get an input name."),m.push(N),E.push(a.UTF8ToString(N))}for(let P=0;P<_;P++){let N=a._OrtGetOutputName(c,P);N===0&&q("Can't get an output name."),y.push(N);let G=a.UTF8ToString(N);D.push(G)}let M=null;return It.set(c,[c,m,y,M]),[c,E,D]}catch(v){throw m.forEach(_=>a._OrtFree(_)),y.forEach(_=>a._OrtFree(_)),o!==0&&a._OrtReleaseBinding(o),c!==0&&a._OrtReleaseSession(c),v}finally{a._free(t),l!==0&&a._OrtReleaseSessionOptions(l),h.forEach(v=>a._free(v))}},sa=n=>{let r=H(),t=It.get(n);if(!t)throw new Error(`cannot release session. invalid session id: ${n}`);let[u,a,c,l]=t;l&&r._OrtReleaseBinding(l.handle),r.jsepUnregisterBuffers?.(n),a.forEach(o=>r._OrtFree(o)),c.forEach(o=>r._OrtFree(o)),r._OrtReleaseSession(u),It.delete(n)},Zt=(n,r,t,u,a)=>{if(!n){r.push(0);return}let c=H(),l=n[0],o=n[1],h=n[3],m,y;if(l==="string"&&h==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(h==="gpu-buffer"){let E=n[2].gpuBuffer,D=xr(ct(l));y=o.reduce((A,M)=>A*M,1)*D,m=c.jsepRegisterBuffer(u,a,E,y)}else{let E=n[2];if(Array.isArray(E)){y=4*E.length,m=c._malloc(y),t.push(m);let D=m/4;for(let A=0;A<E.length;A++){if(typeof E[A]!="string")throw new TypeError(`tensor data at index ${A} is not a string`);c.HEAPU32[D++]=ee(E[A],t)}}else y=E.byteLength,m=c._malloc(y),t.push(m),c.HEAPU8.set(new Uint8Array(E.buffer,E.byteOffset,y),m)}let v=c.stackSave(),_=c.stackAlloc(4*o.length);try{let E=_/4;o.forEach(A=>c.HEAP32[E++]=A);let D=c._OrtCreateTensor(ct(l),m,y,_,o.length,Ct(h));D===0&&q(`Can't create tensor for input/output. session=${u}, index=${a}.`),r.push(D)}finally{c.stackRestore(v)}},ua=async(n,r,t,u,a,c)=>{let l=H(),o=It.get(n);if(!o)throw new Error(`cannot run inference. invalid session id: ${n}`);let[h,m,y,v]=o,_=r.length,E=u.length,D=0,A=[],M=[],P=[],N=[],G=l.stackSave(),z=l.stackAlloc(_*4),C=l.stackAlloc(_*4),ge=l.stackAlloc(E*4),be=l.stackAlloc(E*4);try{[D,A]=lt(c);for(let k=0;k<_;k++)Zt(t[k],M,N,n,r[k]);for(let k=0;k<E;k++)Zt(a[k],P,N,n,_+u[k]);let te=z/4,U=C/4,re=ge/4,ie=be/4;for(let k=0;k<_;k++)l.HEAPU32[te++]=M[k],l.HEAPU32[U++]=m[r[k]];for(let k=0;k<E;k++)l.HEAPU32[re++]=P[k],l.HEAPU32[ie++]=y[u[k]];let Se;Se=await l._OrtRun(h,C,z,_,be,E,ge,D),Se!==0&&q("failed to call OrtRun().");let Ae=[];for(let k=0;k<E;k++){let B=l.HEAPU32[ge/4+k];if(B===P[k]){Ae.push(a[k]);continue}let Oe=l.stackSave(),ce=l.stackAlloc(4*4),se=!1,X,pe=0;try{l._OrtGetTensorData(B,ce,ce+4,ce+8,ce+12)!==0&&q(`Can't access output tensor data on index ${k}.`);let Ce=ce/4,Le=l.HEAPU32[Ce++];pe=l.HEAPU32[Ce++];let _e=l.HEAPU32[Ce++],Ue=l.HEAPU32[Ce++],Ie=[];for(let ae=0;ae<Ue;ae++)Ie.push(l.HEAPU32[_e/4+ae]);l._OrtFree(_e);let de=Ie.reduce((ae,ne)=>ae*ne,1);X=Xt(Le);let Pe=v?.outputPreferredLocations[u[k]];if(X==="string"){if(Pe==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let ae=[],ne=pe/4;for(let xe=0;xe<de;xe++){let ve=l.HEAPU32[ne++],Ne=xe===de-1?void 0:l.HEAPU32[ne]-ve;ae.push(l.UTF8ToString(ve,Ne))}Ae.push([X,Ie,ae,"cpu"])}else if(Pe==="gpu-buffer"&&de>0){let ae=l.jsepGetBuffer(pe),ne=xr(Le);if(ne===void 0||!Jt(X))throw new Error(`Unsupported data type: ${X}`);se=!0,Ae.push([X,Ie,{gpuBuffer:ae,download:l.jsepCreateDownloader(ae,de*ne,X),dispose:()=>{l._OrtReleaseTensor(B)}},"gpu-buffer"])}else{let ae=Rt(X),ne=new ae(de);new Uint8Array(ne.buffer,ne.byteOffset,ne.byteLength).set(l.HEAPU8.subarray(pe,pe+ne.byteLength)),Ae.push([X,Ie,ne,"cpu"])}}finally{l.stackRestore(Oe),X==="string"&&pe&&l._free(pe),se||l._OrtReleaseTensor(B)}}return v&&l._OrtClearBoundOutputs(v.handle),Ae}finally{l.stackRestore(G),M.forEach(te=>l._OrtReleaseTensor(te)),P.forEach(te=>l._OrtReleaseTensor(te)),N.forEach(te=>l._free(te)),D!==0&&l._OrtReleaseRunOptions(D),A.forEach(te=>l._free(te))}},fa=n=>{let r=H(),t=It.get(n);if(!t)throw new Error("invalid session id");let u=t[0],a=r._OrtEndProfiling(u);a===0&&q("Can't get an profile file name."),r._OrtFree(a)},la=n=>{let r=[];for(let t of n){let u=t[2];!Array.isArray(u)&&"buffer"in u&&r.push(u.buffer)}return r}});var ca=st((Mi,fo)=>{fo.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var _t=Object.defineProperty;var $r=Object.getOwnPropertyDescriptor;var qr=Object.getOwnPropertyNames;var Vr=Object.prototype.hasOwnProperty;var vt=(u,m)=>()=>(u&&(m=u(u=0)),m);var rt=(u,m)=>()=>(m||u((m={exports:{}}).exports,m),m.exports),Et=(u,m)=>{for(var n in m)_t(u,n,{get:m[n],enumerable:!0})},Jr=(u,m,n,y)=>{if(m&&typeof m=="object"||typeof m=="function")for(let l of qr(m))!Vr.call(u,l)&&l!==n&&_t(u,l,{get:()=>m[l],enumerable:!(y=$r(m,l))||y.enumerable});return u};var nt=u=>Jr(_t({},"__esModule",{value:!0}),u);var St={};Et(St,{readFile:()=>Xr});var Xr,Tt=vt(()=>{Xr=void 0});var Mt={};Et(Mt,{join:()=>Qr});var Qr,At=vt(()=>{Qr=void 0});var cr=rt((lr,Ct)=>{"use strict";var fr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(m={}){var n=m,y,l;n.ready=new Promise((t,o)=>{y=t,l=o});var b=Object.assign({},n),g="./this.program",i=typeof window=="object",R=typeof importScripts=="function",F=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",L="",B,D,P;if(F){var W=(Tt(),nt(St)),U=(At(),nt(Mt));L=R?U.dirname(L)+"/":__dirname+"/",B=(t,o)=>(t=t.startsWith("file://")?new URL(t):U.normalize(t),W.readFileSync(t,o?void 0:"utf8")),P=t=>(t=B(t,!0),t.buffer||(t=new Uint8Array(t)),t),D=(t,o,s,c=!0)=>{t=t.startsWith("file://")?new URL(t):U.normalize(t),W.readFile(t,c?void 0:"utf8",(w,S)=>{w?s(w):o(c?S.buffer:S)})},!n.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(i||R)&&(R?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),u&&(L=u),L.indexOf("blob:")!==0?L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1):L="",B=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.send(null),o.responseText},R&&(P=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),D=(t,o,s)=>{var c=new XMLHttpRequest;c.open("GET",t,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?o(c.response):s()},c.onerror=s,c.send(null)});var v=n.print||console.log.bind(console),x=n.printErr||console.error.bind(console);Object.assign(n,b),b=null,n.thisProgram&&(g=n.thisProgram);var q;n.wasmBinary&&(q=n.wasmBinary);var De=n.noExitRuntime||!0;typeof WebAssembly!="object"&&z("no native wasm support detected");var ce,E,he=!1,ye,Q,M,Z;function re(){var t=ce.buffer;n.HEAP8=ye=new Int8Array(t),n.HEAP16=new Int16Array(t),n.HEAP32=M=new Int32Array(t),n.HEAPU8=Q=new Uint8Array(t),n.HEAPU16=new Uint16Array(t),n.HEAPU32=Z=new Uint32Array(t),n.HEAPF32=new Float32Array(t),n.HEAPF64=new Float64Array(t)}var Oe=[],be=[],C=[];function T(){var t=n.preRun.shift();Oe.unshift(t)}var de=0,ie=null,ne=null;function z(t){throw n.onAbort&&n.onAbort(t),t="Aborted("+t+")",x(t),he=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),l(t),t}function ue(t){return t.startsWith("data:application/octet-stream;base64,")}var we;if(we="ort-training-wasm-simd.wasm",!ue(we)){var _e=we;we=n.locateFile?n.locateFile(_e,L):L+_e}function Ie(t){if(t==we&&q)return new Uint8Array(q);if(P)return P(t);throw"both async and sync fetching of the wasm failed"}function me(t){if(!q&&(i||R)){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at \'"+t+"\'";return o.arrayBuffer()}).catch(()=>Ie(t));if(D)return new Promise((o,s)=>{D(t,c=>o(new Uint8Array(c)),s)})}return Promise.resolve().then(()=>Ie(t))}function Ae(t,o,s){return me(t).then(c=>WebAssembly.instantiate(c,o)).then(c=>c).then(s,c=>{x("failed to asynchronously prepare wasm: "+c),z(c)})}function ve(t,o){var s=we;return q||typeof WebAssembly.instantiateStreaming!="function"||ue(s)||s.startsWith("file://")||F||typeof fetch!="function"?Ae(s,t,o):fetch(s,{credentials:"same-origin"}).then(c=>WebAssembly.instantiateStreaming(c,t).then(o,function(w){return x("wasm streaming compile failed: "+w),x("falling back to ArrayBuffer instantiation"),Ae(s,t,o)}))}var se,Ee=t=>{for(;0<t.length;)t.shift()(n)};function ee(t){this.Ja=t-24,this.Na=function(o){Z[this.Ja+4>>2>>>0]=o},this.Ma=function(o){Z[this.Ja+8>>2>>>0]=o},this.Ka=function(o,s){this.La(),this.Na(o),this.Ma(s)},this.La=function(){Z[this.Ja+16>>2>>>0]=0}}var K=0,Se=0,pe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Fe=(t,o,s)=>{o>>>=0;var c=o+s;for(s=o;t[s]&&!(s>=c);)++s;if(16<s-o&&t.buffer&&pe)return pe.decode(t.subarray(o,s));for(c="";o<s;){var w=t[o++];if(w&128){var S=t[o++]&63;if((w&224)==192)c+=String.fromCharCode((w&31)<<6|S);else{var I=t[o++]&63;w=(w&240)==224?(w&15)<<12|S<<6|I:(w&7)<<18|S<<12|I<<6|t[o++]&63,65536>w?c+=String.fromCharCode(w):(w-=65536,c+=String.fromCharCode(55296|w>>10,56320|w&1023))}}else c+=String.fromCharCode(w)}return c},Ce=(t,o)=>(t>>>=0)?Fe(Q,t,o):"",ke=t=>{for(var o=0,s=0;s<t.length;++s){var c=t.charCodeAt(s);127>=c?o++:2047>=c?o+=2:55296<=c&&57343>=c?(o+=4,++s):o+=3}return o},We=(t,o,s,c)=>{if(s>>>=0,!(0<c))return 0;var w=s;c=s+c-1;for(var S=0;S<t.length;++S){var I=t.charCodeAt(S);if(55296<=I&&57343>=I){var V=t.charCodeAt(++S);I=65536+((I&1023)<<10)|V&1023}if(127>=I){if(s>=c)break;o[s++>>>0]=I}else{if(2047>=I){if(s+1>=c)break;o[s++>>>0]=192|I>>6}else{if(65535>=I){if(s+2>=c)break;o[s++>>>0]=224|I>>12}else{if(s+3>=c)break;o[s++>>>0]=240|I>>18,o[s++>>>0]=128|I>>12&63}o[s++>>>0]=128|I>>6&63}o[s++>>>0]=128|I&63}}return o[s>>>0]=0,s-w},ge=t=>t%4===0&&(t%100!==0||t%400===0),je=[0,31,60,91,121,152,182,213,244,274,305,335],Re=[0,31,59,90,120,151,181,212,243,273,304,334],$e=t=>{var o=ke(t)+1,s=Qe(o);return s&&We(t,Q,s,o),s},qe={},Ve=()=>{if(!Je){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},o;for(o in qe)qe[o]===void 0?delete t[o]:t[o]=qe[o];var s=[];for(o in t)s.push(`${o}=${t[o]}`);Je=s}return Je},Je,Pe=[null,[],[]],xe=[31,29,31,30,31,30,31,31,30,31,30,31],Ne=[31,28,31,30,31,30,31,31,30,31,30,31];function it(t){var o=Array(ke(t)+1);return We(t,o,0,o.length),o}function Xe(t,o,s,c){function w(d,k,H){for(d=typeof d=="number"?d.toString():d||"";d.length<k;)d=H[0]+d;return d}function S(d,k){return w(d,k,"0")}function I(d,k){function H(tt){return 0>tt?-1:0<tt?1:0}var Te;return(Te=H(d.getFullYear()-k.getFullYear()))===0&&(Te=H(d.getMonth()-k.getMonth()))===0&&(Te=H(d.getDate()-k.getDate())),Te}function V(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function fe(d){var k=d.Ea;for(d=new Date(new Date(d.Fa+1900,0,1).getTime());0<k;){var H=d.getMonth(),Te=(ge(d.getFullYear())?xe:Ne)[H];if(k>Te-d.getDate())k-=Te-d.getDate()+1,d.setDate(1),11>H?d.setMonth(H+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else{d.setDate(d.getDate()+k);break}}return H=new Date(d.getFullYear()+1,0,4),k=V(new Date(d.getFullYear(),0,4)),H=V(H),0>=I(k,d)?0>=I(H,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}t>>>=0,o>>>=0,s>>>=0,c>>>=0;var ae=M[c+40>>2>>>0];c={Qa:M[c>>2>>>0],Pa:M[c+4>>2>>>0],Ga:M[c+8>>2>>>0],Ia:M[c+12>>2>>>0],Ha:M[c+16>>2>>>0],Fa:M[c+20>>2>>>0],za:M[c+24>>2>>>0],Ea:M[c+28>>2>>>0],Sa:M[c+32>>2>>>0],Oa:M[c+36>>2>>>0],Ra:ae?Ce(ae):""},s=Ce(s),ae={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var oe in ae)s=s.replace(new RegExp(oe,"g"),ae[oe]);var Ke="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),et="January February March April May June July August September October November December".split(" ");ae={"%a":d=>Ke[d.za].substring(0,3),"%A":d=>Ke[d.za],"%b":d=>et[d.Ha].substring(0,3),"%B":d=>et[d.Ha],"%C":d=>S((d.Fa+1900)/100|0,2),"%d":d=>S(d.Ia,2),"%e":d=>w(d.Ia,2," "),"%g":d=>fe(d).toString().substring(2),"%G":d=>fe(d),"%H":d=>S(d.Ga,2),"%I":d=>(d=d.Ga,d==0?d=12:12<d&&(d-=12),S(d,2)),"%j":d=>{for(var k=0,H=0;H<=d.Ha-1;k+=(ge(d.Fa+1900)?xe:Ne)[H++]);return S(d.Ia+k,3)},"%m":d=>S(d.Ha+1,2),"%M":d=>S(d.Pa,2),"%n":()=>`\n`,"%p":d=>0<=d.Ga&&12>d.Ga?"AM":"PM","%S":d=>S(d.Qa,2),"%t":()=>"	","%u":d=>d.za||7,"%U":d=>S(Math.floor((d.Ea+7-d.za)/7),2),"%V":d=>{var k=Math.floor((d.Ea+7-(d.za+6)%7)/7);if(2>=(d.za+371-d.Ea-2)%7&&k++,k)k==53&&(H=(d.za+371-d.Ea)%7,H==4||H==3&&ge(d.Fa)||(k=1));else{k=52;var H=(d.za+7-d.Ea-1)%7;(H==4||H==5&&ge(d.Fa%400-1))&&k++}return S(k,2)},"%w":d=>d.za,"%W":d=>S(Math.floor((d.Ea+7-(d.za+6)%7)/7),2),"%y":d=>(d.Fa+1900).toString().substring(2),"%Y":d=>d.Fa+1900,"%z":d=>{d=d.Oa;var k=0<=d;return d=Math.abs(d)/60,(k?"+":"-")+("0000"+(d/60*100+d%60)).slice(-4)},"%Z":d=>d.Ra,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(oe in ae)s.includes(oe)&&(s=s.replace(new RegExp(oe,"g"),ae[oe](c)));return s=s.replace(/\\0\\0/g,"%"),oe=it(s),oe.length>o?0:(ye.set(oe,t>>>0),oe.length-1)}var st={a:function(t,o,s){throw t>>>=0,new ee(t).Ka(o>>>0,s>>>0),K=t,Se++,K},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(t,o,s){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,s>>>=0,t=new Date(1e3*t),M[s>>2>>>0]=t.getUTCSeconds(),M[s+4>>2>>>0]=t.getUTCMinutes(),M[s+8>>2>>>0]=t.getUTCHours(),M[s+12>>2>>>0]=t.getUTCDate(),M[s+16>>2>>>0]=t.getUTCMonth(),M[s+20>>2>>>0]=t.getUTCFullYear()-1900,M[s+24>>2>>>0]=t.getUTCDay(),M[s+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(t,o,s){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,s>>>=0,t=new Date(1e3*t),M[s>>2>>>0]=t.getSeconds(),M[s+4>>2>>>0]=t.getMinutes(),M[s+8>>2>>>0]=t.getHours(),M[s+12>>2>>>0]=t.getDate(),M[s+16>>2>>>0]=t.getMonth(),M[s+20>>2>>>0]=t.getFullYear()-1900,M[s+24>>2>>>0]=t.getDay(),M[s+28>>2>>>0]=(ge(t.getFullYear())?je:Re)[t.getMonth()]+t.getDate()-1|0,M[s+36>>2>>>0]=-(60*t.getTimezoneOffset()),o=new Date(t.getFullYear(),6,1).getTimezoneOffset();var c=new Date(t.getFullYear(),0,1).getTimezoneOffset();M[s+32>>2>>>0]=(o!=c&&t.getTimezoneOffset()==Math.min(c,o))|0},q:function(t){t>>>=0;var o=new Date(M[t+20>>2>>>0]+1900,M[t+16>>2>>>0],M[t+12>>2>>>0],M[t+8>>2>>>0],M[t+4>>2>>>0],M[t>>2>>>0],0),s=M[t+32>>2>>>0],c=o.getTimezoneOffset(),w=new Date(o.getFullYear(),6,1).getTimezoneOffset(),S=new Date(o.getFullYear(),0,1).getTimezoneOffset(),I=Math.min(S,w);return 0>s?M[t+32>>2>>>0]=+(w!=S&&I==c):0<s!=(I==c)&&(w=Math.max(S,w),o.setTime(o.getTime()+6e4*((0<s?I:w)-c))),M[t+24>>2>>>0]=o.getDay(),M[t+28>>2>>>0]=(ge(o.getFullYear())?je:Re)[o.getMonth()]+o.getDate()-1|0,M[t>>2>>>0]=o.getSeconds(),M[t+4>>2>>>0]=o.getMinutes(),M[t+8>>2>>>0]=o.getHours(),M[t+12>>2>>>0]=o.getDate(),M[t+16>>2>>>0]=o.getMonth(),M[t+20>>2>>>0]=o.getYear(),t=o.getTime()/1e3,He((se=t,1<=+Math.abs(se)?0<se?+Math.floor(se/4294967296)>>>0:~~+Math.ceil((se-+(~~se>>>0))/4294967296)>>>0:0)),t>>>0},m:function(){return-52},n:function(){},t:function(t,o,s){function c(fe){return(fe=fe.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?fe[1]:"GMT"}s>>>=0;var w=new Date().getFullYear(),S=new Date(w,0,1),I=new Date(w,6,1);w=S.getTimezoneOffset();var V=I.getTimezoneOffset();Z[t>>>0>>2>>>0]=60*Math.max(w,V),M[o>>>0>>2>>>0]=+(w!=V),t=c(S),o=c(I),t=$e(t),o=$e(o),V<w?(Z[s>>2>>>0]=t,Z[s+4>>2>>>0]=o):(Z[s>>2>>>0]=o,Z[s+4>>2>>>0]=t)},d:()=>{z("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(t,o,s){return o>>>=0,Q.copyWithin(t>>>0>>>0,o>>>0,o+(s>>>0)>>>0)},s:function(t){t>>>=0;var o=Q.length;if(4294901760<t)return!1;for(var s=1;4>=s;s*=2){var c=o*(1+.2/s);c=Math.min(c,t+100663296);var w=Math;c=Math.max(t,c);e:{w=w.min.call(w,4294901760,c+(65536-c%65536)%65536)-ce.buffer.byteLength+65535>>>16;try{ce.grow(w),re();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},C:function(t,o){t>>>=0,o>>>=0;var s=0;return Ve().forEach(function(c,w){var S=o+s;for(w=Z[t+4*w>>2>>>0]=S,S=0;S<c.length;++S)ye[w++>>0>>>0]=c.charCodeAt(S);ye[w>>0>>>0]=0,s+=c.length+1}),0},D:function(t,o){t>>>=0,o>>>=0;var s=Ve();Z[t>>2>>>0]=s.length;var c=0;return s.forEach(function(w){c+=w.length+1}),Z[o>>2>>>0]=c,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(t,o,s,c){o>>>=0,s>>>=0,c>>>=0;for(var w=0,S=0;S<s;S++){var I=Z[o>>2>>>0],V=Z[o+4>>2>>>0];o+=8;for(var fe=0;fe<V;fe++){var ae=Q[I+fe>>>0],oe=Pe[t];ae===0||ae===10?((t===1?v:x)(Fe(oe,0)),oe.length=0):oe.push(ae)}w+=V}return Z[c>>2>>>0]=w,0},A:Xe,c:function(t,o,s,c){return Xe(t>>>0,o>>>0,s>>>0,c>>>0)}};(function(){function t(s){if(s=s.exports,E=s=Ge(s),ce=E.J,re(),be.unshift(E.K),de--,n.monitorRunDependencies&&n.monitorRunDependencies(de),de==0&&(ie!==null&&(clearInterval(ie),ie=null),ne)){var c=ne;ne=null,c()}return s}var o={a:st};if(de++,n.monitorRunDependencies&&n.monitorRunDependencies(de),n.instantiateWasm)try{return n.instantiateWasm(o,t)}catch(s){x("Module.instantiateWasm callback failed with error: "+s),l(s)}return ve(o,function(s){t(s.instance)}).catch(l),{}})(),n._OrtInit=(t,o)=>(n._OrtInit=E.L)(t,o),n._OrtGetLastError=(t,o)=>(n._OrtGetLastError=E.M)(t,o),n._OrtCreateSessionOptions=(t,o,s,c,w,S,I,V,fe,ae)=>(n._OrtCreateSessionOptions=E.N)(t,o,s,c,w,S,I,V,fe,ae),n._OrtAppendExecutionProvider=(t,o)=>(n._OrtAppendExecutionProvider=E.O)(t,o),n._OrtAddFreeDimensionOverride=(t,o,s)=>(n._OrtAddFreeDimensionOverride=E.P)(t,o,s),n._OrtAddSessionConfigEntry=(t,o,s)=>(n._OrtAddSessionConfigEntry=E.Q)(t,o,s),n._OrtReleaseSessionOptions=t=>(n._OrtReleaseSessionOptions=E.R)(t),n._OrtCreateSession=(t,o,s)=>(n._OrtCreateSession=E.S)(t,o,s),n._OrtReleaseSession=t=>(n._OrtReleaseSession=E.T)(t),n._OrtGetInputOutputCount=(t,o,s)=>(n._OrtGetInputOutputCount=E.U)(t,o,s),n._OrtGetInputName=(t,o)=>(n._OrtGetInputName=E.V)(t,o),n._OrtGetOutputName=(t,o)=>(n._OrtGetOutputName=E.W)(t,o),n._OrtFree=t=>(n._OrtFree=E.X)(t),n._OrtCreateTensor=(t,o,s,c,w,S)=>(n._OrtCreateTensor=E.Y)(t,o,s,c,w,S),n._OrtGetTensorData=(t,o,s,c,w)=>(n._OrtGetTensorData=E.Z)(t,o,s,c,w),n._OrtReleaseTensor=t=>(n._OrtReleaseTensor=E._)(t),n._OrtCreateRunOptions=(t,o,s,c)=>(n._OrtCreateRunOptions=E.$)(t,o,s,c),n._OrtAddRunConfigEntry=(t,o,s)=>(n._OrtAddRunConfigEntry=E.aa)(t,o,s),n._OrtReleaseRunOptions=t=>(n._OrtReleaseRunOptions=E.ba)(t),n._OrtCreateBinding=t=>(n._OrtCreateBinding=E.ca)(t),n._OrtBindInput=(t,o,s)=>(n._OrtBindInput=E.da)(t,o,s),n._OrtBindOutput=(t,o,s,c)=>(n._OrtBindOutput=E.ea)(t,o,s,c),n._OrtClearBoundOutputs=t=>(n._OrtClearBoundOutputs=E.fa)(t),n._OrtReleaseBinding=t=>(n._OrtReleaseBinding=E.ga)(t),n._OrtRunWithBinding=(t,o,s,c,w)=>(n._OrtRunWithBinding=E.ha)(t,o,s,c,w),n._OrtRun=(t,o,s,c,w,S,I,V)=>(n._OrtRun=E.ia)(t,o,s,c,w,S,I,V),n._OrtEndProfiling=t=>(n._OrtEndProfiling=E.ja)(t),n._OrtTrainingLoadCheckpoint=(t,o)=>(n._OrtTrainingLoadCheckpoint=E.ka)(t,o),n._OrtTrainingReleaseCheckpoint=t=>(n._OrtTrainingReleaseCheckpoint=E.la)(t),n._OrtTrainingCreateSession=(t,o,s,c,w,S,I,V)=>(n._OrtTrainingCreateSession=E.ma)(t,o,s,c,w,S,I,V),n._OrtTrainingLazyResetGrad=t=>(n._OrtTrainingLazyResetGrad=E.na)(t),n._OrtTrainingRunTrainStep=(t,o,s,c,w,S)=>(n._OrtTrainingRunTrainStep=E.oa)(t,o,s,c,w,S),n._OrtTrainingOptimizerStep=(t,o)=>(n._OrtTrainingOptimizerStep=E.pa)(t,o),n._OrtTrainingEvalStep=(t,o,s,c,w,S)=>(n._OrtTrainingEvalStep=E.qa)(t,o,s,c,w,S),n._OrtTrainingGetParametersSize=(t,o,s)=>(n._OrtTrainingGetParametersSize=E.ra)(t,o,s),n._OrtTrainingCopyParametersToBuffer=(t,o,s,c)=>(n._OrtTrainingCopyParametersToBuffer=E.sa)(t,o,s,c),n._OrtTrainingCopyParametersFromBuffer=(t,o,s,c)=>(n._OrtTrainingCopyParametersFromBuffer=E.ta)(t,o,s,c),n._OrtTrainingGetModelInputOutputCount=(t,o,s,c)=>(n._OrtTrainingGetModelInputOutputCount=E.ua)(t,o,s,c),n._OrtTrainingGetModelInputOutputName=(t,o,s,c)=>(n._OrtTrainingGetModelInputOutputName=E.va)(t,o,s,c),n._OrtTrainingReleaseSession=t=>(n._OrtTrainingReleaseSession=E.wa)(t);var Qe=n._malloc=t=>(Qe=n._malloc=E.xa)(t);n._free=t=>(n._free=E.ya)(t);var He=t=>(He=E.Aa)(t),Ze=()=>(Ze=E.Ba)(),ze=t=>(ze=E.Ca)(t),A=t=>(A=E.Da)(t);function Ge(t){t=Object.assign({},t);var o=c=>()=>c()>>>0,s=c=>w=>c(w)>>>0;return t.__errno_location=o(t.__errno_location),t.malloc=s(t.malloc),t.stackSave=o(t.stackSave),t.stackAlloc=s(t.stackAlloc),t}n.stackAlloc=A,n.stackSave=Ze,n.stackRestore=ze,n.UTF8ToString=Ce,n.stringToUTF8=(t,o,s)=>We(t,Q,o,s),n.lengthBytesUTF8=ke;var Le;ne=function t(){Le||Ue(),Le||(ne=t)};function Ue(){function t(){if(!Le&&(Le=!0,n.calledRun=!0,!he)){if(Ee(be),y(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;){var o=n.postRun.shift();C.unshift(o)}Ee(C)}}if(!(0<de)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)T();Ee(Oe),0<de||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),t()},1)):t())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return Ue(),m.ready}})();typeof lr=="object"&&typeof Ct=="object"?Ct.exports=fr:typeof define=="function"&&define.amd&&define([],()=>fr)});var dr=rt(()=>{});var pr=rt(()=>{});var mr={};Et(mr,{cpus:()=>Zr});var Zr,gr=vt(()=>{Zr=void 0});var Or=rt((yr,Rt)=>{"use strict";var hr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(m={}){function n(){return C.buffer!=z.buffer&&me(),z}function y(){return C.buffer!=z.buffer&&me(),ue}function l(){return C.buffer!=z.buffer&&me(),we}function b(){return C.buffer!=z.buffer&&me(),_e}function g(){return C.buffer!=z.buffer&&me(),Ie}var i=m,R,F;i.ready=new Promise((e,r)=>{R=e,F=r});var L=Object.assign({},i),B="./this.program",D=(e,r)=>{throw r},P=typeof window=="object",W=typeof importScripts=="function",U=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v=i.ENVIRONMENT_IS_PTHREAD||!1,x="";function q(e){return i.locateFile?i.locateFile(e,x):x+e}var De,ce,E;if(U){var he=(Tt(),nt(St)),ye=(At(),nt(Mt));x=W?ye.dirname(x)+"/":__dirname+"/",De=(r,a)=>(r=r.startsWith("file://")?new URL(r):ye.normalize(r),he.readFileSync(r,a?void 0:"utf8")),E=r=>(r=De(r,!0),r.buffer||(r=new Uint8Array(r)),r),ce=(r,a,f,O=!0)=>{r=r.startsWith("file://")?new URL(r):ye.normalize(r),he.readFile(r,O?void 0:"utf8",(h,_)=>{h?f(h):a(O?_.buffer:_)})},!i.thisProgram&&1<process.argv.length&&(B=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),D=(r,a)=>{throw process.exitCode=r,a},i.inspect=()=>"[Emscripten Module object]";let e;try{e=dr()}catch(r){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),r}global.Worker=e.Worker}else(P||W)&&(W?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),typeof u<"u"&&u&&(x=u),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",U||(De=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},W&&(E=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),ce=(e,r,a)=>{var f=new XMLHttpRequest;f.open("GET",e,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?r(f.response):a()},f.onerror=a,f.send(null)}));U&&typeof performance>"u"&&(global.performance=pr().performance);var Q=console.log.bind(console),M=console.error.bind(console);U&&(Q=(...e)=>he.writeSync(1,e.join(" ")+`\n`),M=(...e)=>he.writeSync(2,e.join(" ")+`\n`));var Z=i.print||Q,re=i.printErr||M;Object.assign(i,L),L=null,i.thisProgram&&(B=i.thisProgram),i.quit&&(D=i.quit);var Oe;i.wasmBinary&&(Oe=i.wasmBinary);var be=i.noExitRuntime||!0;typeof WebAssembly!="object"&&ge("no native wasm support detected");var C,T,de,ie=!1,ne,z,ue,we,_e,Ie;function me(){var e=C.buffer;i.HEAP8=z=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=we=new Int32Array(e),i.HEAPU8=ue=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=_e=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=Ie=new Float64Array(e)}var Ae=i.INITIAL_MEMORY||16777216;if(5242880<=Ae||ge("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Ae+"! (STACK_SIZE=5242880)"),v)C=i.wasmMemory;else if(i.wasmMemory)C=i.wasmMemory;else if(C=new WebAssembly.Memory({initial:Ae/65536,maximum:65536,shared:!0}),!(C.buffer instanceof SharedArrayBuffer))throw re("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),U&&re("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");me(),Ae=C.buffer.byteLength;var ve,se=[],Ee=[],ee=[],K=0;function Se(){return be||0<K}var pe=0,Fe=null,Ce=null;function ke(){pe++,i.monitorRunDependencies&&i.monitorRunDependencies(pe)}function We(){if(pe--,i.monitorRunDependencies&&i.monitorRunDependencies(pe),pe==0&&(Fe!==null&&(clearInterval(Fe),Fe=null),Ce)){var e=Ce;Ce=null,e()}}function ge(e){throw i.onAbort&&i.onAbort(e),e="Aborted("+e+")",re(e),ie=!0,ne=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),F(e),e}function je(e){return e.startsWith("data:application/octet-stream;base64,")}var Re;Re="ort-wasm-threaded.wasm",je(Re)||(Re=q(Re));function $e(e){if(e==Re&&Oe)return new Uint8Array(Oe);if(E)return E(e);throw"both async and sync fetching of the wasm failed"}function qe(e){if(!Oe&&(P||W)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at \'"+e+"\'";return r.arrayBuffer()}).catch(()=>$e(e));if(ce)return new Promise((r,a)=>{ce(e,f=>r(new Uint8Array(f)),a)})}return Promise.resolve().then(()=>$e(e))}function Ve(e,r,a){return qe(e).then(f=>WebAssembly.instantiate(f,r)).then(f=>f).then(a,f=>{re("failed to asynchronously prepare wasm: "+f),ge(f)})}function Je(e,r){var a=Re;return Oe||typeof WebAssembly.instantiateStreaming!="function"||je(a)||a.startsWith("file://")||U||typeof fetch!="function"?Ve(a,e,r):fetch(a,{credentials:"same-origin"}).then(f=>WebAssembly.instantiateStreaming(f,e).then(r,function(O){return re("wasm streaming compile failed: "+O),re("falling back to ArrayBuffer instantiation"),Ve(a,e,r)}))}var Pe;function xe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function Ne(e){e.terminate(),e.onmessage=()=>{}}function it(e){(e=A.La[e])||ge(),A.lb(e)}function Xe(e){var r=A.gb();if(!r)return 6;A.Pa.push(r),A.La[e.Na]=r,r.Na=e.Na;var a={cmd:"run",start_routine:e.mb,arg:e.fb,pthread_ptr:e.Na};return U&&r.unref(),r.postMessage(a,e.sb),0}var st=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Qe=(e,r,a)=>{r>>>=0;var f=r+a;for(a=r;e[a]&&!(a>=f);)++a;if(16<a-r&&e.buffer&&st)return st.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,a):e.subarray(r,a));for(f="";r<a;){var O=e[r++];if(O&128){var h=e[r++]&63;if((O&224)==192)f+=String.fromCharCode((O&31)<<6|h);else{var _=e[r++]&63;O=(O&240)==224?(O&15)<<12|h<<6|_:(O&7)<<18|h<<12|_<<6|e[r++]&63,65536>O?f+=String.fromCharCode(O):(O-=65536,f+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else f+=String.fromCharCode(O)}return f},He=(e,r)=>(e>>>=0)?Qe(y(),e,r):"";function Ze(e){if(v)return G(1,1,e);ne=e,Se()||(A.nb(),i.onExit&&i.onExit(e),ie=!0),D(e,new xe(e))}var ze=e=>{if(ne=e,v)throw Le(e),"unwind";Ze(e)},A={Oa:[],Pa:[],ab:[],La:{},Va:function(){v?A.ib():A.hb()},hb:function(){for(var e=i.numThreads;e--;)A.Xa();se.unshift(()=>{ke(),A.jb(()=>We())})},ib:function(){A.receiveObjectTransfer=A.kb,A.threadInitTLS=A.$a,A.setExitStatus=A.Za,be=!1},Za:function(e){ne=e},xb:["$terminateWorker"],nb:function(){for(var e of A.Pa)Ne(e);for(e of A.Oa)Ne(e);A.Oa=[],A.Pa=[],A.La=[]},lb:function(e){var r=e.Na;delete A.La[r],A.Oa.push(e),A.Pa.splice(A.Pa.indexOf(e),1),e.Na=0,yt(r)},kb:function(){},$a:function(){A.ab.forEach(e=>e())},Ya:e=>new Promise(r=>{e.onmessage=h=>{h=h.data;var _=h.cmd;if(h.targetThread&&h.targetThread!=ft()){var Y=A.La[h.wb];Y?Y.postMessage(h,h.transferList):re(\'Internal error! Worker sent a message "\'+_+\'" to target pthread \'+h.targetThread+", but that thread no longer exists!")}else _==="checkMailbox"?ut():_==="spawnThread"?Xe(h):_==="cleanupThread"?it(h.thread):_==="killThread"?(h=h.thread,_=A.La[h],delete A.La[h],Ne(_),yt(h),A.Pa.splice(A.Pa.indexOf(_),1),_.Na=0):_==="cancelThread"?A.La[h.thread].postMessage({cmd:"cancel"}):_==="loaded"?(e.loaded=!0,U&&!e.Na&&e.unref(),r(e)):_==="alert"?alert("Thread "+h.threadId+": "+h.text):h.target==="setimmediate"?e.postMessage(h):_==="callHandler"?i[h.handler](...h.args):_&&re("worker sent an unknown command "+_)},e.onerror=h=>{throw re("worker sent an error! "+h.filename+":"+h.lineno+": "+h.message),h},U&&(e.on("message",function(h){e.onmessage({data:h})}),e.on("error",function(h){e.onerror(h)}));var a=[],f=["onExit","onAbort","print","printErr"],O;for(O of f)i.hasOwnProperty(O)&&a.push(O);e.postMessage({cmd:"load",handlers:a,urlOrBlob:i.mainScriptUrlOrBlob||u,wasmMemory:C,wasmModule:de})}),jb:function(e){if(v)return e();Promise.all(A.Oa.map(A.Ya)).then(e)},Xa:function(){var e=q("ort-wasm-threaded.worker.js");e=new Worker(e),A.Oa.push(e)},gb:function(){return A.Oa.length==0&&(A.Xa(),A.Ya(A.Oa[0])),A.Oa.pop()}};i.PThread=A;var Ge=e=>{for(;0<e.length;)e.shift()(i)};i.establishStackSpace=function(){var e=ft(),r=l()[e+52>>2>>>0];e=l()[e+56>>2>>>0],ar(r,r-e),lt(r)};function Le(e){if(v)return G(2,0,e);ze(e)}var Ue=[];i.invokeEntryPoint=function(e,r){var a=Ue[e];a||(e>=Ue.length&&(Ue.length=e+1),Ue[e]=a=ve.get(e)),e=a(r),Se()?A.Za(e):Ot(e)};function t(e){this.Ua=e-24,this.eb=function(r){b()[this.Ua+4>>2>>>0]=r},this.cb=function(r){b()[this.Ua+8>>2>>>0]=r},this.Va=function(r,a){this.bb(),this.eb(r),this.cb(a)},this.bb=function(){b()[this.Ua+16>>2>>>0]=0}}var o=0,s=0;function c(e,r,a,f){return v?G(3,1,e,r,a,f):w(e,r,a,f)}function w(e,r,a,f){if(e>>>=0,r>>>=0,a>>>=0,f>>>=0,typeof SharedArrayBuffer>"u")return re("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var O=[];return v&&O.length===0?c(e,r,a,f):(e={mb:a,Na:e,fb:f,sb:O},v?(e.ub="spawnThread",postMessage(e,O),0):Xe(e))}function S(e,r,a){return v?G(4,1,e,r,a):0}function I(e,r){if(v)return G(5,1,e,r)}var V=e=>{for(var r=0,a=0;a<e.length;++a){var f=e.charCodeAt(a);127>=f?r++:2047>=f?r+=2:55296<=f&&57343>=f?(r+=4,++a):r+=3}return r},fe=(e,r,a,f)=>{if(a>>>=0,!(0<f))return 0;var O=a;f=a+f-1;for(var h=0;h<e.length;++h){var _=e.charCodeAt(h);if(55296<=_&&57343>=_){var Y=e.charCodeAt(++h);_=65536+((_&1023)<<10)|Y&1023}if(127>=_){if(a>=f)break;r[a++>>>0]=_}else{if(2047>=_){if(a+1>=f)break;r[a++>>>0]=192|_>>6}else{if(65535>=_){if(a+2>=f)break;r[a++>>>0]=224|_>>12}else{if(a+3>=f)break;r[a++>>>0]=240|_>>18,r[a++>>>0]=128|_>>12&63}r[a++>>>0]=128|_>>6&63}r[a++>>>0]=128|_&63}}return r[a>>>0]=0,a-O},ae=(e,r,a)=>fe(e,y(),r,a);function oe(e,r){if(v)return G(6,1,e,r)}function Ke(e,r,a){if(v)return G(7,1,e,r,a)}function et(e,r,a){return v?G(8,1,e,r,a):0}function d(e,r){if(v)return G(9,1,e,r)}function k(e,r,a){if(v)return G(10,1,e,r,a)}function H(e,r,a,f){if(v)return G(11,1,e,r,a,f)}function Te(e,r,a,f){if(v)return G(12,1,e,r,a,f)}function tt(e,r,a,f){if(v)return G(13,1,e,r,a,f)}function Lt(e){if(v)return G(14,1,e)}function Ut(e,r){if(v)return G(15,1,e,r)}function Bt(e,r,a){if(v)return G(16,1,e,r,a)}var kr=e=>{if(!ie)try{if(e(),!Se())try{v?Ot(ne):ze(ne)}catch(r){r instanceof xe||r=="unwind"||D(1,r)}}catch(r){r instanceof xe||r=="unwind"||D(1,r)}};function pt(e){e>>>=0,typeof Atomics.tb=="function"&&(Atomics.tb(l(),e>>2,e).value.then(ut),e+=128,Atomics.store(l(),e>>2,1))}i.__emscripten_thread_mailbox_await=pt;function ut(){var e=ft();e&&(pt(e),kr(()=>rr()))}i.checkMailbox=ut;var Ye=e=>e%4===0&&(e%100!==0||e%400===0),kt=[0,31,60,91,121,152,182,213,244,274,305,335],Wt=[0,31,59,90,120,151,181,212,243,273,304,334];function Nt(e,r,a,f,O,h,_,Y){return v?G(17,1,e,r,a,f,O,h,_,Y):-52}function Ht(e,r,a,f,O,h,_){if(v)return G(18,1,e,r,a,f,O,h,_)}var zt=e=>{var r=V(e)+1,a=Kt(r);return a&&ae(e,a,r),a},Wr=e=>{var r=bt();return e=e(),lt(r),e};function G(e,r){var a=arguments.length-2,f=arguments;return Wr(()=>{for(var O=wt(8*a),h=O>>3,_=0;_<a;_++){var Y=f[2+_];g()[h+_>>>0]=Y}return tr(e,a,O,r)})}var mt=[],gt={},Gt=()=>{if(!ht){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"},r;for(r in gt)gt[r]===void 0?delete e[r]:e[r]=gt[r];var a=[];for(r in e)a.push(`${r}=${e[r]}`);ht=a}return ht},ht;function Yt(e,r){if(v)return G(19,1,e,r);e>>>=0,r>>>=0;var a=0;return Gt().forEach(function(f,O){var h=r+a;for(O=b()[e+4*O>>2>>>0]=h,h=0;h<f.length;++h)n()[O++>>0>>>0]=f.charCodeAt(h);n()[O>>0>>>0]=0,a+=f.length+1}),0}function jt(e,r){if(v)return G(20,1,e,r);e>>>=0,r>>>=0;var a=Gt();b()[e>>2>>>0]=a.length;var f=0;return a.forEach(function(O){f+=O.length+1}),b()[r>>2>>>0]=f,0}function $t(e){return v?G(21,1,e):52}function qt(e,r,a,f){return v?G(22,1,e,r,a,f):52}function Vt(e,r,a,f,O){return v?G(23,1,e,r,a,f,O):70}var Nr=[null,[],[]];function Jt(e,r,a,f){if(v)return G(24,1,e,r,a,f);r>>>=0,a>>>=0,f>>>=0;for(var O=0,h=0;h<a;h++){var _=b()[r>>2>>>0],Y=b()[r+4>>2>>>0];r+=8;for(var Me=0;Me<Y;Me++){var te=y()[_+Me>>>0],le=Nr[e];te===0||te===10?((e===1?Z:re)(Qe(le,0)),le.length=0):le.push(te)}O+=Y}return b()[f>>2>>>0]=O,0}var Xt=[31,29,31,30,31,30,31,31,30,31,30,31],Qt=[31,28,31,30,31,30,31,31,30,31,30,31];function Hr(e){var r=Array(V(e)+1);return fe(e,r,0,r.length),r}var zr=(e,r)=>{n().set(e,r>>>0)};function Zt(e,r,a,f){function O(p,N,j){for(p=typeof p=="number"?p.toString():p||"";p.length<N;)p=j[0]+p;return p}function h(p,N){return O(p,N,"0")}function _(p,N){function j(ur){return 0>ur?-1:0<ur?1:0}var Be;return(Be=j(p.getFullYear()-N.getFullYear()))===0&&(Be=j(p.getMonth()-N.getMonth()))===0&&(Be=j(p.getDate()-N.getDate())),Be}function Y(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function Me(p){var N=p.Qa;for(p=new Date(new Date(p.Ra+1900,0,1).getTime());0<N;){var j=p.getMonth(),Be=(Ye(p.getFullYear())?Xt:Qt)[j];if(N>Be-p.getDate())N-=Be-p.getDate()+1,p.setDate(1),11>j?p.setMonth(j+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+N);break}}return j=new Date(p.getFullYear()+1,0,4),N=Y(new Date(p.getFullYear(),0,4)),j=Y(j),0>=_(N,p)?0>=_(j,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}e>>>=0,r>>>=0,a>>>=0,f>>>=0;var te=l()[f+40>>2>>>0];f={qb:l()[f>>2>>>0],pb:l()[f+4>>2>>>0],Sa:l()[f+8>>2>>>0],Wa:l()[f+12>>2>>>0],Ta:l()[f+16>>2>>>0],Ra:l()[f+20>>2>>>0],Ma:l()[f+24>>2>>>0],Qa:l()[f+28>>2>>>0],yb:l()[f+32>>2>>>0],ob:l()[f+36>>2>>>0],rb:te?He(te):""},a=He(a),te={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var le in te)a=a.replace(new RegExp(le,"g"),te[le]);var ir="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),sr="January February March April May June July August September October November December".split(" ");te={"%a":p=>ir[p.Ma].substring(0,3),"%A":p=>ir[p.Ma],"%b":p=>sr[p.Ta].substring(0,3),"%B":p=>sr[p.Ta],"%C":p=>h((p.Ra+1900)/100|0,2),"%d":p=>h(p.Wa,2),"%e":p=>O(p.Wa,2," "),"%g":p=>Me(p).toString().substring(2),"%G":p=>Me(p),"%H":p=>h(p.Sa,2),"%I":p=>(p=p.Sa,p==0?p=12:12<p&&(p-=12),h(p,2)),"%j":p=>{for(var N=0,j=0;j<=p.Ta-1;N+=(Ye(p.Ra+1900)?Xt:Qt)[j++]);return h(p.Wa+N,3)},"%m":p=>h(p.Ta+1,2),"%M":p=>h(p.pb,2),"%n":()=>`\n`,"%p":p=>0<=p.Sa&&12>p.Sa?"AM":"PM","%S":p=>h(p.qb,2),"%t":()=>"	","%u":p=>p.Ma||7,"%U":p=>h(Math.floor((p.Qa+7-p.Ma)/7),2),"%V":p=>{var N=Math.floor((p.Qa+7-(p.Ma+6)%7)/7);if(2>=(p.Ma+371-p.Qa-2)%7&&N++,N)N==53&&(j=(p.Ma+371-p.Qa)%7,j==4||j==3&&Ye(p.Ra)||(N=1));else{N=52;var j=(p.Ma+7-p.Qa-1)%7;(j==4||j==5&&Ye(p.Ra%400-1))&&N++}return h(N,2)},"%w":p=>p.Ma,"%W":p=>h(Math.floor((p.Qa+7-(p.Ma+6)%7)/7),2),"%y":p=>(p.Ra+1900).toString().substring(2),"%Y":p=>p.Ra+1900,"%z":p=>{p=p.ob;var N=0<=p;return p=Math.abs(p)/60,(N?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.rb,"%%":()=>"%"},a=a.replace(/%%/g,"\\0\\0");for(le in te)a.includes(le)&&(a=a.replace(new RegExp(le,"g"),te[le](f)));return a=a.replace(/\\0\\0/g,"%"),le=Hr(a),le.length>r?0:(zr(le,e),le.length-1)}A.Va();var Gr=[null,Ze,Le,c,S,I,oe,Ke,et,d,k,H,Te,tt,Lt,Ut,Bt,Nt,Ht,Yt,jt,$t,qt,Vt,Jt],Yr={b:function(e,r,a){throw e>>>=0,new t(e).Va(r>>>0,a>>>0),o=e,s++,o},N:function(e){er(e>>>0,!W,1,!P,131072,!1),A.$a()},j:function(e){e>>>=0,v?postMessage({cmd:"cleanupThread",thread:e}):it(e)},I:w,h:S,T:I,D:oe,F:Ke,U:et,R:d,J:k,Q:H,n:Te,E:tt,B:Lt,S:Ut,C:Bt,q:()=>!0,z:function(e,r){e>>>=0,e==r>>>0?setTimeout(()=>ut()):v?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=A.La[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:pt,p:function(e){U&&A.La[e>>>0].ref()},t:function(e,r,a){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,a>>>=0,e=new Date(1e3*e),l()[a>>2>>>0]=e.getUTCSeconds(),l()[a+4>>2>>>0]=e.getUTCMinutes(),l()[a+8>>2>>>0]=e.getUTCHours(),l()[a+12>>2>>>0]=e.getUTCDate(),l()[a+16>>2>>>0]=e.getUTCMonth(),l()[a+20>>2>>>0]=e.getUTCFullYear()-1900,l()[a+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[a+28>>2>>>0]=e},u:function(e,r,a){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,a>>>=0,e=new Date(1e3*e),l()[a>>2>>>0]=e.getSeconds(),l()[a+4>>2>>>0]=e.getMinutes(),l()[a+8>>2>>>0]=e.getHours(),l()[a+12>>2>>>0]=e.getDate(),l()[a+16>>2>>>0]=e.getMonth(),l()[a+20>>2>>>0]=e.getFullYear()-1900,l()[a+24>>2>>>0]=e.getDay(),r=(Ye(e.getFullYear())?kt:Wt)[e.getMonth()]+e.getDate()-1|0,l()[a+28>>2>>>0]=r,l()[a+36>>2>>>0]=-(60*e.getTimezoneOffset()),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var f=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(r!=f&&e.getTimezoneOffset()==Math.min(f,r))|0,l()[a+32>>2>>>0]=e},v:function(e){e>>>=0;var r=new Date(l()[e+20>>2>>>0]+1900,l()[e+16>>2>>>0],l()[e+12>>2>>>0],l()[e+8>>2>>>0],l()[e+4>>2>>>0],l()[e>>2>>>0],0),a=l()[e+32>>2>>>0],f=r.getTimezoneOffset(),O=new Date(r.getFullYear(),6,1).getTimezoneOffset(),h=new Date(r.getFullYear(),0,1).getTimezoneOffset(),_=Math.min(h,O);return 0>a?l()[e+32>>2>>>0]=+(O!=h&&_==f):0<a!=(_==f)&&(O=Math.max(h,O),r.setTime(r.getTime()+6e4*((0<a?_:O)-f))),l()[e+24>>2>>>0]=r.getDay(),a=(Ye(r.getFullYear())?kt:Wt)[r.getMonth()]+r.getDate()-1|0,l()[e+28>>2>>>0]=a,l()[e>>2>>>0]=r.getSeconds(),l()[e+4>>2>>>0]=r.getMinutes(),l()[e+8>>2>>>0]=r.getHours(),l()[e+12>>2>>>0]=r.getDate(),l()[e+16>>2>>>0]=r.getMonth(),l()[e+20>>2>>>0]=r.getYear(),e=r.getTime()/1e3,nr((Pe=e,1<=+Math.abs(Pe)?0<Pe?+Math.floor(Pe/4294967296)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)),e>>>0},r:Nt,s:Ht,y:function(e,r,a){function f(te){return(te=te.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?te[1]:"GMT"}e>>>=0,r>>>=0,a>>>=0;var O=new Date().getFullYear(),h=new Date(O,0,1),_=new Date(O,6,1);O=h.getTimezoneOffset();var Y=_.getTimezoneOffset(),Me=Math.max(O,Y);b()[e>>2>>>0]=60*Me,l()[r>>2>>>0]=+(O!=Y),e=f(h),r=f(_),e=zt(e),r=zt(r),Y<O?(b()[a>>2>>>0]=e,b()[a+4>>2>>>0]=r):(b()[a>>2>>>0]=r,b()[a+4>>2>>>0]=e)},c:()=>{ge("")},k:function(){},i:function(){return Date.now()},o:()=>{throw K+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return U?(gr(),nt(mr)).cpus().length:navigator.hardwareConcurrency},K:function(e,r,a,f){for(A.vb=r>>>0,mt.length=a,r=f>>>0>>3,f=0;f<a;f++)mt[f]=g()[r+f>>>0];return Gr[e].apply(null,mt)},x:function(e){e>>>=0;var r=y().length;if(e<=r||4294901760<e)return!1;for(var a=1;4>=a;a*=2){var f=r*(1+.2/a);f=Math.min(f,e+100663296);var O=Math;f=Math.max(e,f);e:{O=O.min.call(O,4294901760,f+(65536-f%65536)%65536)-C.buffer.byteLength+65535>>>16;try{C.grow(O),me();var h=1;break e}catch{}h=void 0}if(h)return!0}return!1},O:Yt,P:jt,H:ze,g:$t,m:qt,w:Vt,l:Jt,a:C||i.wasmMemory,G:Zt,d:function(e,r,a,f){return Zt(e>>>0,r>>>0,a>>>0,f>>>0)}};(function(){function e(a,f){return a=a.exports,T=a=jr(a),A.ab.push(T.ya),ve=T.za,Ee.unshift(T.V),de=f,We(),a}var r={a:Yr};if(ke(),i.instantiateWasm)try{return i.instantiateWasm(r,e)}catch(a){re("Module.instantiateWasm callback failed with error: "+a),F(a)}return Je(r,function(a){e(a.instance,a.module)}).catch(F),{}})(),i._OrtInit=(e,r)=>(i._OrtInit=T.W)(e,r),i._OrtGetLastError=(e,r)=>(i._OrtGetLastError=T.X)(e,r),i._OrtCreateSessionOptions=(e,r,a,f,O,h,_,Y,Me,te)=>(i._OrtCreateSessionOptions=T.Y)(e,r,a,f,O,h,_,Y,Me,te),i._OrtAppendExecutionProvider=(e,r)=>(i._OrtAppendExecutionProvider=T.Z)(e,r),i._OrtAddFreeDimensionOverride=(e,r,a)=>(i._OrtAddFreeDimensionOverride=T._)(e,r,a),i._OrtAddSessionConfigEntry=(e,r,a)=>(i._OrtAddSessionConfigEntry=T.$)(e,r,a),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=T.aa)(e),i._OrtCreateSession=(e,r,a)=>(i._OrtCreateSession=T.ba)(e,r,a),i._OrtReleaseSession=e=>(i._OrtReleaseSession=T.ca)(e),i._OrtGetInputOutputCount=(e,r,a)=>(i._OrtGetInputOutputCount=T.da)(e,r,a),i._OrtGetInputName=(e,r)=>(i._OrtGetInputName=T.ea)(e,r),i._OrtGetOutputName=(e,r)=>(i._OrtGetOutputName=T.fa)(e,r),i._OrtFree=e=>(i._OrtFree=T.ga)(e),i._OrtCreateTensor=(e,r,a,f,O,h)=>(i._OrtCreateTensor=T.ha)(e,r,a,f,O,h),i._OrtGetTensorData=(e,r,a,f,O)=>(i._OrtGetTensorData=T.ia)(e,r,a,f,O),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=T.ja)(e),i._OrtCreateRunOptions=(e,r,a,f)=>(i._OrtCreateRunOptions=T.ka)(e,r,a,f),i._OrtAddRunConfigEntry=(e,r,a)=>(i._OrtAddRunConfigEntry=T.la)(e,r,a),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=T.ma)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=T.na)(e),i._OrtBindInput=(e,r,a)=>(i._OrtBindInput=T.oa)(e,r,a),i._OrtBindOutput=(e,r,a,f)=>(i._OrtBindOutput=T.pa)(e,r,a,f),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=T.qa)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=T.ra)(e),i._OrtRunWithBinding=(e,r,a,f,O)=>(i._OrtRunWithBinding=T.sa)(e,r,a,f,O),i._OrtRun=(e,r,a,f,O,h,_,Y)=>(i._OrtRun=T.ta)(e,r,a,f,O,h,_,Y),i._OrtEndProfiling=e=>(i._OrtEndProfiling=T.ua)(e);var ft=i._pthread_self=()=>(ft=i._pthread_self=T.va)(),Kt=i._malloc=e=>(Kt=i._malloc=T.wa)(e);i._free=e=>(i._free=T.xa)(e),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=T.ya)();var er=i.__emscripten_thread_init=(e,r,a,f,O,h)=>(er=i.__emscripten_thread_init=T.Aa)(e,r,a,f,O,h);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=T.Ba)();var tr=(e,r,a,f)=>(tr=T.Ca)(e,r,a,f),yt=e=>(yt=T.Da)(e),Ot=i.__emscripten_thread_exit=e=>(Ot=i.__emscripten_thread_exit=T.Ea)(e),rr=i.__emscripten_check_mailbox=()=>(rr=i.__emscripten_check_mailbox=T.Fa)(),nr=e=>(nr=T.Ga)(e),ar=(e,r)=>(ar=T.Ha)(e,r),bt=()=>(bt=T.Ia)(),lt=e=>(lt=T.Ja)(e),wt=e=>(wt=T.Ka)(e);function jr(e){e=Object.assign({},e);var r=f=>()=>f()>>>0,a=f=>O=>f(O)>>>0;return e.__errno_location=r(e.__errno_location),e.pthread_self=r(e.pthread_self),e.malloc=a(e.malloc),e.stackSave=r(e.stackSave),e.stackAlloc=a(e.stackAlloc),e}i.keepRuntimeAlive=Se,i.wasmMemory=C,i.stackAlloc=wt,i.stackSave=bt,i.stackRestore=lt,i.UTF8ToString=He,i.stringToUTF8=ae,i.lengthBytesUTF8=V,i.ExitStatus=xe,i.PThread=A;var ct;Ce=function e(){ct||or(),ct||(Ce=e)};function or(){function e(){if(!ct&&(ct=!0,i.calledRun=!0,!ie)&&(v||Ge(Ee),R(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),!v)){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;){var r=i.postRun.shift();ee.unshift(r)}Ge(ee)}}if(!(0<pe))if(v)R(i),v||Ge(Ee),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)se.unshift(i.preRun.shift());Ge(se),0<pe||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e())}}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return or(),m.ready}})();typeof yr=="object"&&typeof Rt=="object"?Rt.exports=hr:typeof define=="function"&&define.amd&&define([],()=>hr)});var br=rt((hn,Kr)=>{Kr.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var _r;_r=cr();var en=Or(),Dt,It=!1,dt=!1,wr=!1,tn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},rn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},nn=(u,m)=>u?"ort-training-wasm-simd.wasm":m?"ort-wasm-threaded.wasm":"ort-wasm.wasm",vr=async u=>{if(It)return Promise.resolve();if(dt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(wr)throw new Error("previous call to \'initializeWebAssembly()\' failed.");dt=!0;let m=u.initTimeout,n=u.numThreads,y=u.simd,l=n>1&&tn(),b=y&&rn(),g=u.wasmPaths,i=typeof g=="string"?g:void 0,R=nn(b,l),F=typeof g=="object"?g[R]:void 0,L=!1,B=[];if(m>0&&B.push(new Promise(D=>{setTimeout(()=>{L=!0,D()},m)})),B.push(new Promise((D,P)=>{let W=l?en:_r,U={locateFile:(v,x)=>l&&v.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([br()],{type:"text/javascript"})):v.endsWith(".wasm")?F||(i??x)+R:x+v};if(l)if(U.numThreads=n,typeof Blob>"u")U.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let v=`var ortWasmThreaded=${W.toString()};`;U.mainScriptUrlOrBlob=new Blob([v],{type:"text/javascript"})}W(U).then(v=>{dt=!1,It=!0,Dt=v,D()},v=>{dt=!1,wr=!0,P(v)})})),await Promise.race(B),L)throw new Error(`WebAssembly backend initializing failed due to timeout: ${m}ms`)},J=()=>{if(It&&Dt)return Dt;throw new Error("WebAssembly is not initialized yet.")};var X=(u,m)=>{let n=J(),y=n.lengthBytesUTF8(u)+1,l=n._malloc(y);return n.stringToUTF8(u,l,y),m.push(l),l},at=(u,m,n,y)=>{if(typeof u=="object"&&u!==null){if(n.has(u))throw new Error("Circular reference in options");n.add(u)}Object.entries(u).forEach(([l,b])=>{let g=m?m+l:l;if(typeof b=="object")at(b,g+".",n,y);else if(typeof b=="string"||typeof b=="number")y(g,b.toString());else if(typeof b=="boolean")y(g,b?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof b}`)})},$=u=>{let m=J(),n=m.stackSave();try{let y=m.stackAlloc(8);m._OrtGetLastError(y,y+4);let l=m.HEAP32[y/4],b=m.HEAPU32[y/4+1],g=b?m.UTF8ToString(b):"";throw new Error(`${u} ERROR_CODE: ${l}, ERROR_MESSAGE: ${g}`)}finally{m.stackRestore(n)}};var Er=u=>{let m=J(),n=0,y=[],l=u||{};try{if(u?.logSeverityLevel===void 0)l.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if(u?.logVerbosityLevel===void 0)l.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);u?.terminate===void 0&&(l.terminate=!1);let b=0;return u?.tag!==void 0&&(b=X(u.tag,y)),n=m._OrtCreateRunOptions(l.logSeverityLevel,l.logVerbosityLevel,!!l.terminate,b),n===0&&$("Can\'t create run options."),u?.extra!==void 0&&at(u.extra,"",new WeakSet,(g,i)=>{let R=X(g,y),F=X(i,y);m._OrtAddRunConfigEntry(n,R,F)!==0&&$(`Can\'t set a run config entry: ${g} - ${i}.`)}),[n,y]}catch(b){throw n!==0&&m._OrtReleaseRunOptions(n),y.forEach(g=>m._free(g)),b}};var an=u=>{switch(u){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${u}`)}},on=u=>{switch(u){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${u}`)}},sn=u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});let m=u.extra.session;m.use_ort_model_bytes_directly||(m.use_ort_model_bytes_directly="1"),u.executionProviders&&u.executionProviders.some(n=>(typeof n=="string"?n:n.name)==="webgpu")&&(u.enableMemPattern=!1)},un=(u,m,n)=>{for(let y of m){let l=typeof y=="string"?y:y.name;switch(l){case"xnnpack":l="XNNPACK";break;case"webnn":if(l="WEBNN",typeof y!="string"){let g=y;if(g?.deviceType){let i=X("deviceType",n),R=X(g.deviceType,n);J()._OrtAddSessionConfigEntry(u,i,R)!==0&&$(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.numThreads){let i=g.numThreads;(typeof i!="number"||!Number.isInteger(i)||i<0)&&(i=0);let R=X("numThreads",n),F=X(i.toString(),n);J()._OrtAddSessionConfigEntry(u,R,F)!==0&&$(`Can\'t set a session config entry: \'numThreads\' - ${g.numThreads}.`)}if(g?.powerPreference){let i=X("powerPreference",n),R=X(g.powerPreference,n);J()._OrtAddSessionConfigEntry(u,i,R)!==0&&$(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(l="JS",typeof y!="string"){let g=y;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let i=X("preferredLayout",n),R=X(g.preferredLayout,n);J()._OrtAddSessionConfigEntry(u,i,R)!==0&&$(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${l}`)}let b=X(l,n);J()._OrtAppendExecutionProvider(u,b)!==0&&$(`Can\'t append execution provider: ${l}.`)}},Sr=u=>{let m=J(),n=0,y=[],l=u||{};sn(l);try{let b=an(l.graphOptimizationLevel??"all"),g=on(l.executionMode??"sequential"),i=typeof l.logId=="string"?X(l.logId,y):0,R=l.logSeverityLevel??2;if(!Number.isInteger(R)||R<0||R>4)throw new Error(`log serverity level is not valid: ${R}`);let F=l.logVerbosityLevel??0;if(!Number.isInteger(F)||F<0||F>4)throw new Error(`log verbosity level is not valid: ${F}`);let L=typeof l.optimizedModelFilePath=="string"?X(l.optimizedModelFilePath,y):0;if(n=m._OrtCreateSessionOptions(b,!!l.enableCpuMemArena,!!l.enableMemPattern,g,!!l.enableProfiling,0,i,R,F,L),n===0&&$("Can\'t create session options."),l.executionProviders&&un(n,l.executionProviders,y),l.freeDimensionOverrides)for(let[B,D]of Object.entries(l.freeDimensionOverrides)){if(typeof B!="string")throw new Error(`free dimension override name must be a string: ${B}`);if(typeof D!="number"||!Number.isInteger(D)||D<0)throw new Error(`free dimension override value must be a non-negative integer: ${D}`);let P=X(B,y);m._OrtAddFreeDimensionOverride(n,P,D)!==0&&$(`Can\'t set a free dimension override: ${B} - ${D}.`)}return l.extra!==void 0&&at(l.extra,"",new WeakSet,(B,D)=>{let P=X(B,y),W=X(D,y);m._OrtAddSessionConfigEntry(n,P,W)!==0&&$(`Can\'t set a session config entry: ${B} - ${D}.`)}),[n,y]}catch(b){throw n!==0&&m._OrtReleaseSessionOptions(n),y.forEach(g=>m._free(g)),b}};var Ft=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},Tr=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},Pt=u=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][u],Mr=u=>{switch(u){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}},Ar=u=>{switch(u){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${u}`)}},Cr=u=>u==="float32"||u==="int32"||u==="int64"||u==="bool"||u==="float16"||u==="uint32",Rr=u=>{switch(u){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${u}`)}};var fn=(u,m)=>{J()._OrtInit(u,m)!==0&&$("Can\'t initialize onnxruntime.")},Ir=async u=>{fn(u.wasm.numThreads,Ar(u.logLevel))},Fr=async(u,m)=>{},ot=new Map,ln=u=>{let m=J(),n=m.stackSave();try{let y=m.stackAlloc(8);return m._OrtGetInputOutputCount(u,y,y+4)!==0&&$("Can\'t get session input/output count."),[m.HEAP32[y/4],m.HEAP32[y/4+1]]}finally{m.stackRestore(n)}},xt=u=>{let m=J(),n=m._malloc(u.byteLength);if(n===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${u.byteLength}.`);return m.HEAPU8.set(u,n),[n,u.byteLength]},Pr=(u,m)=>{let n,y,l=J();Array.isArray(u)?[n,y]=u:u.buffer===l.HEAPU8.buffer?[n,y]=[u.byteOffset,u.byteLength]:[n,y]=xt(u);let b=0,g=0,i=0,R=[],F=[],L=[];try{[g,R]=Sr(m),b=l._OrtCreateSession(n,y,g),b===0&&$("Can\'t create a session.");let[B,D]=ln(b),P=[],W=[],U=[];for(let x=0;x<B;x++){let q=l._OrtGetInputName(b,x);q===0&&$("Can\'t get an input name."),F.push(q),P.push(l.UTF8ToString(q))}for(let x=0;x<D;x++){let q=l._OrtGetOutputName(b,x);q===0&&$("Can\'t get an output name."),L.push(q);let De=l.UTF8ToString(q);W.push(De)}let v=null;return ot.set(b,[b,F,L,v]),[b,P,W]}catch(B){throw F.forEach(D=>l._OrtFree(D)),L.forEach(D=>l._OrtFree(D)),i!==0&&l._OrtReleaseBinding(i),b!==0&&l._OrtReleaseSession(b),B}finally{l._free(n),g!==0&&l._OrtReleaseSessionOptions(g),R.forEach(B=>l._free(B))}},xr=u=>{let m=J(),n=ot.get(u);if(!n)throw new Error(`cannot release session. invalid session id: ${u}`);let[y,l,b,g]=n;g&&m._OrtReleaseBinding(g.handle),m.jsepUnregisterBuffers?.(u),l.forEach(i=>m._OrtFree(i)),b.forEach(i=>m._OrtFree(i)),m._OrtReleaseSession(y),ot.delete(u)},Dr=(u,m,n,y,l)=>{if(!u){m.push(0);return}let b=J(),g=u[0],i=u[1],R=u[3],F,L;if(g==="string"&&R==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(R==="gpu-buffer"){let P=u[2].gpuBuffer,W=Pt(Ft(g));L=i.reduce((U,v)=>U*v,1)*W,F=b.jsepRegisterBuffer(y,l,P,L)}else{let P=u[2];if(Array.isArray(P)){L=4*P.length,F=b._malloc(L),n.push(F);let W=F/4;for(let U=0;U<P.length;U++){if(typeof P[U]!="string")throw new TypeError(`tensor data at index ${U} is not a string`);b.HEAPU32[W++]=X(P[U],n)}}else L=P.byteLength,F=b._malloc(L),n.push(F),b.HEAPU8.set(new Uint8Array(P.buffer,P.byteOffset,L),F)}let B=b.stackSave(),D=b.stackAlloc(4*i.length);try{let P=D/4;i.forEach(U=>b.HEAP32[P++]=U);let W=b._OrtCreateTensor(Ft(g),F,L,D,i.length,Rr(R));W===0&&$(`Can\'t create tensor for input/output. session=${y}, index=${l}.`),m.push(W)}finally{b.stackRestore(B)}},Lr=async(u,m,n,y,l,b)=>{let g=J(),i=ot.get(u);if(!i)throw new Error(`cannot run inference. invalid session id: ${u}`);let[R,F,L,B]=i,D=m.length,P=y.length,W=0,U=[],v=[],x=[],q=[],De=g.stackSave(),ce=g.stackAlloc(D*4),E=g.stackAlloc(D*4),he=g.stackAlloc(P*4),ye=g.stackAlloc(P*4);try{[W,U]=Er(b);for(let C=0;C<D;C++)Dr(n[C],v,q,u,m[C]);for(let C=0;C<P;C++)Dr(l[C],x,q,u,D+y[C]);let Q=ce/4,M=E/4,Z=he/4,re=ye/4;for(let C=0;C<D;C++)g.HEAPU32[Q++]=v[C],g.HEAPU32[M++]=F[m[C]];for(let C=0;C<P;C++)g.HEAPU32[Z++]=x[C],g.HEAPU32[re++]=L[y[C]];let Oe;Oe=await g._OrtRun(R,E,ce,D,ye,P,he,W),Oe!==0&&$("failed to call OrtRun().");let be=[];for(let C=0;C<P;C++){let T=g.HEAPU32[he/4+C];if(T===x[C]){be.push(l[C]);continue}let de=g.stackSave(),ie=g.stackAlloc(4*4),ne=!1,z,ue=0;try{g._OrtGetTensorData(T,ie,ie+4,ie+8,ie+12)!==0&&$(`Can\'t access output tensor data on index ${C}.`);let _e=ie/4,Ie=g.HEAPU32[_e++];ue=g.HEAPU32[_e++];let me=g.HEAPU32[_e++],Ae=g.HEAPU32[_e++],ve=[];for(let ee=0;ee<Ae;ee++)ve.push(g.HEAPU32[me/4+ee]);g._OrtFree(me);let se=ve.reduce((ee,K)=>ee*K,1);z=Tr(Ie);let Ee=B?.outputPreferredLocations[y[C]];if(z==="string"){if(Ee==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let ee=[],K=ue/4;for(let Se=0;Se<se;Se++){let pe=g.HEAPU32[K++],Fe=Se===se-1?void 0:g.HEAPU32[K]-pe;ee.push(g.UTF8ToString(pe,Fe))}be.push([z,ve,ee,"cpu"])}else if(Ee==="gpu-buffer"&&se>0){let ee=g.jsepGetBuffer(ue),K=Pt(Ie);if(K===void 0||!Cr(z))throw new Error(`Unsupported data type: ${z}`);ne=!0,be.push([z,ve,{gpuBuffer:ee,download:g.jsepCreateDownloader(ee,se*K,z),dispose:()=>{g._OrtReleaseTensor(T)}},"gpu-buffer"])}else{let ee=Mr(z),K=new ee(se);new Uint8Array(K.buffer,K.byteOffset,K.byteLength).set(g.HEAPU8.subarray(ue,ue+K.byteLength)),be.push([z,ve,K,"cpu"])}}finally{g.stackRestore(de),z==="string"&&ue&&g._free(ue),ne||g._OrtReleaseTensor(T)}}return B&&g._OrtClearBoundOutputs(B.handle),be}finally{g.stackRestore(De),v.forEach(Q=>g._OrtReleaseTensor(Q)),x.forEach(Q=>g._OrtReleaseTensor(Q)),q.forEach(Q=>g._free(Q)),W!==0&&g._OrtReleaseRunOptions(W),U.forEach(Q=>g._free(Q))}},Ur=u=>{let m=J(),n=ot.get(u);if(!n)throw new Error("invalid session id");let y=n[0],l=m._OrtEndProfiling(y);l===0&&$("Can\'t get an profile file name."),m._OrtFree(l)},Br=u=>{let m=[];for(let n of u){let y=n[2];!Array.isArray(y)&&"buffer"in y&&m.push(y.buffer)}return m};self.onmessage=u=>{let{type:m,in:n}=u.data;try{switch(m){case"init-wasm":vr(n.wasm).then(()=>{Ir(n).then(()=>{postMessage({type:m})},y=>{postMessage({type:m,err:y})})},y=>{postMessage({type:m,err:y})});break;case"init-ep":{let{epName:y,env:l}=n;Fr(l,y).then(()=>{postMessage({type:m})},b=>{postMessage({type:m,err:b})});break}case"copy-from":{let{buffer:y}=n,l=xt(y);postMessage({type:m,out:l});break}case"create":{let{model:y,options:l}=n,b=Pr(y,l);postMessage({type:m,out:b});break}case"release":xr(n),postMessage({type:m});break;case"run":{let{sessionId:y,inputIndices:l,inputs:b,outputIndices:g,options:i}=n;Lr(y,l,b,g,new Array(g.length).fill(null),i).then(R=>{R.some(F=>F[3]!=="cpu")?postMessage({type:m,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:m,out:R},Br(R))},R=>{postMessage({type:m,err:R})});break}case"end-profiling":Ur(n),postMessage({type:m});break;default:}}catch(y){postMessage({type:m,err:y})}};})();\n'});var Ze,Ee,xt,tr,rr,Dr,Br,dt,pt,lo,er,da,pa,ma,ha,ga,ya,wa,Ur=W(()=>{"use strict";Je();Kt();Qe();Ze=()=>!!Y.wasm.proxy&&typeof document<"u",xt=!1,tr=!1,rr=!1,Br=new Map,dt=(n,r)=>{let t=Br.get(n);t?t.push(r):Br.set(n,[r])},pt=()=>{if(xt||!tr||rr||!Ee)throw new Error("worker not ready")},lo=n=>{switch(n.data.type){case"init-wasm":xt=!1,n.data.err?(rr=!0,Dr[1](n.data.err)):(tr=!0,Dr[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let r=Br.get(n.data.type);n.data.err?r.shift()[1](n.data.err):r.shift()[0](n.data.out);break}default:}},er=typeof document<"u"?document?.currentScript?.src:void 0,da=async()=>{if(!tr){if(xt)throw new Error("multiple calls to 'initWasm()' detected.");if(rr)throw new Error("previous call to 'initWasm()' failed.");if(xt=!0,Ze())return Y.wasm.wasmPaths===void 0&&er&&er.indexOf("blob:")!==0&&(Y.wasm.wasmPaths=er.substr(0,+er.lastIndexOf("/")+1)),new Promise((n,r)=>{Ee?.terminate();let t=URL.createObjectURL(new Blob([ca()],{type:"text/javascript"}));Ee=new Worker(t,{name:"ort-wasm-proxy-worker"}),Ee.onerror=a=>r(a),Ee.onmessage=lo,URL.revokeObjectURL(t),Dr=[n,r];let u={type:"init-wasm",in:Y};Ee.postMessage(u)});try{await ra(Y.wasm),await aa(Y),tr=!0}catch(n){throw rr=!0,n}finally{xt=!1}}},pa=async n=>{if(Ze())return pt(),new Promise((r,t)=>{dt("init-ep",[r,t]);let u={type:"init-ep",in:{epName:n,env:Y}};Ee.postMessage(u)});await oa(Y,n)},ma=async n=>Ze()?(pt(),new Promise((r,t)=>{dt("copy-from",[r,t]);let u={type:"copy-from",in:{buffer:n}};Ee.postMessage(u,[n.buffer])})):Pt(n),ha=async(n,r)=>{if(Ze()){if(r?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return pt(),new Promise((t,u)=>{dt("create",[t,u]);let a={type:"create",in:{model:n,options:r}},c=[];n instanceof Uint8Array&&c.push(n.buffer),Ee.postMessage(a,c)})}else return ia(n,r)},ga=async n=>{if(Ze())return pt(),new Promise((r,t)=>{dt("release",[r,t]);let u={type:"release",in:n};Ee.postMessage(u)});sa(n)},ya=async(n,r,t,u,a,c)=>{if(Ze()){if(t.some(l=>l[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(a.some(l=>l))throw new Error("pre-allocated output tensor is not supported for proxy.");return pt(),new Promise((l,o)=>{dt("run",[l,o]);let h=t,m={type:"run",in:{sessionId:n,inputIndices:r,inputs:h,outputIndices:u,options:c}};Ee.postMessage(m,la(h))})}else return ua(n,r,t,u,a,c)},wa=async n=>{if(Ze())return pt(),new Promise((r,t)=>{dt("end-profiling",[r,t]);let u={type:"end-profiling",in:n};Ee.postMessage(u)});fa(n)}});var Ke,ar,nr,Fr=W(()=>{"use strict";Je();Ur();Qt();Ke=(n,r)=>{switch(n.location){case"cpu":return[n.type,n.dims,n.data,"cpu"];case"gpu-buffer":return[n.type,n.dims,{gpuBuffer:n.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${n.location} for ${r()}`)}},ar=n=>{switch(n[3]){case"cpu":return new le(n[0],n[2],n[1]);case"gpu-buffer":{let r=n[0];if(!Jt(r))throw new Error(`not supported data type: ${r} for deserializing GPU tensor`);let{gpuBuffer:t,download:u,dispose:a}=n[2];return le.fromGpuBuffer(t,{dataType:r,dims:n[1],download:u,dispose:a})}default:throw new Error(`invalid data location: ${n[3]}`)}},nr=class{async fetchModelAndCopyToWasmMemory(r){let t=await fetch(r);if(t.status!==200)throw new Error(`failed to load model: ${r}`);let u=await t.arrayBuffer();return ma(new Uint8Array(u))}async loadModel(r,t){We();let u;typeof r=="string"?typeof process<"u"&&process.versions&&process.versions.node?u=await(void 0)(r):u=await this.fetchModelAndCopyToWasmMemory(r):u=r,[this.sessionId,this.inputNames,this.outputNames]=await ha(u,t),ze()}async dispose(){return ga(this.sessionId)}async run(r,t,u){We();let a=[],c=[];Object.entries(r).forEach(_=>{let E=_[0],D=_[1],A=this.inputNames.indexOf(E);if(A===-1)throw new Error(`invalid input '${E}'`);a.push(D),c.push(A)});let l=[],o=[];Object.entries(t).forEach(_=>{let E=_[0],D=_[1],A=this.outputNames.indexOf(E);if(A===-1)throw new Error(`invalid output '${E}'`);l.push(D),o.push(A)});let h=a.map((_,E)=>Ke(_,()=>`input "${this.inputNames[c[E]]}"`)),m=l.map((_,E)=>_?Ke(_,()=>`output "${this.outputNames[o[E]]}"`):null),y=await ya(this.sessionId,c,h,o,m,u),v={};for(let _=0;_<y.length;_++)v[this.outputNames[o[_]]]=l[_]??ar(y[_]);return ze(),v}startProfiling(){}endProfiling(){wa(this.sessionId)}}});var co,or,ba=W(()=>{"use strict";Je();Ur();Fr();co=()=>{if((typeof Y.wasm.initTimeout!="number"||Y.wasm.initTimeout<0)&&(Y.wasm.initTimeout=0),typeof Y.wasm.simd!="boolean"&&(Y.wasm.simd=!0),typeof Y.wasm.proxy!="boolean"&&(Y.wasm.proxy=!1),typeof Y.wasm.trace!="boolean"&&(Y.wasm.trace=!1),typeof Y.wasm.numThreads!="number"||!Number.isInteger(Y.wasm.numThreads)||Y.wasm.numThreads<=0){let n=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;Y.wasm.numThreads=Math.min(4,Math.ceil((n||1)/2))}},or=class{async init(r){co(),await da(),await pa(r)}async createInferenceSessionHandler(r,t){let u=new nr;return await u.loadModel(r,t),Promise.resolve(u)}}});var Me,we,va,po,Oa,kr,_a,ir,Ta,Ea,Sa,Aa,Ma,Lr,Ra,Ca,Ia,Pa=W(()=>{"use strict";Ir();Pr();Qt();Kt();Qe();Mt();Me="Built without training API's enabled. Use the onnxruntime-web/training import for training functionality, and make sure that all the correct artifacts are built & moved to the correct folder if using a custom build. Check https://onnxruntime.ai/docs/build/web.html for more information.",we=(n,r,t=!0)=>{t&&n!==0?q(r):!t&&n===0&&q(r)},va=n=>{let r=H(),[t,u]=n,a=0;try{if(r._OrtTrainingLoadCheckpoint)a=r._OrtTrainingLoadCheckpoint(t,u);else throw new Error(Me);return we(a,"Error occurred when trying to create a CheckpointState",!1),a}catch(c){throw r._OrtTrainingReleaseCheckpoint&&a!==0&&r._OrtTrainingReleaseCheckpoint(a),c}finally{r._OrtFree(n[0])}},po=(n,r)=>{let t=H(),u=t.stackSave();try{let a=t.stackAlloc(8);if(t._OrtTrainingGetModelInputOutputCount){let c=t._OrtTrainingGetModelInputOutputCount(n,a,a+4,r);return we(c,"Can't get session input/output count."),[t.HEAP32[a/4],t.HEAP32[a/4+1]]}else throw new Error(Me)}finally{t.stackRestore(u)}},Oa=(n,r,t,u)=>{let a=[],c=H();for(let l=0;l<r;l++)if(c._OrtTrainingGetModelInputOutputName){let o=c._OrtTrainingGetModelInputOutputName(n,l,t,u);we(o,`Can't get input or output name -- is input: ${t}, index ${l}`,!1),a.push(c.UTF8ToString(o)),c._free(o)}else throw new Error(Me);return a},kr=(n,r)=>{let t=[],u=[],[a,c]=po(n,r);return t=Oa(n,a,!0,r),u=Oa(n,c,!1,r),[t,u]},_a=(n,r,t,u,a)=>{let c=H(),l=0,o=0,h=[];try{if([o,h]=qt(a),c._OrtTrainingCreateSession)l=c._OrtTrainingCreateSession(o,n,r[0],r[1],t[0],t[1],u[0],u[1]);else throw new Error(Me);return we(l,"Error occurred when trying to create a TrainingSession",!1),l}catch(m){throw c._OrtTrainingReleaseSession&&l!==0&&c._OrtTrainingReleaseSession(l),m}finally{c._free(r[0]),c._free(t[0]),c._free(u[0]),o!==0&&c._OrtReleaseSessionOptions(o),h.forEach(m=>c._free(m))}},ir=(n,r,t,u,a,c)=>{let l=r.length;for(let y=0;y<l;y++)Zt(t[y],u,a,n,c+r[y]);let o=H(),h=o.stackAlloc(l*4),m=h/4;for(let y=0;y<l;y++)o.HEAPU32[m++]=u[y];return h},Ta=(n,r,t,u)=>{let a=H(),c=[];for(let l=0;l<r;l++){let o=a.HEAPU32[n/4+l];if(o===t[l]){c.push(u[l]);continue}let h=a.stackSave(),m=a.stackAlloc(4*4),y,v=0;try{let _=a._OrtGetTensorData(o,m,m+4,m+8,m+12);we(_,`Can't access output tensor data on index ${l}.`);let E=m/4,D=a.HEAPU32[E++];v=a.HEAPU32[E++];let A=a.HEAPU32[E++],M=a.HEAPU32[E++],P=[];for(let G=0;G<M;G++)P.push(a.HEAPU32[A/4+G]);a._OrtFree(A);let N=P.reduce((G,z)=>G*z,1);if(y=Xt(D),y==="string"){let G=[],z=v/4;for(let C=0;C<N;C++){let ge=a.HEAPU32[z++],be=C===N-1?void 0:a.HEAPU32[z]-ge;G.push(a.UTF8ToString(ge,be))}c.push([y,P,G,"cpu"])}else{let G=Rt(y),z=new G(N);new Uint8Array(z.buffer,z.byteOffset,z.byteLength).set(a.HEAPU8.subarray(v,v+z.byteLength)),c.push([y,P,z,"cpu"])}}finally{a.stackRestore(h),y==="string"&&v&&a._free(v),a._OrtReleaseTensor(o)}}return c},Ea=async n=>{let r=H();if(r._OrtTrainingLazyResetGrad){let t=r._OrtTrainingLazyResetGrad(n);we(t,"Can't call lazyResetGrad.")}else throw new Error(Me)},Sa=async(n,r,t,u,a,c)=>{let l=H(),o=r.length,h=u.length,m=0,y=[],v=[],_=[],E=[],D=l.stackSave();try{[m,y]=lt(c);let A=ir(n,r,t,v,E,0),M=ir(n,u,a,_,E,o);if(l._OrtTrainingRunTrainStep){let P=l._OrtTrainingRunTrainStep(n,A,o,M,h,m);we(P,"failed to call OrtTrainingRunTrainStep in the WebAssembly layer")}else throw new Error(Me);return Ta(M,h,_,a)}finally{l.stackRestore(D),v.forEach(A=>l._OrtReleaseTensor(A)),_.forEach(A=>l._OrtReleaseTensor(A)),E.forEach(A=>l._free(A)),m!==0&&l._OrtReleaseRunOptions(m),y.forEach(A=>l._free(A))}},Aa=async(n,r)=>{let t=H(),u=0,a=[];try{if([u,a]=lt(r),t._OrtTrainingOptimizerStep){let c=t._OrtTrainingOptimizerStep(n,u);we(c,"Failed to call OrtTrainingOptimizerStep in the WebAssembly layer")}else throw new Error(Me)}finally{u!==0&&t._OrtReleaseRunOptions(u),a.forEach(c=>t._free(c))}},Ma=async(n,r,t,u,a,c)=>{let l=H(),o=r.length,h=u.length,m=0,y=[],v=[],_=[],E=[],D=l.stackSave();try{[m,y]=lt(c);let A=ir(n,r,t,v,E,0),M=ir(n,u,a,_,E,o);if(l._OrtTrainingEvalStep){let P=l._OrtTrainingEvalStep(n,A,o,M,h,m);we(P,"failed to call OrtTrainingEvalStep in the WebAssembly layer")}else throw new Error(Me);return Ta(M,h,_,a)}finally{l.stackRestore(D),v.forEach(A=>l._OrtReleaseTensor(A)),_.forEach(A=>l._OrtReleaseTensor(A)),E.forEach(A=>l._free(A)),m!==0&&l._OrtReleaseRunOptions(m),y.forEach(A=>l._free(A))}},Lr=(n,r)=>{let t=H(),u=t.stackSave();try{let a=t.stackAlloc(4);if(t._OrtTrainingGetParametersSize){let c=t._OrtTrainingGetParametersSize(n,a,r);return we(c,"Can't get parameters size"),t.HEAP32[a/4]}else throw new Error(Me)}finally{t.stackRestore(u)}},Ra=async(n,r)=>{let t=H(),u=t.stackSave(),a="float32",c="cpu",l=Lr(n,r),o=0,h=4*l,m=t._malloc(h),y=[l],v=t.stackAlloc(4),_=v/4;t.HEAP32[_]=l;try{if(o=t._OrtCreateTensor(ct(a),m,h,v,y.length,Ct(c)),we(o,`Can't create tensor for getContiguousParameters. session=${n}.`,!1),t._OrtTrainingCopyParametersToBuffer){let M=t._OrtTrainingCopyParametersToBuffer(n,o,l,r);we(M,"Can't get contiguous parameters.")}else throw new Error(Me);let E=Rt(a),D=new E(l),A=[];if(new Uint8Array(D.buffer,D.byteOffset,D.byteLength).set(t.HEAPU8.subarray(m,m+h)),A.push([a,y,D,c]),A.length!==1)throw new Error(`something unexpected happened in the getContiguousParameters function. Expected output length of
     one, got ${A.length}`);return A[0]}finally{o!==0&&t._OrtReleaseTensor(o),t._free(m),t._free(v),t.stackRestore(u)}},Ca=async(n,r,t)=>{let u=H(),a=u.stackSave(),c="float32",l="cpu",o=r.length,h=o/4,m=u._malloc(o);u.HEAPU8.set(r,m);let y=u.stackAlloc(4);u.HEAP32[y/4]=h;let v=1,_=0;try{if(_=u._OrtCreateTensor(ct(c),m,o,y,v,Ct(l)),we(_,`Can't create tensor for input/output. session=${n}`,!1),u._OrtTrainingCopyParametersFromBuffer){let E=u._OrtTrainingCopyParametersFromBuffer(n,_,h,t);we(E,"Can't copy buffer to parameters.")}else throw new Error(Me)}finally{_!==0&&u._OrtReleaseTensor(_),u.stackRestore(a),u._free(m),u._free(y)}},Ia=(n,r)=>{let t=H();t._OrtTrainingReleaseSession&&t._OrtTrainingReleaseSession(r),t._OrtTrainingReleaseCheckpoint&&t._OrtTrainingReleaseCheckpoint(n)}});var sr,xa=W(()=>{"use strict";Fr();Kt();Pa();sr=class{constructor(){this.evalInputNames=[];this.evalOutputNames=[]}async uriOrBufferToHeap(r){let t;if(typeof r=="string"){let a=await(await fetch(r)).arrayBuffer();t=new Uint8Array(a)}else t=r;return Pt(t)}async createTrainingSession(r,t,u,a,c){let l=await this.uriOrBufferToHeap(r),o=await this.uriOrBufferToHeap(t),h=[0,0],m=[0,0];u!==""&&(h=await this.uriOrBufferToHeap(u)),a!==""&&(m=await this.uriOrBufferToHeap(a)),this.checkpointId=va(l),this.sessionId=_a(this.checkpointId,o,h,m,c),[this.inputNames,this.outputNames]=kr(this.sessionId,!1),u!==""&&([this.evalInputNames,this.evalOutputNames]=kr(this.sessionId,!0))}convertMapIntoValuesArrayAndIndicesArray(r,t,u){let a=[],c=[];Object.entries(r).forEach(o=>{let h=o[0],m=o[1],y=t.indexOf(h);if(y===-1)throw new Error(`invalid input '${h}`);a.push(m),c.push(y)});let l=a.map(u);return[a,c,l]}convertTensorMetadataToReturnType(r,t,u){let a={};for(let c=0;c<r.length;c++)a[this.outputNames[u[c]]]=t[c]??ar(r[c]);return a}async lazyResetGrad(){await Ea(this.sessionId)}async runTrainStep(r,t,u){let[,a,c]=this.convertMapIntoValuesArrayAndIndicesArray(r,this.inputNames,(y,v)=>Ke(y,()=>`input "${this.inputNames[a[v]]}"`)),[l,o,h]=this.convertMapIntoValuesArrayAndIndicesArray(t,this.outputNames,(y,v)=>y?Ke(y,()=>`output "${this.outputNames[o[v]]}"`):null),m=await Sa(this.sessionId,a,c,o,h,u);return this.convertTensorMetadataToReturnType(m,l,o)}async runOptimizerStep(r){await Aa(this.sessionId,r)}async runEvalStep(r,t,u){let[,a,c]=this.convertMapIntoValuesArrayAndIndicesArray(r,this.evalInputNames,(y,v)=>Ke(y,()=>`input "${this.evalInputNames[a[v]]}"`)),[l,o,h]=this.convertMapIntoValuesArrayAndIndicesArray(t,this.evalOutputNames,(y,v)=>y?Ke(y,()=>`output "${this.evalOutputNames[o[v]]}"`):null),m=await Ma(this.sessionId,a,c,o,h,u);return this.convertTensorMetadataToReturnType(m,l,o)}async getParametersSize(r){return Lr(this.sessionId,r)}async loadParametersBuffer(r,t){await Ca(this.sessionId,r,t)}async getContiguousParameters(r){let t=await Ra(this.sessionId,r);return ar(t)}async dispose(){return Ia(this.checkpointId,this.sessionId)}}});var Da={};ut(Da,{wasmBackend:()=>mo});var Nr,mo,Ba=W(()=>{"use strict";ba();xa();Nr=class extends or{async createTrainingSessionHandler(r,t,u,a,c){let l=new sr;return await l.createTrainingSession(r,t,u,a,c),Promise.resolve(l)}},mo=new Nr});var go={};ut(go,{InferenceSession:()=>Fn,TRACE:()=>br,TRACE_FUNC_BEGIN:()=>We,TRACE_FUNC_END:()=>ze,Tensor:()=>le,TrainingSession:()=>Hn,default:()=>ho,env:()=>Y,registerBackend:()=>ft});Je();Je();Je();var zn="1.17.0";var ho=vr;{let n=(Ba(),Ve(Da)).wasmBackend;ft("cpu",n,10),ft("wasm",n,10)}Object.defineProperty(Y.versions,"web",{value:zn,enumerable:!0});return Ve(go);})();
//# sourceMappingURL=ort.training.wasm.min.js.map

/*!
 * ONNX Runtime Web v1.18.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
var Dr=Object.defineProperty;var Ta=Object.getOwnPropertyDescriptor;var Aa=Object.getOwnPropertyNames;var Sa=Object.prototype.hasOwnProperty;var G=(n,a)=>()=>(n&&(a=n(n=0)),a);var bt=(n,a)=>()=>(a||n((a={exports:{}}).exports,a),a.exports),Vt=(n,a)=>{for(var o in a)Dr(n,o,{get:a[o],enumerable:!0})},Ma=(n,a,o,d)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of Aa(a))!Sa.call(n,u)&&u!==o&&Dr(n,u,{get:()=>a[u],enumerable:!(d=Ta(a,u))||d.enumerable});return n};var Ot=n=>Ma(Dr({},"__esModule",{value:!0}),n);var pr,rt,_t,mr,hr=G(()=>{pr=new Map,rt=[],_t=(n,a,o)=>{if(a&&typeof a.init=="function"&&typeof a.createInferenceSessionHandler=="function"){let d=pr.get(n);if(d===void 0)pr.set(n,{backend:a,priority:o});else{if(d.priority>o)return;if(d.priority===o&&d.backend!==a)throw new Error(`cannot register backend "${n}" using priority ${o}`)}if(o>=0){let u=rt.indexOf(n);u!==-1&&rt.splice(u,1);for(let m=0;m<rt.length;m++)if(pr.get(rt[m]).priority<=o){rt.splice(m,0,n);return}rt.push(n)}return}throw new TypeError("not a valid backend")},mr=async n=>{let a=n.length===0?rt:n,o=[];for(let d of a){let u=pr.get(d);if(u){if(u.initialized)return u.backend;if(u.aborted)continue;let m=!!u.initPromise;try{return m||(u.initPromise=u.backend.init(d)),await u.initPromise,u.initialized=!0,u.backend}catch(p){m||o.push({name:d,err:p}),u.aborted=!0}finally{delete u.initPromise}}}throw new Error(`no available backend found. ERR: ${o.map(d=>`[${d.name}] ${d.err}`).join(", ")}`)}});var an=G(()=>{hr()});var on,sn=G(()=>{on="1.18.0"});var un,nt,Ir=G(()=>{sn();un="warning",nt={wasm:{},webgl:{},webgpu:{},versions:{common:on},set logLevel(n){if(n!==void 0){if(typeof n!="string"||["verbose","info","warning","error","fatal"].indexOf(n)===-1)throw new Error(`Unsupported logging level: ${n}`);un=n}},get logLevel(){return un}};Object.defineProperty(nt,"logLevel",{enumerable:!0})});var q,fn=G(()=>{Ir();q=nt});var ln,cn,dn=G(()=>{ln=(n,a)=>{let o=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);o.width=n.dims[3],o.height=n.dims[2];let d=o.getContext("2d");if(d!=null){let u,m;a?.tensorLayout!==void 0&&a.tensorLayout==="NHWC"?(u=n.dims[2],m=n.dims[3]):(u=n.dims[3],m=n.dims[2]);let p=a?.format!==void 0?a.format:"RGB",f=a?.norm,b,w;f===void 0||f.mean===void 0?b=[255,255,255,255]:typeof f.mean=="number"?b=[f.mean,f.mean,f.mean,f.mean]:(b=[f.mean[0],f.mean[1],f.mean[2],0],f.mean[3]!==void 0&&(b[3]=f.mean[3])),f===void 0||f.bias===void 0?w=[0,0,0,0]:typeof f.bias=="number"?w=[f.bias,f.bias,f.bias,f.bias]:(w=[f.bias[0],f.bias[1],f.bias[2],0],f.bias[3]!==void 0&&(w[3]=f.bias[3]));let E=m*u,M=0,_=E,P=E*2,I=-1;p==="RGBA"?(M=0,_=E,P=E*2,I=E*3):p==="RGB"?(M=0,_=E,P=E*2):p==="RBG"&&(M=0,P=E,_=E*2);for(let D=0;D<m;D++)for(let C=0;C<u;C++){let F=(n.data[M++]-w[0])*b[0],N=(n.data[_++]-w[1])*b[1],Z=(n.data[P++]-w[2])*b[2],Q=I===-1?255:(n.data[I++]-w[3])*b[3];d.fillStyle="rgba("+F+","+N+","+Z+","+Q+")",d.fillRect(C,D,1,1)}if("toDataURL"in o)return o.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},cn=(n,a)=>{let o=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),d;if(o!=null){let u,m,p;a?.tensorLayout!==void 0&&a.tensorLayout==="NHWC"?(u=n.dims[2],m=n.dims[1],p=n.dims[3]):(u=n.dims[3],m=n.dims[2],p=n.dims[1]);let f=a!==void 0&&a.format!==void 0?a.format:"RGB",b=a?.norm,w,E;b===void 0||b.mean===void 0?w=[255,255,255,255]:typeof b.mean=="number"?w=[b.mean,b.mean,b.mean,b.mean]:(w=[b.mean[0],b.mean[1],b.mean[2],255],b.mean[3]!==void 0&&(w[3]=b.mean[3])),b===void 0||b.bias===void 0?E=[0,0,0,0]:typeof b.bias=="number"?E=[b.bias,b.bias,b.bias,b.bias]:(E=[b.bias[0],b.bias[1],b.bias[2],0],b.bias[3]!==void 0&&(E[3]=b.bias[3]));let M=m*u;if(a!==void 0&&(a.format!==void 0&&p===4&&a.format!=="RGBA"||p===3&&a.format!=="RGB"&&a.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let _=4,P=0,I=1,D=2,C=3,F=0,N=M,Z=M*2,Q=-1;f==="RGBA"?(F=0,N=M,Z=M*2,Q=M*3):f==="RGB"?(F=0,N=M,Z=M*2):f==="RBG"&&(F=0,Z=M,N=M*2),d=o.createImageData(u,m);for(let Y=0;Y<m*u;P+=_,I+=_,D+=_,C+=_,Y++)d.data[P]=(n.data[F++]-E[0])*w[0],d.data[I]=(n.data[N++]-E[1])*w[1],d.data[D]=(n.data[Z++]-E[2])*w[2],d.data[C]=Q===-1?255:(n.data[Q++]-E[3])*w[3]}else throw new Error("Can not access image data");return d}});var Fr,pn,mn,hn,gn,yn=G(()=>{gr();Fr=(n,a)=>{if(n===void 0)throw new Error("Image buffer must be defined");if(a.height===void 0||a.width===void 0)throw new Error("Image height and width must be defined");if(a.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:o,width:d}=a,u=a.norm??{mean:255,bias:0},m,p;typeof u.mean=="number"?m=[u.mean,u.mean,u.mean,u.mean]:m=[u.mean[0],u.mean[1],u.mean[2],u.mean[3]??255],typeof u.bias=="number"?p=[u.bias,u.bias,u.bias,u.bias]:p=[u.bias[0],u.bias[1],u.bias[2],u.bias[3]??0];let f=a.format!==void 0?a.format:"RGBA",b=a.tensorFormat!==void 0&&a.tensorFormat!==void 0?a.tensorFormat:"RGB",w=o*d,E=b==="RGBA"?new Float32Array(w*4):new Float32Array(w*3),M=4,_=0,P=1,I=2,D=3,C=0,F=w,N=w*2,Z=-1;f==="RGB"&&(M=3,_=0,P=1,I=2,D=-1),b==="RGBA"?Z=w*3:b==="RBG"?(C=0,N=w,F=w*2):b==="BGR"&&(N=0,F=w,C=w*2);for(let Y=0;Y<w;Y++,_+=M,I+=M,P+=M,D+=M)E[C++]=(n[_]+p[0])/m[0],E[F++]=(n[P]+p[1])/m[1],E[N++]=(n[I]+p[2])/m[2],Z!==-1&&D!==-1&&(E[Z++]=(n[D]+p[3])/m[3]);return b==="RGBA"?new we("float32",E,[1,4,o,d]):new we("float32",E,[1,3,o,d])},pn=async(n,a)=>{let o=typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement,d=typeof ImageData<"u"&&n instanceof ImageData,u=typeof ImageBitmap<"u"&&n instanceof ImageBitmap,m=typeof n=="string",p,f=a??{},b=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},w=E=>E instanceof HTMLCanvasElement||E instanceof OffscreenCanvas?E.getContext("2d"):null;if(o){let E=b();E.width=n.width,E.height=n.height;let M=w(E);if(M!=null){let _=n.height,P=n.width;if(a!==void 0&&a.resizedHeight!==void 0&&a.resizedWidth!==void 0&&(_=a.resizedHeight,P=a.resizedWidth),a!==void 0){if(f=a,a.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");f.tensorFormat="RGBA",f.height=_,f.width=P}else f.tensorFormat="RGBA",f.height=_,f.width=P;M.drawImage(n,0,0),p=M.getImageData(0,0,P,_).data}else throw new Error("Can not access image data")}else if(d){let E,M;if(a!==void 0&&a.resizedWidth!==void 0&&a.resizedHeight!==void 0?(E=a.resizedHeight,M=a.resizedWidth):(E=n.height,M=n.width),a!==void 0&&(f=a),f.format="RGBA",f.height=E,f.width=M,a!==void 0){let _=b();_.width=M,_.height=E;let P=w(_);if(P!=null)P.putImageData(n,0,0),p=P.getImageData(0,0,M,E).data;else throw new Error("Can not access image data")}else p=n.data}else if(u){if(a===void 0)throw new Error("Please provide image config with format for Imagebitmap");let E=b();E.width=n.width,E.height=n.height;let M=w(E);if(M!=null){let _=n.height,P=n.width;return M.drawImage(n,0,0,P,_),p=M.getImageData(0,0,P,_).data,f.height=_,f.width=P,Fr(p,f)}else throw new Error("Can not access image data")}else{if(m)return new Promise((E,M)=>{let _=b(),P=w(_);if(!n||!P)return M();let I=new Image;I.crossOrigin="Anonymous",I.src=n,I.onload=()=>{_.width=I.width,_.height=I.height,P.drawImage(I,0,0,_.width,_.height);let D=P.getImageData(0,0,_.width,_.height);f.height=_.height,f.width=_.width,E(Fr(D.data,f))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(p!==void 0)return Fr(p,f);throw new Error("Input data provided is not supported - aborted tensor creation")},mn=(n,a)=>{let{width:o,height:d,download:u,dispose:m}=a,p=[1,d,o,4];return new we({location:"texture",type:"float32",texture:n,dims:p,download:u,dispose:m})},hn=(n,a)=>{let{dataType:o,dims:d,download:u,dispose:m}=a;return new we({location:"gpu-buffer",type:o??"float32",gpuBuffer:n,dims:d,download:u,dispose:m})},gn=(n,a,o)=>new we({location:"cpu-pinned",type:n,data:a,dims:o??[a.length]})});var qt,yr,wn,vn,bn=G(()=>{qt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),yr=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),wn=!1,vn=()=>{if(!wn){wn=!0;let n=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",a=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";n&&(qt.set("int64",BigInt64Array),yr.set(BigInt64Array,"int64")),a&&(qt.set("uint64",BigUint64Array),yr.set(BigUint64Array,"uint64"))}}});var On,_n,En=G(()=>{gr();On=n=>{let a=1;for(let o=0;o<n.length;o++){let d=n[o];if(typeof d!="number"||!Number.isSafeInteger(d))throw new TypeError(`dims[${o}] must be an integer, got: ${d}`);if(d<0)throw new RangeError(`dims[${o}] must be a non-negative integer, got: ${d}`);a*=d}return a},_n=(n,a)=>{switch(n.location){case"cpu":return new we(n.type,n.data,a);case"cpu-pinned":return new we({location:"cpu-pinned",data:n.data,type:n.type,dims:a});case"texture":return new we({location:"texture",texture:n.texture,type:n.type,dims:a});case"gpu-buffer":return new we({location:"gpu-buffer",gpuBuffer:n.gpuBuffer,type:n.type,dims:a});default:throw new Error(`tensorReshape: tensor location ${n.location} is not supported`)}}});var we,gr=G(()=>{dn();yn();bn();En();we=class{constructor(a,o,d){vn();let u,m;if(typeof a=="object"&&"location"in a)switch(this.dataLocation=a.location,u=a.type,m=a.dims,a.location){case"cpu-pinned":{let f=qt.get(u);if(!f)throw new TypeError(`unsupported type "${u}" to create tensor from pinned buffer`);if(!(a.data instanceof f))throw new TypeError(`buffer should be of type ${f.name}`);this.cpuData=a.data;break}case"texture":{if(u!=="float32")throw new TypeError(`unsupported type "${u}" to create tensor from texture`);this.gpuTextureData=a.texture,this.downloader=a.download,this.disposer=a.dispose;break}case"gpu-buffer":{if(u!=="float32"&&u!=="float16"&&u!=="int32"&&u!=="int64"&&u!=="uint32"&&u!=="bool")throw new TypeError(`unsupported type "${u}" to create tensor from gpu buffer`);this.gpuBufferData=a.gpuBuffer,this.downloader=a.download,this.disposer=a.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let f,b;if(typeof a=="string")if(u=a,b=d,a==="string"){if(!Array.isArray(o))throw new TypeError("A string tensor's data must be a string array.");f=o}else{let w=qt.get(a);if(w===void 0)throw new TypeError(`Unsupported tensor type: ${a}.`);if(Array.isArray(o)){if(a==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");a==="uint64"||a==="int64"?f=w.from(o,BigInt):f=w.from(o)}else if(o instanceof w)f=o;else throw new TypeError(`A ${u} tensor's data must be type of ${w}`)}else if(b=o,Array.isArray(a)){if(a.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let w=typeof a[0];if(w==="string")u="string",f=a;else if(w==="boolean")u="bool",f=Uint8Array.from(a);else throw new TypeError(`Invalid element type of data array: ${w}.`)}else{let w=yr.get(a.constructor);if(w===void 0)throw new TypeError(`Unsupported type for tensor data: ${a.constructor}.`);u=w,f=a}if(b===void 0)b=[f.length];else if(!Array.isArray(b))throw new TypeError("A tensor's dims must be a number array");m=b,this.cpuData=f,this.dataLocation="cpu"}let p=On(m);if(this.cpuData&&p!==this.cpuData.length)throw new Error(`Tensor's size(${p}) does not match data length(${this.cpuData.length}).`);this.type=u,this.dims=m,this.size=p}static async fromImage(a,o){return pn(a,o)}static fromTexture(a,o){return mn(a,o)}static fromGpuBuffer(a,o){return hn(a,o)}static fromPinnedBuffer(a,o,d){return gn(a,o,d)}toDataURL(a){return ln(this,a)}toImageData(a){return cn(this,a)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(a){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let o=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=o,a&&this.disposer&&(this.disposer(),this.disposer=void 0),o}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(a){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return _n(this,a)}}});var he,wr=G(()=>{gr();he=we});var Tn,An,at,ot,Br=G(()=>{Ir();Tn=(n,a)=>{nt.wasm.trace&&console.timeStamp(`${n}::ORT::${a}`)},An=(n,a)=>{let o=new Error().stack?.split(/\r\n|\r|\n/g)||[],d=!1;for(let u=0;u<o.length;u++){if(d&&!o[u].includes("TRACE_FUNC")){let m=`FUNC_${n}::${o[u].trim().split(" ")[1]}`;a&&(m+=`::${a}`),Tn("CPU",m);return}o[u].includes("TRACE_FUNC")&&(d=!0)}},at=n=>{nt.wasm.trace&&An("BEGIN",n)},ot=n=>{nt.wasm.trace&&An("END",n)}});var vr,Sn=G(()=>{hr();wr();Br();vr=class n{constructor(a){this.handler=a}async run(a,o,d){at();let u={},m={};if(typeof a!="object"||a===null||a instanceof he||Array.isArray(a))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let p=!0;if(typeof o=="object"){if(o===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(o instanceof he)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(o)){if(o.length===0)throw new TypeError("'fetches' cannot be an empty array.");p=!1;for(let w of o){if(typeof w!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(w)===-1)throw new RangeError(`'fetches' contains invalid output name: ${w}.`);u[w]=null}if(typeof d=="object"&&d!==null)m=d;else if(typeof d<"u")throw new TypeError("'options' must be an object.")}else{let w=!1,E=Object.getOwnPropertyNames(o);for(let M of this.outputNames)if(E.indexOf(M)!==-1){let _=o[M];(_===null||_ instanceof he)&&(w=!0,p=!1,u[M]=_)}if(w){if(typeof d=="object"&&d!==null)m=d;else if(typeof d<"u")throw new TypeError("'options' must be an object.")}else m=o}}else if(typeof o<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let w of this.inputNames)if(typeof a[w]>"u")throw new Error(`input '${w}' is missing in 'feeds'.`);if(p)for(let w of this.outputNames)u[w]=null;let f=await this.handler.run(a,u,m),b={};for(let w in f)if(Object.hasOwnProperty.call(f,w)){let E=f[w];E instanceof he?b[w]=E:b[w]=new he(E.type,E.data,E.dims)}return ot(),b}async release(){return this.handler.dispose()}static async create(a,o,d,u){at();let m,p={};if(typeof a=="string"){if(m=a,typeof o=="object"&&o!==null)p=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else if(a instanceof Uint8Array){if(m=a,typeof o=="object"&&o!==null)p=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else if(a instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&a instanceof SharedArrayBuffer){let M=a,_=0,P=a.byteLength;if(typeof o=="object"&&o!==null)p=o;else if(typeof o=="number"){if(_=o,!Number.isSafeInteger(_))throw new RangeError("'byteOffset' must be an integer.");if(_<0||_>=M.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${M.byteLength}).`);if(P=a.byteLength-_,typeof d=="number"){if(P=d,!Number.isSafeInteger(P))throw new RangeError("'byteLength' must be an integer.");if(P<=0||_+P>M.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${M.byteLength-_}].`);if(typeof u=="object"&&u!==null)p=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else if(typeof d<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof o<"u")throw new TypeError("'options' must be an object.");m=new Uint8Array(M,_,P)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let b=(p.executionProviders||[]).map(M=>typeof M=="string"?M:M.name),E=await(await mr(b)).createInferenceSessionHandler(m,p);return ot(),new n(E)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var Pa,Mn=G(()=>{Sn();Pa=vr});var Pn=G(()=>{});var Ca,br,Cn=G(()=>{hr();wr();Ca="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",br=class n{constructor(a,o,d){this.handler=a,this.hasOptimizerModel=o,this.hasEvalModel=d}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(a,o){let d=a.evalModel||"",u=a.optimizerModel||"",m=o||{},f=(m.executionProviders||[]).map(w=>typeof w=="string"?w:w.name),b=await mr(f);if(b.createTrainingSessionHandler){let w=await b.createTrainingSessionHandler(a.checkpointState,a.trainModel,d,u,m);return new n(w,!!a.optimizerModel,!!a.evalModel)}else throw new Error(Ca)}typeNarrowingForRunStep(a,o,d,u,m){let p={},f={};if(typeof d!="object"||d===null||d instanceof he||Array.isArray(d))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let b=!0;if(typeof u=="object"){if(u===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(u instanceof he)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(u)){if(u.length===0)throw new TypeError("'fetches' cannot be an empty array.");b=!1;for(let w of u){if(typeof w!="string")throw new TypeError("'fetches' must be a string array or an object.");if(o.indexOf(w)===-1)throw new RangeError(`'fetches' contains invalid output name: ${w}.`);p[w]=null}if(typeof m=="object"&&m!==null)f=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else{let w=!1,E=Object.getOwnPropertyNames(u);for(let M of o)if(E.indexOf(M)!==-1){let _=u[M];(_===null||_ instanceof he)&&(w=!0,b=!1,p[M]=_)}if(w){if(typeof m=="object"&&m!==null)f=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else f=u}}else if(typeof u<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let w of a)if(typeof d[w]>"u")throw new Error(`input '${w}' is missing in 'feeds'.`);if(b)for(let w of o)p[w]=null;return[p,f]}convertHandlerReturnTypeToMapOfTensors(a){let o={};for(let d in a)if(Object.hasOwnProperty.call(a,d)){let u=a[d];u instanceof he?o[d]=u:o[d]=new he(u.type,u.data,u.dims)}return o}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(a,o,d){let[u,m]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,a,o,d),p=await this.handler.runTrainStep(a,u,m);return this.convertHandlerReturnTypeToMapOfTensors(p)}async runOptimizerStep(a){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(a||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(a,o,d){if(this.hasEvalModel){let[u,m]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,a,o,d),p=await this.handler.runEvalStep(a,u,m);return this.convertHandlerReturnTypeToMapOfTensors(p)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(a=!0){return this.handler.getParametersSize(a)}async loadParametersBuffer(a,o=!0){let d=await this.getParametersSize(o);if(a.length!==4*d)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(a,o)}async getContiguousParameters(a=!0){return this.handler.getContiguousParameters(a)}async release(){return this.handler.dispose()}}});var Ra,Rn=G(()=>{Cn();Ra=br});var kr={};Vt(kr,{InferenceSession:()=>Pa,TRACE:()=>Tn,TRACE_FUNC_BEGIN:()=>at,TRACE_FUNC_END:()=>ot,Tensor:()=>he,TrainingSession:()=>Ra,env:()=>q,registerBackend:()=>_t});var it=G(()=>{an();fn();Mn();wr();Br();Pn();Rn()});var Lr={};Vt(Lr,{createReadStream:()=>Un,readFile:()=>xa,readFileSync:()=>Ua});var xa,Ua,Un,Wr=G(()=>{xa=void 0,Ua=void 0,Un=void 0});var Nr={};Vt(Nr,{join:()=>Da});var Da,$r=G(()=>{Da=void 0});var Fn=bt((In,Hr)=>{"use strict";var Dn=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(a={}){var o=a,d,u;o.ready=new Promise((e,r)=>{d=e,u=r});var m=Object.assign({},o),p="./this.program",f=typeof window=="object",b=typeof importScripts=="function",w=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",E="",M,_,P;if(w){var I=(Wr(),Ot(Lr)),D=($r(),Ot(Nr));E=b?D.dirname(E)+"/":__dirname+"/",M=(e,r)=>(e=Ue(e)?new URL(e):D.normalize(e),I.readFileSync(e,r?void 0:"utf8")),P=e=>(e=M(e,!0),e.buffer||(e=new Uint8Array(e)),e),_=(e,r,s,c=!0)=>{e=Ue(e)?new URL(e):D.normalize(e),I.readFile(e,c?void 0:"utf8",(g,T)=>{g?s(g):r(c?T.buffer:T)})},!o.thisProgram&&1<process.argv.length&&(p=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),o.inspect=()=>"[Emscripten Module object]"}else(f||b)&&(b?E=self.location.href:typeof document<"u"&&document.currentScript&&(E=document.currentScript.src),n&&(E=n),E.indexOf("blob:")!==0?E=E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1):E="",M=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},b&&(P=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),_=(e,r,s)=>{var c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?r(c.response):s()},c.onerror=s,c.send(null)});var C=console.log.bind(console),F=console.error.bind(console);Object.assign(o,m),m=null,typeof WebAssembly!="object"&&Se("no native wasm support detected");var N,Z=!1,Q,Y,ve,xe,R,j,ut,se,K,Ae;function $(){var e=N.buffer;o.HEAP8=Q=new Int8Array(e),o.HEAP16=ve=new Int16Array(e),o.HEAPU8=Y=new Uint8Array(e),o.HEAPU16=xe=new Uint16Array(e),o.HEAP32=R=new Int32Array(e),o.HEAPU32=j=new Uint32Array(e),o.HEAPF32=ut=new Float32Array(e),o.HEAPF64=Ae=new Float64Array(e),o.HEAP64=se=new BigInt64Array(e),o.HEAPU64=K=new BigUint64Array(e)}var ce=[],be=[],_e=[],Ee=0,oe=null,ue=null;function Se(e){throw e="Aborted("+e+")",F(e),Z=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}var Le=e=>e.startsWith("data:application/octet-stream;base64,"),Ue=e=>e.startsWith("file://"),Me;if(Me="ort-wasm.wasm",!Le(Me)){var ft=Me;Me=o.locateFile?o.locateFile(ft,E):E+ft}function ge(e){if(P)return P(e);throw"both async and sync fetching of the wasm failed"}function De(e){if(f||b){if(typeof fetch=="function"&&!Ue(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+e+"'";return r.arrayBuffer()}).catch(()=>ge(e));if(_)return new Promise((r,s)=>{_(e,c=>r(new Uint8Array(c)),s)})}return Promise.resolve().then(()=>ge(e))}function Ie(e,r,s){return De(e).then(c=>WebAssembly.instantiate(c,r)).then(c=>c).then(s,c=>{F(`failed to asynchronously prepare wasm: ${c}`),Se(c)})}function fe(e,r){var s=Me;return typeof WebAssembly.instantiateStreaming!="function"||Le(s)||Ue(s)||w||typeof fetch!="function"?Ie(s,e,r):fetch(s,{credentials:"same-origin"}).then(c=>WebAssembly.instantiateStreaming(c,e).then(r,function(g){return F(`wasm streaming compile failed: ${g}`),F("falling back to ArrayBuffer instantiation"),Ie(s,e,r)}))}var ie={1358424:(e,r,s,c)=>{if(typeof o>"u"||!o.cb)return 1;if(e=Ve(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=o.cb.get(e),!e)return 2;if(r>>>=0,s>>>=0,r+s>e.byteLength)return 3;try{return Y.set(e.subarray(r,r+s),c>>>0>>>0),0}catch{return 4}}};function ze(e){this.Ua=e-24,this.fb=function(r){j[this.Ua+4>>>2>>>0]=r},this.eb=function(r){j[this.Ua+8>>>2>>>0]=r},this.Ya=function(r,s){this.Za(),this.fb(r),this.eb(s)},this.Za=function(){j[this.Ua+16>>>2>>>0]=0}}var We=0,He=0,St=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Kt=(e,r,s)=>{r>>>=0;var c=r+s;for(s=r;e[s]&&!(s>=c);)++s;if(16<s-r&&e.buffer&&St)return St.decode(e.subarray(r,s));for(c="";r<s;){var g=e[r++];if(g&128){var T=e[r++]&63;if((g&224)==192)c+=String.fromCharCode((g&31)<<6|T);else{var O=e[r++]&63;g=(g&240)==224?(g&15)<<12|T<<6|O:(g&7)<<18|T<<12|O<<6|e[r++]&63,65536>g?c+=String.fromCharCode(g):(g-=65536,c+=String.fromCharCode(55296|g>>10,56320|g&1023))}}else c+=String.fromCharCode(g)}return c},Ve=(e,r)=>(e>>>=0)?Kt(Y,e,r):"",lt=e=>{for(var r=0,s=0;s<e.length;++s){var c=e.charCodeAt(s);127>=c?r++:2047>=c?r+=2:55296<=c&&57343>=c?(r+=4,++s):r+=3}return r},Fe=(e,r,s,c)=>{if(s>>>=0,!(0<c))return 0;var g=s;c=s+c-1;for(var T=0;T<e.length;++T){var O=e.charCodeAt(T);if(55296<=O&&57343>=O){var U=e.charCodeAt(++T);O=65536+((O&1023)<<10)|U&1023}if(127>=O){if(s>=c)break;r[s++>>>0]=O}else{if(2047>=O){if(s+1>=c)break;r[s++>>>0]=192|O>>6}else{if(65535>=O){if(s+2>=c)break;r[s++>>>0]=224|O>>12}else{if(s+3>=c)break;r[s++>>>0]=240|O>>18,r[s++>>>0]=128|O>>12&63}r[s++>>>0]=128|O>>6&63}r[s++>>>0]=128|O&63}}return r[s>>>0]=0,s-g},Mt=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},Qe,ye=e=>{for(var r="";Y[e>>>0];)r+=Qe[Y[e++>>>0]];return r},ct={},je={},er={},Be;function dt(e,r,s={}){var c=r.name;if(!e)throw new Be(`type "${c}" must have a positive integer typeid pointer`);if(je.hasOwnProperty(e)){if(s.gb)return;throw new Be(`Cannot register type '${c}' twice`)}je[e]=r,delete er[e],ct.hasOwnProperty(e)&&(r=ct[e],delete ct[e],r.forEach(g=>g()))}function ke(e,r,s={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");dt(e,r,s)}var z=(e,r,s)=>{switch(r){case 1:return s?c=>Q[c>>>0>>>0]:c=>Y[c>>>0>>>0];case 2:return s?c=>ve[c>>>1>>>0]:c=>xe[c>>>1>>>0];case 4:return s?c=>R[c>>>2>>>0]:c=>j[c>>>2>>>0];case 8:return s?c=>se[c>>>3]:c=>K[c>>>3];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Pt(){this.Ra=[void 0],this.ab=[]}var de=new Pt;function Ct(e){e>>>=0,e>=de.Ua&&--de.get(e).bb===0&&de.Za(e)}var pe=e=>{if(!e)throw new Be("Cannot use deleted val. handle = "+e);return de.get(e).value},Pe=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return de.Ya({bb:1,value:e})}};function k(e){return this.fromWireType(R[e>>>2>>>0])}var pt=(e,r)=>{switch(r){case 4:return function(s){return this.fromWireType(ut[s>>>2>>>0])};case 8:return function(s){return this.fromWireType(Ae[s>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}};function tr(e){return this.fromWireType(j[e>>>2>>>0])}var Ze=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,rr=(e,r)=>{for(var s=e>>1,c=s+r/2;!(s>=c)&&xe[s>>>0];)++s;if(s<<=1,32<s-e&&Ze)return Ze.decode(Y.subarray(e>>>0,s>>>0));for(s="",c=0;!(c>=r/2);++c){var g=ve[e+2*c>>>1>>>0];if(g==0)break;s+=String.fromCharCode(g)}return s},Cr=(e,r,s)=>{if(s??=2147483647,2>s)return 0;s-=2;var c=r;s=s<2*e.length?s/2:e.length;for(var g=0;g<s;++g)ve[r>>>1>>>0]=e.charCodeAt(g),r+=2;return ve[r>>>1>>>0]=0,r-c},nr=e=>2*e.length,Rr=(e,r)=>{for(var s=0,c="";!(s>=r/4);){var g=R[e+4*s>>>2>>>0];if(g==0)break;++s,65536<=g?(g-=65536,c+=String.fromCharCode(55296|g>>10,56320|g&1023)):c+=String.fromCharCode(g)}return c},ar=(e,r,s)=>{if(r>>>=0,s??=2147483647,4>s)return 0;var c=r;s=c+s-4;for(var g=0;g<e.length;++g){var T=e.charCodeAt(g);if(55296<=T&&57343>=T){var O=e.charCodeAt(++g);T=65536+((T&1023)<<10)|O&1023}if(R[r>>>2>>>0]=T,r+=4,r+4>s)break}return R[r>>>2>>>0]=0,r-c},or=e=>{for(var r=0,s=0;s<e.length;++s){var c=e.charCodeAt(s);55296<=c&&57343>=c&&++s,r+=4}return r},mt=(e,r)=>{var s=je[e];if(s===void 0)throw e=Ht(e),s=ye(e),Ce(e),new Be(r+" has unknown type "+s);return s},Rt=(e,r,s)=>{var c=[];return e=e.toWireType(c,s),c.length&&(j[r>>>2>>>0]=Pe(c)),e},qe=[],ir={},ht=e=>{var r=ir[e];return r===void 0?ye(e):r},xt=()=>typeof globalThis=="object"?globalThis:Function("return this")(),sr=e=>{var r=qe.length;return qe.push(e),r},ur=(e,r)=>{for(var s=Array(e),c=0;c<e;++c)s[c]=mt(j[r+4*c>>>2>>>0],"parameter "+c);return s},Ut=(e,r)=>Object.defineProperty(r,"name",{value:e});function fr(e){var r=Function;if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var s=Ut(r.name||"unknownFunctionName",function(){});return s.prototype=r.prototype,s=new s,e=r.apply(s,e),e instanceof Object?e:s}var Ye=e=>e%4===0&&(e%100!==0||e%400===0),Dt=[0,31,60,91,121,152,182,213,244,274,305,335],It=[0,31,59,90,120,151,181,212,243,273,304,334],Ft=e=>{var r=lt(e)+1,s=Je(r);return s&&Fe(e,Y,s,r),s},gt=[],yt={},wt=()=>{if(!Xe){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"},r;for(r in yt)yt[r]===void 0?delete e[r]:e[r]=yt[r];var s=[];for(r in e)s.push(`${r}=${e[r]}`);Xe=s}return Xe},Xe,Bt=[null,[],[]],Ge=[31,29,31,30,31,30,31,31,30,31,30,31],kt=[31,28,31,30,31,30,31,31,30,31,30,31];function lr(e){var r=Array(lt(e)+1);return Fe(e,r,0,r.length),r}function Lt(e,r,s,c){function g(y,H,J){for(y=typeof y=="number"?y.toString():y||"";y.length<H;)y=J[0]+y;return y}function T(y,H){return g(y,H,"0")}function O(y,H){function J(vt){return 0>vt?-1:0<vt?1:0}var Ne;return(Ne=J(y.getFullYear()-H.getFullYear()))===0&&(Ne=J(y.getMonth()-H.getMonth()))===0&&(Ne=J(y.getDate()-H.getDate())),Ne}function U(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function W(y){var H=y.Sa;for(y=new Date(new Date(y.Ta+1900,0,1).getTime());0<H;){var J=y.getMonth(),Ne=(Ye(y.getFullYear())?Ge:kt)[J];if(H>Ne-y.getDate())H-=Ne-y.getDate()+1,y.setDate(1),11>J?y.setMonth(J+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+H);break}}return J=new Date(y.getFullYear()+1,0,4),H=U(new Date(y.getFullYear(),0,4)),J=U(J),0>=O(H,y)?0>=O(J,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}e>>>=0,r>>>=0,s>>>=0,c>>>=0;var B=j[c+40>>>2>>>0];c={kb:R[c>>>2>>>0],jb:R[c+4>>>2>>>0],Wa:R[c+8>>>2>>>0],$a:R[c+12>>>2>>>0],Xa:R[c+16>>>2>>>0],Ta:R[c+20>>>2>>>0],Na:R[c+24>>>2>>>0],Sa:R[c+28>>>2>>>0],mb:R[c+32>>>2>>>0],ib:R[c+36>>>2>>>0],lb:B?Ve(B):""},s=Ve(s),B={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var X in B)s=s.replace(new RegExp(X,"g"),B[X]);var me="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Te="January February March April May June July August September October November December".split(" ");B={"%a":y=>me[y.Na].substring(0,3),"%A":y=>me[y.Na],"%b":y=>Te[y.Xa].substring(0,3),"%B":y=>Te[y.Xa],"%C":y=>T((y.Ta+1900)/100|0,2),"%d":y=>T(y.$a,2),"%e":y=>g(y.$a,2," "),"%g":y=>W(y).toString().substring(2),"%G":y=>W(y),"%H":y=>T(y.Wa,2),"%I":y=>(y=y.Wa,y==0?y=12:12<y&&(y-=12),T(y,2)),"%j":y=>{for(var H=0,J=0;J<=y.Xa-1;H+=(Ye(y.Ta+1900)?Ge:kt)[J++]);return T(y.$a+H,3)},"%m":y=>T(y.Xa+1,2),"%M":y=>T(y.jb,2),"%n":()=>`
`,"%p":y=>0<=y.Wa&&12>y.Wa?"AM":"PM","%S":y=>T(y.kb,2),"%t":()=>"	","%u":y=>y.Na||7,"%U":y=>T(Math.floor((y.Sa+7-y.Na)/7),2),"%V":y=>{var H=Math.floor((y.Sa+7-(y.Na+6)%7)/7);if(2>=(y.Na+371-y.Sa-2)%7&&H++,H)H==53&&(J=(y.Na+371-y.Sa)%7,J==4||J==3&&Ye(y.Ta)||(H=1));else{H=52;var J=(y.Na+7-y.Sa-1)%7;(J==4||J==5&&Ye(y.Ta%400-1))&&H++}return T(H,2)},"%w":y=>y.Na,"%W":y=>T(Math.floor((y.Sa+7-(y.Na+6)%7)/7),2),"%y":y=>(y.Ta+1900).toString().substring(2),"%Y":y=>y.Ta+1900,"%z":y=>{y=y.ib;var H=0<=y;return y=Math.abs(y)/60,(H?"+":"-")+("0000"+(y/60*100+y%60)).slice(-4)},"%Z":y=>y.lb,"%%":()=>"%"},s=s.replace(/%%/g,"\0\0");for(X in B)s.includes(X)&&(s=s.replace(new RegExp(X,"g"),B[X](c)));return s=s.replace(/\0\0/g,"%"),X=lr(s),X.length>r?0:(Q.set(X,e>>>0),X.length-1)}for(var Wt=Array(256),Ke=0;256>Ke;++Ke)Wt[Ke]=String.fromCharCode(Ke);Qe=Wt,Be=o.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},o.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Pt.prototype,{get(e){return this.Ra[e]},has(e){return this.Ra[e]!==void 0},Ya(e){var r=this.ab.pop()||this.Ra.length;return this.Ra[r]=e,r},Za(e){this.Ra[e]=void 0,this.ab.push(e)}}),de.Ra.push({value:void 0},{value:null},{value:!0},{value:!1}),de.Ua=de.Ra.length,o.count_emval_handles=()=>{for(var e=0,r=de.Ua;r<de.Ra.length;++r)de.Ra[r]!==void 0&&++e;return e};var Nt={a:function(e,r,s){throw e>>>=0,new ze(e).Ya(r>>>0,s>>>0),We=e,He++,We},t:function(){return 0},$:function(){},M:function(){},O:function(){},G:function(){return 0},Z:function(){},U:function(){},Y:function(){},B:function(){},N:function(){},K:function(){},_:function(){},L:function(){},E:function(e,r,s,c,g){r>>>=0,r=ye(r);var T=r.indexOf("u")!=-1;T&&(g=(1n<<64n)-1n),ke(e>>>0,{name:r,fromWireType:O=>O,toWireType:function(O,U){if(typeof U!="bigint"&&typeof U!="number")throw new TypeError(`Cannot convert "${Mt(U)}" to ${this.name}`);if(U<c||U>g)throw new TypeError(`Passing a number "${Mt(U)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${c}, ${g}]!`);return U},argPackAdvance:8,readValueFromPointer:z(r,s>>>0,!T),Va:null})},da:function(e,r,s,c){r=ye(r>>>0),ke(e>>>0,{name:r,fromWireType:function(g){return!!g},toWireType:function(g,T){return T?s:c},argPackAdvance:8,readValueFromPointer:function(g){return this.fromWireType(Y[g>>>0])},Va:null})},ca:function(e,r){r=ye(r>>>0),ke(e>>>0,{name:r,fromWireType:s=>{var c=pe(s);return Ct(s),c},toWireType:(s,c)=>Pe(c),argPackAdvance:8,readValueFromPointer:k,Va:null})},D:function(e,r,s){r=ye(r>>>0),ke(e>>>0,{name:r,fromWireType:c=>c,toWireType:(c,g)=>g,argPackAdvance:8,readValueFromPointer:pt(r,s>>>0),Va:null})},q:function(e,r,s,c,g){if(e>>>=0,s>>>=0,r=ye(r>>>0),g===-1&&(g=4294967295),g=U=>U,c===0){var T=32-8*s;g=U=>U<<T>>>T}var O=r.includes("unsigned")?function(U,W){return W>>>0}:function(U,W){return W};ke(e,{name:r,fromWireType:g,toWireType:O,argPackAdvance:8,readValueFromPointer:z(r,s,c!==0),Va:null})},l:function(e,r,s){function c(T){return new g(Q.buffer,j[T+4>>>2>>>0],j[T>>>2>>>0])}var g=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][r];s=ye(s>>>0),ke(e>>>0,{name:s,fromWireType:c,argPackAdvance:8,readValueFromPointer:c},{gb:!0})},F:function(e,r){r=ye(r>>>0);var s=r==="std::string";ke(e>>>0,{name:r,fromWireType:function(c){var g=j[c>>>2>>>0],T=c+4;if(s)for(var O=T,U=0;U<=g;++U){var W=T+U;if(U==g||Y[W>>>0]==0){if(O=Ve(O,W-O),B===void 0)var B=O;else B+=String.fromCharCode(0),B+=O;O=W+1}}else{for(B=Array(g),U=0;U<g;++U)B[U]=String.fromCharCode(Y[T+U>>>0]);B=B.join("")}return Ce(c),B},toWireType:function(c,g){g instanceof ArrayBuffer&&(g=new Uint8Array(g));var T=typeof g=="string";if(!(T||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof Int8Array))throw new Be("Cannot pass non-string to std::string");var O=s&&T?lt(g):g.length,U=Je(4+O+1),W=U+4;if(j[U>>>2>>>0]=O,s&&T)Fe(g,Y,W,O+1);else if(T)for(T=0;T<O;++T){var B=g.charCodeAt(T);if(255<B)throw Ce(W),new Be("String has UTF-16 code units that do not fit in 8 bits");Y[W+T>>>0]=B}else for(T=0;T<O;++T)Y[W+T>>>0]=g[T];return c!==null&&c.push(Ce,U),U},argPackAdvance:8,readValueFromPointer:tr,Va(c){Ce(c)}})},v:function(e,r,s){if(r>>>=0,s>>>=0,s=ye(s),r===2)var c=rr,g=Cr,T=nr,O=()=>xe,U=1;else r===4&&(c=Rr,g=ar,T=or,O=()=>j,U=2);ke(e>>>0,{name:s,fromWireType:W=>{for(var B=j[W>>>2>>>0],X=O(),me,Te=W+4,y=0;y<=B;++y){var H=W+4+y*r;(y==B||X[H>>>U]==0)&&(Te=c(Te,H-Te),me===void 0?me=Te:(me+=String.fromCharCode(0),me+=Te),Te=H+r)}return Ce(W),me},toWireType:(W,B)=>{if(typeof B!="string")throw new Be(`Cannot pass non-string to C++ string type ${s}`);var X=T(B),me=Je(4+X+r);return j[me>>>2]=X>>U,g(B,me+4,X+r),W!==null&&W.push(Ce,me),me},argPackAdvance:8,readValueFromPointer:k,Va(W){Ce(W)}})},ea:function(e,r){r=ye(r>>>0),ke(e>>>0,{hb:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},aa:()=>1,o:function(e,r,s){return r>>>=0,s>>>=0,e=pe(e>>>0),r=mt(r,"emval::as"),Rt(r,s,e)},x:function(e,r,s,c){return s>>>=0,c>>>=0,e=qe[e>>>0],r=pe(r>>>0),e(null,r,s,c)},j:function(e,r,s,c,g){return s>>>=0,c>>>=0,g>>>=0,e=qe[e>>>0],r=pe(r>>>0),s=ht(s),e(r,r[s],c,g)},b:Ct,w:function(e,r){return r>>>=0,e=pe(e>>>0),r=pe(r),e==r},s:function(e){return e>>>=0,e===0?Pe(xt()):(e=ht(e),Pe(xt()[e]))},i:function(e,r,s){r=ur(e,r>>>0);var c=r.shift();e--;var g=`return function (obj, func, destructorsRef, args) {
`,T=0,O=[];s===0&&O.push("obj");for(var U=["retType"],W=[c],B=0;B<e;++B)O.push("arg"+B),U.push("argType"+B),W.push(r[B]),g+=`  var arg${B} = argType${B}.readValueFromPointer(args${T?"+"+T:""});
`,T+=r[B].argPackAdvance;for(g+=`  var rv = ${s===1?"new func":"func.call"}(${O.join(", ")});
`,B=0;B<e;++B)r[B].deleteObject&&(g+=`  argType${B}.deleteObject(arg${B});
`);return c.hb||(U.push("emval_returnValue"),W.push(Rt),g+=`  return emval_returnValue(retType, destructorsRef, rv);
`),U.push(g+`};
`),e=fr(U).apply(null,W),s=`methodCaller<(${r.map(X=>X.name).join(", ")}) => ${c.name}>`,sr(Ut(s,e))},p:function(e,r){return r>>>=0,e=pe(e>>>0),r=pe(r),Pe(e[r])},c:function(e){e>>>=0,4<e&&(de.get(e).bb+=1)},r:function(){return Pe([])},k:function(e){e=pe(e>>>0);for(var r=Array(e.length),s=0;s<e.length;s++)r[s]=e[s];return Pe(r)},d:function(e){return Pe(ht(e>>>0))},h:function(){return Pe({})},g:function(e){e>>>=0;for(var r=pe(e);r.length;){var s=r.pop();r.pop()(s)}Ct(e)},f:function(e,r,s){r>>>=0,s>>>=0,e=pe(e>>>0),r=pe(r),s=pe(s),e[r]=s},e:function(e,r){return r>>>=0,e=mt(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(r),Pe(e)},R:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),R[r>>>2>>>0]=e.getUTCSeconds(),R[r+4>>>2>>>0]=e.getUTCMinutes(),R[r+8>>>2>>>0]=e.getUTCHours(),R[r+12>>>2>>>0]=e.getUTCDate(),R[r+16>>>2>>>0]=e.getUTCMonth(),R[r+20>>>2>>>0]=e.getUTCFullYear()-1900,R[r+24>>>2>>>0]=e.getUTCDay(),R[r+28>>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},S:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),R[r>>>2>>>0]=e.getSeconds(),R[r+4>>>2>>>0]=e.getMinutes(),R[r+8>>>2>>>0]=e.getHours(),R[r+12>>>2>>>0]=e.getDate(),R[r+16>>>2>>>0]=e.getMonth(),R[r+20>>>2>>>0]=e.getFullYear()-1900,R[r+24>>>2>>>0]=e.getDay(),R[r+28>>>2>>>0]=(Ye(e.getFullYear())?Dt:It)[e.getMonth()]+e.getDate()-1|0,R[r+36>>>2>>>0]=-(60*e.getTimezoneOffset());var s=new Date(e.getFullYear(),6,1).getTimezoneOffset(),c=new Date(e.getFullYear(),0,1).getTimezoneOffset();R[r+32>>>2>>>0]=(s!=c&&e.getTimezoneOffset()==Math.min(c,s))|0},T:function(e){e>>>=0;var r=new Date(R[e+20>>>2>>>0]+1900,R[e+16>>>2>>>0],R[e+12>>>2>>>0],R[e+8>>>2>>>0],R[e+4>>>2>>>0],R[e>>>2>>>0],0),s=R[e+32>>>2>>>0],c=r.getTimezoneOffset(),g=new Date(r.getFullYear(),6,1).getTimezoneOffset(),T=new Date(r.getFullYear(),0,1).getTimezoneOffset(),O=Math.min(T,g);return 0>s?R[e+32>>>2>>>0]=+(g!=T&&O==c):0<s!=(O==c)&&(g=Math.max(T,g),r.setTime(r.getTime()+6e4*((0<s?O:g)-c))),R[e+24>>>2>>>0]=r.getDay(),R[e+28>>>2>>>0]=(Ye(r.getFullYear())?Dt:It)[r.getMonth()]+r.getDate()-1|0,R[e>>>2>>>0]=r.getSeconds(),R[e+4>>>2>>>0]=r.getMinutes(),R[e+8>>>2>>>0]=r.getHours(),R[e+12>>>2>>>0]=r.getDate(),R[e+16>>>2>>>0]=r.getMonth(),R[e+20>>>2>>>0]=r.getYear(),e=r.getTime(),isNaN(e)?(R[$t()>>>2>>>0]=61,e=-1):e/=1e3,BigInt(e)},P:function(){return-52},Q:function(){},I:function(e,r,s){function c(W){return(W=W.toTimeString().match(/\(([A-Za-z ]+)\)$/))?W[1]:"GMT"}s>>>=0;var g=new Date().getFullYear(),T=new Date(g,0,1),O=new Date(g,6,1);g=T.getTimezoneOffset();var U=O.getTimezoneOffset();j[e>>>0>>>2>>>0]=60*Math.max(g,U),R[r>>>0>>>2>>>0]=+(g!=U),e=c(T),r=c(O),e=Ft(e),r=Ft(r),U<g?(j[s>>>2>>>0]=e,j[s+4>>>2>>>0]=r):(j[s>>>2>>>0]=r,j[s+4>>>2>>>0]=e)},y:()=>{Se("")},fa:function(e,r,s){e>>>=0,r>>>=0,s>>>=0,gt.length=0;for(var c;c=Y[r++>>>0];){var g=c!=105;g&=c!=112,s+=g&&s%8?4:0,gt.push(c==112?j[s>>>2>>>0]:c==106?se[s>>>3]:c==105?R[s>>>2>>>0]:Ae[s>>>3>>>0]),s+=g?8:4}return ie[e].apply(null,gt)},C:()=>Date.now(),J:function(){return 4294901760},n:()=>performance.now(),H:function(e){e>>>=0;var r=Y.length;if(4294901760<e)return!1;for(var s=1;4>=s;s*=2){var c=r*(1+.2/s);c=Math.min(c,e+100663296);var g=Math;c=Math.max(e,c);e:{g=(g.min.call(g,4294901760,c+(65536-c%65536)%65536)-N.buffer.byteLength+65535)/65536;try{N.grow(g),$();var T=1;break e}catch{}T=void 0}if(T)return!0}return!1},W:function(e,r){e>>>=0,r>>>=0;var s=0;return wt().forEach((c,g)=>{var T=r+s;for(g=j[e+4*g>>>2>>>0]=T,T=0;T<c.length;++T)Q[g++>>>0>>>0]=c.charCodeAt(T);Q[g>>>0>>>0]=0,s+=c.length+1}),0},X:function(e,r){e>>>=0,r>>>=0;var s=wt();j[e>>>2>>>0]=s.length;var c=0;return s.forEach(g=>c+=g.length+1),j[r>>>2>>>0]=c,0},u:()=>52,A:function(){return 52},V:function(){return 70},z:function(e,r,s,c){r>>>=0,s>>>=0,c>>>=0;for(var g=0,T=0;T<s;T++){var O=j[r>>>2>>>0],U=j[r+4>>>2>>>0];r+=8;for(var W=0;W<U;W++){var B=Y[O+W>>>0],X=Bt[e];B===0||B===10?((e===1?C:F)(Kt(X,0)),X.length=0):X.push(B)}g+=U}return j[c>>>2>>>0]=g,0},ba:Lt,m:function(e,r,s,c){return Lt(e>>>0,r>>>0,s>>>0,c>>>0)}},L=function(){function e(s){return L=s.exports,L=xr(),N=L.ga,$(),be.unshift(L.ha),Ee--,Ee==0&&(oe!==null&&(clearInterval(oe),oe=null),ue&&(s=ue,ue=null,s())),L}var r={a:Nt};if(Ee++,o.instantiateWasm)try{return o.instantiateWasm(r,e)}catch(s){F(`Module.instantiateWasm callback failed with error: ${s}`),u(s)}return fe(r,function(s){e(s.instance)}).catch(u),{}}();o._OrtInit=(e,r)=>(o._OrtInit=L.ia)(e,r),o._OrtGetLastError=(e,r)=>(o._OrtGetLastError=L.ja)(e,r),o._OrtCreateSessionOptions=(e,r,s,c,g,T,O,U,W,B)=>(o._OrtCreateSessionOptions=L.ka)(e,r,s,c,g,T,O,U,W,B),o._OrtAppendExecutionProvider=(e,r)=>(o._OrtAppendExecutionProvider=L.la)(e,r),o._OrtAddFreeDimensionOverride=(e,r,s)=>(o._OrtAddFreeDimensionOverride=L.ma)(e,r,s),o._OrtAddSessionConfigEntry=(e,r,s)=>(o._OrtAddSessionConfigEntry=L.na)(e,r,s),o._OrtReleaseSessionOptions=e=>(o._OrtReleaseSessionOptions=L.oa)(e),o._OrtCreateSession=(e,r,s)=>(o._OrtCreateSession=L.pa)(e,r,s),o._OrtReleaseSession=e=>(o._OrtReleaseSession=L.qa)(e),o._OrtGetInputOutputCount=(e,r,s)=>(o._OrtGetInputOutputCount=L.ra)(e,r,s),o._OrtGetInputName=(e,r)=>(o._OrtGetInputName=L.sa)(e,r),o._OrtGetOutputName=(e,r)=>(o._OrtGetOutputName=L.ta)(e,r),o._OrtFree=e=>(o._OrtFree=L.ua)(e),o._OrtCreateTensor=(e,r,s,c,g,T)=>(o._OrtCreateTensor=L.va)(e,r,s,c,g,T),o._OrtGetTensorData=(e,r,s,c,g)=>(o._OrtGetTensorData=L.wa)(e,r,s,c,g),o._OrtReleaseTensor=e=>(o._OrtReleaseTensor=L.xa)(e),o._OrtCreateRunOptions=(e,r,s,c)=>(o._OrtCreateRunOptions=L.ya)(e,r,s,c),o._OrtAddRunConfigEntry=(e,r,s)=>(o._OrtAddRunConfigEntry=L.za)(e,r,s),o._OrtReleaseRunOptions=e=>(o._OrtReleaseRunOptions=L.Aa)(e),o._OrtCreateBinding=e=>(o._OrtCreateBinding=L.Ba)(e),o._OrtBindInput=(e,r,s)=>(o._OrtBindInput=L.Ca)(e,r,s),o._OrtBindOutput=(e,r,s,c)=>(o._OrtBindOutput=L.Da)(e,r,s,c),o._OrtClearBoundOutputs=e=>(o._OrtClearBoundOutputs=L.Ea)(e),o._OrtReleaseBinding=e=>(o._OrtReleaseBinding=L.Fa)(e),o._OrtRunWithBinding=(e,r,s,c,g)=>(o._OrtRunWithBinding=L.Ga)(e,r,s,c,g),o._OrtRun=(e,r,s,c,g,T,O,U)=>(o._OrtRun=L.Ha)(e,r,s,c,g,T,O,U),o._OrtEndProfiling=e=>(o._OrtEndProfiling=L.Ia)(e);var $t=()=>($t=L.Ja)(),Je=o._malloc=e=>(Je=o._malloc=L.Ka)(e),Ce=o._free=e=>(Ce=o._free=L.La)(e),Ht=e=>(Ht=L.Ma)(e),jt=()=>(jt=L.Oa)(),Yt=e=>(Yt=L.Pa)(e),Gt=e=>(Gt=L.Qa)(e);function xr(){var e=L;e=Object.assign({},e);var r=c=>()=>c()>>>0,s=c=>g=>c(g)>>>0;return e.Ja=r(e.Ja),e.Ka=s(e.Ka),e.Ma=s(e.Ma),e.Oa=r(e.Oa),e.Qa=s(e.Qa),e}o.stackAlloc=Gt,o.stackSave=jt,o.stackRestore=Yt,o.UTF8ToString=Ve,o.stringToUTF8=(e,r,s)=>Fe(e,Y,r,s),o.lengthBytesUTF8=lt;var et;ue=function e(){et||zt(),et||(ue=e)};function zt(){if(!(0<Ee)){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;){var e=o.preRun.shift();ce.unshift(e)}for(;0<ce.length;)ce.shift()(o);if(!(0<Ee||et||(et=!0,o.calledRun=!0,Z))){for(;0<be.length;)be.shift()(o);for(d(o);0<_e.length;)_e.shift()(o)}}}return zt(),a.ready}})();typeof In=="object"&&typeof Hr=="object"?Hr.exports=Dn:typeof define=="function"&&define.amd&&define([],()=>Dn)});var Bn=bt(()=>{});var kn=bt(()=>{});var Ln={};Vt(Ln,{cpus:()=>Ia});var Ia,Wn=G(()=>{Ia=void 0});var Hn=bt(($n,jr)=>{"use strict";var Nn=(()=>{var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(a={}){function o(){return K.buffer!=be.buffer&&Se(),be}function d(){return K.buffer!=be.buffer&&Se(),_e}function u(){return K.buffer!=be.buffer&&Se(),Ee}function m(){return K.buffer!=be.buffer&&Se(),oe}function p(){return K.buffer!=be.buffer&&Se(),ue}var f=a,b,w;f.ready=new Promise((t,i)=>{b=t,w=i});var E=Object.assign({},f),M="./this.program",_=(t,i)=>{throw i},P=typeof window=="object",I=typeof importScripts=="function",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",C=f.ENVIRONMENT_IS_PTHREAD||!1,F="";function N(t){return f.locateFile?f.locateFile(t,F):F+t}var Z,Q,Y;if(D){var ve=(Wr(),Ot(Lr)),xe=($r(),Ot(Nr));F=I?xe.dirname(F)+"/":__dirname+"/",Z=(i,l)=>(i=We(i)?new URL(i):xe.normalize(i),ve.readFileSync(i,l?void 0:"utf8")),Y=i=>(i=Z(i,!0),i.buffer||(i=new Uint8Array(i)),i),Q=(i,l,h,A=!0)=>{i=We(i)?new URL(i):xe.normalize(i),ve.readFile(i,A?void 0:"utf8",(S,x)=>{S?h(S):l(A?x.buffer:x)})},!f.thisProgram&&1<process.argv.length&&(M=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),_=(i,l)=>{throw process.exitCode=i,l},f.inspect=()=>"[Emscripten Module object]";let t;try{t=Bn()}catch(i){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),i}global.Worker=t.Worker}else(P||I)&&(I?F=self.location.href:typeof document<"u"&&document.currentScript&&(F=document.currentScript.src),typeof n<"u"&&n&&(F=n),F.indexOf("blob:")!==0?F=F.substr(0,F.replace(/[?#].*/,"").lastIndexOf("/")+1):F="",D||(Z=t=>{var i=new XMLHttpRequest;return i.open("GET",t,!1),i.send(null),i.responseText},I&&(Y=t=>{var i=new XMLHttpRequest;return i.open("GET",t,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),Q=(t,i,l)=>{var h=new XMLHttpRequest;h.open("GET",t,!0),h.responseType="arraybuffer",h.onload=()=>{h.status==200||h.status==0&&h.response?i(h.response):l()},h.onerror=l,h.send(null)}));D&&typeof performance>"u"&&(global.performance=kn().performance);var R=console.log.bind(console),j=console.error.bind(console);D&&(R=(...t)=>ve.writeSync(1,t.join(" ")+`
`),j=(...t)=>ve.writeSync(2,t.join(" ")+`
`));var ut=R,se=j;Object.assign(f,E),E=null,typeof WebAssembly!="object"&&ie("no native wasm support detected");var K,Ae,$=!1,ce,be,_e,Ee,oe,ue;function Se(){var t=K.buffer;f.HEAP8=be=new Int8Array(t),f.HEAP16=new Int16Array(t),f.HEAPU8=_e=new Uint8Array(t),f.HEAPU16=new Uint16Array(t),f.HEAP32=Ee=new Int32Array(t),f.HEAPU32=oe=new Uint32Array(t),f.HEAPF32=new Float32Array(t),f.HEAPF64=ue=new Float64Array(t)}var Le=16777216;if(C)K=f.wasmMemory;else if(f.wasmMemory)K=f.wasmMemory;else if(K=new WebAssembly.Memory({initial:Le/65536,maximum:65536,shared:!0}),!(K.buffer instanceof SharedArrayBuffer))throw se("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),D&&se("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Se(),Le=K.buffer.byteLength;var Ue=[],Me=[],ft=[],ge=0,De=null,Ie=null;function fe(){if(ge--,ge==0&&(De!==null&&(clearInterval(De),De=null),Ie)){var t=Ie;Ie=null,t()}}function ie(t){throw t="Aborted("+t+")",se(t),$=!0,ce=1,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),w(t),t}var ze=t=>t.startsWith("data:application/octet-stream;base64,"),We=t=>t.startsWith("file://"),He;He="ort-wasm-threaded.wasm",ze(He)||(He=N(He));function St(t){if(Y)return Y(t);throw"both async and sync fetching of the wasm failed"}function Kt(t){if(P||I){if(typeof fetch=="function"&&!We(t))return fetch(t,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw"failed to load wasm binary file at '"+t+"'";return i.arrayBuffer()}).catch(()=>St(t));if(Q)return new Promise((i,l)=>{Q(t,h=>i(new Uint8Array(h)),l)})}return Promise.resolve().then(()=>St(t))}function Ve(t,i,l){return Kt(t).then(h=>WebAssembly.instantiate(h,i)).then(h=>h).then(l,h=>{se(`failed to asynchronously prepare wasm: ${h}`),ie(h)})}function lt(t,i){var l=He;return typeof WebAssembly.instantiateStreaming!="function"||ze(l)||We(l)||D||typeof fetch!="function"?Ve(l,t,i):fetch(l,{credentials:"same-origin"}).then(h=>WebAssembly.instantiateStreaming(h,t).then(i,function(A){return se(`wasm streaming compile failed: ${A}`),se("falling back to ArrayBuffer instantiation"),Ve(l,t,i)}))}var Fe,Mt={920284:(t,i,l,h)=>{if(typeof f>"u"||!f.cb)return 1;if(t=dt(t>>>0),t.startsWith("./")&&(t=t.substring(2)),t=f.cb.get(t),!t)return 2;if(i>>>=0,l>>>=0,h>>>=0,i+l>t.byteLength)return 3;try{return d().set(t.subarray(i,i+l),h>>>0),0}catch{return 4}}};function Qe(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}var ye=t=>{t.terminate(),t.onmessage=()=>{}},ct=t=>{k.Pa.length==0&&(pe(),k.Ya(k.Pa[0]));var i=k.Pa.pop();if(!i)return 6;k.Qa.push(i),k.Ma[t.Oa]=i,i.Oa=t.Oa;var l={cmd:"run",start_routine:t.kb,arg:t.hb,pthread_ptr:t.Oa};return D&&i.unref(),i.postMessage(l,t.qb),0},je=0,er=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Be=(t,i,l)=>{i>>>=0;var h=i+l;for(l=i;t[l]&&!(l>=h);)++l;if(16<l-i&&t.buffer&&er)return er.decode(t.buffer instanceof SharedArrayBuffer?t.slice(i,l):t.subarray(i,l));for(h="";i<l;){var A=t[i++];if(A&128){var S=t[i++]&63;if((A&224)==192)h+=String.fromCharCode((A&31)<<6|S);else{var x=t[i++]&63;A=(A&240)==224?(A&15)<<12|S<<6|x:(A&7)<<18|S<<12|x<<6|t[i++]&63,65536>A?h+=String.fromCharCode(A):(A-=65536,h+=String.fromCharCode(55296|A>>10,56320|A&1023))}}else h+=String.fromCharCode(A)}return h},dt=(t,i)=>(t>>>=0)?Be(d(),t,i):"",ke=t=>{var i=vt();return t=t(),cr(i),t};function z(t,i){var l=arguments.length-2,h=arguments;return ke(()=>{for(var A=Ur(8*l),S=A>>>3,x=0;x<l;x++){var ee=h[2+x];p()[S+x>>>0]=ee}return me(t,l,A,i)})}function Pt(t){if(C)return z(0,1,t);ce=t,0<je||(k.lb(),f.onExit?.(t),$=!0),_(t,new Qe(t))}var de=t=>{if(ce=t,C)throw tr(t),"unwind";Pt(t)};function Ct(){for(var t=f.numThreads;t--;)pe();Ue.unshift(()=>{ge++,Pe(()=>fe())})}function pe(){var t=N("ort-wasm-threaded.worker.js");t=new Worker(t),k.Pa.push(t)}function Pe(t){C?t():Promise.all(k.Pa.map(k.Ya)).then(t)}var k={Pa:[],Qa:[],bb:[],Ma:{},Wa(){C?(k.receiveObjectTransfer=k.jb,k.threadInitTLS=k.ab,k.setExitStatus=k.$a):Ct()},$a:t=>ce=t,tb:["$terminateWorker"],lb:()=>{for(var t of k.Qa)ye(t);for(t of k.Pa)ye(t);k.Pa=[],k.Qa=[],k.Ma=[]},Za:t=>{var i=t.Oa;delete k.Ma[i],k.Pa.push(t),k.Qa.splice(k.Qa.indexOf(t),1),t.Oa=0,Te(i)},jb(){},ab(){k.bb.forEach(t=>t())},Ya:t=>new Promise(i=>{t.onmessage=S=>{S=S.data;var x=S.cmd;if(S.targetThread&&S.targetThread!=W()){var ee=k.Ma[S.targetThread];ee?ee.postMessage(S,S.transferList):se(`Internal error! Worker sent a message "${x}" to target pthread ${S.targetThread}, but that thread no longer exists!`)}else x==="checkMailbox"?Xe():x==="spawnThread"?ct(S):x==="cleanupThread"?k.Za(k.Ma[S.thread]):x==="killThread"?(S=S.thread,x=k.Ma[S],delete k.Ma[S],ye(x),Te(S),k.Qa.splice(k.Qa.indexOf(x),1),x.Oa=0):x==="cancelThread"?k.Ma[S.thread].postMessage({cmd:"cancel"}):x==="loaded"?(t.loaded=!0,D&&!t.Oa&&t.unref(),i(t)):x==="alert"?alert(`Thread ${S.threadId}: ${S.text}`):S.target==="setimmediate"?t.postMessage(S):x==="callHandler"?f[S.handler](...S.args):x&&se(`worker sent an unknown command ${x}`)},t.onerror=S=>{throw se(`worker sent an error! ${S.filename}:${S.lineno}: ${S.message}`),S},D&&(t.on("message",S=>t.onmessage({data:S})),t.on("error",S=>t.onerror(S)));var l=[],h=["onExit"],A;for(A of h)f.hasOwnProperty(A)&&l.push(A);t.postMessage({cmd:"load",handlers:l,urlOrBlob:f.mainScriptUrlOrBlob||n,wasmMemory:K,wasmModule:Ae})})};f.PThread=k;var pt=t=>{for(;0<t.length;)t.shift()(f)};f.establishStackSpace=()=>{var t=W(),i=m()[t+52>>>2>>>0];t=m()[t+56>>>2>>>0],Ne(i,i-t),cr(i)};function tr(t){if(C)return z(1,0,t);de(t)}var Ze=[],rr;f.invokeEntryPoint=(t,i)=>{var l=Ze[t];l||(t>=Ze.length&&(Ze.length=t+1),Ze[t]=l=rr.get(t)),t=l(i),0<je?k.$a(t):y(t)};function Cr(t){this.Va=t-24,this.gb=function(i){m()[this.Va+4>>>2>>>0]=i},this.fb=function(i){m()[this.Va+8>>>2>>>0]=i},this.Wa=function(i,l){this.eb(),this.gb(i),this.fb(l)},this.eb=function(){m()[this.Va+16>>>2>>>0]=0}}var nr=0,Rr=0;function ar(t,i,l,h){return C?z(2,1,t,i,l,h):or(t,i,l,h)}function or(t,i,l,h){if(t>>>=0,i>>>=0,l>>>=0,h>>>=0,typeof SharedArrayBuffer>"u")return se("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var A=[];return C&&A.length===0?ar(t,i,l,h):(t={kb:l,Oa:t,hb:h,qb:A},C?(t.sb="spawnThread",postMessage(t,A),0):ct(t))}function mt(t,i,l){return C?z(3,1,t,i,l):0}function Rt(t,i){if(C)return z(4,1,t,i)}var qe=t=>{for(var i=0,l=0;l<t.length;++l){var h=t.charCodeAt(l);127>=h?i++:2047>=h?i+=2:55296<=h&&57343>=h?(i+=4,++l):i+=3}return i},ir=(t,i,l,h)=>{if(l>>>=0,!(0<h))return 0;var A=l;h=l+h-1;for(var S=0;S<t.length;++S){var x=t.charCodeAt(S);if(55296<=x&&57343>=x){var ee=t.charCodeAt(++S);x=65536+((x&1023)<<10)|ee&1023}if(127>=x){if(l>=h)break;i[l++>>>0]=x}else{if(2047>=x){if(l+1>=h)break;i[l++>>>0]=192|x>>6}else{if(65535>=x){if(l+2>=h)break;i[l++>>>0]=224|x>>12}else{if(l+3>=h)break;i[l++>>>0]=240|x>>18,i[l++>>>0]=128|x>>12&63}i[l++>>>0]=128|x>>6&63}i[l++>>>0]=128|x&63}}return i[l>>>0]=0,l-A},ht=(t,i,l)=>ir(t,d(),i,l);function xt(t,i){if(C)return z(5,1,t,i)}function sr(t,i,l){if(C)return z(6,1,t,i,l)}function ur(t,i,l){return C?z(7,1,t,i,l):0}function Ut(t,i){if(C)return z(8,1,t,i)}function fr(t,i,l){if(C)return z(9,1,t,i,l)}function Ye(t,i,l,h){if(C)return z(10,1,t,i,l,h)}function Dt(t,i,l,h){if(C)return z(11,1,t,i,l,h)}function It(t,i,l,h){if(C)return z(12,1,t,i,l,h)}function Ft(t){if(C)return z(13,1,t)}function gt(t,i){if(C)return z(14,1,t,i)}function yt(t,i,l){if(C)return z(15,1,t,i,l)}function wt(t){t>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(u(),t>>>2,t).value.then(Xe),t+=128,Atomics.store(u(),t>>>2,1))}f.__emscripten_thread_mailbox_await=wt;var Xe=()=>{var t=W();if(t&&(wt(t),t=H,!$))try{if(t(),!(0<je))try{C?y(ce):de(ce)}catch(i){i instanceof Qe||i=="unwind"||_(1,i)}}catch(i){i instanceof Qe||i=="unwind"||_(1,i)}};f.checkMailbox=Xe;var Bt=[],Ge=t=>t%4===0&&(t%100!==0||t%400===0),kt=[0,31,60,91,121,152,182,213,244,274,305,335],lr=[0,31,59,90,120,151,181,212,243,273,304,334];function Lt(t,i,l,h,A,S,x,ee){return C?z(16,1,t,i,l,h,A,S,x,ee):-52}function Wt(t,i,l,h,A,S,x){if(C)return z(17,1,t,i,l,h,A,S,x)}var Ke=t=>{var i=qe(t)+1,l=B(i);return l&&ht(t,l,i),l},Nt=[],L={},$t=()=>{if(!Je){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:M||"./this.program"},i;for(i in L)L[i]===void 0?delete t[i]:t[i]=L[i];var l=[];for(i in t)l.push(`${i}=${t[i]}`);Je=l}return Je},Je;function Ce(t,i){if(C)return z(18,1,t,i);t>>>=0,i>>>=0;var l=0;return $t().forEach((h,A)=>{var S=i+l;for(A=m()[t+4*A>>>2>>>0]=S,S=0;S<h.length;++S)o()[A++>>>0>>>0]=h.charCodeAt(S);o()[A>>>0>>>0]=0,l+=h.length+1}),0}function Ht(t,i){if(C)return z(19,1,t,i);t>>>=0,i>>>=0;var l=$t();m()[t>>>2>>>0]=l.length;var h=0;return l.forEach(A=>h+=A.length+1),m()[i>>>2>>>0]=h,0}function jt(t){return C?z(20,1,t):52}function Yt(t,i,l,h){return C?z(21,1,t,i,l,h):52}function Gt(t,i,l,h,A){return C?z(22,1,t,i,l,h,A):70}var xr=[null,[],[]];function et(t,i,l,h){if(C)return z(23,1,t,i,l,h);i>>>=0,l>>>=0,h>>>=0;for(var A=0,S=0;S<l;S++){var x=m()[i>>>2>>>0],ee=m()[i+4>>>2>>>0];i+=8;for(var $e=0;$e<ee;$e++){var le=d()[x+$e>>>0],Oe=xr[t];le===0||le===10?((t===1?ut:se)(Be(Oe,0)),Oe.length=0):Oe.push(le)}A+=ee}return m()[h>>>2>>>0]=A,0}var zt=[31,29,31,30,31,30,31,31,30,31,30,31],e=[31,28,31,30,31,30,31,31,30,31,30,31];function r(t){var i=Array(qe(t)+1);return ir(t,i,0,i.length),i}var s=(t,i)=>{o().set(t,i>>>0)};function c(t,i,l,h){function A(v,V,te){for(v=typeof v=="number"?v.toString():v||"";v.length<V;)v=te[0]+v;return v}function S(v,V){return A(v,V,"0")}function x(v,V){function te(nn){return 0>nn?-1:0<nn?1:0}var tt;return(tt=te(v.getFullYear()-V.getFullYear()))===0&&(tt=te(v.getMonth()-V.getMonth()))===0&&(tt=te(v.getDate()-V.getDate())),tt}function ee(v){switch(v.getDay()){case 0:return new Date(v.getFullYear()-1,11,29);case 1:return v;case 2:return new Date(v.getFullYear(),0,3);case 3:return new Date(v.getFullYear(),0,2);case 4:return new Date(v.getFullYear(),0,1);case 5:return new Date(v.getFullYear()-1,11,31);case 6:return new Date(v.getFullYear()-1,11,30)}}function $e(v){var V=v.Ra;for(v=new Date(new Date(v.Sa+1900,0,1).getTime());0<V;){var te=v.getMonth(),tt=(Ge(v.getFullYear())?zt:e)[te];if(V>tt-v.getDate())V-=tt-v.getDate()+1,v.setDate(1),11>te?v.setMonth(te+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1));else{v.setDate(v.getDate()+V);break}}return te=new Date(v.getFullYear()+1,0,4),V=ee(new Date(v.getFullYear(),0,4)),te=ee(te),0>=x(V,v)?0>=x(te,v)?v.getFullYear()+1:v.getFullYear():v.getFullYear()-1}t>>>=0,i>>>=0,l>>>=0,h>>>=0;var le=m()[h+40>>>2>>>0];h={ob:u()[h>>>2>>>0],nb:u()[h+4>>>2>>>0],Ta:u()[h+8>>>2>>>0],Xa:u()[h+12>>>2>>>0],Ua:u()[h+16>>>2>>>0],Sa:u()[h+20>>>2>>>0],Na:u()[h+24>>>2>>>0],Ra:u()[h+28>>>2>>>0],ub:u()[h+32>>>2>>>0],mb:u()[h+36>>>2>>>0],pb:le?dt(le):""},l=dt(l),le={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Oe in le)l=l.replace(new RegExp(Oe,"g"),le[Oe]);var tn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),rn="January February March April May June July August September October November December".split(" ");le={"%a":v=>tn[v.Na].substring(0,3),"%A":v=>tn[v.Na],"%b":v=>rn[v.Ua].substring(0,3),"%B":v=>rn[v.Ua],"%C":v=>S((v.Sa+1900)/100|0,2),"%d":v=>S(v.Xa,2),"%e":v=>A(v.Xa,2," "),"%g":v=>$e(v).toString().substring(2),"%G":v=>$e(v),"%H":v=>S(v.Ta,2),"%I":v=>(v=v.Ta,v==0?v=12:12<v&&(v-=12),S(v,2)),"%j":v=>{for(var V=0,te=0;te<=v.Ua-1;V+=(Ge(v.Sa+1900)?zt:e)[te++]);return S(v.Xa+V,3)},"%m":v=>S(v.Ua+1,2),"%M":v=>S(v.nb,2),"%n":()=>`
`,"%p":v=>0<=v.Ta&&12>v.Ta?"AM":"PM","%S":v=>S(v.ob,2),"%t":()=>"	","%u":v=>v.Na||7,"%U":v=>S(Math.floor((v.Ra+7-v.Na)/7),2),"%V":v=>{var V=Math.floor((v.Ra+7-(v.Na+6)%7)/7);if(2>=(v.Na+371-v.Ra-2)%7&&V++,V)V==53&&(te=(v.Na+371-v.Ra)%7,te==4||te==3&&Ge(v.Sa)||(V=1));else{V=52;var te=(v.Na+7-v.Ra-1)%7;(te==4||te==5&&Ge(v.Sa%400-1))&&V++}return S(V,2)},"%w":v=>v.Na,"%W":v=>S(Math.floor((v.Ra+7-(v.Na+6)%7)/7),2),"%y":v=>(v.Sa+1900).toString().substring(2),"%Y":v=>v.Sa+1900,"%z":v=>{v=v.mb;var V=0<=v;return v=Math.abs(v)/60,(V?"+":"-")+("0000"+(v/60*100+v%60)).slice(-4)},"%Z":v=>v.pb,"%%":()=>"%"},l=l.replace(/%%/g,"\0\0");for(Oe in le)l.includes(Oe)&&(l=l.replace(new RegExp(Oe,"g"),le[Oe](h)));return l=l.replace(/\0\0/g,"%"),Oe=r(l),Oe.length>i?0:(s(Oe,t),Oe.length-1)}k.Wa();var g=[Pt,tr,ar,mt,Rt,xt,sr,ur,Ut,fr,Ye,Dt,It,Ft,gt,yt,Lt,Wt,Ce,Ht,jt,Yt,Gt,et],T={b:function(t,i,l){throw t>>>=0,new Cr(t).Wa(i>>>0,l>>>0),nr=t,Rr++,nr},L:function(t){X(t>>>0,!I,1,!P,131072,!1),k.ab()},j:function(t){t>>>=0,C?postMessage({cmd:"cleanupThread",thread:t}):k.Za(k.Ma[t])},H:or,h:mt,S:Rt,D:xt,F:sr,T:ur,Q:Ut,J:fr,P:Ye,n:Dt,E:It,B:Ft,R:gt,C:yt,p:()=>1,z:function(t,i){t>>>=0,t==i>>>0?setTimeout(()=>Xe()):C?postMessage({targetThread:t,cmd:"checkMailbox"}):(t=k.Ma[t])&&t.postMessage({cmd:"checkMailbox"})},I:function(t,i,l,h){i>>>=0,Bt.length=l,h=h>>>0>>>3;for(var A=0;A<l;A++)Bt[A]=p()[h+A>>>0];return t=0>t?Mt[-t-1]:g[t],k.ib=i,i=t.apply(null,Bt),k.ib=0,i},K:wt,o:function(t){D&&k.Ma[t>>>0].ref()},s:function(t,i,l){t=i+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*i:NaN,l>>>=0,t=new Date(1e3*t),u()[l>>>2>>>0]=t.getUTCSeconds(),u()[l+4>>>2>>>0]=t.getUTCMinutes(),u()[l+8>>>2>>>0]=t.getUTCHours(),u()[l+12>>>2>>>0]=t.getUTCDate(),u()[l+16>>>2>>>0]=t.getUTCMonth(),u()[l+20>>>2>>>0]=t.getUTCFullYear()-1900,u()[l+24>>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,u()[l+28>>>2>>>0]=t},t:function(t,i,l){t=i+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*i:NaN,l>>>=0,t=new Date(1e3*t),u()[l>>>2>>>0]=t.getSeconds(),u()[l+4>>>2>>>0]=t.getMinutes(),u()[l+8>>>2>>>0]=t.getHours(),u()[l+12>>>2>>>0]=t.getDate(),u()[l+16>>>2>>>0]=t.getMonth(),u()[l+20>>>2>>>0]=t.getFullYear()-1900,u()[l+24>>>2>>>0]=t.getDay(),i=(Ge(t.getFullYear())?kt:lr)[t.getMonth()]+t.getDate()-1|0,u()[l+28>>>2>>>0]=i,u()[l+36>>>2>>>0]=-(60*t.getTimezoneOffset()),i=new Date(t.getFullYear(),6,1).getTimezoneOffset();var h=new Date(t.getFullYear(),0,1).getTimezoneOffset();t=(i!=h&&t.getTimezoneOffset()==Math.min(h,i))|0,u()[l+32>>>2>>>0]=t},u:function(t){t>>>=0;var i=new Date(u()[t+20>>>2>>>0]+1900,u()[t+16>>>2>>>0],u()[t+12>>>2>>>0],u()[t+8>>>2>>>0],u()[t+4>>>2>>>0],u()[t>>>2>>>0],0),l=u()[t+32>>>2>>>0],h=i.getTimezoneOffset(),A=new Date(i.getFullYear(),6,1).getTimezoneOffset(),S=new Date(i.getFullYear(),0,1).getTimezoneOffset(),x=Math.min(S,A);return 0>l?u()[t+32>>>2>>>0]=+(A!=S&&x==h):0<l!=(x==h)&&(A=Math.max(S,A),i.setTime(i.getTime()+6e4*((0<l?x:A)-h))),u()[t+24>>>2>>>0]=i.getDay(),l=(Ge(i.getFullYear())?kt:lr)[i.getMonth()]+i.getDate()-1|0,u()[t+28>>>2>>>0]=l,u()[t>>>2>>>0]=i.getSeconds(),u()[t+4>>>2>>>0]=i.getMinutes(),u()[t+8>>>2>>>0]=i.getHours(),u()[t+12>>>2>>>0]=i.getDate(),u()[t+16>>>2>>>0]=i.getMonth(),u()[t+20>>>2>>>0]=i.getYear(),t=i.getTime(),isNaN(t)?(u()[U()>>>2>>>0]=61,t=-1):t/=1e3,J((Fe=t,1<=+Math.abs(Fe)?0<Fe?+Math.floor(Fe/4294967296)>>>0:~~+Math.ceil((Fe-+(~~Fe>>>0))/4294967296)>>>0:0)),t>>>0},q:Lt,r:Wt,y:function(t,i,l){function h(le){return(le=le.toTimeString().match(/\(([A-Za-z ]+)\)$/))?le[1]:"GMT"}t>>>=0,i>>>=0,l>>>=0;var A=new Date().getFullYear(),S=new Date(A,0,1),x=new Date(A,6,1);A=S.getTimezoneOffset();var ee=x.getTimezoneOffset(),$e=Math.max(A,ee);m()[t>>>2>>>0]=60*$e,u()[i>>>2>>>0]=+(A!=ee),t=h(S),i=h(x),t=Ke(t),i=Ke(i),ee<A?(m()[l>>>2>>>0]=t,m()[l+4>>>2>>>0]=i):(m()[l>>>2>>>0]=i,m()[l+4>>>2>>>0]=t)},c:()=>{ie("")},O:function(t,i,l){t>>>=0,i>>>=0,l>>>=0,Nt.length=0;for(var h;h=d()[i++>>>0];){var A=h!=105;A&=h!=112,l+=A&&l%8?4:0,Nt.push(h==112?m()[l>>>2>>>0]:h==105?u()[l>>>2>>>0]:p()[l>>>3>>>0]),l+=A?8:4}return Mt[t].apply(null,Nt)},k:()=>{},i:()=>Date.now(),U:()=>{throw je+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>D?(Wn(),Ot(Ln)).cpus().length:navigator.hardwareConcurrency,x:function(t){t>>>=0;var i=d().length;if(t<=i||4294901760<t)return!1;for(var l=1;4>=l;l*=2){var h=i*(1+.2/l);h=Math.min(h,t+100663296);var A=Math;h=Math.max(t,h);e:{A=(A.min.call(A,4294901760,h+(65536-h%65536)%65536)-K.buffer.byteLength+65535)/65536;try{K.grow(A),Se();var S=1;break e}catch{}S=void 0}if(S)return!0}return!1},M:Ce,N:Ht,G:de,g:jt,m:Yt,v:Gt,l:et,a:K||f.wasmMemory,w:c,d:function(t,i,l,h){return c(t>>>0,i>>>0,l>>>0,h>>>0)}},O=function(){function t(l,h){return O=l.exports,O=Ea(),k.bb.push(O.za),rr=O.Aa,Me.unshift(O.V),Ae=h,fe(),O}var i={a:T};if(ge++,f.instantiateWasm)try{return f.instantiateWasm(i,t)}catch(l){se(`Module.instantiateWasm callback failed with error: ${l}`),w(l)}return lt(i,function(l){t(l.instance,l.module)}).catch(w),{}}();f._OrtInit=(t,i)=>(f._OrtInit=O.W)(t,i),f._OrtGetLastError=(t,i)=>(f._OrtGetLastError=O.X)(t,i),f._OrtCreateSessionOptions=(t,i,l,h,A,S,x,ee,$e,le)=>(f._OrtCreateSessionOptions=O.Y)(t,i,l,h,A,S,x,ee,$e,le),f._OrtAppendExecutionProvider=(t,i)=>(f._OrtAppendExecutionProvider=O.Z)(t,i),f._OrtAddFreeDimensionOverride=(t,i,l)=>(f._OrtAddFreeDimensionOverride=O._)(t,i,l),f._OrtAddSessionConfigEntry=(t,i,l)=>(f._OrtAddSessionConfigEntry=O.$)(t,i,l),f._OrtReleaseSessionOptions=t=>(f._OrtReleaseSessionOptions=O.aa)(t),f._OrtCreateSession=(t,i,l)=>(f._OrtCreateSession=O.ba)(t,i,l),f._OrtReleaseSession=t=>(f._OrtReleaseSession=O.ca)(t),f._OrtGetInputOutputCount=(t,i,l)=>(f._OrtGetInputOutputCount=O.da)(t,i,l),f._OrtGetInputName=(t,i)=>(f._OrtGetInputName=O.ea)(t,i),f._OrtGetOutputName=(t,i)=>(f._OrtGetOutputName=O.fa)(t,i),f._OrtFree=t=>(f._OrtFree=O.ga)(t),f._OrtCreateTensor=(t,i,l,h,A,S)=>(f._OrtCreateTensor=O.ha)(t,i,l,h,A,S),f._OrtGetTensorData=(t,i,l,h,A)=>(f._OrtGetTensorData=O.ia)(t,i,l,h,A),f._OrtReleaseTensor=t=>(f._OrtReleaseTensor=O.ja)(t),f._OrtCreateRunOptions=(t,i,l,h)=>(f._OrtCreateRunOptions=O.ka)(t,i,l,h),f._OrtAddRunConfigEntry=(t,i,l)=>(f._OrtAddRunConfigEntry=O.la)(t,i,l),f._OrtReleaseRunOptions=t=>(f._OrtReleaseRunOptions=O.ma)(t),f._OrtCreateBinding=t=>(f._OrtCreateBinding=O.na)(t),f._OrtBindInput=(t,i,l)=>(f._OrtBindInput=O.oa)(t,i,l),f._OrtBindOutput=(t,i,l,h)=>(f._OrtBindOutput=O.pa)(t,i,l,h),f._OrtClearBoundOutputs=t=>(f._OrtClearBoundOutputs=O.qa)(t),f._OrtReleaseBinding=t=>(f._OrtReleaseBinding=O.ra)(t),f._OrtRunWithBinding=(t,i,l,h,A)=>(f._OrtRunWithBinding=O.sa)(t,i,l,h,A),f._OrtRun=(t,i,l,h,A,S,x,ee)=>(f._OrtRun=O.ta)(t,i,l,h,A,S,x,ee),f._OrtEndProfiling=t=>(f._OrtEndProfiling=O.ua)(t);var U=()=>(U=O.va)(),W=f._pthread_self=()=>(W=f._pthread_self=O.wa)(),B=f._malloc=t=>(B=f._malloc=O.xa)(t);f._free=t=>(f._free=O.ya)(t),f.__emscripten_tls_init=()=>(f.__emscripten_tls_init=O.za)();var X=f.__emscripten_thread_init=(t,i,l,h,A,S)=>(X=f.__emscripten_thread_init=O.Ba)(t,i,l,h,A,S);f.__emscripten_thread_crashed=()=>(f.__emscripten_thread_crashed=O.Ca)();var me=(t,i,l,h)=>(me=O.Da)(t,i,l,h),Te=t=>(Te=O.Ea)(t),y=f.__emscripten_thread_exit=t=>(y=f.__emscripten_thread_exit=O.Fa)(t),H=()=>(H=O.Ga)(),J=t=>(J=O.Ha)(t),Ne=(t,i)=>(Ne=O.Ia)(t,i),vt=()=>(vt=O.Ja)(),cr=t=>(cr=O.Ka)(t),Ur=t=>(Ur=O.La)(t);function Ea(){var t=O;t=Object.assign({},t);var i=h=>()=>h()>>>0,l=h=>A=>h(A)>>>0;return t.va=i(t.va),t.wa=i(t.wa),t.xa=l(t.xa),t.emscripten_main_runtime_thread_id=i(t.emscripten_main_runtime_thread_id),t.Ja=i(t.Ja),t.La=l(t.La),t}f.wasmMemory=K,f.stackAlloc=Ur,f.stackSave=vt,f.stackRestore=cr,f.keepRuntimeAlive=()=>0<je,f.UTF8ToString=dt,f.stringToUTF8=ht,f.lengthBytesUTF8=qe,f.ExitStatus=Qe,f.PThread=k;var dr;Ie=function t(){dr||en(),dr||(Ie=t)};function en(){if(!(0<ge))if(C)b(f),C||pt(Me),startWorker(f);else{if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)Ue.unshift(f.preRun.shift());pt(Ue),0<ge||dr||(dr=!0,f.calledRun=!0,$||(C||pt(Me),b(f),C||pt(ft)))}}return en(),a.ready}})();typeof $n=="object"&&typeof jr=="object"?jr.exports=Nn:typeof define=="function"&&define.amd&&define([],()=>Nn)});var jn=bt((qo,Fa)=>{Fa.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\n'});var Gn,Ba,Yr,Gr,Or,Yn,ka,La,Wa,zn,ne,Et=G(()=>{"use strict";Gn=Fn();Ba=Hn(),Gr=!1,Or=!1,Yn=!1,ka=n=>{if(n===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+n+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+n+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},La=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Wa=(n,a)=>n?a?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":a?"ort-wasm-threaded.wasm":"ort-wasm.wasm",zn=async n=>{if(Gr)return Promise.resolve();if(Or)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Yn)throw new Error("previous call to 'initializeWebAssembly()' failed.");Or=!0;let a=n.initTimeout,o=n.numThreads,d=n.simd,u=ka(o),m=d&&La(),p=n.wasmPaths,f=typeof p=="string"?p:void 0,b=Wa(m,u),w=typeof p=="object"?p[b]:void 0,E=!1,M=[];if(a>0&&M.push(new Promise(_=>{setTimeout(()=>{E=!0,_()},a)})),M.push(new Promise((_,P)=>{let I=u?Ba:Gn,D={locateFile:(C,F)=>u&&C.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([jn()],{type:"text/javascript"})):C.endsWith(".wasm")?w||(f??F)+b:F+C};if(u)if(D.numThreads=o,typeof Blob>"u")D.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let C=`var ortWasmThreaded=${I.toString()};`;D.mainScriptUrlOrBlob=new Blob([C],{type:"text/javascript"})}I(D).then(C=>{Or=!1,Gr=!0,Yr=C,_()},C=>{Or=!1,Yn=!0,P(C)})})),await Promise.race(M),E)throw new Error(`WebAssembly backend initializing failed due to timeout: ${a}ms`)},ne=()=>{if(Gr&&Yr)return Yr;throw new Error("WebAssembly is not initialized yet.")}});var ae,Xt,re,_r=G(()=>{"use strict";Et();ae=(n,a)=>{let o=ne(),d=o.lengthBytesUTF8(n)+1,u=o._malloc(d);return o.stringToUTF8(n,u,d),a.push(u),u},Xt=(n,a,o,d)=>{if(typeof n=="object"&&n!==null){if(o.has(n))throw new Error("Circular reference in options");o.add(n)}Object.entries(n).forEach(([u,m])=>{let p=a?a+u:u;if(typeof m=="object")Xt(m,p+".",o,d);else if(typeof m=="string"||typeof m=="number")d(p,m.toString());else if(typeof m=="boolean")d(p,m?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof m}`)})},re=n=>{let a=ne(),o=a.stackSave();try{let d=a.stackAlloc(8);a._OrtGetLastError(d,d+4);let u=a.HEAP32[d/4],m=a.HEAPU32[d/4+1],p=m?a.UTF8ToString(m):"";throw new Error(`${n} ERROR_CODE: ${u}, ERROR_MESSAGE: ${p}`)}finally{a.stackRestore(o)}}});var Vn,qn=G(()=>{"use strict";Et();_r();Vn=n=>{let a=ne(),o=0,d=[],u=n||{};try{if(n?.logSeverityLevel===void 0)u.logSeverityLevel=2;else if(typeof n.logSeverityLevel!="number"||!Number.isInteger(n.logSeverityLevel)||n.logSeverityLevel<0||n.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${n.logSeverityLevel}`);if(n?.logVerbosityLevel===void 0)u.logVerbosityLevel=0;else if(typeof n.logVerbosityLevel!="number"||!Number.isInteger(n.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${n.logVerbosityLevel}`);n?.terminate===void 0&&(u.terminate=!1);let m=0;return n?.tag!==void 0&&(m=ae(n.tag,d)),o=a._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,m),o===0&&re("Can't create run options."),n?.extra!==void 0&&Xt(n.extra,"",new WeakSet,(p,f)=>{let b=ae(p,d),w=ae(f,d);a._OrtAddRunConfigEntry(o,b,w)!==0&&re(`Can't set a run config entry: ${p} - ${f}.`)}),[o,d]}catch(m){throw o!==0&&a._OrtReleaseRunOptions(o),d.forEach(p=>a._free(p)),m}}});var Na,$a,Ha,ja,Xn,Jn=G(()=>{"use strict";Et();_r();Na=n=>{switch(n){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${n}`)}},$a=n=>{switch(n){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${n}`)}},Ha=n=>{n.extra||(n.extra={}),n.extra.session||(n.extra.session={});let a=n.extra.session;a.use_ort_model_bytes_directly||(a.use_ort_model_bytes_directly="1"),n.executionProviders&&n.executionProviders.some(o=>(typeof o=="string"?o:o.name)==="webgpu")&&(n.enableMemPattern=!1)},ja=(n,a,o)=>{for(let d of a){let u=typeof d=="string"?d:d.name;switch(u){case"webnn":if(u="WEBNN",typeof d!="string"){let p=d;if(p?.deviceType){let f=ae("deviceType",o),b=ae(p.deviceType,o);ne()._OrtAddSessionConfigEntry(n,f,b)!==0&&re(`Can't set a session config entry: 'deviceType' - ${p.deviceType}.`)}if(p?.numThreads){let f=p.numThreads;(typeof f!="number"||!Number.isInteger(f)||f<0)&&(f=0);let b=ae("numThreads",o),w=ae(f.toString(),o);ne()._OrtAddSessionConfigEntry(n,b,w)!==0&&re(`Can't set a session config entry: 'numThreads' - ${p.numThreads}.`)}if(p?.powerPreference){let f=ae("powerPreference",o),b=ae(p.powerPreference,o);ne()._OrtAddSessionConfigEntry(n,f,b)!==0&&re(`Can't set a session config entry: 'powerPreference' - ${p.powerPreference}.`)}}break;case"webgpu":if(u="JS",typeof d!="string"){let p=d;if(p?.preferredLayout){if(p.preferredLayout!=="NCHW"&&p.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${p.preferredLayout}`);let f=ae("preferredLayout",o),b=ae(p.preferredLayout,o);ne()._OrtAddSessionConfigEntry(n,f,b)!==0&&re(`Can't set a session config entry: 'preferredLayout' - ${p.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${u}`)}let m=ae(u,o);ne()._OrtAppendExecutionProvider(n,m)!==0&&re(`Can't append execution provider: ${u}.`)}},Xn=n=>{let a=ne(),o=0,d=[],u=n||{};Ha(u);try{let m=Na(u.graphOptimizationLevel??"all"),p=$a(u.executionMode??"sequential"),f=typeof u.logId=="string"?ae(u.logId,d):0,b=u.logSeverityLevel??2;if(!Number.isInteger(b)||b<0||b>4)throw new Error(`log serverity level is not valid: ${b}`);let w=u.logVerbosityLevel??0;if(!Number.isInteger(w)||w<0||w>4)throw new Error(`log verbosity level is not valid: ${w}`);let E=typeof u.optimizedModelFilePath=="string"?ae(u.optimizedModelFilePath,d):0;if(o=a._OrtCreateSessionOptions(m,!!u.enableCpuMemArena,!!u.enableMemPattern,p,!!u.enableProfiling,0,f,b,w,E),o===0&&re("Can't create session options."),u.executionProviders&&ja(o,u.executionProviders,d),u.freeDimensionOverrides)for(let[M,_]of Object.entries(u.freeDimensionOverrides)){if(typeof M!="string")throw new Error(`free dimension override name must be a string: ${M}`);if(typeof _!="number"||!Number.isInteger(_)||_<0)throw new Error(`free dimension override value must be a non-negative integer: ${_}`);let P=ae(M,d);a._OrtAddFreeDimensionOverride(o,P,_)!==0&&re(`Can't set a free dimension override: ${M} - ${_}.`)}return u.extra!==void 0&&Xt(u.extra,"",new WeakSet,(M,_)=>{let P=ae(M,d),I=ae(_,d);a._OrtAddSessionConfigEntry(o,P,I)!==0&&re(`Can't set a session config entry: ${M} - ${_}.`)}),[o,d]}catch(m){throw o!==0&&a._OrtReleaseSessionOptions(o),d.forEach(p=>a._free(p)),m}}});var zr,Qn,Vr,Zn,Kn,Er,ea,qr=G(()=>{"use strict";zr=n=>{switch(n){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${n}`)}},Qn=n=>{switch(n){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${n}`)}},Vr=n=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][n],Zn=n=>{switch(n){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${n}`)}},Kn=n=>{switch(n){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${n}`)}},Er=n=>n==="float32"||n==="int32"||n==="int64"||n==="bool"||n==="float16"||n==="uint32",ea=n=>{switch(n){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${n}`)}}});var Jt,Xr=G(()=>{"use strict";Jt=async n=>{if(typeof n=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(n))}catch(a){if(a.code==="ERR_FS_FILE_TOO_LARGE"){let o=(void 0)(n),d=[];for await(let u of o)d.push(u);return new Uint8Array(Buffer.concat(d))}throw a}else{let a=await fetch(n);if(!a.ok)throw new Error(`failed to load external data file: ${n}`);let o=a.headers.get("Content-Length"),d=o?parseInt(o,10):0;if(d<1073741824)return new Uint8Array(await a.arrayBuffer());{if(!a.body)throw new Error(`failed to load external data file: ${n}, no response body.`);let u=a.body.getReader(),m;try{m=new ArrayBuffer(d)}catch(f){if(f instanceof RangeError){let b=Math.ceil(d/65536);m=new WebAssembly.Memory({initial:b,maximum:b}).buffer}else throw f}let p=0;for(;;){let{done:f,value:b}=await u.read();if(f)break;let w=b.byteLength;new Uint8Array(m,p,w).set(b),p+=w}return new Uint8Array(m,0,d)}}else return n instanceof Blob?new Uint8Array(await n.arrayBuffer()):n instanceof Uint8Array?n:new Uint8Array(n)}});var Ya,ra,na,Qt,Ga,Jr,aa,oa,ta,ia,sa,ua,fa=G(()=>{"use strict";qn();Jn();qr();Et();_r();Xr();Ya=(n,a)=>{ne()._OrtInit(n,a)!==0&&re("Can't initialize onnxruntime.")},ra=async n=>{Ya(n.wasm.numThreads,Kn(n.logLevel))},na=async(n,a)=>{},Qt=new Map,Ga=n=>{let a=ne(),o=a.stackSave();try{let d=a.stackAlloc(8);return a._OrtGetInputOutputCount(n,d,d+4)!==0&&re("Can't get session input/output count."),[a.HEAP32[d/4],a.HEAP32[d/4+1]]}finally{a.stackRestore(o)}},Jr=n=>{let a=ne(),o=a._malloc(n.byteLength);if(o===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${n.byteLength}.`);return a.HEAPU8.set(n,o),[o,n.byteLength]},aa=async(n,a)=>{let o,d,u=ne();Array.isArray(n)?[o,d]=n:n.buffer===u.HEAPU8.buffer?[o,d]=[n.byteOffset,n.byteLength]:[o,d]=Jr(n);let m=0,p=0,f=0,b=[],w=[],E=[];try{if([p,b]=Xn(a),a?.externalData&&u.mountExternalData){let F=[];for(let N of a.externalData){let Z=typeof N=="string"?N:N.path;F.push(Jt(typeof N=="string"?N:N.data).then(Q=>{u.mountExternalData(Z,Q)}))}await Promise.all(F)}m=u._OrtCreateSession(o,d,p),m===0&&re("Can't create a session.");let[M,_]=Ga(m),P=[],I=[],D=[];for(let F=0;F<M;F++){let N=u._OrtGetInputName(m,F);N===0&&re("Can't get an input name."),w.push(N),P.push(u.UTF8ToString(N))}for(let F=0;F<_;F++){let N=u._OrtGetOutputName(m,F);N===0&&re("Can't get an output name."),E.push(N);let Z=u.UTF8ToString(N);I.push(Z)}let C=null;return Qt.set(m,[m,w,E,C]),[m,P,I]}catch(M){throw w.forEach(_=>u._OrtFree(_)),E.forEach(_=>u._OrtFree(_)),f!==0&&u._OrtReleaseBinding(f),m!==0&&u._OrtReleaseSession(m),M}finally{u._free(o),p!==0&&u._OrtReleaseSessionOptions(p),b.forEach(M=>u._free(M)),u.unmountExternalData?.()}},oa=n=>{let a=ne(),o=Qt.get(n);if(!o)throw new Error(`cannot release session. invalid session id: ${n}`);let[d,u,m,p]=o;p&&a._OrtReleaseBinding(p.handle),a.jsepUnregisterBuffers?.(n),u.forEach(f=>a._OrtFree(f)),m.forEach(f=>a._OrtFree(f)),a._OrtReleaseSession(d),Qt.delete(n)},ta=(n,a,o,d,u)=>{if(!n){a.push(0);return}let m=ne(),p=n[0],f=n[1],b=n[3],w,E;if(p==="string"&&b==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(b==="gpu-buffer"){let P=n[2].gpuBuffer,I=Vr(zr(p));E=f.reduce((D,C)=>D*C,1)*I,w=m.jsepRegisterBuffer(d,u,P,E)}else{let P=n[2];if(Array.isArray(P)){E=4*P.length,w=m._malloc(E),o.push(w);let I=w/4;for(let D=0;D<P.length;D++){if(typeof P[D]!="string")throw new TypeError(`tensor data at index ${D} is not a string`);m.HEAPU32[I++]=ae(P[D],o)}}else E=P.byteLength,w=m._malloc(E),o.push(w),m.HEAPU8.set(new Uint8Array(P.buffer,P.byteOffset,E),w)}let M=m.stackSave(),_=m.stackAlloc(4*f.length);try{let P=_/4;f.forEach(D=>m.HEAP32[P++]=D);let I=m._OrtCreateTensor(zr(p),w,E,_,f.length,ea(b));I===0&&re(`Can't create tensor for input/output. session=${d}, index=${u}.`),a.push(I)}finally{m.stackRestore(M)}},ia=async(n,a,o,d,u,m)=>{let p=ne(),f=Qt.get(n);if(!f)throw new Error(`cannot run inference. invalid session id: ${n}`);let[b,w,E,M]=f,_=a.length,P=d.length,I=0,D=[],C=[],F=[],N=[],Z=p.stackSave(),Q=p.stackAlloc(_*4),Y=p.stackAlloc(_*4),ve=p.stackAlloc(P*4),xe=p.stackAlloc(P*4);try{[I,D]=Vn(m);for(let $=0;$<_;$++)ta(o[$],C,N,n,a[$]);for(let $=0;$<P;$++)ta(u[$],F,N,n,_+d[$]);let R=Q/4,j=Y/4,ut=ve/4,se=xe/4;for(let $=0;$<_;$++)p.HEAPU32[R++]=C[$],p.HEAPU32[j++]=w[a[$]];for(let $=0;$<P;$++)p.HEAPU32[ut++]=F[$],p.HEAPU32[se++]=E[d[$]];let K;K=await p._OrtRun(b,Y,Q,_,xe,P,ve,I),K!==0&&re("failed to call OrtRun().");let Ae=[];for(let $=0;$<P;$++){let ce=p.HEAPU32[ve/4+$];if(ce===F[$]){Ae.push(u[$]);continue}let be=p.stackSave(),_e=p.stackAlloc(4*4),Ee=!1,oe,ue=0;try{p._OrtGetTensorData(ce,_e,_e+4,_e+8,_e+12)!==0&&re(`Can't access output tensor data on index ${$}.`);let Le=_e/4,Ue=p.HEAPU32[Le++];ue=p.HEAPU32[Le++];let Me=p.HEAPU32[Le++],ft=p.HEAPU32[Le++],ge=[];for(let fe=0;fe<ft;fe++)ge.push(p.HEAPU32[Me/4+fe]);p._OrtFree(Me);let De=ge.reduce((fe,ie)=>fe*ie,1);oe=Qn(Ue);let Ie=M?.outputPreferredLocations[d[$]];if(oe==="string"){if(Ie==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let fe=[],ie=ue/4;for(let ze=0;ze<De;ze++){let We=p.HEAPU32[ie++],He=ze===De-1?void 0:p.HEAPU32[ie]-We;fe.push(p.UTF8ToString(We,He))}Ae.push([oe,ge,fe,"cpu"])}else if(Ie==="gpu-buffer"&&De>0){let fe=p.jsepGetBuffer(ue),ie=Vr(Ue);if(ie===void 0||!Er(oe))throw new Error(`Unsupported data type: ${oe}`);Ee=!0,Ae.push([oe,ge,{gpuBuffer:fe,download:p.jsepCreateDownloader(fe,De*ie,oe),dispose:()=>{p._OrtReleaseTensor(ce)}},"gpu-buffer"])}else{let fe=Zn(oe),ie=new fe(De);new Uint8Array(ie.buffer,ie.byteOffset,ie.byteLength).set(p.HEAPU8.subarray(ue,ue+ie.byteLength)),Ae.push([oe,ge,ie,"cpu"])}}finally{p.stackRestore(be),oe==="string"&&ue&&p._free(ue),Ee||p._OrtReleaseTensor(ce)}}return M&&p._OrtClearBoundOutputs(M.handle),Ae}finally{p.stackRestore(Z),C.forEach(R=>p._OrtReleaseTensor(R)),F.forEach(R=>p._OrtReleaseTensor(R)),N.forEach(R=>p._free(R)),I!==0&&p._OrtReleaseRunOptions(I),D.forEach(R=>p._free(R))}},sa=n=>{let a=ne(),o=Qt.get(n);if(!o)throw new Error("invalid session id");let d=o[0],u=a._OrtEndProfiling(d);u===0&&re("Can't get an profile file name."),a._OrtFree(u)},ua=n=>{let a=[];for(let o of n){let d=o[2];!Array.isArray(d)&&"buffer"in d&&a.push(d.buffer)}return a}});var la=bt((mi,Va)=>{Va.exports='/*!\n * ONNX Runtime Web v1.18.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Kt=Object.defineProperty;var Jr=Object.getOwnPropertyDescriptor;var Xr=Object.getOwnPropertyNames;var Qr=Object.prototype.hasOwnProperty;var er=(f,m)=>()=>(f&&(m=f(f=0)),m);var Dt=(f,m)=>()=>(m||f((m={exports:{}}).exports,m),m.exports),tr=(f,m)=>{for(var s in m)Kt(f,s,{get:m[s],enumerable:!0})},Zr=(f,m,s,v)=>{if(m&&typeof m=="object"||typeof m=="function")for(let c of Xr(m))!Qr.call(f,c)&&c!==s&&Kt(f,c,{get:()=>m[c],enumerable:!(v=Jr(m,c))||v.enumerable});return f};var Ut=f=>Zr(Kt({},"__esModule",{value:!0}),f);var rr={};tr(rr,{createReadStream:()=>yr,readFile:()=>Kr,readFileSync:()=>en});var Kr,en,yr,nr=er(()=>{Kr=void 0,en=void 0,yr=void 0});var ar={};tr(ar,{join:()=>tn});var tn,or=er(()=>{tn=void 0});var Or=Dt((wr,ir)=>{"use strict";var vr=(()=>{var f=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(f=f||__filename),function(m={}){var s=m,v,c;s.ready=new Promise((e,r)=>{v=e,c=r});var _=Object.assign({},s),y="./this.program",u=typeof window=="object",C=typeof importScripts=="function",F=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",B="",$,R,I;if(F){var H=(nr(),Ut(rr)),W=(or(),Ut(ar));B=C?W.dirname(B)+"/":__dirname+"/",$=(e,r)=>(e=Me(e)?new URL(e):W.normalize(e),H.readFileSync(e,r?void 0:"utf8")),I=e=>(e=$(e,!0),e.buffer||(e=new Uint8Array(e)),e),R=(e,r,a,i=!0)=>{e=Me(e)?new URL(e):W.normalize(e),H.readFile(e,i?void 0:"utf8",(d,w)=>{d?a(d):r(i?w.buffer:w)})},!s.thisProgram&&1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),s.inspect=()=>"[Emscripten Module object]"}else(u||C)&&(C?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),f&&(B=f),B.indexOf("blob:")!==0?B=B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):B="",$=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},C&&(I=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),R=(e,r,a)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?r(i.response):a()},i.onerror=a,i.send(null)});var T=console.log.bind(console),x=console.error.bind(console);Object.assign(s,_),_=null,typeof WebAssembly!="object"&&_e("no native wasm support detected");var j,Oe=!1,se,z,me,Ae,E,k,Qe,ne,J,be;function L(){var e=j.buffer;s.HEAP8=se=new Int8Array(e),s.HEAP16=me=new Int16Array(e),s.HEAPU8=z=new Uint8Array(e),s.HEAPU16=Ae=new Uint16Array(e),s.HEAP32=E=new Int32Array(e),s.HEAPU32=k=new Uint32Array(e),s.HEAPF32=Qe=new Float32Array(e),s.HEAPF64=be=new Float64Array(e),s.HEAP64=ne=new BigInt64Array(e),s.HEAPU64=J=new BigUint64Array(e)}var ue=[],ge=[],ye=[],ve=0,te=null,ae=null;function _e(e){throw e="Aborted("+e+")",x(e),Oe=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}var xe=e=>e.startsWith("data:application/octet-stream;base64,"),Me=e=>e.startsWith("file://"),Ee;if(Ee="ort-wasm.wasm",!xe(Ee)){var Ze=Ee;Ee=s.locateFile?s.locateFile(Ze,B):B+Ze}function de(e){if(I)return I(e);throw"both async and sync fetching of the wasm failed"}function Ce(e){if(u||C){if(typeof fetch=="function"&&!Me(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at \'"+e+"\'";return r.arrayBuffer()}).catch(()=>de(e));if(R)return new Promise((r,a)=>{R(e,i=>r(new Uint8Array(i)),a)})}return Promise.resolve().then(()=>de(e))}function Pe(e,r,a){return Ce(e).then(i=>WebAssembly.instantiate(i,r)).then(i=>i).then(a,i=>{x(`failed to asynchronously prepare wasm: ${i}`),_e(i)})}function oe(e,r){var a=Ee;return typeof WebAssembly.instantiateStreaming!="function"||xe(a)||Me(a)||F||typeof fetch!="function"?Pe(a,e,r):fetch(a,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,e).then(r,function(d){return x(`wasm streaming compile failed: ${d}`),x("falling back to ArrayBuffer instantiation"),Pe(a,e,r)}))}var re={1358424:(e,r,a,i)=>{if(typeof s>"u"||!s.cb)return 1;if(e=He(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=s.cb.get(e),!e)return 2;if(r>>>=0,a>>>=0,r+a>e.byteLength)return 3;try{return z.set(e.subarray(r,r+a),i>>>0>>>0),0}catch{return 4}}};function $e(e){this.Ua=e-24,this.fb=function(r){k[this.Ua+4>>>2>>>0]=r},this.eb=function(r){k[this.Ua+8>>>2>>>0]=r},this.Ya=function(r,a){this.Za(),this.fb(r),this.eb(a)},this.Za=function(){k[this.Ua+16>>>2>>>0]=0}}var Re=0,Le=0,ft=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Rt=(e,r,a)=>{r>>>=0;var i=r+a;for(a=r;e[a]&&!(a>=i);)++a;if(16<a-r&&e.buffer&&ft)return ft.decode(e.subarray(r,a));for(i="";r<a;){var d=e[r++];if(d&128){var w=e[r++]&63;if((d&224)==192)i+=String.fromCharCode((d&31)<<6|w);else{var h=e[r++]&63;d=(d&240)==224?(d&15)<<12|w<<6|h:(d&7)<<18|w<<12|h<<6|e[r++]&63,65536>d?i+=String.fromCharCode(d):(d-=65536,i+=String.fromCharCode(55296|d>>10,56320|d&1023))}}else i+=String.fromCharCode(d)}return i},He=(e,r)=>(e>>>=0)?Rt(z,e,r):"",Ke=e=>{for(var r=0,a=0;a<e.length;++a){var i=e.charCodeAt(a);127>=i?r++:2047>=i?r+=2:55296<=i&&57343>=i?(r+=4,++a):r+=3}return r},De=(e,r,a,i)=>{if(a>>>=0,!(0<i))return 0;var d=a;i=a+i-1;for(var w=0;w<e.length;++w){var h=e.charCodeAt(w);if(55296<=h&&57343>=h){var A=e.charCodeAt(++w);h=65536+((h&1023)<<10)|A&1023}if(127>=h){if(a>=i)break;r[a++>>>0]=h}else{if(2047>=h){if(a+1>=i)break;r[a++>>>0]=192|h>>6}else{if(65535>=h){if(a+2>=i)break;r[a++>>>0]=224|h>>12}else{if(a+3>=i)break;r[a++>>>0]=240|h>>18,r[a++>>>0]=128|h>>12&63}r[a++>>>0]=128|h>>6&63}r[a++>>>0]=128|h&63}}return r[a>>>0]=0,a-d},lt=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},ze,pe=e=>{for(var r="";z[e>>>0];)r+=ze[z[e++>>>0]];return r},et={},We={},It={},Ue;function tt(e,r,a={}){var i=r.name;if(!e)throw new Ue(`type "${i}" must have a positive integer typeid pointer`);if(We.hasOwnProperty(e)){if(a.gb)return;throw new Ue(`Cannot register type \'${i}\' twice`)}We[e]=r,delete It[e],et.hasOwnProperty(e)&&(r=et[e],delete et[e],r.forEach(d=>d()))}function Fe(e,r,a={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");tt(e,r,a)}var Y=(e,r,a)=>{switch(r){case 1:return a?i=>se[i>>>0>>>0]:i=>z[i>>>0>>>0];case 2:return a?i=>me[i>>>1>>>0]:i=>Ae[i>>>1>>>0];case 4:return a?i=>E[i>>>2>>>0]:i=>k[i>>>2>>>0];case 8:return a?i=>ne[i>>>3]:i=>J[i>>>3];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function ct(){this.Ra=[void 0],this.ab=[]}var fe=new ct;function dt(e){e>>>=0,e>=fe.Ua&&--fe.get(e).bb===0&&fe.Za(e)}var le=e=>{if(!e)throw new Ue("Cannot use deleted val. handle = "+e);return fe.get(e).value},Se=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return fe.Ya({bb:1,value:e})}};function P(e){return this.fromWireType(E[e>>>2>>>0])}var rt=(e,r)=>{switch(r){case 4:return function(a){return this.fromWireType(Qe[a>>>2>>>0])};case 8:return function(a){return this.fromWireType(be[a>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}};function Bt(e){return this.fromWireType(k[e>>>2>>>0])}var Ve=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Lt=(e,r)=>{for(var a=e>>1,i=a+r/2;!(a>=i)&&Ae[a>>>0];)++a;if(a<<=1,32<a-e&&Ve)return Ve.decode(z.subarray(e>>>0,a>>>0));for(a="",i=0;!(i>=r/2);++i){var d=me[e+2*i>>>1>>>0];if(d==0)break;a+=String.fromCharCode(d)}return a},Jt=(e,r,a)=>{if(a??=2147483647,2>a)return 0;a-=2;var i=r;a=a<2*e.length?a/2:e.length;for(var d=0;d<a;++d)me[r>>>1>>>0]=e.charCodeAt(d),r+=2;return me[r>>>1>>>0]=0,r-i},Wt=e=>2*e.length,Xt=(e,r)=>{for(var a=0,i="";!(a>=r/4);){var d=E[e+4*a>>>2>>>0];if(d==0)break;++a,65536<=d?(d-=65536,i+=String.fromCharCode(55296|d>>10,56320|d&1023)):i+=String.fromCharCode(d)}return i},Nt=(e,r,a)=>{if(r>>>=0,a??=2147483647,4>a)return 0;var i=r;a=i+a-4;for(var d=0;d<e.length;++d){var w=e.charCodeAt(d);if(55296<=w&&57343>=w){var h=e.charCodeAt(++d);w=65536+((w&1023)<<10)|h&1023}if(E[r>>>2>>>0]=w,r+=4,r+4>a)break}return E[r>>>2>>>0]=0,r-i},kt=e=>{for(var r=0,a=0;a<e.length;++a){var i=e.charCodeAt(a);55296<=i&&57343>=i&&++a,r+=4}return r},nt=(e,r)=>{var a=We[e];if(a===void 0)throw e=Tt(e),a=pe(e),Te(e),new Ue(r+" has unknown type "+a);return a},pt=(e,r,a)=>{var i=[];return e=e.toWireType(i,a),i.length&&(k[r>>>2>>>0]=Se(i)),e},je=[],$t={},at=e=>{var r=$t[e];return r===void 0?pe(e):r},mt=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Ht=e=>{var r=je.length;return je.push(e),r},jt=(e,r)=>{for(var a=Array(e),i=0;i<e;++i)a[i]=nt(k[r+4*i>>>2>>>0],"parameter "+i);return a},gt=(e,r)=>Object.defineProperty(r,"name",{value:e});function Yt(e){var r=Function;if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var a=gt(r.name||"unknownFunctionName",function(){});return a.prototype=r.prototype,a=new a,e=r.apply(a,e),e instanceof Object?e:a}var Ne=e=>e%4===0&&(e%100!==0||e%400===0),ht=[0,31,60,91,121,152,182,213,244,274,305,335],yt=[0,31,59,90,120,151,181,212,243,273,304,334],vt=e=>{var r=Ke(e)+1,a=Ge(r);return a&&De(e,z,a,r),a},ot=[],it={},st=()=>{if(!Ye){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"},r;for(r in it)it[r]===void 0?delete e[r]:e[r]=it[r];var a=[];for(r in e)a.push(`${r}=${e[r]}`);Ye=a}return Ye},Ye,wt=[null,[],[]],ke=[31,29,31,30,31,30,31,31,30,31,30,31],Ot=[31,28,31,30,31,30,31,31,30,31,30,31];function Gt(e){var r=Array(Ke(e)+1);return De(e,r,0,r.length),r}function bt(e,r,a,i){function d(p,N,q){for(p=typeof p=="number"?p.toString():p||"";p.length<N;)p=q[0]+p;return p}function w(p,N){return d(p,N,"0")}function h(p,N){function q(ut){return 0>ut?-1:0<ut?1:0}var Ie;return(Ie=q(p.getFullYear()-N.getFullYear()))===0&&(Ie=q(p.getMonth()-N.getMonth()))===0&&(Ie=q(p.getDate()-N.getDate())),Ie}function A(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function U(p){var N=p.Sa;for(p=new Date(new Date(p.Ta+1900,0,1).getTime());0<N;){var q=p.getMonth(),Ie=(Ne(p.getFullYear())?ke:Ot)[q];if(N>Ie-p.getDate())N-=Ie-p.getDate()+1,p.setDate(1),11>q?p.setMonth(q+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+N);break}}return q=new Date(p.getFullYear()+1,0,4),N=A(new Date(p.getFullYear(),0,4)),q=A(q),0>=h(N,p)?0>=h(q,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}e>>>=0,r>>>=0,a>>>=0,i>>>=0;var M=k[i+40>>>2>>>0];i={kb:E[i>>>2>>>0],jb:E[i+4>>>2>>>0],Wa:E[i+8>>>2>>>0],$a:E[i+12>>>2>>>0],Xa:E[i+16>>>2>>>0],Ta:E[i+20>>>2>>>0],Na:E[i+24>>>2>>>0],Sa:E[i+28>>>2>>>0],mb:E[i+32>>>2>>>0],ib:E[i+36>>>2>>>0],lb:M?He(M):""},a=He(a),M={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var V in M)a=a.replace(new RegExp(V,"g"),M[V]);var ce="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),we="January February March April May June July August September October November December".split(" ");M={"%a":p=>ce[p.Na].substring(0,3),"%A":p=>ce[p.Na],"%b":p=>we[p.Xa].substring(0,3),"%B":p=>we[p.Xa],"%C":p=>w((p.Ta+1900)/100|0,2),"%d":p=>w(p.$a,2),"%e":p=>d(p.$a,2," "),"%g":p=>U(p).toString().substring(2),"%G":p=>U(p),"%H":p=>w(p.Wa,2),"%I":p=>(p=p.Wa,p==0?p=12:12<p&&(p-=12),w(p,2)),"%j":p=>{for(var N=0,q=0;q<=p.Xa-1;N+=(Ne(p.Ta+1900)?ke:Ot)[q++]);return w(p.$a+N,3)},"%m":p=>w(p.Xa+1,2),"%M":p=>w(p.jb,2),"%n":()=>`\n`,"%p":p=>0<=p.Wa&&12>p.Wa?"AM":"PM","%S":p=>w(p.kb,2),"%t":()=>"	","%u":p=>p.Na||7,"%U":p=>w(Math.floor((p.Sa+7-p.Na)/7),2),"%V":p=>{var N=Math.floor((p.Sa+7-(p.Na+6)%7)/7);if(2>=(p.Na+371-p.Sa-2)%7&&N++,N)N==53&&(q=(p.Na+371-p.Sa)%7,q==4||q==3&&Ne(p.Ta)||(N=1));else{N=52;var q=(p.Na+7-p.Sa-1)%7;(q==4||q==5&&Ne(p.Ta%400-1))&&N++}return w(N,2)},"%w":p=>p.Na,"%W":p=>w(Math.floor((p.Sa+7-(p.Na+6)%7)/7),2),"%y":p=>(p.Ta+1900).toString().substring(2),"%Y":p=>p.Ta+1900,"%z":p=>{p=p.ib;var N=0<=p;return p=Math.abs(p)/60,(N?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.lb,"%%":()=>"%"},a=a.replace(/%%/g,"\\0\\0");for(V in M)a.includes(V)&&(a=a.replace(new RegExp(V,"g"),M[V](i)));return a=a.replace(/\\0\\0/g,"%"),V=Gt(a),V.length>r?0:(se.set(V,e>>>0),V.length-1)}for(var _t=Array(256),qe=0;256>qe;++qe)_t[qe]=String.fromCharCode(qe);ze=_t,Ue=s.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},s.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(ct.prototype,{get(e){return this.Ra[e]},has(e){return this.Ra[e]!==void 0},Ya(e){var r=this.ab.pop()||this.Ra.length;return this.Ra[r]=e,r},Za(e){this.Ra[e]=void 0,this.ab.push(e)}}),fe.Ra.push({value:void 0},{value:null},{value:!0},{value:!1}),fe.Ua=fe.Ra.length,s.count_emval_handles=()=>{for(var e=0,r=fe.Ua;r<fe.Ra.length;++r)fe.Ra[r]!==void 0&&++e;return e};var Et={a:function(e,r,a){throw e>>>=0,new $e(e).Ya(r>>>0,a>>>0),Re=e,Le++,Re},t:function(){return 0},$:function(){},M:function(){},O:function(){},G:function(){return 0},Z:function(){},U:function(){},Y:function(){},B:function(){},N:function(){},K:function(){},_:function(){},L:function(){},E:function(e,r,a,i,d){r>>>=0,r=pe(r);var w=r.indexOf("u")!=-1;w&&(d=(1n<<64n)-1n),Fe(e>>>0,{name:r,fromWireType:h=>h,toWireType:function(h,A){if(typeof A!="bigint"&&typeof A!="number")throw new TypeError(`Cannot convert "${lt(A)}" to ${this.name}`);if(A<i||A>d)throw new TypeError(`Passing a number "${lt(A)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${i}, ${d}]!`);return A},argPackAdvance:8,readValueFromPointer:Y(r,a>>>0,!w),Va:null})},da:function(e,r,a,i){r=pe(r>>>0),Fe(e>>>0,{name:r,fromWireType:function(d){return!!d},toWireType:function(d,w){return w?a:i},argPackAdvance:8,readValueFromPointer:function(d){return this.fromWireType(z[d>>>0])},Va:null})},ca:function(e,r){r=pe(r>>>0),Fe(e>>>0,{name:r,fromWireType:a=>{var i=le(a);return dt(a),i},toWireType:(a,i)=>Se(i),argPackAdvance:8,readValueFromPointer:P,Va:null})},D:function(e,r,a){r=pe(r>>>0),Fe(e>>>0,{name:r,fromWireType:i=>i,toWireType:(i,d)=>d,argPackAdvance:8,readValueFromPointer:rt(r,a>>>0),Va:null})},q:function(e,r,a,i,d){if(e>>>=0,a>>>=0,r=pe(r>>>0),d===-1&&(d=4294967295),d=A=>A,i===0){var w=32-8*a;d=A=>A<<w>>>w}var h=r.includes("unsigned")?function(A,U){return U>>>0}:function(A,U){return U};Fe(e,{name:r,fromWireType:d,toWireType:h,argPackAdvance:8,readValueFromPointer:Y(r,a,i!==0),Va:null})},l:function(e,r,a){function i(w){return new d(se.buffer,k[w+4>>>2>>>0],k[w>>>2>>>0])}var d=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][r];a=pe(a>>>0),Fe(e>>>0,{name:a,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{gb:!0})},F:function(e,r){r=pe(r>>>0);var a=r==="std::string";Fe(e>>>0,{name:r,fromWireType:function(i){var d=k[i>>>2>>>0],w=i+4;if(a)for(var h=w,A=0;A<=d;++A){var U=w+A;if(A==d||z[U>>>0]==0){if(h=He(h,U-h),M===void 0)var M=h;else M+=String.fromCharCode(0),M+=h;h=U+1}}else{for(M=Array(d),A=0;A<d;++A)M[A]=String.fromCharCode(z[w+A>>>0]);M=M.join("")}return Te(i),M},toWireType:function(i,d){d instanceof ArrayBuffer&&(d=new Uint8Array(d));var w=typeof d=="string";if(!(w||d instanceof Uint8Array||d instanceof Uint8ClampedArray||d instanceof Int8Array))throw new Ue("Cannot pass non-string to std::string");var h=a&&w?Ke(d):d.length,A=Ge(4+h+1),U=A+4;if(k[A>>>2>>>0]=h,a&&w)De(d,z,U,h+1);else if(w)for(w=0;w<h;++w){var M=d.charCodeAt(w);if(255<M)throw Te(U),new Ue("String has UTF-16 code units that do not fit in 8 bits");z[U+w>>>0]=M}else for(w=0;w<h;++w)z[U+w>>>0]=d[w];return i!==null&&i.push(Te,A),A},argPackAdvance:8,readValueFromPointer:Bt,Va(i){Te(i)}})},v:function(e,r,a){if(r>>>=0,a>>>=0,a=pe(a),r===2)var i=Lt,d=Jt,w=Wt,h=()=>Ae,A=1;else r===4&&(i=Xt,d=Nt,w=kt,h=()=>k,A=2);Fe(e>>>0,{name:a,fromWireType:U=>{for(var M=k[U>>>2>>>0],V=h(),ce,we=U+4,p=0;p<=M;++p){var N=U+4+p*r;(p==M||V[N>>>A]==0)&&(we=i(we,N-we),ce===void 0?ce=we:(ce+=String.fromCharCode(0),ce+=we),we=N+r)}return Te(U),ce},toWireType:(U,M)=>{if(typeof M!="string")throw new Ue(`Cannot pass non-string to C++ string type ${a}`);var V=w(M),ce=Ge(4+V+r);return k[ce>>>2]=V>>A,d(M,ce+4,V+r),U!==null&&U.push(Te,ce),ce},argPackAdvance:8,readValueFromPointer:P,Va(U){Te(U)}})},ea:function(e,r){r=pe(r>>>0),Fe(e>>>0,{hb:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},aa:()=>1,o:function(e,r,a){return r>>>=0,a>>>=0,e=le(e>>>0),r=nt(r,"emval::as"),pt(r,a,e)},x:function(e,r,a,i){return a>>>=0,i>>>=0,e=je[e>>>0],r=le(r>>>0),e(null,r,a,i)},j:function(e,r,a,i,d){return a>>>=0,i>>>=0,d>>>=0,e=je[e>>>0],r=le(r>>>0),a=at(a),e(r,r[a],i,d)},b:dt,w:function(e,r){return r>>>=0,e=le(e>>>0),r=le(r),e==r},s:function(e){return e>>>=0,e===0?Se(mt()):(e=at(e),Se(mt()[e]))},i:function(e,r,a){r=jt(e,r>>>0);var i=r.shift();e--;var d=`return function (obj, func, destructorsRef, args) {\n`,w=0,h=[];a===0&&h.push("obj");for(var A=["retType"],U=[i],M=0;M<e;++M)h.push("arg"+M),A.push("argType"+M),U.push(r[M]),d+=`  var arg${M} = argType${M}.readValueFromPointer(args${w?"+"+w:""});\n`,w+=r[M].argPackAdvance;for(d+=`  var rv = ${a===1?"new func":"func.call"}(${h.join(", ")});\n`,M=0;M<e;++M)r[M].deleteObject&&(d+=`  argType${M}.deleteObject(arg${M});\n`);return i.hb||(A.push("emval_returnValue"),U.push(pt),d+=`  return emval_returnValue(retType, destructorsRef, rv);\n`),A.push(d+`};\n`),e=Yt(A).apply(null,U),a=`methodCaller<(${r.map(V=>V.name).join(", ")}) => ${i.name}>`,Ht(gt(a,e))},p:function(e,r){return r>>>=0,e=le(e>>>0),r=le(r),Se(e[r])},c:function(e){e>>>=0,4<e&&(fe.get(e).bb+=1)},r:function(){return Se([])},k:function(e){e=le(e>>>0);for(var r=Array(e.length),a=0;a<e.length;a++)r[a]=e[a];return Se(r)},d:function(e){return Se(at(e>>>0))},h:function(){return Se({})},g:function(e){e>>>=0;for(var r=le(e);r.length;){var a=r.pop();r.pop()(a)}dt(e)},f:function(e,r,a){r>>>=0,a>>>=0,e=le(e>>>0),r=le(r),a=le(a),e[r]=a},e:function(e,r){return r>>>=0,e=nt(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(r),Se(e)},R:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),E[r>>>2>>>0]=e.getUTCSeconds(),E[r+4>>>2>>>0]=e.getUTCMinutes(),E[r+8>>>2>>>0]=e.getUTCHours(),E[r+12>>>2>>>0]=e.getUTCDate(),E[r+16>>>2>>>0]=e.getUTCMonth(),E[r+20>>>2>>>0]=e.getUTCFullYear()-1900,E[r+24>>>2>>>0]=e.getUTCDay(),E[r+28>>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},S:function(e,r){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),r>>>=0,e=new Date(1e3*e),E[r>>>2>>>0]=e.getSeconds(),E[r+4>>>2>>>0]=e.getMinutes(),E[r+8>>>2>>>0]=e.getHours(),E[r+12>>>2>>>0]=e.getDate(),E[r+16>>>2>>>0]=e.getMonth(),E[r+20>>>2>>>0]=e.getFullYear()-1900,E[r+24>>>2>>>0]=e.getDay(),E[r+28>>>2>>>0]=(Ne(e.getFullYear())?ht:yt)[e.getMonth()]+e.getDate()-1|0,E[r+36>>>2>>>0]=-(60*e.getTimezoneOffset());var a=new Date(e.getFullYear(),6,1).getTimezoneOffset(),i=new Date(e.getFullYear(),0,1).getTimezoneOffset();E[r+32>>>2>>>0]=(a!=i&&e.getTimezoneOffset()==Math.min(i,a))|0},T:function(e){e>>>=0;var r=new Date(E[e+20>>>2>>>0]+1900,E[e+16>>>2>>>0],E[e+12>>>2>>>0],E[e+8>>>2>>>0],E[e+4>>>2>>>0],E[e>>>2>>>0],0),a=E[e+32>>>2>>>0],i=r.getTimezoneOffset(),d=new Date(r.getFullYear(),6,1).getTimezoneOffset(),w=new Date(r.getFullYear(),0,1).getTimezoneOffset(),h=Math.min(w,d);return 0>a?E[e+32>>>2>>>0]=+(d!=w&&h==i):0<a!=(h==i)&&(d=Math.max(w,d),r.setTime(r.getTime()+6e4*((0<a?h:d)-i))),E[e+24>>>2>>>0]=r.getDay(),E[e+28>>>2>>>0]=(Ne(r.getFullYear())?ht:yt)[r.getMonth()]+r.getDate()-1|0,E[e>>>2>>>0]=r.getSeconds(),E[e+4>>>2>>>0]=r.getMinutes(),E[e+8>>>2>>>0]=r.getHours(),E[e+12>>>2>>>0]=r.getDate(),E[e+16>>>2>>>0]=r.getMonth(),E[e+20>>>2>>>0]=r.getYear(),e=r.getTime(),isNaN(e)?(E[St()>>>2>>>0]=61,e=-1):e/=1e3,BigInt(e)},P:function(){return-52},Q:function(){},I:function(e,r,a){function i(U){return(U=U.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?U[1]:"GMT"}a>>>=0;var d=new Date().getFullYear(),w=new Date(d,0,1),h=new Date(d,6,1);d=w.getTimezoneOffset();var A=h.getTimezoneOffset();k[e>>>0>>>2>>>0]=60*Math.max(d,A),E[r>>>0>>>2>>>0]=+(d!=A),e=i(w),r=i(h),e=vt(e),r=vt(r),A<d?(k[a>>>2>>>0]=e,k[a+4>>>2>>>0]=r):(k[a>>>2>>>0]=r,k[a+4>>>2>>>0]=e)},y:()=>{_e("")},fa:function(e,r,a){e>>>=0,r>>>=0,a>>>=0,ot.length=0;for(var i;i=z[r++>>>0];){var d=i!=105;d&=i!=112,a+=d&&a%8?4:0,ot.push(i==112?k[a>>>2>>>0]:i==106?ne[a>>>3]:i==105?E[a>>>2>>>0]:be[a>>>3>>>0]),a+=d?8:4}return re[e].apply(null,ot)},C:()=>Date.now(),J:function(){return 4294901760},n:()=>performance.now(),H:function(e){e>>>=0;var r=z.length;if(4294901760<e)return!1;for(var a=1;4>=a;a*=2){var i=r*(1+.2/a);i=Math.min(i,e+100663296);var d=Math;i=Math.max(e,i);e:{d=(d.min.call(d,4294901760,i+(65536-i%65536)%65536)-j.buffer.byteLength+65535)/65536;try{j.grow(d),L();var w=1;break e}catch{}w=void 0}if(w)return!0}return!1},W:function(e,r){e>>>=0,r>>>=0;var a=0;return st().forEach((i,d)=>{var w=r+a;for(d=k[e+4*d>>>2>>>0]=w,w=0;w<i.length;++w)se[d++>>>0>>>0]=i.charCodeAt(w);se[d>>>0>>>0]=0,a+=i.length+1}),0},X:function(e,r){e>>>=0,r>>>=0;var a=st();k[e>>>2>>>0]=a.length;var i=0;return a.forEach(d=>i+=d.length+1),k[r>>>2>>>0]=i,0},u:()=>52,A:function(){return 52},V:function(){return 70},z:function(e,r,a,i){r>>>=0,a>>>=0,i>>>=0;for(var d=0,w=0;w<a;w++){var h=k[r>>>2>>>0],A=k[r+4>>>2>>>0];r+=8;for(var U=0;U<A;U++){var M=z[h+U>>>0],V=wt[e];M===0||M===10?((e===1?T:x)(Rt(V,0)),V.length=0):V.push(M)}d+=A}return k[i>>>2>>>0]=d,0},ba:bt,m:function(e,r,a,i){return bt(e>>>0,r>>>0,a>>>0,i>>>0)}},D=function(){function e(a){return D=a.exports,D=Qt(),j=D.ga,L(),ge.unshift(D.ha),ve--,ve==0&&(te!==null&&(clearInterval(te),te=null),ae&&(a=ae,ae=null,a())),D}var r={a:Et};if(ve++,s.instantiateWasm)try{return s.instantiateWasm(r,e)}catch(a){x(`Module.instantiateWasm callback failed with error: ${a}`),c(a)}return oe(r,function(a){e(a.instance)}).catch(c),{}}();s._OrtInit=(e,r)=>(s._OrtInit=D.ia)(e,r),s._OrtGetLastError=(e,r)=>(s._OrtGetLastError=D.ja)(e,r),s._OrtCreateSessionOptions=(e,r,a,i,d,w,h,A,U,M)=>(s._OrtCreateSessionOptions=D.ka)(e,r,a,i,d,w,h,A,U,M),s._OrtAppendExecutionProvider=(e,r)=>(s._OrtAppendExecutionProvider=D.la)(e,r),s._OrtAddFreeDimensionOverride=(e,r,a)=>(s._OrtAddFreeDimensionOverride=D.ma)(e,r,a),s._OrtAddSessionConfigEntry=(e,r,a)=>(s._OrtAddSessionConfigEntry=D.na)(e,r,a),s._OrtReleaseSessionOptions=e=>(s._OrtReleaseSessionOptions=D.oa)(e),s._OrtCreateSession=(e,r,a)=>(s._OrtCreateSession=D.pa)(e,r,a),s._OrtReleaseSession=e=>(s._OrtReleaseSession=D.qa)(e),s._OrtGetInputOutputCount=(e,r,a)=>(s._OrtGetInputOutputCount=D.ra)(e,r,a),s._OrtGetInputName=(e,r)=>(s._OrtGetInputName=D.sa)(e,r),s._OrtGetOutputName=(e,r)=>(s._OrtGetOutputName=D.ta)(e,r),s._OrtFree=e=>(s._OrtFree=D.ua)(e),s._OrtCreateTensor=(e,r,a,i,d,w)=>(s._OrtCreateTensor=D.va)(e,r,a,i,d,w),s._OrtGetTensorData=(e,r,a,i,d)=>(s._OrtGetTensorData=D.wa)(e,r,a,i,d),s._OrtReleaseTensor=e=>(s._OrtReleaseTensor=D.xa)(e),s._OrtCreateRunOptions=(e,r,a,i)=>(s._OrtCreateRunOptions=D.ya)(e,r,a,i),s._OrtAddRunConfigEntry=(e,r,a)=>(s._OrtAddRunConfigEntry=D.za)(e,r,a),s._OrtReleaseRunOptions=e=>(s._OrtReleaseRunOptions=D.Aa)(e),s._OrtCreateBinding=e=>(s._OrtCreateBinding=D.Ba)(e),s._OrtBindInput=(e,r,a)=>(s._OrtBindInput=D.Ca)(e,r,a),s._OrtBindOutput=(e,r,a,i)=>(s._OrtBindOutput=D.Da)(e,r,a,i),s._OrtClearBoundOutputs=e=>(s._OrtClearBoundOutputs=D.Ea)(e),s._OrtReleaseBinding=e=>(s._OrtReleaseBinding=D.Fa)(e),s._OrtRunWithBinding=(e,r,a,i,d)=>(s._OrtRunWithBinding=D.Ga)(e,r,a,i,d),s._OrtRun=(e,r,a,i,d,w,h,A)=>(s._OrtRun=D.Ha)(e,r,a,i,d,w,h,A),s._OrtEndProfiling=e=>(s._OrtEndProfiling=D.Ia)(e);var St=()=>(St=D.Ja)(),Ge=s._malloc=e=>(Ge=s._malloc=D.Ka)(e),Te=s._free=e=>(Te=s._free=D.La)(e),Tt=e=>(Tt=D.Ma)(e),At=()=>(At=D.Oa)(),Mt=e=>(Mt=D.Pa)(e),Ct=e=>(Ct=D.Qa)(e);function Qt(){var e=D;e=Object.assign({},e);var r=i=>()=>i()>>>0,a=i=>d=>i(d)>>>0;return e.Ja=r(e.Ja),e.Ka=a(e.Ka),e.Ma=a(e.Ma),e.Oa=r(e.Oa),e.Qa=a(e.Qa),e}s.stackAlloc=Ct,s.stackSave=At,s.stackRestore=Mt,s.UTF8ToString=He,s.stringToUTF8=(e,r,a)=>De(e,z,r,a),s.lengthBytesUTF8=Ke;var Je;ae=function e(){Je||Pt(),Je||(ae=e)};function Pt(){if(!(0<ve)){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;){var e=s.preRun.shift();ue.unshift(e)}for(;0<ue.length;)ue.shift()(s);if(!(0<ve||Je||(Je=!0,s.calledRun=!0,Oe))){for(;0<ge.length;)ge.shift()(s);for(v(s);0<ye.length;)ye.shift()(s)}}}return Pt(),m.ready}})();typeof wr=="object"&&typeof ir=="object"?ir.exports=vr:typeof define=="function"&&define.amd&&define([],()=>vr)});var br=Dt(()=>{});var _r=Dt(()=>{});var Er={};tr(Er,{cpus:()=>rn});var rn,Sr=er(()=>{rn=void 0});var Mr=Dt((Ar,sr)=>{"use strict";var Tr=(()=>{var f=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(f=f||__filename),function(m={}){function s(){return J.buffer!=ge.buffer&&_e(),ge}function v(){return J.buffer!=ge.buffer&&_e(),ye}function c(){return J.buffer!=ge.buffer&&_e(),ve}function _(){return J.buffer!=ge.buffer&&_e(),te}function y(){return J.buffer!=ge.buffer&&_e(),ae}var u=m,C,F;u.ready=new Promise((t,n)=>{C=t,F=n});var B=Object.assign({},u),$="./this.program",R=(t,n)=>{throw n},I=typeof window=="object",H=typeof importScripts=="function",W=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",T=u.ENVIRONMENT_IS_PTHREAD||!1,x="";function j(t){return u.locateFile?u.locateFile(t,x):x+t}var Oe,se,z;if(W){var me=(nr(),Ut(rr)),Ae=(or(),Ut(ar));x=H?Ae.dirname(x)+"/":__dirname+"/",Oe=(n,o)=>(n=Re(n)?new URL(n):Ae.normalize(n),me.readFileSync(n,o?void 0:"utf8")),z=n=>(n=Oe(n,!0),n.buffer||(n=new Uint8Array(n)),n),se=(n,o,l,O=!0)=>{n=Re(n)?new URL(n):Ae.normalize(n),me.readFile(n,O?void 0:"utf8",(b,S)=>{b?l(b):o(O?S.buffer:S)})},!u.thisProgram&&1<process.argv.length&&($=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),R=(n,o)=>{throw process.exitCode=n,o},u.inspect=()=>"[Emscripten Module object]";let t;try{t=br()}catch(n){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),n}global.Worker=t.Worker}else(I||H)&&(H?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),typeof f<"u"&&f&&(x=f),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",W||(Oe=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},H&&(z=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),se=(t,n,o)=>{var l=new XMLHttpRequest;l.open("GET",t,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?n(l.response):o()},l.onerror=o,l.send(null)}));W&&typeof performance>"u"&&(global.performance=_r().performance);var E=console.log.bind(console),k=console.error.bind(console);W&&(E=(...t)=>me.writeSync(1,t.join(" ")+`\n`),k=(...t)=>me.writeSync(2,t.join(" ")+`\n`));var Qe=E,ne=k;Object.assign(u,B),B=null,typeof WebAssembly!="object"&&re("no native wasm support detected");var J,be,L=!1,ue,ge,ye,ve,te,ae;function _e(){var t=J.buffer;u.HEAP8=ge=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAPU8=ye=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAP32=ve=new Int32Array(t),u.HEAPU32=te=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=ae=new Float64Array(t)}var xe=16777216;if(T)J=u.wasmMemory;else if(u.wasmMemory)J=u.wasmMemory;else if(J=new WebAssembly.Memory({initial:xe/65536,maximum:65536,shared:!0}),!(J.buffer instanceof SharedArrayBuffer))throw ne("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),W&&ne("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");_e(),xe=J.buffer.byteLength;var Me=[],Ee=[],Ze=[],de=0,Ce=null,Pe=null;function oe(){if(de--,de==0&&(Ce!==null&&(clearInterval(Ce),Ce=null),Pe)){var t=Pe;Pe=null,t()}}function re(t){throw t="Aborted("+t+")",ne(t),L=!0,ue=1,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),F(t),t}var $e=t=>t.startsWith("data:application/octet-stream;base64,"),Re=t=>t.startsWith("file://"),Le;Le="ort-wasm-threaded.wasm",$e(Le)||(Le=j(Le));function ft(t){if(z)return z(t);throw"both async and sync fetching of the wasm failed"}function Rt(t){if(I||H){if(typeof fetch=="function"&&!Re(t))return fetch(t,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at \'"+t+"\'";return n.arrayBuffer()}).catch(()=>ft(t));if(se)return new Promise((n,o)=>{se(t,l=>n(new Uint8Array(l)),o)})}return Promise.resolve().then(()=>ft(t))}function He(t,n,o){return Rt(t).then(l=>WebAssembly.instantiate(l,n)).then(l=>l).then(o,l=>{ne(`failed to asynchronously prepare wasm: ${l}`),re(l)})}function Ke(t,n){var o=Le;return typeof WebAssembly.instantiateStreaming!="function"||$e(o)||Re(o)||W||typeof fetch!="function"?He(o,t,n):fetch(o,{credentials:"same-origin"}).then(l=>WebAssembly.instantiateStreaming(l,t).then(n,function(O){return ne(`wasm streaming compile failed: ${O}`),ne("falling back to ArrayBuffer instantiation"),He(o,t,n)}))}var De,lt={920284:(t,n,o,l)=>{if(typeof u>"u"||!u.cb)return 1;if(t=tt(t>>>0),t.startsWith("./")&&(t=t.substring(2)),t=u.cb.get(t),!t)return 2;if(n>>>=0,o>>>=0,l>>>=0,n+o>t.byteLength)return 3;try{return v().set(t.subarray(n,n+o),l>>>0),0}catch{return 4}}};function ze(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}var pe=t=>{t.terminate(),t.onmessage=()=>{}},et=t=>{P.Pa.length==0&&(le(),P.Ya(P.Pa[0]));var n=P.Pa.pop();if(!n)return 6;P.Qa.push(n),P.Ma[t.Oa]=n,n.Oa=t.Oa;var o={cmd:"run",start_routine:t.kb,arg:t.hb,pthread_ptr:t.Oa};return W&&n.unref(),n.postMessage(o,t.qb),0},We=0,It=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ue=(t,n,o)=>{n>>>=0;var l=n+o;for(o=n;t[o]&&!(o>=l);)++o;if(16<o-n&&t.buffer&&It)return It.decode(t.buffer instanceof SharedArrayBuffer?t.slice(n,o):t.subarray(n,o));for(l="";n<o;){var O=t[n++];if(O&128){var b=t[n++]&63;if((O&224)==192)l+=String.fromCharCode((O&31)<<6|b);else{var S=t[n++]&63;O=(O&240)==224?(O&15)<<12|b<<6|S:(O&7)<<18|b<<12|S<<6|t[n++]&63,65536>O?l+=String.fromCharCode(O):(O-=65536,l+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else l+=String.fromCharCode(O)}return l},tt=(t,n)=>(t>>>=0)?Ue(v(),t,n):"",Fe=t=>{var n=ut();return t=t(),zt(n),t};function Y(t,n){var o=arguments.length-2,l=arguments;return Fe(()=>{for(var O=Zt(8*o),b=O>>>3,S=0;S<o;S++){var X=l[2+S];y()[b+S>>>0]=X}return ce(t,o,O,n)})}function ct(t){if(T)return Y(0,1,t);ue=t,0<We||(P.lb(),u.onExit?.(t),L=!0),R(t,new ze(t))}var fe=t=>{if(ue=t,T)throw Bt(t),"unwind";ct(t)};function dt(){for(var t=u.numThreads;t--;)le();Me.unshift(()=>{de++,Se(()=>oe())})}function le(){var t=j("ort-wasm-threaded.worker.js");t=new Worker(t),P.Pa.push(t)}function Se(t){T?t():Promise.all(P.Pa.map(P.Ya)).then(t)}var P={Pa:[],Qa:[],bb:[],Ma:{},Wa(){T?(P.receiveObjectTransfer=P.jb,P.threadInitTLS=P.ab,P.setExitStatus=P.$a):dt()},$a:t=>ue=t,tb:["$terminateWorker"],lb:()=>{for(var t of P.Qa)pe(t);for(t of P.Pa)pe(t);P.Pa=[],P.Qa=[],P.Ma=[]},Za:t=>{var n=t.Oa;delete P.Ma[n],P.Pa.push(t),P.Qa.splice(P.Qa.indexOf(t),1),t.Oa=0,we(n)},jb(){},ab(){P.bb.forEach(t=>t())},Ya:t=>new Promise(n=>{t.onmessage=b=>{b=b.data;var S=b.cmd;if(b.targetThread&&b.targetThread!=U()){var X=P.Ma[b.targetThread];X?X.postMessage(b,b.transferList):ne(`Internal error! Worker sent a message "${S}" to target pthread ${b.targetThread}, but that thread no longer exists!`)}else S==="checkMailbox"?Ye():S==="spawnThread"?et(b):S==="cleanupThread"?P.Za(P.Ma[b.thread]):S==="killThread"?(b=b.thread,S=P.Ma[b],delete P.Ma[b],pe(S),we(b),P.Qa.splice(P.Qa.indexOf(S),1),S.Oa=0):S==="cancelThread"?P.Ma[b.thread].postMessage({cmd:"cancel"}):S==="loaded"?(t.loaded=!0,W&&!t.Oa&&t.unref(),n(t)):S==="alert"?alert(`Thread ${b.threadId}: ${b.text}`):b.target==="setimmediate"?t.postMessage(b):S==="callHandler"?u[b.handler](...b.args):S&&ne(`worker sent an unknown command ${S}`)},t.onerror=b=>{throw ne(`worker sent an error! ${b.filename}:${b.lineno}: ${b.message}`),b},W&&(t.on("message",b=>t.onmessage({data:b})),t.on("error",b=>t.onerror(b)));var o=[],l=["onExit"],O;for(O of l)u.hasOwnProperty(O)&&o.push(O);t.postMessage({cmd:"load",handlers:o,urlOrBlob:u.mainScriptUrlOrBlob||f,wasmMemory:J,wasmModule:be})})};u.PThread=P;var rt=t=>{for(;0<t.length;)t.shift()(u)};u.establishStackSpace=()=>{var t=U(),n=_()[t+52>>>2>>>0];t=_()[t+56>>>2>>>0],Ie(n,n-t),zt(n)};function Bt(t){if(T)return Y(1,0,t);fe(t)}var Ve=[],Lt;u.invokeEntryPoint=(t,n)=>{var o=Ve[t];o||(t>=Ve.length&&(Ve.length=t+1),Ve[t]=o=Lt.get(t)),t=o(n),0<We?P.$a(t):p(t)};function Jt(t){this.Va=t-24,this.gb=function(n){_()[this.Va+4>>>2>>>0]=n},this.fb=function(n){_()[this.Va+8>>>2>>>0]=n},this.Wa=function(n,o){this.eb(),this.gb(n),this.fb(o)},this.eb=function(){_()[this.Va+16>>>2>>>0]=0}}var Wt=0,Xt=0;function Nt(t,n,o,l){return T?Y(2,1,t,n,o,l):kt(t,n,o,l)}function kt(t,n,o,l){if(t>>>=0,n>>>=0,o>>>=0,l>>>=0,typeof SharedArrayBuffer>"u")return ne("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var O=[];return T&&O.length===0?Nt(t,n,o,l):(t={kb:o,Oa:t,hb:l,qb:O},T?(t.sb="spawnThread",postMessage(t,O),0):et(t))}function nt(t,n,o){return T?Y(3,1,t,n,o):0}function pt(t,n){if(T)return Y(4,1,t,n)}var je=t=>{for(var n=0,o=0;o<t.length;++o){var l=t.charCodeAt(o);127>=l?n++:2047>=l?n+=2:55296<=l&&57343>=l?(n+=4,++o):n+=3}return n},$t=(t,n,o,l)=>{if(o>>>=0,!(0<l))return 0;var O=o;l=o+l-1;for(var b=0;b<t.length;++b){var S=t.charCodeAt(b);if(55296<=S&&57343>=S){var X=t.charCodeAt(++b);S=65536+((S&1023)<<10)|X&1023}if(127>=S){if(o>=l)break;n[o++>>>0]=S}else{if(2047>=S){if(o+1>=l)break;n[o++>>>0]=192|S>>6}else{if(65535>=S){if(o+2>=l)break;n[o++>>>0]=224|S>>12}else{if(o+3>=l)break;n[o++>>>0]=240|S>>18,n[o++>>>0]=128|S>>12&63}n[o++>>>0]=128|S>>6&63}n[o++>>>0]=128|S&63}}return n[o>>>0]=0,o-O},at=(t,n,o)=>$t(t,v(),n,o);function mt(t,n){if(T)return Y(5,1,t,n)}function Ht(t,n,o){if(T)return Y(6,1,t,n,o)}function jt(t,n,o){return T?Y(7,1,t,n,o):0}function gt(t,n){if(T)return Y(8,1,t,n)}function Yt(t,n,o){if(T)return Y(9,1,t,n,o)}function Ne(t,n,o,l){if(T)return Y(10,1,t,n,o,l)}function ht(t,n,o,l){if(T)return Y(11,1,t,n,o,l)}function yt(t,n,o,l){if(T)return Y(12,1,t,n,o,l)}function vt(t){if(T)return Y(13,1,t)}function ot(t,n){if(T)return Y(14,1,t,n)}function it(t,n,o){if(T)return Y(15,1,t,n,o)}function st(t){t>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(c(),t>>>2,t).value.then(Ye),t+=128,Atomics.store(c(),t>>>2,1))}u.__emscripten_thread_mailbox_await=st;var Ye=()=>{var t=U();if(t&&(st(t),t=N,!L))try{if(t(),!(0<We))try{T?p(ue):fe(ue)}catch(n){n instanceof ze||n=="unwind"||R(1,n)}}catch(n){n instanceof ze||n=="unwind"||R(1,n)}};u.checkMailbox=Ye;var wt=[],ke=t=>t%4===0&&(t%100!==0||t%400===0),Ot=[0,31,60,91,121,152,182,213,244,274,305,335],Gt=[0,31,59,90,120,151,181,212,243,273,304,334];function bt(t,n,o,l,O,b,S,X){return T?Y(16,1,t,n,o,l,O,b,S,X):-52}function _t(t,n,o,l,O,b,S){if(T)return Y(17,1,t,n,o,l,O,b,S)}var qe=t=>{var n=je(t)+1,o=M(n);return o&&at(t,o,n),o},Et=[],D={},St=()=>{if(!Ge){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:$||"./this.program"},n;for(n in D)D[n]===void 0?delete t[n]:t[n]=D[n];var o=[];for(n in t)o.push(`${n}=${t[n]}`);Ge=o}return Ge},Ge;function Te(t,n){if(T)return Y(18,1,t,n);t>>>=0,n>>>=0;var o=0;return St().forEach((l,O)=>{var b=n+o;for(O=_()[t+4*O>>>2>>>0]=b,b=0;b<l.length;++b)s()[O++>>>0>>>0]=l.charCodeAt(b);s()[O>>>0>>>0]=0,o+=l.length+1}),0}function Tt(t,n){if(T)return Y(19,1,t,n);t>>>=0,n>>>=0;var o=St();_()[t>>>2>>>0]=o.length;var l=0;return o.forEach(O=>l+=O.length+1),_()[n>>>2>>>0]=l,0}function At(t){return T?Y(20,1,t):52}function Mt(t,n,o,l){return T?Y(21,1,t,n,o,l):52}function Ct(t,n,o,l,O){return T?Y(22,1,t,n,o,l,O):70}var Qt=[null,[],[]];function Je(t,n,o,l){if(T)return Y(23,1,t,n,o,l);n>>>=0,o>>>=0,l>>>=0;for(var O=0,b=0;b<o;b++){var S=_()[n>>>2>>>0],X=_()[n+4>>>2>>>0];n+=8;for(var Be=0;Be<X;Be++){var ie=v()[S+Be>>>0],he=Qt[t];ie===0||ie===10?((t===1?Qe:ne)(Ue(he,0)),he.length=0):he.push(ie)}O+=X}return _()[l>>>2>>>0]=O,0}var Pt=[31,29,31,30,31,30,31,31,30,31,30,31],e=[31,28,31,30,31,30,31,31,30,31,30,31];function r(t){var n=Array(je(t)+1);return $t(t,n,0,n.length),n}var a=(t,n)=>{s().set(t,n>>>0)};function i(t,n,o,l){function O(g,G,Q){for(g=typeof g=="number"?g.toString():g||"";g.length<G;)g=Q[0]+g;return g}function b(g,G){return O(g,G,"0")}function S(g,G){function Q(hr){return 0>hr?-1:0<hr?1:0}var Xe;return(Xe=Q(g.getFullYear()-G.getFullYear()))===0&&(Xe=Q(g.getMonth()-G.getMonth()))===0&&(Xe=Q(g.getDate()-G.getDate())),Xe}function X(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function Be(g){var G=g.Ra;for(g=new Date(new Date(g.Sa+1900,0,1).getTime());0<G;){var Q=g.getMonth(),Xe=(ke(g.getFullYear())?Pt:e)[Q];if(G>Xe-g.getDate())G-=Xe-g.getDate()+1,g.setDate(1),11>Q?g.setMonth(Q+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+G);break}}return Q=new Date(g.getFullYear()+1,0,4),G=X(new Date(g.getFullYear(),0,4)),Q=X(Q),0>=S(G,g)?0>=S(Q,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}t>>>=0,n>>>=0,o>>>=0,l>>>=0;var ie=_()[l+40>>>2>>>0];l={ob:c()[l>>>2>>>0],nb:c()[l+4>>>2>>>0],Ta:c()[l+8>>>2>>>0],Xa:c()[l+12>>>2>>>0],Ua:c()[l+16>>>2>>>0],Sa:c()[l+20>>>2>>>0],Na:c()[l+24>>>2>>>0],Ra:c()[l+28>>>2>>>0],ub:c()[l+32>>>2>>>0],mb:c()[l+36>>>2>>>0],pb:ie?tt(ie):""},o=tt(o),ie={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var he in ie)o=o.replace(new RegExp(he,"g"),ie[he]);var mr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),gr="January February March April May June July August September October November December".split(" ");ie={"%a":g=>mr[g.Na].substring(0,3),"%A":g=>mr[g.Na],"%b":g=>gr[g.Ua].substring(0,3),"%B":g=>gr[g.Ua],"%C":g=>b((g.Sa+1900)/100|0,2),"%d":g=>b(g.Xa,2),"%e":g=>O(g.Xa,2," "),"%g":g=>Be(g).toString().substring(2),"%G":g=>Be(g),"%H":g=>b(g.Ta,2),"%I":g=>(g=g.Ta,g==0?g=12:12<g&&(g-=12),b(g,2)),"%j":g=>{for(var G=0,Q=0;Q<=g.Ua-1;G+=(ke(g.Sa+1900)?Pt:e)[Q++]);return b(g.Xa+G,3)},"%m":g=>b(g.Ua+1,2),"%M":g=>b(g.nb,2),"%n":()=>`\n`,"%p":g=>0<=g.Ta&&12>g.Ta?"AM":"PM","%S":g=>b(g.ob,2),"%t":()=>"	","%u":g=>g.Na||7,"%U":g=>b(Math.floor((g.Ra+7-g.Na)/7),2),"%V":g=>{var G=Math.floor((g.Ra+7-(g.Na+6)%7)/7);if(2>=(g.Na+371-g.Ra-2)%7&&G++,G)G==53&&(Q=(g.Na+371-g.Ra)%7,Q==4||Q==3&&ke(g.Sa)||(G=1));else{G=52;var Q=(g.Na+7-g.Ra-1)%7;(Q==4||Q==5&&ke(g.Sa%400-1))&&G++}return b(G,2)},"%w":g=>g.Na,"%W":g=>b(Math.floor((g.Ra+7-(g.Na+6)%7)/7),2),"%y":g=>(g.Sa+1900).toString().substring(2),"%Y":g=>g.Sa+1900,"%z":g=>{g=g.mb;var G=0<=g;return g=Math.abs(g)/60,(G?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.pb,"%%":()=>"%"},o=o.replace(/%%/g,"\\0\\0");for(he in ie)o.includes(he)&&(o=o.replace(new RegExp(he,"g"),ie[he](l)));return o=o.replace(/\\0\\0/g,"%"),he=r(o),he.length>n?0:(a(he,t),he.length-1)}P.Wa();var d=[ct,Bt,Nt,nt,pt,mt,Ht,jt,gt,Yt,Ne,ht,yt,vt,ot,it,bt,_t,Te,Tt,At,Mt,Ct,Je],w={b:function(t,n,o){throw t>>>=0,new Jt(t).Wa(n>>>0,o>>>0),Wt=t,Xt++,Wt},L:function(t){V(t>>>0,!H,1,!I,131072,!1),P.ab()},j:function(t){t>>>=0,T?postMessage({cmd:"cleanupThread",thread:t}):P.Za(P.Ma[t])},H:kt,h:nt,S:pt,D:mt,F:Ht,T:jt,Q:gt,J:Yt,P:Ne,n:ht,E:yt,B:vt,R:ot,C:it,p:()=>1,z:function(t,n){t>>>=0,t==n>>>0?setTimeout(()=>Ye()):T?postMessage({targetThread:t,cmd:"checkMailbox"}):(t=P.Ma[t])&&t.postMessage({cmd:"checkMailbox"})},I:function(t,n,o,l){n>>>=0,wt.length=o,l=l>>>0>>>3;for(var O=0;O<o;O++)wt[O]=y()[l+O>>>0];return t=0>t?lt[-t-1]:d[t],P.ib=n,n=t.apply(null,wt),P.ib=0,n},K:st,o:function(t){W&&P.Ma[t>>>0].ref()},s:function(t,n,o){t=n+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*n:NaN,o>>>=0,t=new Date(1e3*t),c()[o>>>2>>>0]=t.getUTCSeconds(),c()[o+4>>>2>>>0]=t.getUTCMinutes(),c()[o+8>>>2>>>0]=t.getUTCHours(),c()[o+12>>>2>>>0]=t.getUTCDate(),c()[o+16>>>2>>>0]=t.getUTCMonth(),c()[o+20>>>2>>>0]=t.getUTCFullYear()-1900,c()[o+24>>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,c()[o+28>>>2>>>0]=t},t:function(t,n,o){t=n+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*n:NaN,o>>>=0,t=new Date(1e3*t),c()[o>>>2>>>0]=t.getSeconds(),c()[o+4>>>2>>>0]=t.getMinutes(),c()[o+8>>>2>>>0]=t.getHours(),c()[o+12>>>2>>>0]=t.getDate(),c()[o+16>>>2>>>0]=t.getMonth(),c()[o+20>>>2>>>0]=t.getFullYear()-1900,c()[o+24>>>2>>>0]=t.getDay(),n=(ke(t.getFullYear())?Ot:Gt)[t.getMonth()]+t.getDate()-1|0,c()[o+28>>>2>>>0]=n,c()[o+36>>>2>>>0]=-(60*t.getTimezoneOffset()),n=new Date(t.getFullYear(),6,1).getTimezoneOffset();var l=new Date(t.getFullYear(),0,1).getTimezoneOffset();t=(n!=l&&t.getTimezoneOffset()==Math.min(l,n))|0,c()[o+32>>>2>>>0]=t},u:function(t){t>>>=0;var n=new Date(c()[t+20>>>2>>>0]+1900,c()[t+16>>>2>>>0],c()[t+12>>>2>>>0],c()[t+8>>>2>>>0],c()[t+4>>>2>>>0],c()[t>>>2>>>0],0),o=c()[t+32>>>2>>>0],l=n.getTimezoneOffset(),O=new Date(n.getFullYear(),6,1).getTimezoneOffset(),b=new Date(n.getFullYear(),0,1).getTimezoneOffset(),S=Math.min(b,O);return 0>o?c()[t+32>>>2>>>0]=+(O!=b&&S==l):0<o!=(S==l)&&(O=Math.max(b,O),n.setTime(n.getTime()+6e4*((0<o?S:O)-l))),c()[t+24>>>2>>>0]=n.getDay(),o=(ke(n.getFullYear())?Ot:Gt)[n.getMonth()]+n.getDate()-1|0,c()[t+28>>>2>>>0]=o,c()[t>>>2>>>0]=n.getSeconds(),c()[t+4>>>2>>>0]=n.getMinutes(),c()[t+8>>>2>>>0]=n.getHours(),c()[t+12>>>2>>>0]=n.getDate(),c()[t+16>>>2>>>0]=n.getMonth(),c()[t+20>>>2>>>0]=n.getYear(),t=n.getTime(),isNaN(t)?(c()[A()>>>2>>>0]=61,t=-1):t/=1e3,q((De=t,1<=+Math.abs(De)?0<De?+Math.floor(De/4294967296)>>>0:~~+Math.ceil((De-+(~~De>>>0))/4294967296)>>>0:0)),t>>>0},q:bt,r:_t,y:function(t,n,o){function l(ie){return(ie=ie.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?ie[1]:"GMT"}t>>>=0,n>>>=0,o>>>=0;var O=new Date().getFullYear(),b=new Date(O,0,1),S=new Date(O,6,1);O=b.getTimezoneOffset();var X=S.getTimezoneOffset(),Be=Math.max(O,X);_()[t>>>2>>>0]=60*Be,c()[n>>>2>>>0]=+(O!=X),t=l(b),n=l(S),t=qe(t),n=qe(n),X<O?(_()[o>>>2>>>0]=t,_()[o+4>>>2>>>0]=n):(_()[o>>>2>>>0]=n,_()[o+4>>>2>>>0]=t)},c:()=>{re("")},O:function(t,n,o){t>>>=0,n>>>=0,o>>>=0,Et.length=0;for(var l;l=v()[n++>>>0];){var O=l!=105;O&=l!=112,o+=O&&o%8?4:0,Et.push(l==112?_()[o>>>2>>>0]:l==105?c()[o>>>2>>>0]:y()[o>>>3>>>0]),o+=O?8:4}return lt[t].apply(null,Et)},k:()=>{},i:()=>Date.now(),U:()=>{throw We+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>W?(Sr(),Ut(Er)).cpus().length:navigator.hardwareConcurrency,x:function(t){t>>>=0;var n=v().length;if(t<=n||4294901760<t)return!1;for(var o=1;4>=o;o*=2){var l=n*(1+.2/o);l=Math.min(l,t+100663296);var O=Math;l=Math.max(t,l);e:{O=(O.min.call(O,4294901760,l+(65536-l%65536)%65536)-J.buffer.byteLength+65535)/65536;try{J.grow(O),_e();var b=1;break e}catch{}b=void 0}if(b)return!0}return!1},M:Te,N:Tt,G:fe,g:At,m:Mt,v:Ct,l:Je,a:J||u.wasmMemory,w:i,d:function(t,n,o,l){return i(t>>>0,n>>>0,o>>>0,l>>>0)}},h=function(){function t(o,l){return h=o.exports,h=qr(),P.bb.push(h.za),Lt=h.Aa,Ee.unshift(h.V),be=l,oe(),h}var n={a:w};if(de++,u.instantiateWasm)try{return u.instantiateWasm(n,t)}catch(o){ne(`Module.instantiateWasm callback failed with error: ${o}`),F(o)}return Ke(n,function(o){t(o.instance,o.module)}).catch(F),{}}();u._OrtInit=(t,n)=>(u._OrtInit=h.W)(t,n),u._OrtGetLastError=(t,n)=>(u._OrtGetLastError=h.X)(t,n),u._OrtCreateSessionOptions=(t,n,o,l,O,b,S,X,Be,ie)=>(u._OrtCreateSessionOptions=h.Y)(t,n,o,l,O,b,S,X,Be,ie),u._OrtAppendExecutionProvider=(t,n)=>(u._OrtAppendExecutionProvider=h.Z)(t,n),u._OrtAddFreeDimensionOverride=(t,n,o)=>(u._OrtAddFreeDimensionOverride=h._)(t,n,o),u._OrtAddSessionConfigEntry=(t,n,o)=>(u._OrtAddSessionConfigEntry=h.$)(t,n,o),u._OrtReleaseSessionOptions=t=>(u._OrtReleaseSessionOptions=h.aa)(t),u._OrtCreateSession=(t,n,o)=>(u._OrtCreateSession=h.ba)(t,n,o),u._OrtReleaseSession=t=>(u._OrtReleaseSession=h.ca)(t),u._OrtGetInputOutputCount=(t,n,o)=>(u._OrtGetInputOutputCount=h.da)(t,n,o),u._OrtGetInputName=(t,n)=>(u._OrtGetInputName=h.ea)(t,n),u._OrtGetOutputName=(t,n)=>(u._OrtGetOutputName=h.fa)(t,n),u._OrtFree=t=>(u._OrtFree=h.ga)(t),u._OrtCreateTensor=(t,n,o,l,O,b)=>(u._OrtCreateTensor=h.ha)(t,n,o,l,O,b),u._OrtGetTensorData=(t,n,o,l,O)=>(u._OrtGetTensorData=h.ia)(t,n,o,l,O),u._OrtReleaseTensor=t=>(u._OrtReleaseTensor=h.ja)(t),u._OrtCreateRunOptions=(t,n,o,l)=>(u._OrtCreateRunOptions=h.ka)(t,n,o,l),u._OrtAddRunConfigEntry=(t,n,o)=>(u._OrtAddRunConfigEntry=h.la)(t,n,o),u._OrtReleaseRunOptions=t=>(u._OrtReleaseRunOptions=h.ma)(t),u._OrtCreateBinding=t=>(u._OrtCreateBinding=h.na)(t),u._OrtBindInput=(t,n,o)=>(u._OrtBindInput=h.oa)(t,n,o),u._OrtBindOutput=(t,n,o,l)=>(u._OrtBindOutput=h.pa)(t,n,o,l),u._OrtClearBoundOutputs=t=>(u._OrtClearBoundOutputs=h.qa)(t),u._OrtReleaseBinding=t=>(u._OrtReleaseBinding=h.ra)(t),u._OrtRunWithBinding=(t,n,o,l,O)=>(u._OrtRunWithBinding=h.sa)(t,n,o,l,O),u._OrtRun=(t,n,o,l,O,b,S,X)=>(u._OrtRun=h.ta)(t,n,o,l,O,b,S,X),u._OrtEndProfiling=t=>(u._OrtEndProfiling=h.ua)(t);var A=()=>(A=h.va)(),U=u._pthread_self=()=>(U=u._pthread_self=h.wa)(),M=u._malloc=t=>(M=u._malloc=h.xa)(t);u._free=t=>(u._free=h.ya)(t),u.__emscripten_tls_init=()=>(u.__emscripten_tls_init=h.za)();var V=u.__emscripten_thread_init=(t,n,o,l,O,b)=>(V=u.__emscripten_thread_init=h.Ba)(t,n,o,l,O,b);u.__emscripten_thread_crashed=()=>(u.__emscripten_thread_crashed=h.Ca)();var ce=(t,n,o,l)=>(ce=h.Da)(t,n,o,l),we=t=>(we=h.Ea)(t),p=u.__emscripten_thread_exit=t=>(p=u.__emscripten_thread_exit=h.Fa)(t),N=()=>(N=h.Ga)(),q=t=>(q=h.Ha)(t),Ie=(t,n)=>(Ie=h.Ia)(t,n),ut=()=>(ut=h.Ja)(),zt=t=>(zt=h.Ka)(t),Zt=t=>(Zt=h.La)(t);function qr(){var t=h;t=Object.assign({},t);var n=l=>()=>l()>>>0,o=l=>O=>l(O)>>>0;return t.va=n(t.va),t.wa=n(t.wa),t.xa=o(t.xa),t.emscripten_main_runtime_thread_id=n(t.emscripten_main_runtime_thread_id),t.Ja=n(t.Ja),t.La=o(t.La),t}u.wasmMemory=J,u.stackAlloc=Zt,u.stackSave=ut,u.stackRestore=zt,u.keepRuntimeAlive=()=>0<We,u.UTF8ToString=tt,u.stringToUTF8=at,u.lengthBytesUTF8=je,u.ExitStatus=ze,u.PThread=P;var Vt;Pe=function t(){Vt||pr(),Vt||(Pe=t)};function pr(){if(!(0<de))if(T)C(u),T||rt(Ee),startWorker(u);else{if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Me.unshift(u.preRun.shift());rt(Me),0<de||Vt||(Vt=!0,u.calledRun=!0,L||(T||rt(Ee),C(u),T||rt(Ze)))}}return pr(),m.ready}})();typeof Ar=="object"&&typeof sr=="object"?sr.exports=Tr:typeof define=="function"&&define.amd&&define([],()=>Tr)});var Cr=Dt((_n,nn)=>{nn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\\n\'});var Dr;Dr=Or();var an=Mr(),ur,fr=!1,qt=!1,Pr=!1,on=f=>{if(f===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+f+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+f+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},sn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},un=(f,m)=>f?m?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":m?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Ur=async f=>{if(fr)return Promise.resolve();if(qt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Pr)throw new Error("previous call to \'initializeWebAssembly()\' failed.");qt=!0;let m=f.initTimeout,s=f.numThreads,v=f.simd,c=on(s),_=v&&sn(),y=f.wasmPaths,u=typeof y=="string"?y:void 0,C=un(_,c),F=typeof y=="object"?y[C]:void 0,B=!1,$=[];if(m>0&&$.push(new Promise(R=>{setTimeout(()=>{B=!0,R()},m)})),$.push(new Promise((R,I)=>{let H=c?an:Dr,W={locateFile:(T,x)=>c&&T.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Cr()],{type:"text/javascript"})):T.endsWith(".wasm")?F||(u??x)+C:x+T};if(c)if(W.numThreads=s,typeof Blob>"u")W.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let T=`var ortWasmThreaded=${H.toString()};`;W.mainScriptUrlOrBlob=new Blob([T],{type:"text/javascript"})}H(W).then(T=>{qt=!1,fr=!0,ur=T,R()},T=>{qt=!1,Pr=!0,I(T)})})),await Promise.race($),B)throw new Error(`WebAssembly backend initializing failed due to timeout: ${m}ms`)},K=()=>{if(fr&&ur)return ur;throw new Error("WebAssembly is not initialized yet.")};var ee=(f,m)=>{let s=K(),v=s.lengthBytesUTF8(f)+1,c=s._malloc(v);return s.stringToUTF8(f,c,v),m.push(c),c},Ft=(f,m,s,v)=>{if(typeof f=="object"&&f!==null){if(s.has(f))throw new Error("Circular reference in options");s.add(f)}Object.entries(f).forEach(([c,_])=>{let y=m?m+c:c;if(typeof _=="object")Ft(_,y+".",s,v);else if(typeof _=="string"||typeof _=="number")v(y,_.toString());else if(typeof _=="boolean")v(y,_?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof _}`)})},Z=f=>{let m=K(),s=m.stackSave();try{let v=m.stackAlloc(8);m._OrtGetLastError(v,v+4);let c=m.HEAP32[v/4],_=m.HEAPU32[v/4+1],y=_?m.UTF8ToString(_):"";throw new Error(`${f} ERROR_CODE: ${c}, ERROR_MESSAGE: ${y}`)}finally{m.stackRestore(s)}};var Fr=f=>{let m=K(),s=0,v=[],c=f||{};try{if(f?.logSeverityLevel===void 0)c.logSeverityLevel=2;else if(typeof f.logSeverityLevel!="number"||!Number.isInteger(f.logSeverityLevel)||f.logSeverityLevel<0||f.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${f.logSeverityLevel}`);if(f?.logVerbosityLevel===void 0)c.logVerbosityLevel=0;else if(typeof f.logVerbosityLevel!="number"||!Number.isInteger(f.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${f.logVerbosityLevel}`);f?.terminate===void 0&&(c.terminate=!1);let _=0;return f?.tag!==void 0&&(_=ee(f.tag,v)),s=m._OrtCreateRunOptions(c.logSeverityLevel,c.logVerbosityLevel,!!c.terminate,_),s===0&&Z("Can\'t create run options."),f?.extra!==void 0&&Ft(f.extra,"",new WeakSet,(y,u)=>{let C=ee(y,v),F=ee(u,v);m._OrtAddRunConfigEntry(s,C,F)!==0&&Z(`Can\'t set a run config entry: ${y} - ${u}.`)}),[s,v]}catch(_){throw s!==0&&m._OrtReleaseRunOptions(s),v.forEach(y=>m._free(y)),_}};var fn=f=>{switch(f){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${f}`)}},ln=f=>{switch(f){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${f}`)}},cn=f=>{f.extra||(f.extra={}),f.extra.session||(f.extra.session={});let m=f.extra.session;m.use_ort_model_bytes_directly||(m.use_ort_model_bytes_directly="1"),f.executionProviders&&f.executionProviders.some(s=>(typeof s=="string"?s:s.name)==="webgpu")&&(f.enableMemPattern=!1)},dn=(f,m,s)=>{for(let v of m){let c=typeof v=="string"?v:v.name;switch(c){case"webnn":if(c="WEBNN",typeof v!="string"){let y=v;if(y?.deviceType){let u=ee("deviceType",s),C=ee(y.deviceType,s);K()._OrtAddSessionConfigEntry(f,u,C)!==0&&Z(`Can\'t set a session config entry: \'deviceType\' - ${y.deviceType}.`)}if(y?.numThreads){let u=y.numThreads;(typeof u!="number"||!Number.isInteger(u)||u<0)&&(u=0);let C=ee("numThreads",s),F=ee(u.toString(),s);K()._OrtAddSessionConfigEntry(f,C,F)!==0&&Z(`Can\'t set a session config entry: \'numThreads\' - ${y.numThreads}.`)}if(y?.powerPreference){let u=ee("powerPreference",s),C=ee(y.powerPreference,s);K()._OrtAddSessionConfigEntry(f,u,C)!==0&&Z(`Can\'t set a session config entry: \'powerPreference\' - ${y.powerPreference}.`)}}break;case"webgpu":if(c="JS",typeof v!="string"){let y=v;if(y?.preferredLayout){if(y.preferredLayout!=="NCHW"&&y.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${y.preferredLayout}`);let u=ee("preferredLayout",s),C=ee(y.preferredLayout,s);K()._OrtAddSessionConfigEntry(f,u,C)!==0&&Z(`Can\'t set a session config entry: \'preferredLayout\' - ${y.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${c}`)}let _=ee(c,s);K()._OrtAppendExecutionProvider(f,_)!==0&&Z(`Can\'t append execution provider: ${c}.`)}},xr=f=>{let m=K(),s=0,v=[],c=f||{};cn(c);try{let _=fn(c.graphOptimizationLevel??"all"),y=ln(c.executionMode??"sequential"),u=typeof c.logId=="string"?ee(c.logId,v):0,C=c.logSeverityLevel??2;if(!Number.isInteger(C)||C<0||C>4)throw new Error(`log serverity level is not valid: ${C}`);let F=c.logVerbosityLevel??0;if(!Number.isInteger(F)||F<0||F>4)throw new Error(`log verbosity level is not valid: ${F}`);let B=typeof c.optimizedModelFilePath=="string"?ee(c.optimizedModelFilePath,v):0;if(s=m._OrtCreateSessionOptions(_,!!c.enableCpuMemArena,!!c.enableMemPattern,y,!!c.enableProfiling,0,u,C,F,B),s===0&&Z("Can\'t create session options."),c.executionProviders&&dn(s,c.executionProviders,v),c.freeDimensionOverrides)for(let[$,R]of Object.entries(c.freeDimensionOverrides)){if(typeof $!="string")throw new Error(`free dimension override name must be a string: ${$}`);if(typeof R!="number"||!Number.isInteger(R)||R<0)throw new Error(`free dimension override value must be a non-negative integer: ${R}`);let I=ee($,v);m._OrtAddFreeDimensionOverride(s,I,R)!==0&&Z(`Can\'t set a free dimension override: ${$} - ${R}.`)}return c.extra!==void 0&&Ft(c.extra,"",new WeakSet,($,R)=>{let I=ee($,v),H=ee(R,v);m._OrtAddSessionConfigEntry(s,I,H)!==0&&Z(`Can\'t set a session config entry: ${$} - ${R}.`)}),[s,v]}catch(_){throw s!==0&&m._OrtReleaseSessionOptions(s),v.forEach(y=>m._free(y)),_}};var lr=f=>{switch(f){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${f}`)}},Rr=f=>{switch(f){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${f}`)}},cr=f=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][f],Ir=f=>{switch(f){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${f}`)}},Br=f=>{switch(f){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${f}`)}},Lr=f=>f==="float32"||f==="int32"||f==="int64"||f==="bool"||f==="float16"||f==="uint32",Wr=f=>{switch(f){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${f}`)}};var Nr=async f=>{if(typeof f=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(f))}catch(m){if(m.code==="ERR_FS_FILE_TOO_LARGE"){let s=(void 0)(f),v=[];for await(let c of s)v.push(c);return new Uint8Array(Buffer.concat(v))}throw m}else{let m=await fetch(f);if(!m.ok)throw new Error(`failed to load external data file: ${f}`);let s=m.headers.get("Content-Length"),v=s?parseInt(s,10):0;if(v<1073741824)return new Uint8Array(await m.arrayBuffer());{if(!m.body)throw new Error(`failed to load external data file: ${f}, no response body.`);let c=m.body.getReader(),_;try{_=new ArrayBuffer(v)}catch(u){if(u instanceof RangeError){let C=Math.ceil(v/65536);_=new WebAssembly.Memory({initial:C,maximum:C}).buffer}else throw u}let y=0;for(;;){let{done:u,value:C}=await c.read();if(u)break;let F=C.byteLength;new Uint8Array(_,y,F).set(C),y+=F}return new Uint8Array(_,0,v)}}else return f instanceof Blob?new Uint8Array(await f.arrayBuffer()):f instanceof Uint8Array?f:new Uint8Array(f)};var pn=(f,m)=>{K()._OrtInit(f,m)!==0&&Z("Can\'t initialize onnxruntime.")},$r=async f=>{pn(f.wasm.numThreads,Br(f.logLevel))},Hr=async(f,m)=>{},xt=new Map,mn=f=>{let m=K(),s=m.stackSave();try{let v=m.stackAlloc(8);return m._OrtGetInputOutputCount(f,v,v+4)!==0&&Z("Can\'t get session input/output count."),[m.HEAP32[v/4],m.HEAP32[v/4+1]]}finally{m.stackRestore(s)}},dr=f=>{let m=K(),s=m._malloc(f.byteLength);if(s===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${f.byteLength}.`);return m.HEAPU8.set(f,s),[s,f.byteLength]},jr=async(f,m)=>{let s,v,c=K();Array.isArray(f)?[s,v]=f:f.buffer===c.HEAPU8.buffer?[s,v]=[f.byteOffset,f.byteLength]:[s,v]=dr(f);let _=0,y=0,u=0,C=[],F=[],B=[];try{if([y,C]=xr(m),m?.externalData&&c.mountExternalData){let x=[];for(let j of m.externalData){let Oe=typeof j=="string"?j:j.path;x.push(Nr(typeof j=="string"?j:j.data).then(se=>{c.mountExternalData(Oe,se)}))}await Promise.all(x)}_=c._OrtCreateSession(s,v,y),_===0&&Z("Can\'t create a session.");let[$,R]=mn(_),I=[],H=[],W=[];for(let x=0;x<$;x++){let j=c._OrtGetInputName(_,x);j===0&&Z("Can\'t get an input name."),F.push(j),I.push(c.UTF8ToString(j))}for(let x=0;x<R;x++){let j=c._OrtGetOutputName(_,x);j===0&&Z("Can\'t get an output name."),B.push(j);let Oe=c.UTF8ToString(j);H.push(Oe)}let T=null;return xt.set(_,[_,F,B,T]),[_,I,H]}catch($){throw F.forEach(R=>c._OrtFree(R)),B.forEach(R=>c._OrtFree(R)),u!==0&&c._OrtReleaseBinding(u),_!==0&&c._OrtReleaseSession(_),$}finally{c._free(s),y!==0&&c._OrtReleaseSessionOptions(y),C.forEach($=>c._free($)),c.unmountExternalData?.()}},Yr=f=>{let m=K(),s=xt.get(f);if(!s)throw new Error(`cannot release session. invalid session id: ${f}`);let[v,c,_,y]=s;y&&m._OrtReleaseBinding(y.handle),m.jsepUnregisterBuffers?.(f),c.forEach(u=>m._OrtFree(u)),_.forEach(u=>m._OrtFree(u)),m._OrtReleaseSession(v),xt.delete(f)},kr=(f,m,s,v,c)=>{if(!f){m.push(0);return}let _=K(),y=f[0],u=f[1],C=f[3],F,B;if(y==="string"&&C==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(C==="gpu-buffer"){let I=f[2].gpuBuffer,H=cr(lr(y));B=u.reduce((W,T)=>W*T,1)*H,F=_.jsepRegisterBuffer(v,c,I,B)}else{let I=f[2];if(Array.isArray(I)){B=4*I.length,F=_._malloc(B),s.push(F);let H=F/4;for(let W=0;W<I.length;W++){if(typeof I[W]!="string")throw new TypeError(`tensor data at index ${W} is not a string`);_.HEAPU32[H++]=ee(I[W],s)}}else B=I.byteLength,F=_._malloc(B),s.push(F),_.HEAPU8.set(new Uint8Array(I.buffer,I.byteOffset,B),F)}let $=_.stackSave(),R=_.stackAlloc(4*u.length);try{let I=R/4;u.forEach(W=>_.HEAP32[I++]=W);let H=_._OrtCreateTensor(lr(y),F,B,R,u.length,Wr(C));H===0&&Z(`Can\'t create tensor for input/output. session=${v}, index=${c}.`),m.push(H)}finally{_.stackRestore($)}},Gr=async(f,m,s,v,c,_)=>{let y=K(),u=xt.get(f);if(!u)throw new Error(`cannot run inference. invalid session id: ${f}`);let[C,F,B,$]=u,R=m.length,I=v.length,H=0,W=[],T=[],x=[],j=[],Oe=y.stackSave(),se=y.stackAlloc(R*4),z=y.stackAlloc(R*4),me=y.stackAlloc(I*4),Ae=y.stackAlloc(I*4);try{[H,W]=Fr(_);for(let L=0;L<R;L++)kr(s[L],T,j,f,m[L]);for(let L=0;L<I;L++)kr(c[L],x,j,f,R+v[L]);let E=se/4,k=z/4,Qe=me/4,ne=Ae/4;for(let L=0;L<R;L++)y.HEAPU32[E++]=T[L],y.HEAPU32[k++]=F[m[L]];for(let L=0;L<I;L++)y.HEAPU32[Qe++]=x[L],y.HEAPU32[ne++]=B[v[L]];let J;J=await y._OrtRun(C,z,se,R,Ae,I,me,H),J!==0&&Z("failed to call OrtRun().");let be=[];for(let L=0;L<I;L++){let ue=y.HEAPU32[me/4+L];if(ue===x[L]){be.push(c[L]);continue}let ge=y.stackSave(),ye=y.stackAlloc(4*4),ve=!1,te,ae=0;try{y._OrtGetTensorData(ue,ye,ye+4,ye+8,ye+12)!==0&&Z(`Can\'t access output tensor data on index ${L}.`);let xe=ye/4,Me=y.HEAPU32[xe++];ae=y.HEAPU32[xe++];let Ee=y.HEAPU32[xe++],Ze=y.HEAPU32[xe++],de=[];for(let oe=0;oe<Ze;oe++)de.push(y.HEAPU32[Ee/4+oe]);y._OrtFree(Ee);let Ce=de.reduce((oe,re)=>oe*re,1);te=Rr(Me);let Pe=$?.outputPreferredLocations[v[L]];if(te==="string"){if(Pe==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let oe=[],re=ae/4;for(let $e=0;$e<Ce;$e++){let Re=y.HEAPU32[re++],Le=$e===Ce-1?void 0:y.HEAPU32[re]-Re;oe.push(y.UTF8ToString(Re,Le))}be.push([te,de,oe,"cpu"])}else if(Pe==="gpu-buffer"&&Ce>0){let oe=y.jsepGetBuffer(ae),re=cr(Me);if(re===void 0||!Lr(te))throw new Error(`Unsupported data type: ${te}`);ve=!0,be.push([te,de,{gpuBuffer:oe,download:y.jsepCreateDownloader(oe,Ce*re,te),dispose:()=>{y._OrtReleaseTensor(ue)}},"gpu-buffer"])}else{let oe=Ir(te),re=new oe(Ce);new Uint8Array(re.buffer,re.byteOffset,re.byteLength).set(y.HEAPU8.subarray(ae,ae+re.byteLength)),be.push([te,de,re,"cpu"])}}finally{y.stackRestore(ge),te==="string"&&ae&&y._free(ae),ve||y._OrtReleaseTensor(ue)}}return $&&y._OrtClearBoundOutputs($.handle),be}finally{y.stackRestore(Oe),T.forEach(E=>y._OrtReleaseTensor(E)),x.forEach(E=>y._OrtReleaseTensor(E)),j.forEach(E=>y._free(E)),H!==0&&y._OrtReleaseRunOptions(H),W.forEach(E=>y._free(E))}},zr=f=>{let m=K(),s=xt.get(f);if(!s)throw new Error("invalid session id");let v=s[0],c=m._OrtEndProfiling(v);c===0&&Z("Can\'t get an profile file name."),m._OrtFree(c)},Vr=f=>{let m=[];for(let s of f){let v=s[2];!Array.isArray(v)&&"buffer"in v&&m.push(v.buffer)}return m};self.onmessage=f=>{let{type:m,in:s}=f.data;try{switch(m){case"init-wasm":Ur(s.wasm).then(()=>{$r(s).then(()=>{postMessage({type:m})},v=>{postMessage({type:m,err:v})})},v=>{postMessage({type:m,err:v})});break;case"init-ep":{let{epName:v,env:c}=s;Hr(c,v).then(()=>{postMessage({type:m})},_=>{postMessage({type:m,err:_})});break}case"copy-from":{let{buffer:v}=s,c=dr(v);postMessage({type:m,out:c});break}case"create":{let{model:v,options:c}=s;jr(v,c).then(_=>{postMessage({type:m,out:_})},_=>{postMessage({type:m,err:_})});break}case"release":Yr(s),postMessage({type:m});break;case"run":{let{sessionId:v,inputIndices:c,inputs:_,outputIndices:y,options:u}=s;Gr(v,c,_,y,new Array(y.length).fill(null),u).then(C=>{C.some(F=>F[3]!=="cpu")?postMessage({type:m,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:m,out:C},Vr(C))},C=>{postMessage({type:m,err:C})});break}case"end-profiling":zr(s),postMessage({type:m});break;default:}}catch(v){postMessage({type:m,err:v})}};})();\n'});var st,Re,Zt,Ar,Sr,Qr,Zr,Tt,At,qa,Tr,ca,da,pa,ma,ha,ga,ya,Kr=G(()=>{"use strict";it();fa();Et();st=()=>!!q.wasm.proxy&&typeof document<"u",Zt=!1,Ar=!1,Sr=!1,Zr=new Map,Tt=(n,a)=>{let o=Zr.get(n);o?o.push(a):Zr.set(n,[a])},At=()=>{if(Zt||!Ar||Sr||!Re)throw new Error("worker not ready")},qa=n=>{switch(n.data.type){case"init-wasm":Zt=!1,n.data.err?(Sr=!0,Qr[1](n.data.err)):(Ar=!0,Qr[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let a=Zr.get(n.data.type);n.data.err?a.shift()[1](n.data.err):a.shift()[0](n.data.out);break}default:}},Tr=typeof document<"u"?document?.currentScript?.src:void 0,ca=async()=>{if(!Ar){if(Zt)throw new Error("multiple calls to 'initWasm()' detected.");if(Sr)throw new Error("previous call to 'initWasm()' failed.");if(Zt=!0,st())return q.wasm.wasmPaths===void 0&&Tr&&Tr.indexOf("blob:")!==0&&(q.wasm.wasmPaths=Tr.substr(0,+Tr.lastIndexOf("/")+1)),new Promise((n,a)=>{Re?.terminate();let o=URL.createObjectURL(new Blob([la()],{type:"text/javascript"}));Re=new Worker(o,{name:"ort-wasm-proxy-worker"}),Re.onerror=u=>a(u),Re.onmessage=qa,URL.revokeObjectURL(o),Qr=[n,a];let d={type:"init-wasm",in:q};Re.postMessage(d)});try{await zn(q.wasm),await ra(q),Ar=!0}catch(n){throw Sr=!0,n}finally{Zt=!1}}},da=async n=>{if(st())return At(),new Promise((a,o)=>{Tt("init-ep",[a,o]);let d={type:"init-ep",in:{epName:n,env:q}};Re.postMessage(d)});await na(q,n)},pa=async n=>st()?(At(),new Promise((a,o)=>{Tt("copy-from",[a,o]);let d={type:"copy-from",in:{buffer:n}};Re.postMessage(d,[n.buffer])})):Jr(n),ma=async(n,a)=>{if(st()){if(a?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return At(),new Promise((o,d)=>{Tt("create",[o,d]);let u={type:"create",in:{model:n,options:a}},m=[];n instanceof Uint8Array&&m.push(n.buffer),Re.postMessage(u,m)})}else return aa(n,a)},ha=async n=>{if(st())return At(),new Promise((a,o)=>{Tt("release",[a,o]);let d={type:"release",in:n};Re.postMessage(d)});oa(n)},ga=async(n,a,o,d,u,m)=>{if(st()){if(o.some(p=>p[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(u.some(p=>p))throw new Error("pre-allocated output tensor is not supported for proxy.");return At(),new Promise((p,f)=>{Tt("run",[p,f]);let b=o,w={type:"run",in:{sessionId:n,inputIndices:a,inputs:b,outputIndices:d,options:m}};Re.postMessage(w,ua(b))})}else return ia(n,a,o,d,u,m)},ya=async n=>{if(st())return At(),new Promise((a,o)=>{Tt("end-profiling",[a,o]);let d={type:"end-profiling",in:n};Re.postMessage(d)});sa(n)}});var wa,Xa,Mr,va=G(()=>{"use strict";it();Kr();qr();Xr();wa=(n,a)=>{switch(n.location){case"cpu":return[n.type,n.dims,n.data,"cpu"];case"gpu-buffer":return[n.type,n.dims,{gpuBuffer:n.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${n.location} for ${a()}`)}},Xa=n=>{switch(n[3]){case"cpu":return new he(n[0],n[2],n[1]);case"gpu-buffer":{let a=n[0];if(!Er(a))throw new Error(`not supported data type: ${a} for deserializing GPU tensor`);let{gpuBuffer:o,download:d,dispose:u}=n[2];return he.fromGpuBuffer(o,{dataType:a,dims:n[1],download:d,dispose:u})}default:throw new Error(`invalid data location: ${n[3]}`)}},Mr=class{async fetchModelAndCopyToWasmMemory(a){return pa(await Jt(a))}async loadModel(a,o){at();let d;typeof a=="string"?typeof process<"u"&&process.versions&&process.versions.node?d=await Jt(a):d=await this.fetchModelAndCopyToWasmMemory(a):d=a,[this.sessionId,this.inputNames,this.outputNames]=await ma(d,o),ot()}async dispose(){return ha(this.sessionId)}async run(a,o,d){at();let u=[],m=[];Object.entries(a).forEach(_=>{let P=_[0],I=_[1],D=this.inputNames.indexOf(P);if(D===-1)throw new Error(`invalid input '${P}'`);u.push(I),m.push(D)});let p=[],f=[];Object.entries(o).forEach(_=>{let P=_[0],I=_[1],D=this.outputNames.indexOf(P);if(D===-1)throw new Error(`invalid output '${P}'`);p.push(I),f.push(D)});let b=u.map((_,P)=>wa(_,()=>`input "${this.inputNames[m[P]]}"`)),w=p.map((_,P)=>_?wa(_,()=>`output "${this.outputNames[f[P]]}"`):null),E=await ga(this.sessionId,m,b,f,w,d),M={};for(let _=0;_<E.length;_++)M[this.outputNames[f[_]]]=p[_]??Xa(E[_]);return ot(),M}startProfiling(){}endProfiling(){ya(this.sessionId)}}});var Ja,Pr,ba=G(()=>{"use strict";it();Kr();va();Ja=()=>{if((typeof q.wasm.initTimeout!="number"||q.wasm.initTimeout<0)&&(q.wasm.initTimeout=0),typeof q.wasm.simd!="boolean"&&(q.wasm.simd=!0),typeof q.wasm.proxy!="boolean"&&(q.wasm.proxy=!1),typeof q.wasm.trace!="boolean"&&(q.wasm.trace=!1),typeof q.wasm.numThreads!="number"||!Number.isInteger(q.wasm.numThreads)||q.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(q.wasm.numThreads=1);let n=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;q.wasm.numThreads=Math.min(4,Math.ceil((n||1)/2))}},Pr=class{async init(a){Ja(),await ca(),await da(a)}async createInferenceSessionHandler(a,o){let d=new Mr;return await d.loadModel(a,o),Promise.resolve(d)}}});var Oa={};Vt(Oa,{wasmBackend:()=>Qa});var Qa,_a=G(()=>{"use strict";ba();Qa=new Pr});it();it();it();var xn="1.18.0";var Bi=kr;{let n=(_a(),Ot(Oa)).wasmBackend;_t("cpu",n,10),_t("wasm",n,10),_t("webnn",n,9)}Object.defineProperty(q.versions,"web",{value:xn,enumerable:!0});export{Pa as InferenceSession,Tn as TRACE,at as TRACE_FUNC_BEGIN,ot as TRACE_FUNC_END,he as Tensor,Ra as TrainingSession,Bi as default,q as env,_t as registerBackend};
//# sourceMappingURL=ort.wasm.min.js.map

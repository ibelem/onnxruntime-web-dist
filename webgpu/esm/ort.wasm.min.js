/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
var er=Object.defineProperty;var va=Object.getOwnPropertyDescriptor;var Oa=Object.getOwnPropertyNames;var _a=Object.prototype.hasOwnProperty;var W=(r,n)=>()=>(r&&(n=r(r=0)),n);var nt=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports),bt=(r,n)=>{for(var t in n)er(r,t,{get:n[t],enumerable:!0})},Ea=(r,n,t,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of Oa(n))!_a.call(r,s)&&s!==t&&er(r,s,{get:()=>n[s],enumerable:!(f=va(n,s))||f.enumerable});return r};var at=r=>Ea(er({},"__esModule",{value:!0}),r);var It,ze,Ye,Dt,Pt=W(()=>{It=new Map,ze=[],Ye=(r,n,t)=>{if(n&&typeof n.init=="function"&&typeof n.createInferenceSessionHandler=="function"){let f=It.get(r);if(f===void 0)It.set(r,{backend:n,priority:t});else{if(f.priority>t)return;if(f.priority===t&&f.backend!==n)throw new Error(`cannot register backend "${r}" using priority ${t}`)}if(t>=0){let s=ze.indexOf(r);s!==-1&&ze.splice(s,1);for(let p=0;p<ze.length;p++)if(It.get(ze[p]).priority<=t){ze.splice(p,0,r);return}ze.push(r)}return}throw new TypeError("not a valid backend")},Dt=async r=>{let n=r.length===0?ze:r,t=[];for(let f of n){let s=It.get(f);if(s){if(s.initialized)return s.backend;if(s.aborted)continue;let p=!!s.initPromise;try{return p||(s.initPromise=s.backend.init(f)),await s.initPromise,s.initialized=!0,s.backend}catch(d){p||t.push({name:f,err:d}),s.aborted=!0}finally{delete s.initPromise}}}throw new Error(`no available backend found. ERR: ${t.map(f=>`[${f.name}] ${f.err}`).join(", ")}`)}});var Vr=W(()=>{Pt()});var Xr,Jr=W(()=>{Xr="1.17.0"});var Zr,Ge,tr=W(()=>{Jr();Zr="warning",Ge={wasm:{},webgl:{},webgpu:{},versions:{common:Xr},set logLevel(r){if(r!==void 0){if(typeof r!="string"||["verbose","info","warning","error","fatal"].indexOf(r)===-1)throw new Error(`Unsupported logging level: ${r}`);Zr=r}},get logLevel(){return Zr}};Object.defineProperty(Ge,"logLevel",{enumerable:!0})});var z,Qr=W(()=>{tr();z=Ge});var Kr,en,tn=W(()=>{Kr=(r,n)=>{let t=document.createElement("canvas");t.width=r.dims[3],t.height=r.dims[2];let f=t.getContext("2d");if(f!=null){let s,p;n?.tensorLayout!==void 0&&n.tensorLayout==="NHWC"?(s=r.dims[2],p=r.dims[3]):(s=r.dims[3],p=r.dims[2]);let d=n?.format!==void 0?n.format:"RGB",i=n?.norm,w,h;i===void 0||i.mean===void 0?w=[255,255,255,255]:typeof i.mean=="number"?w=[i.mean,i.mean,i.mean,i.mean]:(w=[i.mean[0],i.mean[1],i.mean[2],0],i.mean[3]!==void 0&&(w[3]=i.mean[3])),i===void 0||i.bias===void 0?h=[0,0,0,0]:typeof i.bias=="number"?h=[i.bias,i.bias,i.bias,i.bias]:(h=[i.bias[0],i.bias[1],i.bias[2],0],i.bias[3]!==void 0&&(h[3]=i.bias[3]));let v=p*s,_=0,O=v,S=v*2,L=-1;d==="RGBA"?(_=0,O=v,S=v*2,L=v*3):d==="RGB"?(_=0,O=v,S=v*2):d==="RBG"&&(_=0,S=v,O=v*2);for(let I=0;I<p;I++)for(let A=0;A<s;A++){let B=(r.data[_++]-h[0])*w[0],N=(r.data[O++]-h[1])*w[1],ee=(r.data[S++]-h[2])*w[2],Q=L===-1?255:(r.data[L++]-h[3])*w[3];f.fillStyle="rgba("+B+","+N+","+ee+","+Q+")",f.fillRect(A,I,1,1)}return t.toDataURL()}else throw new Error("Can not access image data")},en=(r,n)=>{let t=document.createElement("canvas").getContext("2d"),f;if(t!=null){let s,p,d;n?.tensorLayout!==void 0&&n.tensorLayout==="NHWC"?(s=r.dims[2],p=r.dims[1],d=r.dims[3]):(s=r.dims[3],p=r.dims[2],d=r.dims[1]);let i=n!==void 0&&n.format!==void 0?n.format:"RGB",w=n?.norm,h,v;w===void 0||w.mean===void 0?h=[255,255,255,255]:typeof w.mean=="number"?h=[w.mean,w.mean,w.mean,w.mean]:(h=[w.mean[0],w.mean[1],w.mean[2],255],w.mean[3]!==void 0&&(h[3]=w.mean[3])),w===void 0||w.bias===void 0?v=[0,0,0,0]:typeof w.bias=="number"?v=[w.bias,w.bias,w.bias,w.bias]:(v=[w.bias[0],w.bias[1],w.bias[2],0],w.bias[3]!==void 0&&(v[3]=w.bias[3]));let _=p*s;if(n!==void 0&&(n.format!==void 0&&d===4&&n.format!=="RGBA"||d===3&&n.format!=="RGB"&&n.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let O=4,S=0,L=1,I=2,A=3,B=0,N=_,ee=_*2,Q=-1;i==="RGBA"?(B=0,N=_,ee=_*2,Q=_*3):i==="RGB"?(B=0,N=_,ee=_*2):i==="RBG"&&(B=0,ee=_,N=_*2),f=t.createImageData(s,p);for(let U=0;U<p*s;S+=O,L+=O,I+=O,A+=O,U++)f.data[S]=(r.data[B++]-v[0])*h[0],f.data[L]=(r.data[N++]-v[1])*h[1],f.data[I]=(r.data[ee++]-v[2])*h[2],f.data[A]=Q===-1?255:(r.data[Q++]-v[3])*h[3]}else throw new Error("Can not access image data");return f}});var rr,rn,nn,an,on,sn=W(()=>{xt();rr=(r,n)=>{if(r===void 0)throw new Error("Image buffer must be defined");if(n.height===void 0||n.width===void 0)throw new Error("Image height and width must be defined");if(n.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:t,width:f}=n,s=n.norm??{mean:255,bias:0},p,d;typeof s.mean=="number"?p=[s.mean,s.mean,s.mean,s.mean]:p=[s.mean[0],s.mean[1],s.mean[2],s.mean[3]??255],typeof s.bias=="number"?d=[s.bias,s.bias,s.bias,s.bias]:d=[s.bias[0],s.bias[1],s.bias[2],s.bias[3]??0];let i=n.format!==void 0?n.format:"RGBA",w=n.tensorFormat!==void 0&&n.tensorFormat!==void 0?n.tensorFormat:"RGB",h=t*f,v=w==="RGBA"?new Float32Array(h*4):new Float32Array(h*3),_=4,O=0,S=1,L=2,I=3,A=0,B=h,N=h*2,ee=-1;i==="RGB"&&(_=3,O=0,S=1,L=2,I=-1),w==="RGBA"?ee=h*3:w==="RBG"?(A=0,N=h,B=h*2):w==="BGR"&&(N=0,B=h,A=h*2);for(let U=0;U<h;U++,O+=_,L+=_,S+=_,I+=_)v[A++]=(r[O]+d[0])/p[0],v[B++]=(r[S]+d[1])/p[1],v[N++]=(r[L]+d[2])/p[2],ee!==-1&&I!==-1&&(v[ee++]=(r[I]+d[3])/p[3]);return w==="RGBA"?new he("float32",v,[1,4,t,f]):new he("float32",v,[1,3,t,f])},rn=async(r,n)=>{let t=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,f=typeof ImageData<"u"&&r instanceof ImageData,s=typeof ImageBitmap<"u"&&r instanceof ImageBitmap,p=typeof r=="string",d,i=n??{};if(t){let w=document.createElement("canvas");w.width=r.width,w.height=r.height;let h=w.getContext("2d");if(h!=null){let v=r.height,_=r.width;if(n!==void 0&&n.resizedHeight!==void 0&&n.resizedWidth!==void 0&&(v=n.resizedHeight,_=n.resizedWidth),n!==void 0){if(i=n,n.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");i.tensorFormat="RGBA",i.height=v,i.width=_}else i.tensorFormat="RGBA",i.height=v,i.width=_;h.drawImage(r,0,0),d=h.getImageData(0,0,_,v).data}else throw new Error("Can not access image data")}else if(f){let w,h;if(n!==void 0&&n.resizedWidth!==void 0&&n.resizedHeight!==void 0?(w=n.resizedHeight,h=n.resizedWidth):(w=r.height,h=r.width),n!==void 0&&(i=n),i.format="RGBA",i.height=w,i.width=h,n!==void 0){let v=document.createElement("canvas");v.width=h,v.height=w;let _=v.getContext("2d");if(_!=null)_.putImageData(r,0,0),d=_.getImageData(0,0,h,w).data;else throw new Error("Can not access image data")}else d=r.data}else if(s){if(n===void 0)throw new Error("Please provide image config with format for Imagebitmap");let w=document.createElement("canvas");w.width=r.width,w.height=r.height;let h=w.getContext("2d");if(h!=null){let v=r.height,_=r.width;return h.drawImage(r,0,0,_,v),d=h.getImageData(0,0,_,v).data,i.height=v,i.width=_,rr(d,i)}else throw new Error("Can not access image data")}else{if(p)return new Promise((w,h)=>{let v=document.createElement("canvas"),_=v.getContext("2d");if(!r||!_)return h();let O=new Image;O.crossOrigin="Anonymous",O.src=r,O.onload=()=>{v.width=O.width,v.height=O.height,_.drawImage(O,0,0,v.width,v.height);let S=_.getImageData(0,0,v.width,v.height);i.height=v.height,i.width=v.width,w(rr(S.data,i))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(d!==void 0)return rr(d,i);throw new Error("Input data provided is not supported - aborted tensor creation")},nn=(r,n)=>{let{width:t,height:f,download:s,dispose:p}=n,d=[1,f,t,4];return new he({location:"texture",type:"float32",texture:r,dims:d,download:s,dispose:p})},an=(r,n)=>{let{dataType:t,dims:f,download:s,dispose:p}=n;return new he({location:"gpu-buffer",type:t??"float32",gpuBuffer:r,dims:f,download:s,dispose:p})},on=(r,n,t)=>new he({location:"cpu-pinned",type:r,data:n,dims:t??[n.length]})});var vt,Ut,un,fn,ln=W(()=>{vt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Ut=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),un=!1,fn=()=>{if(!un){un=!0;let r=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",n=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";r&&(vt.set("int64",BigInt64Array),Ut.set(BigInt64Array,"int64")),n&&(vt.set("uint64",BigUint64Array),Ut.set(BigUint64Array,"uint64"))}}});var cn,dn,pn=W(()=>{xt();cn=r=>{let n=1;for(let t=0;t<r.length;t++){let f=r[t];if(typeof f!="number"||!Number.isSafeInteger(f))throw new TypeError(`dims[${t}] must be an integer, got: ${f}`);if(f<0)throw new RangeError(`dims[${t}] must be a non-negative integer, got: ${f}`);n*=f}return n},dn=(r,n)=>{switch(r.location){case"cpu":return new he(r.type,r.data,n);case"cpu-pinned":return new he({location:"cpu-pinned",data:r.data,type:r.type,dims:n});case"texture":return new he({location:"texture",texture:r.texture,type:r.type,dims:n});case"gpu-buffer":return new he({location:"gpu-buffer",gpuBuffer:r.gpuBuffer,type:r.type,dims:n});default:throw new Error(`tensorReshape: tensor location ${r.location} is not supported`)}}});var he,xt=W(()=>{tn();sn();ln();pn();he=class{constructor(n,t,f){fn();let s,p;if(typeof n=="object"&&"location"in n)switch(this.dataLocation=n.location,s=n.type,p=n.dims,n.location){case"cpu-pinned":{let i=vt.get(s);if(!i)throw new TypeError(`unsupported type "${s}" to create tensor from pinned buffer`);if(!(n.data instanceof i))throw new TypeError(`buffer should be of type ${i.name}`);this.cpuData=n.data;break}case"texture":{if(s!=="float32")throw new TypeError(`unsupported type "${s}" to create tensor from texture`);this.gpuTextureData=n.texture,this.downloader=n.download,this.disposer=n.dispose;break}case"gpu-buffer":{if(s!=="float32"&&s!=="float16"&&s!=="int32"&&s!=="int64"&&s!=="uint32"&&s!=="bool")throw new TypeError(`unsupported type "${s}" to create tensor from gpu buffer`);this.gpuBufferData=n.gpuBuffer,this.downloader=n.download,this.disposer=n.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let i,w;if(typeof n=="string")if(s=n,w=f,n==="string"){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");i=t}else{let h=vt.get(n);if(h===void 0)throw new TypeError(`Unsupported tensor type: ${n}.`);if(Array.isArray(t)){if(n==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");n==="uint64"||n==="int64"?i=h.from(t,BigInt):i=h.from(t)}else if(t instanceof h)i=t;else throw new TypeError(`A ${s} tensor's data must be type of ${h}`)}else if(w=t,Array.isArray(n)){if(n.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let h=typeof n[0];if(h==="string")s="string",i=n;else if(h==="boolean")s="bool",i=Uint8Array.from(n);else throw new TypeError(`Invalid element type of data array: ${h}.`)}else{let h=Ut.get(n.constructor);if(h===void 0)throw new TypeError(`Unsupported type for tensor data: ${n.constructor}.`);s=h,i=n}if(w===void 0)w=[i.length];else if(!Array.isArray(w))throw new TypeError("A tensor's dims must be a number array");p=w,this.cpuData=i,this.dataLocation="cpu"}let d=cn(p);if(this.cpuData&&d!==this.cpuData.length)throw new Error(`Tensor's size(${d}) does not match data length(${this.cpuData.length}).`);this.type=s,this.dims=p,this.size=d}static async fromImage(n,t){return rn(n,t)}static fromTexture(n,t){return nn(n,t)}static fromGpuBuffer(n,t){return an(n,t)}static fromPinnedBuffer(n,t,f){return on(n,t,f)}toDataURL(n){return Kr(this,n)}toImageData(n){return en(this,n)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(n){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,n&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(n){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return dn(this,n)}}});var de,Bt=W(()=>{xt();de=he});var mn,hn,$e,qe,nr=W(()=>{tr();mn=(r,n)=>{Ge.wasm.trace&&console.timeStamp(`${r}::ORT::${n}`)},hn=(r,n)=>{let t=new Error().stack?.split(/\r\n|\r|\n/g)||[],f=!1;for(let s=0;s<t.length;s++){if(f&&!t[s].includes("TRACE_FUNC")){let p=`FUNC_${r}::${t[s].trim().split(" ")[1]}`;n&&(p+=`::${n}`),mn("CPU",p);return}t[s].includes("TRACE_FUNC")&&(f=!0)}},$e=r=>{Ge.wasm.trace&&hn("BEGIN",r)},qe=r=>{Ge.wasm.trace&&hn("END",r)}});var Ft,gn=W(()=>{Pt();Bt();nr();Ft=class r{constructor(n){this.handler=n}async run(n,t,f){$e();let s={},p={};if(typeof n!="object"||n===null||n instanceof de||Array.isArray(n))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let d=!0;if(typeof t=="object"){if(t===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof de)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(t.length===0)throw new TypeError("'fetches' cannot be an empty array.");d=!1;for(let h of t){if(typeof h!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(h)===-1)throw new RangeError(`'fetches' contains invalid output name: ${h}.`);s[h]=null}if(typeof f=="object"&&f!==null)p=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else{let h=!1,v=Object.getOwnPropertyNames(t);for(let _ of this.outputNames)if(v.indexOf(_)!==-1){let O=t[_];(O===null||O instanceof de)&&(h=!0,d=!1,s[_]=O)}if(h){if(typeof f=="object"&&f!==null)p=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else p=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let h of this.inputNames)if(typeof n[h]>"u")throw new Error(`input '${h}' is missing in 'feeds'.`);if(d)for(let h of this.outputNames)s[h]=null;let i=await this.handler.run(n,s,p),w={};for(let h in i)if(Object.hasOwnProperty.call(i,h)){let v=i[h];v instanceof de?w[h]=v:w[h]=new de(v.type,v.data,v.dims)}return qe(),w}async release(){return this.handler.dispose()}static async create(n,t,f,s){$e();let p,d={};if(typeof n=="string"){if(p=n,typeof t=="object"&&t!==null)d=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof Uint8Array){if(p=n,typeof t=="object"&&t!==null)d=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer){let _=n,O=0,S=n.byteLength;if(typeof t=="object"&&t!==null)d=t;else if(typeof t=="number"){if(O=t,!Number.isSafeInteger(O))throw new RangeError("'byteOffset' must be an integer.");if(O<0||O>=_.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${_.byteLength}).`);if(S=n.byteLength-O,typeof f=="number"){if(S=f,!Number.isSafeInteger(S))throw new RangeError("'byteLength' must be an integer.");if(S<=0||O+S>_.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${_.byteLength-O}].`);if(typeof s=="object"&&s!==null)d=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(typeof f<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof t<"u")throw new TypeError("'options' must be an object.");p=new Uint8Array(_,O,S)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let w=(d.executionProviders||[]).map(_=>typeof _=="string"?_:_.name),v=await(await Dt(w)).createInferenceSessionHandler(p,d);return qe(),new r(v)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var Ta,yn=W(()=>{gn();Ta=Ft});var wn=W(()=>{});var Sa,Lt,bn=W(()=>{Pt();Bt();Sa="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Lt=class r{constructor(n,t,f){this.handler=n,this.hasOptimizerModel=t,this.hasEvalModel=f}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(n,t){let f=n.evalModel||"",s=n.optimizerModel||"",p=t||{},i=(p.executionProviders||[]).map(h=>typeof h=="string"?h:h.name),w=await Dt(i);if(w.createTrainingSessionHandler){let h=await w.createTrainingSessionHandler(n.checkpointState,n.trainModel,f,s,p);return new r(h,!!n.optimizerModel,!!n.evalModel)}else throw new Error(Sa)}typeNarrowingForRunStep(n,t,f,s,p){let d={},i={};if(typeof f!="object"||f===null||f instanceof de||Array.isArray(f))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let w=!0;if(typeof s=="object"){if(s===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(s instanceof de)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(s)){if(s.length===0)throw new TypeError("'fetches' cannot be an empty array.");w=!1;for(let h of s){if(typeof h!="string")throw new TypeError("'fetches' must be a string array or an object.");if(t.indexOf(h)===-1)throw new RangeError(`'fetches' contains invalid output name: ${h}.`);d[h]=null}if(typeof p=="object"&&p!==null)i=p;else if(typeof p<"u")throw new TypeError("'options' must be an object.")}else{let h=!1,v=Object.getOwnPropertyNames(s);for(let _ of t)if(v.indexOf(_)!==-1){let O=s[_];(O===null||O instanceof de)&&(h=!0,w=!1,d[_]=O)}if(h){if(typeof p=="object"&&p!==null)i=p;else if(typeof p<"u")throw new TypeError("'options' must be an object.")}else i=s}}else if(typeof s<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let h of n)if(typeof f[h]>"u")throw new Error(`input '${h}' is missing in 'feeds'.`);if(w)for(let h of t)d[h]=null;return[d,i]}convertHandlerReturnTypeToMapOfTensors(n){let t={};for(let f in n)if(Object.hasOwnProperty.call(n,f)){let s=n[f];s instanceof de?t[f]=s:t[f]=new de(s.type,s.data,s.dims)}return t}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(n,t,f){let[s,p]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,n,t,f),d=await this.handler.runTrainStep(n,s,p);return this.convertHandlerReturnTypeToMapOfTensors(d)}async runOptimizerStep(n){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(n||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(n,t,f){if(this.hasEvalModel){let[s,p]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,n,t,f),d=await this.handler.runEvalStep(n,s,p);return this.convertHandlerReturnTypeToMapOfTensors(d)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(n=!0){return this.handler.getParametersSize(n)}async loadParametersBuffer(n,t=!0){let f=await this.getParametersSize(t);if(n.length!==4*f)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(n,t)}async getContiguousParameters(n=!0){return this.handler.getContiguousParameters(n)}async release(){return this.handler.dispose()}}});var Aa,vn=W(()=>{bn();Aa=Lt});var ar={};bt(ar,{InferenceSession:()=>Ta,TRACE:()=>mn,TRACE_FUNC_BEGIN:()=>$e,TRACE_FUNC_END:()=>qe,Tensor:()=>de,TrainingSession:()=>Aa,env:()=>z,registerBackend:()=>Ye});var Ve=W(()=>{Vr();Qr();yn();Bt();nr();wn();vn()});var or={};bt(or,{readFile:()=>Ma});var Ma,ir=W(()=>{Ma=void 0});var sr={};bt(sr,{join:()=>Ra});var Ra,ur=W(()=>{Ra=void 0});var Tn=nt((En,fr)=>{"use strict";var _n=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(n={}){var t=n,f,s;t.ready=new Promise((o,l)=>{f=o,s=l});var p=Object.assign({},t),d="./this.program",i=typeof window=="object",w=typeof importScripts=="function",h=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v="",_,O,S;if(h){var L=(ir(),at(or)),I=(ur(),at(sr));v=w?I.dirname(v)+"/":__dirname+"/",_=(o,l)=>(o=o.startsWith("file://")?new URL(o):I.normalize(o),L.readFileSync(o,l?void 0:"utf8")),S=o=>(o=_(o,!0),o.buffer||(o=new Uint8Array(o)),o),O=(o,l,c,b=!0)=>{o=o.startsWith("file://")?new URL(o):I.normalize(o),L.readFile(o,b?void 0:"utf8",(M,x)=>{M?c(M):l(b?x.buffer:x)})},!t.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),t.inspect=()=>"[Emscripten Module object]"}else(i||w)&&(w?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),r&&(v=r),v.indexOf("blob:")!==0?v=v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):v="",_=o=>{var l=new XMLHttpRequest;return l.open("GET",o,!1),l.send(null),l.responseText},w&&(S=o=>{var l=new XMLHttpRequest;return l.open("GET",o,!1),l.responseType="arraybuffer",l.send(null),new Uint8Array(l.response)}),O=(o,l,c)=>{var b=new XMLHttpRequest;b.open("GET",o,!0),b.responseType="arraybuffer",b.onload=()=>{b.status==200||b.status==0&&b.response?l(b.response):c()},b.onerror=c,b.send(null)});var A=t.print||console.log.bind(console),B=t.printErr||console.error.bind(console);Object.assign(t,p),p=null,t.thisProgram&&(d=t.thisProgram);var N;t.wasmBinary&&(N=t.wasmBinary);var ee=t.noExitRuntime||!0;typeof WebAssembly!="object"&&G("no native wasm support detected");var Q,U,_e=!1,Ee,K,D,te;function ie(){var o=Q.buffer;t.HEAP8=Ee=new Int8Array(o),t.HEAP16=new Int16Array(o),t.HEAP32=D=new Int32Array(o),t.HEAPU8=K=new Uint8Array(o),t.HEAPU16=new Uint16Array(o),t.HEAPU32=te=new Uint32Array(o),t.HEAPF32=new Float32Array(o),t.HEAPF64=new Float64Array(o)}var Te=[],Se=[],F=[];function C(){var o=t.preRun.shift();Te.unshift(o)}var ye=0,le=null,se=null;function G(o){throw t.onAbort&&t.onAbort(o),o="Aborted("+o+")",B(o),_e=!0,o=new WebAssembly.RuntimeError(o+". Build with -sASSERTIONS for more info."),s(o),o}function pe(o){return o.startsWith("data:application/octet-stream;base64,")}var Ae;if(Ae="ort-wasm.wasm",!pe(Ae)){var Me=Ae;Ae=t.locateFile?t.locateFile(Me,v):v+Me}function Fe(o){if(o==Ae&&N)return new Uint8Array(N);if(S)return S(o);throw"both async and sync fetching of the wasm failed"}function be(o){if(!N&&(i||w)){if(typeof fetch=="function"&&!o.startsWith("file://"))return fetch(o,{credentials:"same-origin"}).then(l=>{if(!l.ok)throw"failed to load wasm binary file at '"+o+"'";return l.arrayBuffer()}).catch(()=>Fe(o));if(O)return new Promise((l,c)=>{O(o,b=>l(new Uint8Array(b)),c)})}return Promise.resolve().then(()=>Fe(o))}function xe(o,l,c){return be(o).then(b=>WebAssembly.instantiate(b,l)).then(b=>b).then(c,b=>{B("failed to asynchronously prepare wasm: "+b),G(b)})}function Re(o,l){var c=Ae;return N||typeof WebAssembly.instantiateStreaming!="function"||pe(c)||c.startsWith("file://")||h||typeof fetch!="function"?xe(c,o,l):fetch(c,{credentials:"same-origin"}).then(b=>WebAssembly.instantiateStreaming(b,o).then(l,function(M){return B("wasm streaming compile failed: "+M),B("falling back to ArrayBuffer instantiation"),xe(c,o,l)}))}var ce,Ce=o=>{for(;0<o.length;)o.shift()(t)};function ae(o){this.va=o-24,this.Ea=function(l){te[this.va+4>>2>>>0]=l},this.za=function(l){te[this.va+8>>2>>>0]=l},this.xa=function(l,c){this.ya(),this.Ea(l),this.za(c)},this.ya=function(){te[this.va+16>>2>>>0]=0}}var re=0,Ie=0,we=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Le=(o,l,c)=>{l>>>=0;var b=l+c;for(c=l;o[c]&&!(c>=b);)++c;if(16<c-l&&o.buffer&&we)return we.decode(o.subarray(l,c));for(b="";l<c;){var M=o[l++];if(M&128){var x=o[l++]&63;if((M&224)==192)b+=String.fromCharCode((M&31)<<6|x);else{var k=o[l++]&63;M=(M&240)==224?(M&15)<<12|x<<6|k:(M&7)<<18|x<<12|k<<6|o[l++]&63,65536>M?b+=String.fromCharCode(M):(M-=65536,b+=String.fromCharCode(55296|M>>10,56320|M&1023))}}else b+=String.fromCharCode(M)}return b},Ue=(o,l)=>(o>>>=0)?Le(K,o,l):"",Je=o=>{for(var l=0,c=0;c<o.length;++c){var b=o.charCodeAt(c);127>=b?l++:2047>=b?l+=2:55296<=b&&57343>=b?(l+=4,++c):l+=3}return l},Ze=(o,l,c,b)=>{if(c>>>=0,!(0<b))return 0;var M=c;b=c+b-1;for(var x=0;x<o.length;++x){var k=o.charCodeAt(x);if(55296<=k&&57343>=k){var ne=o.charCodeAt(++x);k=65536+((k&1023)<<10)|ne&1023}if(127>=k){if(c>=b)break;l[c++>>>0]=k}else{if(2047>=k){if(c+1>=b)break;l[c++>>>0]=192|k>>6}else{if(65535>=k){if(c+2>=b)break;l[c++>>>0]=224|k>>12}else{if(c+3>=b)break;l[c++>>>0]=240|k>>18,l[c++>>>0]=128|k>>12&63}l[c++>>>0]=128|k>>6&63}l[c++>>>0]=128|k&63}}return l[c>>>0]=0,c-M},ve=o=>o%4===0&&(o%100!==0||o%400===0),ut=[0,31,60,91,121,152,182,213,244,274,305,335],Be=[0,31,59,90,120,151,181,212,243,273,304,334],ft=o=>{var l=Je(o)+1,c=mt(l);return c&&Ze(o,K,c,l),c},lt={},ct=()=>{if(!dt){var o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},l;for(l in lt)lt[l]===void 0?delete o[l]:o[l]=lt[l];var c=[];for(l in o)c.push(`${l}=${o[l]}`);dt=c}return dt},dt,ke=[null,[],[]],Ne=[31,29,31,30,31,30,31,31,30,31,30,31],Qe=[31,28,31,30,31,30,31,31,30,31,30,31];function Tt(o){var l=Array(Je(o)+1);return Ze(o,l,0,l.length),l}function pt(o,l,c,b){function M(g,H,Y){for(g=typeof g=="number"?g.toString():g||"";g.length<H;)g=Y[0]+g;return g}function x(g,H){return M(g,H,"0")}function k(g,H){function Y(wt){return 0>wt?-1:0<wt?1:0}var De;return(De=Y(g.getFullYear()-H.getFullYear()))===0&&(De=Y(g.getMonth()-H.getMonth()))===0&&(De=Y(g.getDate()-H.getDate())),De}function ne(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function me(g){var H=g.ra;for(g=new Date(new Date(g.sa+1900,0,1).getTime());0<H;){var Y=g.getMonth(),De=(ve(g.getFullYear())?Ne:Qe)[Y];if(H>De-g.getDate())H-=De-g.getDate()+1,g.setDate(1),11>Y?g.setMonth(Y+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+H);break}}return Y=new Date(g.getFullYear()+1,0,4),H=ne(new Date(g.getFullYear(),0,4)),Y=ne(Y),0>=k(H,g)?0>=k(Y,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}o>>>=0,l>>>=0,c>>>=0,b>>>=0;var ue=D[b+40>>2>>>0];b={Ca:D[b>>2>>>0],Ba:D[b+4>>2>>>0],ta:D[b+8>>2>>>0],wa:D[b+12>>2>>>0],ua:D[b+16>>2>>>0],sa:D[b+20>>2>>>0],ma:D[b+24>>2>>>0],ra:D[b+28>>2>>>0],Fa:D[b+32>>2>>>0],Aa:D[b+36>>2>>>0],Da:ue?Ue(ue):""},c=Ue(c),ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var fe in ue)c=c.replace(new RegExp(fe,"g"),ue[fe]);var gt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),yt="January February March April May June July August September October November December".split(" ");ue={"%a":g=>gt[g.ma].substring(0,3),"%A":g=>gt[g.ma],"%b":g=>yt[g.ua].substring(0,3),"%B":g=>yt[g.ua],"%C":g=>x((g.sa+1900)/100|0,2),"%d":g=>x(g.wa,2),"%e":g=>M(g.wa,2," "),"%g":g=>me(g).toString().substring(2),"%G":g=>me(g),"%H":g=>x(g.ta,2),"%I":g=>(g=g.ta,g==0?g=12:12<g&&(g-=12),x(g,2)),"%j":g=>{for(var H=0,Y=0;Y<=g.ua-1;H+=(ve(g.sa+1900)?Ne:Qe)[Y++]);return x(g.wa+H,3)},"%m":g=>x(g.ua+1,2),"%M":g=>x(g.Ba,2),"%n":()=>`
`,"%p":g=>0<=g.ta&&12>g.ta?"AM":"PM","%S":g=>x(g.Ca,2),"%t":()=>"	","%u":g=>g.ma||7,"%U":g=>x(Math.floor((g.ra+7-g.ma)/7),2),"%V":g=>{var H=Math.floor((g.ra+7-(g.ma+6)%7)/7);if(2>=(g.ma+371-g.ra-2)%7&&H++,H)H==53&&(Y=(g.ma+371-g.ra)%7,Y==4||Y==3&&ve(g.sa)||(H=1));else{H=52;var Y=(g.ma+7-g.ra-1)%7;(Y==4||Y==5&&ve(g.sa%400-1))&&H++}return x(H,2)},"%w":g=>g.ma,"%W":g=>x(Math.floor((g.ra+7-(g.ma+6)%7)/7),2),"%y":g=>(g.sa+1900).toString().substring(2),"%Y":g=>g.sa+1900,"%z":g=>{g=g.Aa;var H=0<=g;return g=Math.abs(g)/60,(H?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.Da,"%%":()=>"%"},c=c.replace(/%%/g,"\0\0");for(fe in ue)c.includes(fe)&&(c=c.replace(new RegExp(fe,"g"),ue[fe](b)));return c=c.replace(/\0\0/g,"%"),fe=Tt(c),fe.length>l?0:(Ee.set(fe,o>>>0),fe.length-1)}var St={a:function(o,l,c){throw o>>>=0,new ae(o).xa(l>>>0,c>>>0),re=o,Ie++,re},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(o,l,c){o=l+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*l:NaN,c>>>=0,o=new Date(1e3*o),D[c>>2>>>0]=o.getUTCSeconds(),D[c+4>>2>>>0]=o.getUTCMinutes(),D[c+8>>2>>>0]=o.getUTCHours(),D[c+12>>2>>>0]=o.getUTCDate(),D[c+16>>2>>>0]=o.getUTCMonth(),D[c+20>>2>>>0]=o.getUTCFullYear()-1900,D[c+24>>2>>>0]=o.getUTCDay(),D[c+28>>2>>>0]=(o.getTime()-Date.UTC(o.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(o,l,c){o=l+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*l:NaN,c>>>=0,o=new Date(1e3*o),D[c>>2>>>0]=o.getSeconds(),D[c+4>>2>>>0]=o.getMinutes(),D[c+8>>2>>>0]=o.getHours(),D[c+12>>2>>>0]=o.getDate(),D[c+16>>2>>>0]=o.getMonth(),D[c+20>>2>>>0]=o.getFullYear()-1900,D[c+24>>2>>>0]=o.getDay(),D[c+28>>2>>>0]=(ve(o.getFullYear())?ut:Be)[o.getMonth()]+o.getDate()-1|0,D[c+36>>2>>>0]=-(60*o.getTimezoneOffset()),l=new Date(o.getFullYear(),6,1).getTimezoneOffset();var b=new Date(o.getFullYear(),0,1).getTimezoneOffset();D[c+32>>2>>>0]=(l!=b&&o.getTimezoneOffset()==Math.min(b,l))|0},q:function(o){o>>>=0;var l=new Date(D[o+20>>2>>>0]+1900,D[o+16>>2>>>0],D[o+12>>2>>>0],D[o+8>>2>>>0],D[o+4>>2>>>0],D[o>>2>>>0],0),c=D[o+32>>2>>>0],b=l.getTimezoneOffset(),M=new Date(l.getFullYear(),6,1).getTimezoneOffset(),x=new Date(l.getFullYear(),0,1).getTimezoneOffset(),k=Math.min(x,M);return 0>c?D[o+32>>2>>>0]=+(M!=x&&k==b):0<c!=(k==b)&&(M=Math.max(x,M),l.setTime(l.getTime()+6e4*((0<c?k:M)-b))),D[o+24>>2>>>0]=l.getDay(),D[o+28>>2>>>0]=(ve(l.getFullYear())?ut:Be)[l.getMonth()]+l.getDate()-1|0,D[o>>2>>>0]=l.getSeconds(),D[o+4>>2>>>0]=l.getMinutes(),D[o+8>>2>>>0]=l.getHours(),D[o+12>>2>>>0]=l.getDate(),D[o+16>>2>>>0]=l.getMonth(),D[o+20>>2>>>0]=l.getYear(),o=l.getTime()/1e3,Ke((ce=o,1<=+Math.abs(ce)?0<ce?+Math.floor(ce/4294967296)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)),o>>>0},m:function(){return-52},n:function(){},t:function(o,l,c){function b(me){return(me=me.toTimeString().match(/\(([A-Za-z ]+)\)$/))?me[1]:"GMT"}c>>>=0;var M=new Date().getFullYear(),x=new Date(M,0,1),k=new Date(M,6,1);M=x.getTimezoneOffset();var ne=k.getTimezoneOffset();te[o>>>0>>2>>>0]=60*Math.max(M,ne),D[l>>>0>>2>>>0]=+(M!=ne),o=b(x),l=b(k),o=ft(o),l=ft(l),ne<M?(te[c>>2>>>0]=o,te[c+4>>2>>>0]=l):(te[c>>2>>>0]=l,te[c+4>>2>>>0]=o)},d:()=>{G("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(o,l,c){return l>>>=0,K.copyWithin(o>>>0>>>0,l>>>0,l+(c>>>0)>>>0)},s:function(o){o>>>=0;var l=K.length;if(4294901760<o)return!1;for(var c=1;4>=c;c*=2){var b=l*(1+.2/c);b=Math.min(b,o+100663296);var M=Math;b=Math.max(o,b);e:{M=M.min.call(M,4294901760,b+(65536-b%65536)%65536)-Q.buffer.byteLength+65535>>>16;try{Q.grow(M),ie();var x=1;break e}catch{}x=void 0}if(x)return!0}return!1},C:function(o,l){o>>>=0,l>>>=0;var c=0;return ct().forEach(function(b,M){var x=l+c;for(M=te[o+4*M>>2>>>0]=x,x=0;x<b.length;++x)Ee[M++>>0>>>0]=b.charCodeAt(x);Ee[M>>0>>>0]=0,c+=b.length+1}),0},D:function(o,l){o>>>=0,l>>>=0;var c=ct();te[o>>2>>>0]=c.length;var b=0;return c.forEach(function(M){b+=M.length+1}),te[l>>2>>>0]=b,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(o,l,c,b){l>>>=0,c>>>=0,b>>>=0;for(var M=0,x=0;x<c;x++){var k=te[l>>2>>>0],ne=te[l+4>>2>>>0];l+=8;for(var me=0;me<ne;me++){var ue=K[k+me>>>0],fe=ke[o];ue===0||ue===10?((o===1?A:B)(Le(fe,0)),fe.length=0):fe.push(ue)}M+=ne}return te[b>>2>>>0]=M,0},A:pt,c:function(o,l,c,b){return pt(o>>>0,l>>>0,c>>>0,b>>>0)}};(function(){function o(c){if(c=c.exports,U=c=tt(c),Q=U.J,ie(),Se.unshift(U.K),ye--,t.monitorRunDependencies&&t.monitorRunDependencies(ye),ye==0&&(le!==null&&(clearInterval(le),le=null),se)){var b=se;se=null,b()}return c}var l={a:St};if(ye++,t.monitorRunDependencies&&t.monitorRunDependencies(ye),t.instantiateWasm)try{return t.instantiateWasm(l,o)}catch(c){B("Module.instantiateWasm callback failed with error: "+c),s(c)}return Re(l,function(c){o(c.instance)}).catch(s),{}})(),t._OrtInit=(o,l)=>(t._OrtInit=U.L)(o,l),t._OrtGetLastError=(o,l)=>(t._OrtGetLastError=U.M)(o,l),t._OrtCreateSessionOptions=(o,l,c,b,M,x,k,ne,me,ue)=>(t._OrtCreateSessionOptions=U.N)(o,l,c,b,M,x,k,ne,me,ue),t._OrtAppendExecutionProvider=(o,l)=>(t._OrtAppendExecutionProvider=U.O)(o,l),t._OrtAddFreeDimensionOverride=(o,l,c)=>(t._OrtAddFreeDimensionOverride=U.P)(o,l,c),t._OrtAddSessionConfigEntry=(o,l,c)=>(t._OrtAddSessionConfigEntry=U.Q)(o,l,c),t._OrtReleaseSessionOptions=o=>(t._OrtReleaseSessionOptions=U.R)(o),t._OrtCreateSession=(o,l,c)=>(t._OrtCreateSession=U.S)(o,l,c),t._OrtReleaseSession=o=>(t._OrtReleaseSession=U.T)(o),t._OrtGetInputOutputCount=(o,l,c)=>(t._OrtGetInputOutputCount=U.U)(o,l,c),t._OrtGetInputName=(o,l)=>(t._OrtGetInputName=U.V)(o,l),t._OrtGetOutputName=(o,l)=>(t._OrtGetOutputName=U.W)(o,l),t._OrtFree=o=>(t._OrtFree=U.X)(o),t._OrtCreateTensor=(o,l,c,b,M,x)=>(t._OrtCreateTensor=U.Y)(o,l,c,b,M,x),t._OrtGetTensorData=(o,l,c,b,M)=>(t._OrtGetTensorData=U.Z)(o,l,c,b,M),t._OrtReleaseTensor=o=>(t._OrtReleaseTensor=U._)(o),t._OrtCreateRunOptions=(o,l,c,b)=>(t._OrtCreateRunOptions=U.$)(o,l,c,b),t._OrtAddRunConfigEntry=(o,l,c)=>(t._OrtAddRunConfigEntry=U.aa)(o,l,c),t._OrtReleaseRunOptions=o=>(t._OrtReleaseRunOptions=U.ba)(o),t._OrtCreateBinding=o=>(t._OrtCreateBinding=U.ca)(o),t._OrtBindInput=(o,l,c)=>(t._OrtBindInput=U.da)(o,l,c),t._OrtBindOutput=(o,l,c,b)=>(t._OrtBindOutput=U.ea)(o,l,c,b),t._OrtClearBoundOutputs=o=>(t._OrtClearBoundOutputs=U.fa)(o),t._OrtReleaseBinding=o=>(t._OrtReleaseBinding=U.ga)(o),t._OrtRunWithBinding=(o,l,c,b,M)=>(t._OrtRunWithBinding=U.ha)(o,l,c,b,M),t._OrtRun=(o,l,c,b,M,x,k,ne)=>(t._OrtRun=U.ia)(o,l,c,b,M,x,k,ne),t._OrtEndProfiling=o=>(t._OrtEndProfiling=U.ja)(o);var mt=t._malloc=o=>(mt=t._malloc=U.ka)(o);t._free=o=>(t._free=U.la)(o);var Ke=o=>(Ke=U.na)(o),ht=()=>(ht=U.oa)(),et=o=>(et=U.pa)(o),P=o=>(P=U.qa)(o);function tt(o){o=Object.assign({},o);var l=b=>()=>b()>>>0,c=b=>M=>b(M)>>>0;return o.__errno_location=l(o.__errno_location),o.malloc=c(o.malloc),o.stackSave=l(o.stackSave),o.stackAlloc=c(o.stackAlloc),o}t.stackAlloc=P,t.stackSave=ht,t.stackRestore=et,t.UTF8ToString=Ue,t.stringToUTF8=(o,l,c)=>Ze(o,K,l,c),t.lengthBytesUTF8=Je;var We;se=function o(){We||He(),We||(se=o)};function He(){function o(){if(!We&&(We=!0,t.calledRun=!0,!_e)){if(Ce(Se),f(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;){var l=t.postRun.shift();F.unshift(l)}Ce(F)}}if(!(0<ye)){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)C();Ce(Te),0<ye||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),o()},1)):o())}}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return He(),n.ready}})();typeof En=="object"&&typeof fr=="object"?fr.exports=_n:typeof define=="function"&&define.amd&&define([],()=>_n)});var Sn=nt(()=>{});var An=nt(()=>{});var Mn={};bt(Mn,{cpus:()=>Ca});var Ca,Rn=W(()=>{Ca=void 0});var Dn=nt((In,lr)=>{"use strict";var Cn=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(n={}){function t(){return F.buffer!=G.buffer&&be(),G}function f(){return F.buffer!=G.buffer&&be(),pe}function s(){return F.buffer!=G.buffer&&be(),Ae}function p(){return F.buffer!=G.buffer&&be(),Me}function d(){return F.buffer!=G.buffer&&be(),Fe}var i=n,w,h;i.ready=new Promise((e,a)=>{w=e,h=a});var v=Object.assign({},i),_="./this.program",O=(e,a)=>{throw a},S=typeof window=="object",L=typeof importScripts=="function",I=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",A=i.ENVIRONMENT_IS_PTHREAD||!1,B="";function N(e){return i.locateFile?i.locateFile(e,B):B+e}var ee,Q,U;if(I){var _e=(ir(),at(or)),Ee=(ur(),at(sr));B=L?Ee.dirname(B)+"/":__dirname+"/",ee=(a,u)=>(a=a.startsWith("file://")?new URL(a):Ee.normalize(a),_e.readFileSync(a,u?void 0:"utf8")),U=a=>(a=ee(a,!0),a.buffer||(a=new Uint8Array(a)),a),Q=(a,u,m,T=!0)=>{a=a.startsWith("file://")?new URL(a):Ee.normalize(a),_e.readFile(a,T?void 0:"utf8",(E,R)=>{E?m(E):u(T?R.buffer:R)})},!i.thisProgram&&1<process.argv.length&&(_=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),O=(a,u)=>{throw process.exitCode=a,u},i.inspect=()=>"[Emscripten Module object]";let e;try{e=Sn()}catch(a){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),a}global.Worker=e.Worker}else(S||L)&&(L?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),typeof r<"u"&&r&&(B=r),B.indexOf("blob:")!==0?B=B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):B="",I||(ee=e=>{var a=new XMLHttpRequest;return a.open("GET",e,!1),a.send(null),a.responseText},L&&(U=e=>{var a=new XMLHttpRequest;return a.open("GET",e,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),Q=(e,a,u)=>{var m=new XMLHttpRequest;m.open("GET",e,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?a(m.response):u()},m.onerror=u,m.send(null)}));I&&typeof performance>"u"&&(global.performance=An().performance);var K=console.log.bind(console),D=console.error.bind(console);I&&(K=(...e)=>_e.writeSync(1,e.join(" ")+`
`),D=(...e)=>_e.writeSync(2,e.join(" ")+`
`));var te=i.print||K,ie=i.printErr||D;Object.assign(i,v),v=null,i.thisProgram&&(_=i.thisProgram),i.quit&&(O=i.quit);var Te;i.wasmBinary&&(Te=i.wasmBinary);var Se=i.noExitRuntime||!0;typeof WebAssembly!="object"&&ve("no native wasm support detected");var F,C,ye,le=!1,se,G,pe,Ae,Me,Fe;function be(){var e=F.buffer;i.HEAP8=G=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=Ae=new Int32Array(e),i.HEAPU8=pe=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=Me=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=Fe=new Float64Array(e)}var xe=i.INITIAL_MEMORY||16777216;if(5242880<=xe||ve("INITIAL_MEMORY should be larger than STACK_SIZE, was "+xe+"! (STACK_SIZE=5242880)"),A)F=i.wasmMemory;else if(i.wasmMemory)F=i.wasmMemory;else if(F=new WebAssembly.Memory({initial:xe/65536,maximum:65536,shared:!0}),!(F.buffer instanceof SharedArrayBuffer))throw ie("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),I&&ie("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");be(),xe=F.buffer.byteLength;var Re,ce=[],Ce=[],ae=[],re=0;function Ie(){return Se||0<re}var we=0,Le=null,Ue=null;function Je(){we++,i.monitorRunDependencies&&i.monitorRunDependencies(we)}function Ze(){if(we--,i.monitorRunDependencies&&i.monitorRunDependencies(we),we==0&&(Le!==null&&(clearInterval(Le),Le=null),Ue)){var e=Ue;Ue=null,e()}}function ve(e){throw i.onAbort&&i.onAbort(e),e="Aborted("+e+")",ie(e),le=!0,se=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),h(e),e}function ut(e){return e.startsWith("data:application/octet-stream;base64,")}var Be;Be="ort-wasm-threaded.wasm",ut(Be)||(Be=N(Be));function ft(e){if(e==Be&&Te)return new Uint8Array(Te);if(U)return U(e);throw"both async and sync fetching of the wasm failed"}function lt(e){if(!Te&&(S||L)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw"failed to load wasm binary file at '"+e+"'";return a.arrayBuffer()}).catch(()=>ft(e));if(Q)return new Promise((a,u)=>{Q(e,m=>a(new Uint8Array(m)),u)})}return Promise.resolve().then(()=>ft(e))}function ct(e,a,u){return lt(e).then(m=>WebAssembly.instantiate(m,a)).then(m=>m).then(u,m=>{ie("failed to asynchronously prepare wasm: "+m),ve(m)})}function dt(e,a){var u=Be;return Te||typeof WebAssembly.instantiateStreaming!="function"||ut(u)||u.startsWith("file://")||I||typeof fetch!="function"?ct(u,e,a):fetch(u,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,e).then(a,function(T){return ie("wasm streaming compile failed: "+T),ie("falling back to ArrayBuffer instantiation"),ct(u,e,a)}))}var ke;function Ne(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function Qe(e){e.terminate(),e.onmessage=()=>{}}function Tt(e){(e=P.La[e])||ve(),P.lb(e)}function pt(e){var a=P.gb();if(!a)return 6;P.Pa.push(a),P.La[e.Na]=a,a.Na=e.Na;var u={cmd:"run",start_routine:e.mb,arg:e.fb,pthread_ptr:e.Na};return I&&a.unref(),a.postMessage(u,e.sb),0}var St=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,mt=(e,a,u)=>{a>>>=0;var m=a+u;for(u=a;e[u]&&!(u>=m);)++u;if(16<u-a&&e.buffer&&St)return St.decode(e.buffer instanceof SharedArrayBuffer?e.slice(a,u):e.subarray(a,u));for(m="";a<u;){var T=e[a++];if(T&128){var E=e[a++]&63;if((T&224)==192)m+=String.fromCharCode((T&31)<<6|E);else{var R=e[a++]&63;T=(T&240)==224?(T&15)<<12|E<<6|R:(T&7)<<18|E<<12|R<<6|e[a++]&63,65536>T?m+=String.fromCharCode(T):(T-=65536,m+=String.fromCharCode(55296|T>>10,56320|T&1023))}}else m+=String.fromCharCode(T)}return m},Ke=(e,a)=>(e>>>=0)?mt(f(),e,a):"";function ht(e){if(A)return $(1,1,e);se=e,Ie()||(P.nb(),i.onExit&&i.onExit(e),le=!0),O(e,new Ne(e))}var et=e=>{if(se=e,A)throw We(e),"unwind";ht(e)},P={Oa:[],Pa:[],ab:[],La:{},Va:function(){A?P.ib():P.hb()},hb:function(){for(var e=i.numThreads;e--;)P.Xa();ce.unshift(()=>{Je(),P.jb(()=>Ze())})},ib:function(){P.receiveObjectTransfer=P.kb,P.threadInitTLS=P.$a,P.setExitStatus=P.Za,Se=!1},Za:function(e){se=e},xb:["$terminateWorker"],nb:function(){for(var e of P.Pa)Qe(e);for(e of P.Oa)Qe(e);P.Oa=[],P.Pa=[],P.La=[]},lb:function(e){var a=e.Na;delete P.La[a],P.Oa.push(e),P.Pa.splice(P.Pa.indexOf(e),1),e.Na=0,Jt(a)},kb:function(){},$a:function(){P.ab.forEach(e=>e())},Ya:e=>new Promise(a=>{e.onmessage=E=>{E=E.data;var R=E.cmd;if(E.targetThread&&E.targetThread!=Mt()){var q=P.La[E.wb];q?q.postMessage(E,E.transferList):ie('Internal error! Worker sent a message "'+R+'" to target pthread '+E.targetThread+", but that thread no longer exists!")}else R==="checkMailbox"?At():R==="spawnThread"?pt(E):R==="cleanupThread"?Tt(E.thread):R==="killThread"?(E=E.thread,R=P.La[E],delete P.La[E],Qe(R),Jt(E),P.Pa.splice(P.Pa.indexOf(R),1),R.Na=0):R==="cancelThread"?P.La[E.thread].postMessage({cmd:"cancel"}):R==="loaded"?(e.loaded=!0,I&&!e.Na&&e.unref(),a(e)):R==="alert"?alert("Thread "+E.threadId+": "+E.text):E.target==="setimmediate"?e.postMessage(E):R==="callHandler"?i[E.handler](...E.args):R&&ie("worker sent an unknown command "+R)},e.onerror=E=>{throw ie("worker sent an error! "+E.filename+":"+E.lineno+": "+E.message),E},I&&(e.on("message",function(E){e.onmessage({data:E})}),e.on("error",function(E){e.onerror(E)}));var u=[],m=["onExit","onAbort","print","printErr"],T;for(T of m)i.hasOwnProperty(T)&&u.push(T);e.postMessage({cmd:"load",handlers:u,urlOrBlob:i.mainScriptUrlOrBlob||r,wasmMemory:F,wasmModule:ye})}),jb:function(e){if(A)return e();Promise.all(P.Oa.map(P.Ya)).then(e)},Xa:function(){var e=N("ort-wasm-threaded.worker.js");e=new Worker(e),P.Oa.push(e)},gb:function(){return P.Oa.length==0&&(P.Xa(),P.Ya(P.Oa[0])),P.Oa.pop()}};i.PThread=P;var tt=e=>{for(;0<e.length;)e.shift()(i)};i.establishStackSpace=function(){var e=Mt(),a=s()[e+52>>2>>>0];e=s()[e+56>>2>>>0],zr(a,a-e),Rt(a)};function We(e){if(A)return $(2,0,e);et(e)}var He=[];i.invokeEntryPoint=function(e,a){var u=He[e];u||(e>=He.length&&(He.length=e+1),He[e]=u=Re.get(e)),e=u(a),Ie()?P.Za(e):Zt(e)};function o(e){this.Ua=e-24,this.eb=function(a){p()[this.Ua+4>>2>>>0]=a},this.cb=function(a){p()[this.Ua+8>>2>>>0]=a},this.Va=function(a,u){this.bb(),this.eb(a),this.cb(u)},this.bb=function(){p()[this.Ua+16>>2>>>0]=0}}var l=0,c=0;function b(e,a,u,m){return A?$(3,1,e,a,u,m):M(e,a,u,m)}function M(e,a,u,m){if(e>>>=0,a>>>=0,u>>>=0,m>>>=0,typeof SharedArrayBuffer>"u")return ie("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var T=[];return A&&T.length===0?b(e,a,u,m):(e={mb:u,Na:e,fb:m,sb:T},A?(e.ub="spawnThread",postMessage(e,T),0):pt(e))}function x(e,a,u){return A?$(4,1,e,a,u):0}function k(e,a){if(A)return $(5,1,e,a)}var ne=e=>{for(var a=0,u=0;u<e.length;++u){var m=e.charCodeAt(u);127>=m?a++:2047>=m?a+=2:55296<=m&&57343>=m?(a+=4,++u):a+=3}return a},me=(e,a,u,m)=>{if(u>>>=0,!(0<m))return 0;var T=u;m=u+m-1;for(var E=0;E<e.length;++E){var R=e.charCodeAt(E);if(55296<=R&&57343>=R){var q=e.charCodeAt(++E);R=65536+((R&1023)<<10)|q&1023}if(127>=R){if(u>=m)break;a[u++>>>0]=R}else{if(2047>=R){if(u+1>=m)break;a[u++>>>0]=192|R>>6}else{if(65535>=R){if(u+2>=m)break;a[u++>>>0]=224|R>>12}else{if(u+3>=m)break;a[u++>>>0]=240|R>>18,a[u++>>>0]=128|R>>12&63}a[u++>>>0]=128|R>>6&63}a[u++>>>0]=128|R&63}}return a[u>>>0]=0,u-T},ue=(e,a,u)=>me(e,f(),a,u);function fe(e,a){if(A)return $(6,1,e,a)}function gt(e,a,u){if(A)return $(7,1,e,a,u)}function yt(e,a,u){return A?$(8,1,e,a,u):0}function g(e,a){if(A)return $(9,1,e,a)}function H(e,a,u){if(A)return $(10,1,e,a,u)}function Y(e,a,u,m){if(A)return $(11,1,e,a,u,m)}function De(e,a,u,m){if(A)return $(12,1,e,a,u,m)}function wt(e,a,u,m){if(A)return $(13,1,e,a,u,m)}function vr(e){if(A)return $(14,1,e)}function Or(e,a){if(A)return $(15,1,e,a)}function _r(e,a,u){if(A)return $(16,1,e,a,u)}var da=e=>{if(!le)try{if(e(),!Ie())try{A?Zt(se):et(se)}catch(a){a instanceof Ne||a=="unwind"||O(1,a)}}catch(a){a instanceof Ne||a=="unwind"||O(1,a)}};function $t(e){e>>>=0,typeof Atomics.tb=="function"&&(Atomics.tb(s(),e>>2,e).value.then(At),e+=128,Atomics.store(s(),e>>2,1))}i.__emscripten_thread_mailbox_await=$t;function At(){var e=Mt();e&&($t(e),da(()=>Hr()))}i.checkMailbox=At;var rt=e=>e%4===0&&(e%100!==0||e%400===0),Er=[0,31,60,91,121,152,182,213,244,274,305,335],Tr=[0,31,59,90,120,151,181,212,243,273,304,334];function Sr(e,a,u,m,T,E,R,q){return A?$(17,1,e,a,u,m,T,E,R,q):-52}function Ar(e,a,u,m,T,E,R){if(A)return $(18,1,e,a,u,m,T,E,R)}var Mr=e=>{var a=ne(e)+1,u=kr(a);return u&&ue(e,u,a),u},pa=e=>{var a=Qt();return e=e(),Rt(a),e};function $(e,a){var u=arguments.length-2,m=arguments;return pa(()=>{for(var T=Kt(8*u),E=T>>3,R=0;R<u;R++){var q=m[2+R];d()[E+R>>>0]=q}return Wr(e,u,T,a)})}var qt=[],Vt={},Rr=()=>{if(!Xt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:_||"./this.program"},a;for(a in Vt)Vt[a]===void 0?delete e[a]:e[a]=Vt[a];var u=[];for(a in e)u.push(`${a}=${e[a]}`);Xt=u}return Xt},Xt;function Cr(e,a){if(A)return $(19,1,e,a);e>>>=0,a>>>=0;var u=0;return Rr().forEach(function(m,T){var E=a+u;for(T=p()[e+4*T>>2>>>0]=E,E=0;E<m.length;++E)t()[T++>>0>>>0]=m.charCodeAt(E);t()[T>>0>>>0]=0,u+=m.length+1}),0}function Ir(e,a){if(A)return $(20,1,e,a);e>>>=0,a>>>=0;var u=Rr();p()[e>>2>>>0]=u.length;var m=0;return u.forEach(function(T){m+=T.length+1}),p()[a>>2>>>0]=m,0}function Dr(e){return A?$(21,1,e):52}function Pr(e,a,u,m){return A?$(22,1,e,a,u,m):52}function xr(e,a,u,m,T){return A?$(23,1,e,a,u,m,T):70}var ma=[null,[],[]];function Ur(e,a,u,m){if(A)return $(24,1,e,a,u,m);a>>>=0,u>>>=0,m>>>=0;for(var T=0,E=0;E<u;E++){var R=p()[a>>2>>>0],q=p()[a+4>>2>>>0];a+=8;for(var Pe=0;Pe<q;Pe++){var oe=f()[R+Pe>>>0],ge=ma[e];oe===0||oe===10?((e===1?te:ie)(mt(ge,0)),ge.length=0):ge.push(oe)}T+=q}return p()[m>>2>>>0]=T,0}var Br=[31,29,31,30,31,30,31,31,30,31,30,31],Fr=[31,28,31,30,31,30,31,31,30,31,30,31];function ha(e){var a=Array(ne(e)+1);return me(e,a,0,a.length),a}var ga=(e,a)=>{t().set(e,a>>>0)};function Lr(e,a,u,m){function T(y,j,V){for(y=typeof y=="number"?y.toString():y||"";y.length<j;)y=V[0]+y;return y}function E(y,j){return T(y,j,"0")}function R(y,j){function V(qr){return 0>qr?-1:0<qr?1:0}var je;return(je=V(y.getFullYear()-j.getFullYear()))===0&&(je=V(y.getMonth()-j.getMonth()))===0&&(je=V(y.getDate()-j.getDate())),je}function q(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function Pe(y){var j=y.Qa;for(y=new Date(new Date(y.Ra+1900,0,1).getTime());0<j;){var V=y.getMonth(),je=(rt(y.getFullYear())?Br:Fr)[V];if(j>je-y.getDate())j-=je-y.getDate()+1,y.setDate(1),11>V?y.setMonth(V+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+j);break}}return V=new Date(y.getFullYear()+1,0,4),j=q(new Date(y.getFullYear(),0,4)),V=q(V),0>=R(j,y)?0>=R(V,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}e>>>=0,a>>>=0,u>>>=0,m>>>=0;var oe=s()[m+40>>2>>>0];m={qb:s()[m>>2>>>0],pb:s()[m+4>>2>>>0],Sa:s()[m+8>>2>>>0],Wa:s()[m+12>>2>>>0],Ta:s()[m+16>>2>>>0],Ra:s()[m+20>>2>>>0],Ma:s()[m+24>>2>>>0],Qa:s()[m+28>>2>>>0],yb:s()[m+32>>2>>>0],ob:s()[m+36>>2>>>0],rb:oe?Ke(oe):""},u=Ke(u),oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ge in oe)u=u.replace(new RegExp(ge,"g"),oe[ge]);var Gr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),$r="January February March April May June July August September October November December".split(" ");oe={"%a":y=>Gr[y.Ma].substring(0,3),"%A":y=>Gr[y.Ma],"%b":y=>$r[y.Ta].substring(0,3),"%B":y=>$r[y.Ta],"%C":y=>E((y.Ra+1900)/100|0,2),"%d":y=>E(y.Wa,2),"%e":y=>T(y.Wa,2," "),"%g":y=>Pe(y).toString().substring(2),"%G":y=>Pe(y),"%H":y=>E(y.Sa,2),"%I":y=>(y=y.Sa,y==0?y=12:12<y&&(y-=12),E(y,2)),"%j":y=>{for(var j=0,V=0;V<=y.Ta-1;j+=(rt(y.Ra+1900)?Br:Fr)[V++]);return E(y.Wa+j,3)},"%m":y=>E(y.Ta+1,2),"%M":y=>E(y.pb,2),"%n":()=>`
`,"%p":y=>0<=y.Sa&&12>y.Sa?"AM":"PM","%S":y=>E(y.qb,2),"%t":()=>"	","%u":y=>y.Ma||7,"%U":y=>E(Math.floor((y.Qa+7-y.Ma)/7),2),"%V":y=>{var j=Math.floor((y.Qa+7-(y.Ma+6)%7)/7);if(2>=(y.Ma+371-y.Qa-2)%7&&j++,j)j==53&&(V=(y.Ma+371-y.Qa)%7,V==4||V==3&&rt(y.Ra)||(j=1));else{j=52;var V=(y.Ma+7-y.Qa-1)%7;(V==4||V==5&&rt(y.Ra%400-1))&&j++}return E(j,2)},"%w":y=>y.Ma,"%W":y=>E(Math.floor((y.Qa+7-(y.Ma+6)%7)/7),2),"%y":y=>(y.Ra+1900).toString().substring(2),"%Y":y=>y.Ra+1900,"%z":y=>{y=y.ob;var j=0<=y;return y=Math.abs(y)/60,(j?"+":"-")+("0000"+(y/60*100+y%60)).slice(-4)},"%Z":y=>y.rb,"%%":()=>"%"},u=u.replace(/%%/g,"\0\0");for(ge in oe)u.includes(ge)&&(u=u.replace(new RegExp(ge,"g"),oe[ge](m)));return u=u.replace(/\0\0/g,"%"),ge=ha(u),ge.length>a?0:(ga(ge,e),ge.length-1)}P.Va();var ya=[null,ht,We,b,x,k,fe,gt,yt,g,H,Y,De,wt,vr,Or,_r,Sr,Ar,Cr,Ir,Dr,Pr,xr,Ur],wa={b:function(e,a,u){throw e>>>=0,new o(e).Va(a>>>0,u>>>0),l=e,c++,l},N:function(e){Nr(e>>>0,!L,1,!S,131072,!1),P.$a()},j:function(e){e>>>=0,A?postMessage({cmd:"cleanupThread",thread:e}):Tt(e)},I:M,h:x,T:k,D:fe,F:gt,U:yt,R:g,J:H,Q:Y,n:De,E:wt,B:vr,S:Or,C:_r,q:()=>!0,z:function(e,a){e>>>=0,e==a>>>0?setTimeout(()=>At()):A?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=P.La[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:$t,p:function(e){I&&P.La[e>>>0].ref()},t:function(e,a,u){e=a+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*a:NaN,u>>>=0,e=new Date(1e3*e),s()[u>>2>>>0]=e.getUTCSeconds(),s()[u+4>>2>>>0]=e.getUTCMinutes(),s()[u+8>>2>>>0]=e.getUTCHours(),s()[u+12>>2>>>0]=e.getUTCDate(),s()[u+16>>2>>>0]=e.getUTCMonth(),s()[u+20>>2>>>0]=e.getUTCFullYear()-1900,s()[u+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,s()[u+28>>2>>>0]=e},u:function(e,a,u){e=a+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*a:NaN,u>>>=0,e=new Date(1e3*e),s()[u>>2>>>0]=e.getSeconds(),s()[u+4>>2>>>0]=e.getMinutes(),s()[u+8>>2>>>0]=e.getHours(),s()[u+12>>2>>>0]=e.getDate(),s()[u+16>>2>>>0]=e.getMonth(),s()[u+20>>2>>>0]=e.getFullYear()-1900,s()[u+24>>2>>>0]=e.getDay(),a=(rt(e.getFullYear())?Er:Tr)[e.getMonth()]+e.getDate()-1|0,s()[u+28>>2>>>0]=a,s()[u+36>>2>>>0]=-(60*e.getTimezoneOffset()),a=new Date(e.getFullYear(),6,1).getTimezoneOffset();var m=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(a!=m&&e.getTimezoneOffset()==Math.min(m,a))|0,s()[u+32>>2>>>0]=e},v:function(e){e>>>=0;var a=new Date(s()[e+20>>2>>>0]+1900,s()[e+16>>2>>>0],s()[e+12>>2>>>0],s()[e+8>>2>>>0],s()[e+4>>2>>>0],s()[e>>2>>>0],0),u=s()[e+32>>2>>>0],m=a.getTimezoneOffset(),T=new Date(a.getFullYear(),6,1).getTimezoneOffset(),E=new Date(a.getFullYear(),0,1).getTimezoneOffset(),R=Math.min(E,T);return 0>u?s()[e+32>>2>>>0]=+(T!=E&&R==m):0<u!=(R==m)&&(T=Math.max(E,T),a.setTime(a.getTime()+6e4*((0<u?R:T)-m))),s()[e+24>>2>>>0]=a.getDay(),u=(rt(a.getFullYear())?Er:Tr)[a.getMonth()]+a.getDate()-1|0,s()[e+28>>2>>>0]=u,s()[e>>2>>>0]=a.getSeconds(),s()[e+4>>2>>>0]=a.getMinutes(),s()[e+8>>2>>>0]=a.getHours(),s()[e+12>>2>>>0]=a.getDate(),s()[e+16>>2>>>0]=a.getMonth(),s()[e+20>>2>>>0]=a.getYear(),e=a.getTime()/1e3,jr((ke=e,1<=+Math.abs(ke)?0<ke?+Math.floor(ke/4294967296)>>>0:~~+Math.ceil((ke-+(~~ke>>>0))/4294967296)>>>0:0)),e>>>0},r:Sr,s:Ar,y:function(e,a,u){function m(oe){return(oe=oe.toTimeString().match(/\(([A-Za-z ]+)\)$/))?oe[1]:"GMT"}e>>>=0,a>>>=0,u>>>=0;var T=new Date().getFullYear(),E=new Date(T,0,1),R=new Date(T,6,1);T=E.getTimezoneOffset();var q=R.getTimezoneOffset(),Pe=Math.max(T,q);p()[e>>2>>>0]=60*Pe,s()[a>>2>>>0]=+(T!=q),e=m(E),a=m(R),e=Mr(e),a=Mr(a),q<T?(p()[u>>2>>>0]=e,p()[u+4>>2>>>0]=a):(p()[u>>2>>>0]=a,p()[u+4>>2>>>0]=e)},c:()=>{ve("")},k:function(){},i:function(){return Date.now()},o:()=>{throw re+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return I?(Rn(),at(Mn)).cpus().length:navigator.hardwareConcurrency},K:function(e,a,u,m){for(P.vb=a>>>0,qt.length=u,a=m>>>0>>3,m=0;m<u;m++)qt[m]=d()[a+m>>>0];return ya[e].apply(null,qt)},x:function(e){e>>>=0;var a=f().length;if(e<=a||4294901760<e)return!1;for(var u=1;4>=u;u*=2){var m=a*(1+.2/u);m=Math.min(m,e+100663296);var T=Math;m=Math.max(e,m);e:{T=T.min.call(T,4294901760,m+(65536-m%65536)%65536)-F.buffer.byteLength+65535>>>16;try{F.grow(T),be();var E=1;break e}catch{}E=void 0}if(E)return!0}return!1},O:Cr,P:Ir,H:et,g:Dr,m:Pr,w:xr,l:Ur,a:F||i.wasmMemory,G:Lr,d:function(e,a,u,m){return Lr(e>>>0,a>>>0,u>>>0,m>>>0)}};(function(){function e(u,m){return u=u.exports,C=u=ba(u),P.ab.push(C.ya),Re=C.za,Ce.unshift(C.V),ye=m,Ze(),u}var a={a:wa};if(Je(),i.instantiateWasm)try{return i.instantiateWasm(a,e)}catch(u){ie("Module.instantiateWasm callback failed with error: "+u),h(u)}return dt(a,function(u){e(u.instance,u.module)}).catch(h),{}})(),i._OrtInit=(e,a)=>(i._OrtInit=C.W)(e,a),i._OrtGetLastError=(e,a)=>(i._OrtGetLastError=C.X)(e,a),i._OrtCreateSessionOptions=(e,a,u,m,T,E,R,q,Pe,oe)=>(i._OrtCreateSessionOptions=C.Y)(e,a,u,m,T,E,R,q,Pe,oe),i._OrtAppendExecutionProvider=(e,a)=>(i._OrtAppendExecutionProvider=C.Z)(e,a),i._OrtAddFreeDimensionOverride=(e,a,u)=>(i._OrtAddFreeDimensionOverride=C._)(e,a,u),i._OrtAddSessionConfigEntry=(e,a,u)=>(i._OrtAddSessionConfigEntry=C.$)(e,a,u),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=C.aa)(e),i._OrtCreateSession=(e,a,u)=>(i._OrtCreateSession=C.ba)(e,a,u),i._OrtReleaseSession=e=>(i._OrtReleaseSession=C.ca)(e),i._OrtGetInputOutputCount=(e,a,u)=>(i._OrtGetInputOutputCount=C.da)(e,a,u),i._OrtGetInputName=(e,a)=>(i._OrtGetInputName=C.ea)(e,a),i._OrtGetOutputName=(e,a)=>(i._OrtGetOutputName=C.fa)(e,a),i._OrtFree=e=>(i._OrtFree=C.ga)(e),i._OrtCreateTensor=(e,a,u,m,T,E)=>(i._OrtCreateTensor=C.ha)(e,a,u,m,T,E),i._OrtGetTensorData=(e,a,u,m,T)=>(i._OrtGetTensorData=C.ia)(e,a,u,m,T),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=C.ja)(e),i._OrtCreateRunOptions=(e,a,u,m)=>(i._OrtCreateRunOptions=C.ka)(e,a,u,m),i._OrtAddRunConfigEntry=(e,a,u)=>(i._OrtAddRunConfigEntry=C.la)(e,a,u),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=C.ma)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=C.na)(e),i._OrtBindInput=(e,a,u)=>(i._OrtBindInput=C.oa)(e,a,u),i._OrtBindOutput=(e,a,u,m)=>(i._OrtBindOutput=C.pa)(e,a,u,m),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=C.qa)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=C.ra)(e),i._OrtRunWithBinding=(e,a,u,m,T)=>(i._OrtRunWithBinding=C.sa)(e,a,u,m,T),i._OrtRun=(e,a,u,m,T,E,R,q)=>(i._OrtRun=C.ta)(e,a,u,m,T,E,R,q),i._OrtEndProfiling=e=>(i._OrtEndProfiling=C.ua)(e);var Mt=i._pthread_self=()=>(Mt=i._pthread_self=C.va)(),kr=i._malloc=e=>(kr=i._malloc=C.wa)(e);i._free=e=>(i._free=C.xa)(e),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=C.ya)();var Nr=i.__emscripten_thread_init=(e,a,u,m,T,E)=>(Nr=i.__emscripten_thread_init=C.Aa)(e,a,u,m,T,E);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=C.Ba)();var Wr=(e,a,u,m)=>(Wr=C.Ca)(e,a,u,m),Jt=e=>(Jt=C.Da)(e),Zt=i.__emscripten_thread_exit=e=>(Zt=i.__emscripten_thread_exit=C.Ea)(e),Hr=i.__emscripten_check_mailbox=()=>(Hr=i.__emscripten_check_mailbox=C.Fa)(),jr=e=>(jr=C.Ga)(e),zr=(e,a)=>(zr=C.Ha)(e,a),Qt=()=>(Qt=C.Ia)(),Rt=e=>(Rt=C.Ja)(e),Kt=e=>(Kt=C.Ka)(e);function ba(e){e=Object.assign({},e);var a=m=>()=>m()>>>0,u=m=>T=>m(T)>>>0;return e.__errno_location=a(e.__errno_location),e.pthread_self=a(e.pthread_self),e.malloc=u(e.malloc),e.stackSave=a(e.stackSave),e.stackAlloc=u(e.stackAlloc),e}i.keepRuntimeAlive=Ie,i.wasmMemory=F,i.stackAlloc=Kt,i.stackSave=Qt,i.stackRestore=Rt,i.UTF8ToString=Ke,i.stringToUTF8=ue,i.lengthBytesUTF8=ne,i.ExitStatus=Ne,i.PThread=P;var Ct;Ue=function e(){Ct||Yr(),Ct||(Ue=e)};function Yr(){function e(){if(!Ct&&(Ct=!0,i.calledRun=!0,!le)&&(A||tt(Ce),w(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),!A)){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;){var a=i.postRun.shift();ae.unshift(a)}tt(ae)}}if(!(0<we))if(A)w(i),A||tt(Ce),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)ce.unshift(i.preRun.shift());tt(ce),0<we||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e())}}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return Yr(),n.ready}})();typeof In=="object"&&typeof lr=="object"?lr.exports=Cn:typeof define=="function"&&define.amd&&define([],()=>Cn)});var Pn=nt((Ho,Ia)=>{Ia.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var Un,Da,cr,dr,kt,xn,Pa,xa,Ua,Bn,J,ot=W(()=>{"use strict";Un=Tn();Da=Dn(),dr=!1,kt=!1,xn=!1,Pa=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},xa=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Ua=(r,n)=>r?n?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":n?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Bn=async r=>{if(dr)return Promise.resolve();if(kt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(xn)throw new Error("previous call to 'initializeWebAssembly()' failed.");kt=!0;let n=r.initTimeout,t=r.numThreads,f=r.simd,s=t>1&&Pa(),p=f&&xa(),d=r.wasmPaths,i=typeof d=="string"?d:void 0,w=Ua(p,s),h=typeof d=="object"?d[w]:void 0,v=!1,_=[];if(n>0&&_.push(new Promise(O=>{setTimeout(()=>{v=!0,O()},n)})),_.push(new Promise((O,S)=>{let L=s?Da:Un,I={locateFile:(A,B)=>s&&A.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Pn()],{type:"text/javascript"})):A.endsWith(".wasm")?h||(i??B)+w:B+A};if(s)if(I.numThreads=t,typeof Blob>"u")I.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let A=`var ortWasmThreaded=${L.toString()};`;I.mainScriptUrlOrBlob=new Blob([A],{type:"text/javascript"})}L(I).then(A=>{kt=!1,dr=!0,cr=A,O()},A=>{kt=!1,xn=!0,S(A)})})),await Promise.race(_),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${n}ms`)},J=()=>{if(dr&&cr)return cr;throw new Error("WebAssembly is not initialized yet.")}});var Z,Ot,X,Nt=W(()=>{"use strict";ot();Z=(r,n)=>{let t=J(),f=t.lengthBytesUTF8(r)+1,s=t._malloc(f);return t.stringToUTF8(r,s,f),n.push(s),s},Ot=(r,n,t,f)=>{if(typeof r=="object"&&r!==null){if(t.has(r))throw new Error("Circular reference in options");t.add(r)}Object.entries(r).forEach(([s,p])=>{let d=n?n+s:s;if(typeof p=="object")Ot(p,d+".",t,f);else if(typeof p=="string"||typeof p=="number")f(d,p.toString());else if(typeof p=="boolean")f(d,p?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof p}`)})},X=r=>{let n=J(),t=n.stackSave();try{let f=n.stackAlloc(8);n._OrtGetLastError(f,f+4);let s=n.HEAP32[f/4],p=n.HEAPU32[f/4+1],d=p?n.UTF8ToString(p):"";throw new Error(`${r} ERROR_CODE: ${s}, ERROR_MESSAGE: ${d}`)}finally{n.stackRestore(t)}}});var Fn,Ln=W(()=>{"use strict";ot();Nt();Fn=r=>{let n=J(),t=0,f=[],s=r||{};try{if(r?.logSeverityLevel===void 0)s.logSeverityLevel=2;else if(typeof r.logSeverityLevel!="number"||!Number.isInteger(r.logSeverityLevel)||r.logSeverityLevel<0||r.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${r.logSeverityLevel}`);if(r?.logVerbosityLevel===void 0)s.logVerbosityLevel=0;else if(typeof r.logVerbosityLevel!="number"||!Number.isInteger(r.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${r.logVerbosityLevel}`);r?.terminate===void 0&&(s.terminate=!1);let p=0;return r?.tag!==void 0&&(p=Z(r.tag,f)),t=n._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,p),t===0&&X("Can't create run options."),r?.extra!==void 0&&Ot(r.extra,"",new WeakSet,(d,i)=>{let w=Z(d,f),h=Z(i,f);n._OrtAddRunConfigEntry(t,w,h)!==0&&X(`Can't set a run config entry: ${d} - ${i}.`)}),[t,f]}catch(p){throw t!==0&&n._OrtReleaseRunOptions(t),f.forEach(d=>n._free(d)),p}}});var Ba,Fa,La,ka,kn,Nn=W(()=>{"use strict";ot();Nt();Ba=r=>{switch(r){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${r}`)}},Fa=r=>{switch(r){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${r}`)}},La=r=>{r.extra||(r.extra={}),r.extra.session||(r.extra.session={});let n=r.extra.session;n.use_ort_model_bytes_directly||(n.use_ort_model_bytes_directly="1"),r.executionProviders&&r.executionProviders.some(t=>(typeof t=="string"?t:t.name)==="webgpu")&&(r.enableMemPattern=!1)},ka=(r,n,t)=>{for(let f of n){let s=typeof f=="string"?f:f.name;switch(s){case"xnnpack":s="XNNPACK";break;case"webnn":if(s="WEBNN",typeof f!="string"){let d=f;if(d?.deviceType){let i=Z("deviceType",t),w=Z(d.deviceType,t);J()._OrtAddSessionConfigEntry(r,i,w)!==0&&X(`Can't set a session config entry: 'deviceType' - ${d.deviceType}.`)}if(d?.numThreads){let i=d.numThreads;(typeof i!="number"||!Number.isInteger(i)||i<0)&&(i=0);let w=Z("numThreads",t),h=Z(i.toString(),t);J()._OrtAddSessionConfigEntry(r,w,h)!==0&&X(`Can't set a session config entry: 'numThreads' - ${d.numThreads}.`)}if(d?.powerPreference){let i=Z("powerPreference",t),w=Z(d.powerPreference,t);J()._OrtAddSessionConfigEntry(r,i,w)!==0&&X(`Can't set a session config entry: 'powerPreference' - ${d.powerPreference}.`)}}break;case"webgpu":if(s="JS",typeof f!="string"){let d=f;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${d.preferredLayout}`);let i=Z("preferredLayout",t),w=Z(d.preferredLayout,t);J()._OrtAddSessionConfigEntry(r,i,w)!==0&&X(`Can't set a session config entry: 'preferredLayout' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${s}`)}let p=Z(s,t);J()._OrtAppendExecutionProvider(r,p)!==0&&X(`Can't append execution provider: ${s}.`)}},kn=r=>{let n=J(),t=0,f=[],s=r||{};La(s);try{let p=Ba(s.graphOptimizationLevel??"all"),d=Fa(s.executionMode??"sequential"),i=typeof s.logId=="string"?Z(s.logId,f):0,w=s.logSeverityLevel??2;if(!Number.isInteger(w)||w<0||w>4)throw new Error(`log serverity level is not valid: ${w}`);let h=s.logVerbosityLevel??0;if(!Number.isInteger(h)||h<0||h>4)throw new Error(`log verbosity level is not valid: ${h}`);let v=typeof s.optimizedModelFilePath=="string"?Z(s.optimizedModelFilePath,f):0;if(t=n._OrtCreateSessionOptions(p,!!s.enableCpuMemArena,!!s.enableMemPattern,d,!!s.enableProfiling,0,i,w,h,v),t===0&&X("Can't create session options."),s.executionProviders&&ka(t,s.executionProviders,f),s.freeDimensionOverrides)for(let[_,O]of Object.entries(s.freeDimensionOverrides)){if(typeof _!="string")throw new Error(`free dimension override name must be a string: ${_}`);if(typeof O!="number"||!Number.isInteger(O)||O<0)throw new Error(`free dimension override value must be a non-negative integer: ${O}`);let S=Z(_,f);n._OrtAddFreeDimensionOverride(t,S,O)!==0&&X(`Can't set a free dimension override: ${_} - ${O}.`)}return s.extra!==void 0&&Ot(s.extra,"",new WeakSet,(_,O)=>{let S=Z(_,f),L=Z(O,f);n._OrtAddSessionConfigEntry(t,S,L)!==0&&X(`Can't set a session config entry: ${_} - ${O}.`)}),[t,f]}catch(p){throw t!==0&&n._OrtReleaseSessionOptions(t),f.forEach(d=>n._free(d)),p}}});var pr,Wn,mr,Hn,jn,Wt,zn,hr=W(()=>{"use strict";pr=r=>{switch(r){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${r}`)}},Wn=r=>{switch(r){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${r}`)}},mr=r=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][r],Hn=r=>{switch(r){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${r}`)}},jn=r=>{switch(r){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${r}`)}},Wt=r=>r==="float32"||r==="int32"||r==="int64"||r==="bool"||r==="float16"||r==="uint32",zn=r=>{switch(r){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${r}`)}}});var Na,Gn,$n,_t,Wa,gr,qn,Vn,Yn,Xn,Jn,Zn,Qn=W(()=>{"use strict";Ln();Nn();hr();ot();Nt();Na=(r,n)=>{J()._OrtInit(r,n)!==0&&X("Can't initialize onnxruntime.")},Gn=async r=>{Na(r.wasm.numThreads,jn(r.logLevel))},$n=async(r,n)=>{},_t=new Map,Wa=r=>{let n=J(),t=n.stackSave();try{let f=n.stackAlloc(8);return n._OrtGetInputOutputCount(r,f,f+4)!==0&&X("Can't get session input/output count."),[n.HEAP32[f/4],n.HEAP32[f/4+1]]}finally{n.stackRestore(t)}},gr=r=>{let n=J(),t=n._malloc(r.byteLength);if(t===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${r.byteLength}.`);return n.HEAPU8.set(r,t),[t,r.byteLength]},qn=(r,n)=>{let t,f,s=J();Array.isArray(r)?[t,f]=r:r.buffer===s.HEAPU8.buffer?[t,f]=[r.byteOffset,r.byteLength]:[t,f]=gr(r);let p=0,d=0,i=0,w=[],h=[],v=[];try{[d,w]=kn(n),p=s._OrtCreateSession(t,f,d),p===0&&X("Can't create a session.");let[_,O]=Wa(p),S=[],L=[],I=[];for(let B=0;B<_;B++){let N=s._OrtGetInputName(p,B);N===0&&X("Can't get an input name."),h.push(N),S.push(s.UTF8ToString(N))}for(let B=0;B<O;B++){let N=s._OrtGetOutputName(p,B);N===0&&X("Can't get an output name."),v.push(N);let ee=s.UTF8ToString(N);L.push(ee)}let A=null;return _t.set(p,[p,h,v,A]),[p,S,L]}catch(_){throw h.forEach(O=>s._OrtFree(O)),v.forEach(O=>s._OrtFree(O)),i!==0&&s._OrtReleaseBinding(i),p!==0&&s._OrtReleaseSession(p),_}finally{s._free(t),d!==0&&s._OrtReleaseSessionOptions(d),w.forEach(_=>s._free(_))}},Vn=r=>{let n=J(),t=_t.get(r);if(!t)throw new Error(`cannot release session. invalid session id: ${r}`);let[f,s,p,d]=t;d&&n._OrtReleaseBinding(d.handle),n.jsepUnregisterBuffers?.(r),s.forEach(i=>n._OrtFree(i)),p.forEach(i=>n._OrtFree(i)),n._OrtReleaseSession(f),_t.delete(r)},Yn=(r,n,t,f,s)=>{if(!r){n.push(0);return}let p=J(),d=r[0],i=r[1],w=r[3],h,v;if(d==="string"&&w==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(w==="gpu-buffer"){let S=r[2].gpuBuffer,L=mr(pr(d));v=i.reduce((I,A)=>I*A,1)*L,h=p.jsepRegisterBuffer(f,s,S,v)}else{let S=r[2];if(Array.isArray(S)){v=4*S.length,h=p._malloc(v),t.push(h);let L=h/4;for(let I=0;I<S.length;I++){if(typeof S[I]!="string")throw new TypeError(`tensor data at index ${I} is not a string`);p.HEAPU32[L++]=Z(S[I],t)}}else v=S.byteLength,h=p._malloc(v),t.push(h),p.HEAPU8.set(new Uint8Array(S.buffer,S.byteOffset,v),h)}let _=p.stackSave(),O=p.stackAlloc(4*i.length);try{let S=O/4;i.forEach(I=>p.HEAP32[S++]=I);let L=p._OrtCreateTensor(pr(d),h,v,O,i.length,zn(w));L===0&&X(`Can't create tensor for input/output. session=${f}, index=${s}.`),n.push(L)}finally{p.stackRestore(_)}},Xn=async(r,n,t,f,s,p)=>{let d=J(),i=_t.get(r);if(!i)throw new Error(`cannot run inference. invalid session id: ${r}`);let[w,h,v,_]=i,O=n.length,S=f.length,L=0,I=[],A=[],B=[],N=[],ee=d.stackSave(),Q=d.stackAlloc(O*4),U=d.stackAlloc(O*4),_e=d.stackAlloc(S*4),Ee=d.stackAlloc(S*4);try{[L,I]=Fn(p);for(let F=0;F<O;F++)Yn(t[F],A,N,r,n[F]);for(let F=0;F<S;F++)Yn(s[F],B,N,r,O+f[F]);let K=Q/4,D=U/4,te=_e/4,ie=Ee/4;for(let F=0;F<O;F++)d.HEAPU32[K++]=A[F],d.HEAPU32[D++]=h[n[F]];for(let F=0;F<S;F++)d.HEAPU32[te++]=B[F],d.HEAPU32[ie++]=v[f[F]];let Te;Te=await d._OrtRun(w,U,Q,O,Ee,S,_e,L),Te!==0&&X("failed to call OrtRun().");let Se=[];for(let F=0;F<S;F++){let C=d.HEAPU32[_e/4+F];if(C===B[F]){Se.push(s[F]);continue}let ye=d.stackSave(),le=d.stackAlloc(4*4),se=!1,G,pe=0;try{d._OrtGetTensorData(C,le,le+4,le+8,le+12)!==0&&X(`Can't access output tensor data on index ${F}.`);let Me=le/4,Fe=d.HEAPU32[Me++];pe=d.HEAPU32[Me++];let be=d.HEAPU32[Me++],xe=d.HEAPU32[Me++],Re=[];for(let ae=0;ae<xe;ae++)Re.push(d.HEAPU32[be/4+ae]);d._OrtFree(be);let ce=Re.reduce((ae,re)=>ae*re,1);G=Wn(Fe);let Ce=_?.outputPreferredLocations[f[F]];if(G==="string"){if(Ce==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let ae=[],re=pe/4;for(let Ie=0;Ie<ce;Ie++){let we=d.HEAPU32[re++],Le=Ie===ce-1?void 0:d.HEAPU32[re]-we;ae.push(d.UTF8ToString(we,Le))}Se.push([G,Re,ae,"cpu"])}else if(Ce==="gpu-buffer"&&ce>0){let ae=d.jsepGetBuffer(pe),re=mr(Fe);if(re===void 0||!Wt(G))throw new Error(`Unsupported data type: ${G}`);se=!0,Se.push([G,Re,{gpuBuffer:ae,download:d.jsepCreateDownloader(ae,ce*re,G),dispose:()=>{d._OrtReleaseTensor(C)}},"gpu-buffer"])}else{let ae=Hn(G),re=new ae(ce);new Uint8Array(re.buffer,re.byteOffset,re.byteLength).set(d.HEAPU8.subarray(pe,pe+re.byteLength)),Se.push([G,Re,re,"cpu"])}}finally{d.stackRestore(ye),G==="string"&&pe&&d._free(pe),se||d._OrtReleaseTensor(C)}}return _&&d._OrtClearBoundOutputs(_.handle),Se}finally{d.stackRestore(ee),A.forEach(K=>d._OrtReleaseTensor(K)),B.forEach(K=>d._OrtReleaseTensor(K)),N.forEach(K=>d._free(K)),L!==0&&d._OrtReleaseRunOptions(L),I.forEach(K=>d._free(K))}},Jn=r=>{let n=J(),t=_t.get(r);if(!t)throw new Error("invalid session id");let f=t[0],s=n._OrtEndProfiling(f);s===0&&X("Can't get an profile file name."),n._OrtFree(s)},Zn=r=>{let n=[];for(let t of r){let f=t[2];!Array.isArray(f)&&"buffer"in f&&n.push(f.buffer)}return n}});var Kn=nt((ai,ja)=>{ja.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var vt=Object.defineProperty;var $r=Object.getOwnPropertyDescriptor;var qr=Object.getOwnPropertyNames;var Vr=Object.prototype.hasOwnProperty;var _t=(u,m)=>()=>(u&&(m=u(u=0)),m);var rt=(u,m)=>()=>(m||u((m={exports:{}}).exports,m),m.exports),Et=(u,m)=>{for(var o in m)vt(u,o,{get:m[o],enumerable:!0})},Jr=(u,m,o,y)=>{if(m&&typeof m=="object"||typeof m=="function")for(let l of qr(m))!Vr.call(u,l)&&l!==o&&vt(u,l,{get:()=>m[l],enumerable:!(y=$r(m,l))||y.enumerable});return u};var nt=u=>Jr(vt({},"__esModule",{value:!0}),u);var St={};Et(St,{readFile:()=>Xr});var Xr,Tt=_t(()=>{Xr=void 0});var At={};Et(At,{join:()=>Zr});var Zr,Mt=_t(()=>{Zr=void 0});var cr=rt((lr,Ct)=>{"use strict";var fr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(m={}){var o=m,y,l;o.ready=new Promise((r,i)=>{y=r,l=i});var O=Object.assign({},o),g="./this.program",a=typeof window=="object",R=typeof importScripts=="function",x=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",U="",B,D,I;if(x){var k=(Tt(),nt(St)),L=(Mt(),nt(At));U=R?L.dirname(U)+"/":__dirname+"/",B=(r,i)=>(r=r.startsWith("file://")?new URL(r):L.normalize(r),k.readFileSync(r,i?void 0:"utf8")),I=r=>(r=B(r,!0),r.buffer||(r=new Uint8Array(r)),r),D=(r,i,s,p=!0)=>{r=r.startsWith("file://")?new URL(r):L.normalize(r),k.readFile(r,p?void 0:"utf8",(w,A)=>{w?s(w):i(p?A.buffer:A)})},!o.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),o.inspect=()=>"[Emscripten Module object]"}else(a||R)&&(R?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),u&&(U=u),U.indexOf("blob:")!==0?U=U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1):U="",B=r=>{var i=new XMLHttpRequest;return i.open("GET",r,!1),i.send(null),i.responseText},R&&(I=r=>{var i=new XMLHttpRequest;return i.open("GET",r,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),D=(r,i,s)=>{var p=new XMLHttpRequest;p.open("GET",r,!0),p.responseType="arraybuffer",p.onload=()=>{p.status==200||p.status==0&&p.response?i(p.response):s()},p.onerror=s,p.send(null)});var _=o.print||console.log.bind(console),F=o.printErr||console.error.bind(console);Object.assign(o,O),O=null,o.thisProgram&&(g=o.thisProgram);var q;o.wasmBinary&&(q=o.wasmBinary);var De=o.noExitRuntime||!0;typeof WebAssembly!="object"&&Y("no native wasm support detected");var ce,C,he=!1,ye,X,S,Z;function re(){var r=ce.buffer;o.HEAP8=ye=new Int8Array(r),o.HEAP16=new Int16Array(r),o.HEAP32=S=new Int32Array(r),o.HEAPU8=X=new Uint8Array(r),o.HEAPU16=new Uint16Array(r),o.HEAPU32=Z=new Uint32Array(r),o.HEAPF32=new Float32Array(r),o.HEAPF64=new Float64Array(r)}var be=[],Oe=[],M=[];function E(){var r=o.preRun.shift();be.unshift(r)}var de=0,ie=null,ne=null;function Y(r){throw o.onAbort&&o.onAbort(r),r="Aborted("+r+")",F(r),he=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),l(r),r}function ue(r){return r.startsWith("data:application/octet-stream;base64,")}var we;if(we="ort-wasm.wasm",!ue(we)){var ve=we;we=o.locateFile?o.locateFile(ve,U):U+ve}function xe(r){if(r==we&&q)return new Uint8Array(q);if(I)return I(r);throw"both async and sync fetching of the wasm failed"}function me(r){if(!q&&(a||R)){if(typeof fetch=="function"&&!r.startsWith("file://"))return fetch(r,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw"failed to load wasm binary file at \'"+r+"\'";return i.arrayBuffer()}).catch(()=>xe(r));if(D)return new Promise((i,s)=>{D(r,p=>i(new Uint8Array(p)),s)})}return Promise.resolve().then(()=>xe(r))}function Me(r,i,s){return me(r).then(p=>WebAssembly.instantiate(p,i)).then(p=>p).then(s,p=>{F("failed to asynchronously prepare wasm: "+p),Y(p)})}function _e(r,i){var s=we;return q||typeof WebAssembly.instantiateStreaming!="function"||ue(s)||s.startsWith("file://")||x||typeof fetch!="function"?Me(s,r,i):fetch(s,{credentials:"same-origin"}).then(p=>WebAssembly.instantiateStreaming(p,r).then(i,function(w){return F("wasm streaming compile failed: "+w),F("falling back to ArrayBuffer instantiation"),Me(s,r,i)}))}var se,Ee=r=>{for(;0<r.length;)r.shift()(o)};function ee(r){this.va=r-24,this.Ea=function(i){Z[this.va+4>>2>>>0]=i},this.za=function(i){Z[this.va+8>>2>>>0]=i},this.xa=function(i,s){this.ya(),this.Ea(i),this.za(s)},this.ya=function(){Z[this.va+16>>2>>>0]=0}}var Q=0,Se=0,pe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ie=(r,i,s)=>{i>>>=0;var p=i+s;for(s=i;r[s]&&!(s>=p);)++s;if(16<s-i&&r.buffer&&pe)return pe.decode(r.subarray(i,s));for(p="";i<s;){var w=r[i++];if(w&128){var A=r[i++]&63;if((w&224)==192)p+=String.fromCharCode((w&31)<<6|A);else{var P=r[i++]&63;w=(w&240)==224?(w&15)<<12|A<<6|P:(w&7)<<18|A<<12|P<<6|r[i++]&63,65536>w?p+=String.fromCharCode(w):(w-=65536,p+=String.fromCharCode(55296|w>>10,56320|w&1023))}}else p+=String.fromCharCode(w)}return p},Ce=(r,i)=>(r>>>=0)?Ie(X,r,i):"",We=r=>{for(var i=0,s=0;s<r.length;++s){var p=r.charCodeAt(s);127>=p?i++:2047>=p?i+=2:55296<=p&&57343>=p?(i+=4,++s):i+=3}return i},ke=(r,i,s,p)=>{if(s>>>=0,!(0<p))return 0;var w=s;p=s+p-1;for(var A=0;A<r.length;++A){var P=r.charCodeAt(A);if(55296<=P&&57343>=P){var K=r.charCodeAt(++A);P=65536+((P&1023)<<10)|K&1023}if(127>=P){if(s>=p)break;i[s++>>>0]=P}else{if(2047>=P){if(s+1>=p)break;i[s++>>>0]=192|P>>6}else{if(65535>=P){if(s+2>=p)break;i[s++>>>0]=224|P>>12}else{if(s+3>=p)break;i[s++>>>0]=240|P>>18,i[s++>>>0]=128|P>>12&63}i[s++>>>0]=128|P>>6&63}i[s++>>>0]=128|P&63}}return i[s>>>0]=0,s-w},ge=r=>r%4===0&&(r%100!==0||r%400===0),Ge=[0,31,60,91,121,152,182,213,244,274,305,335],Re=[0,31,59,90,120,151,181,212,243,273,304,334],$e=r=>{var i=We(r)+1,s=Ze(i);return s&&ke(r,X,s,i),s},qe={},Ve=()=>{if(!Je){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},i;for(i in qe)qe[i]===void 0?delete r[i]:r[i]=qe[i];var s=[];for(i in r)s.push(`${i}=${r[i]}`);Je=s}return Je},Je,Fe=[null,[],[]],Pe=[31,29,31,30,31,30,31,31,30,31,30,31],Ne=[31,28,31,30,31,30,31,31,30,31,30,31];function it(r){var i=Array(We(r)+1);return ke(r,i,0,i.length),i}function Xe(r,i,s,p){function w(c,W,H){for(c=typeof c=="number"?c.toString():c||"";c.length<W;)c=H[0]+c;return c}function A(c,W){return w(c,W,"0")}function P(c,W){function H(tt){return 0>tt?-1:0<tt?1:0}var Te;return(Te=H(c.getFullYear()-W.getFullYear()))===0&&(Te=H(c.getMonth()-W.getMonth()))===0&&(Te=H(c.getDate()-W.getDate())),Te}function K(c){switch(c.getDay()){case 0:return new Date(c.getFullYear()-1,11,29);case 1:return c;case 2:return new Date(c.getFullYear(),0,3);case 3:return new Date(c.getFullYear(),0,2);case 4:return new Date(c.getFullYear(),0,1);case 5:return new Date(c.getFullYear()-1,11,31);case 6:return new Date(c.getFullYear()-1,11,30)}}function fe(c){var W=c.ra;for(c=new Date(new Date(c.sa+1900,0,1).getTime());0<W;){var H=c.getMonth(),Te=(ge(c.getFullYear())?Pe:Ne)[H];if(W>Te-c.getDate())W-=Te-c.getDate()+1,c.setDate(1),11>H?c.setMonth(H+1):(c.setMonth(0),c.setFullYear(c.getFullYear()+1));else{c.setDate(c.getDate()+W);break}}return H=new Date(c.getFullYear()+1,0,4),W=K(new Date(c.getFullYear(),0,4)),H=K(H),0>=P(W,c)?0>=P(H,c)?c.getFullYear()+1:c.getFullYear():c.getFullYear()-1}r>>>=0,i>>>=0,s>>>=0,p>>>=0;var oe=S[p+40>>2>>>0];p={Ca:S[p>>2>>>0],Ba:S[p+4>>2>>>0],ta:S[p+8>>2>>>0],wa:S[p+12>>2>>>0],ua:S[p+16>>2>>>0],sa:S[p+20>>2>>>0],ma:S[p+24>>2>>>0],ra:S[p+28>>2>>>0],Fa:S[p+32>>2>>>0],Aa:S[p+36>>2>>>0],Da:oe?Ce(oe):""},s=Ce(s),oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ae in oe)s=s.replace(new RegExp(ae,"g"),oe[ae]);var Ke="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),et="January February March April May June July August September October November December".split(" ");oe={"%a":c=>Ke[c.ma].substring(0,3),"%A":c=>Ke[c.ma],"%b":c=>et[c.ua].substring(0,3),"%B":c=>et[c.ua],"%C":c=>A((c.sa+1900)/100|0,2),"%d":c=>A(c.wa,2),"%e":c=>w(c.wa,2," "),"%g":c=>fe(c).toString().substring(2),"%G":c=>fe(c),"%H":c=>A(c.ta,2),"%I":c=>(c=c.ta,c==0?c=12:12<c&&(c-=12),A(c,2)),"%j":c=>{for(var W=0,H=0;H<=c.ua-1;W+=(ge(c.sa+1900)?Pe:Ne)[H++]);return A(c.wa+W,3)},"%m":c=>A(c.ua+1,2),"%M":c=>A(c.Ba,2),"%n":()=>`\n`,"%p":c=>0<=c.ta&&12>c.ta?"AM":"PM","%S":c=>A(c.Ca,2),"%t":()=>"	","%u":c=>c.ma||7,"%U":c=>A(Math.floor((c.ra+7-c.ma)/7),2),"%V":c=>{var W=Math.floor((c.ra+7-(c.ma+6)%7)/7);if(2>=(c.ma+371-c.ra-2)%7&&W++,W)W==53&&(H=(c.ma+371-c.ra)%7,H==4||H==3&&ge(c.sa)||(W=1));else{W=52;var H=(c.ma+7-c.ra-1)%7;(H==4||H==5&&ge(c.sa%400-1))&&W++}return A(W,2)},"%w":c=>c.ma,"%W":c=>A(Math.floor((c.ra+7-(c.ma+6)%7)/7),2),"%y":c=>(c.sa+1900).toString().substring(2),"%Y":c=>c.sa+1900,"%z":c=>{c=c.Aa;var W=0<=c;return c=Math.abs(c)/60,(W?"+":"-")+("0000"+(c/60*100+c%60)).slice(-4)},"%Z":c=>c.Da,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(ae in oe)s.includes(ae)&&(s=s.replace(new RegExp(ae,"g"),oe[ae](p)));return s=s.replace(/\\0\\0/g,"%"),ae=it(s),ae.length>i?0:(ye.set(ae,r>>>0),ae.length-1)}var st={a:function(r,i,s){throw r>>>=0,new ee(r).xa(i>>>0,s>>>0),Q=r,Se++,Q},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(r,i,s){r=i+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*i:NaN,s>>>=0,r=new Date(1e3*r),S[s>>2>>>0]=r.getUTCSeconds(),S[s+4>>2>>>0]=r.getUTCMinutes(),S[s+8>>2>>>0]=r.getUTCHours(),S[s+12>>2>>>0]=r.getUTCDate(),S[s+16>>2>>>0]=r.getUTCMonth(),S[s+20>>2>>>0]=r.getUTCFullYear()-1900,S[s+24>>2>>>0]=r.getUTCDay(),S[s+28>>2>>>0]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(r,i,s){r=i+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*i:NaN,s>>>=0,r=new Date(1e3*r),S[s>>2>>>0]=r.getSeconds(),S[s+4>>2>>>0]=r.getMinutes(),S[s+8>>2>>>0]=r.getHours(),S[s+12>>2>>>0]=r.getDate(),S[s+16>>2>>>0]=r.getMonth(),S[s+20>>2>>>0]=r.getFullYear()-1900,S[s+24>>2>>>0]=r.getDay(),S[s+28>>2>>>0]=(ge(r.getFullYear())?Ge:Re)[r.getMonth()]+r.getDate()-1|0,S[s+36>>2>>>0]=-(60*r.getTimezoneOffset()),i=new Date(r.getFullYear(),6,1).getTimezoneOffset();var p=new Date(r.getFullYear(),0,1).getTimezoneOffset();S[s+32>>2>>>0]=(i!=p&&r.getTimezoneOffset()==Math.min(p,i))|0},q:function(r){r>>>=0;var i=new Date(S[r+20>>2>>>0]+1900,S[r+16>>2>>>0],S[r+12>>2>>>0],S[r+8>>2>>>0],S[r+4>>2>>>0],S[r>>2>>>0],0),s=S[r+32>>2>>>0],p=i.getTimezoneOffset(),w=new Date(i.getFullYear(),6,1).getTimezoneOffset(),A=new Date(i.getFullYear(),0,1).getTimezoneOffset(),P=Math.min(A,w);return 0>s?S[r+32>>2>>>0]=+(w!=A&&P==p):0<s!=(P==p)&&(w=Math.max(A,w),i.setTime(i.getTime()+6e4*((0<s?P:w)-p))),S[r+24>>2>>>0]=i.getDay(),S[r+28>>2>>>0]=(ge(i.getFullYear())?Ge:Re)[i.getMonth()]+i.getDate()-1|0,S[r>>2>>>0]=i.getSeconds(),S[r+4>>2>>>0]=i.getMinutes(),S[r+8>>2>>>0]=i.getHours(),S[r+12>>2>>>0]=i.getDate(),S[r+16>>2>>>0]=i.getMonth(),S[r+20>>2>>>0]=i.getYear(),r=i.getTime()/1e3,He((se=r,1<=+Math.abs(se)?0<se?+Math.floor(se/4294967296)>>>0:~~+Math.ceil((se-+(~~se>>>0))/4294967296)>>>0:0)),r>>>0},m:function(){return-52},n:function(){},t:function(r,i,s){function p(fe){return(fe=fe.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?fe[1]:"GMT"}s>>>=0;var w=new Date().getFullYear(),A=new Date(w,0,1),P=new Date(w,6,1);w=A.getTimezoneOffset();var K=P.getTimezoneOffset();Z[r>>>0>>2>>>0]=60*Math.max(w,K),S[i>>>0>>2>>>0]=+(w!=K),r=p(A),i=p(P),r=$e(r),i=$e(i),K<w?(Z[s>>2>>>0]=r,Z[s+4>>2>>>0]=i):(Z[s>>2>>>0]=i,Z[s+4>>2>>>0]=r)},d:()=>{Y("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(r,i,s){return i>>>=0,X.copyWithin(r>>>0>>>0,i>>>0,i+(s>>>0)>>>0)},s:function(r){r>>>=0;var i=X.length;if(4294901760<r)return!1;for(var s=1;4>=s;s*=2){var p=i*(1+.2/s);p=Math.min(p,r+100663296);var w=Math;p=Math.max(r,p);e:{w=w.min.call(w,4294901760,p+(65536-p%65536)%65536)-ce.buffer.byteLength+65535>>>16;try{ce.grow(w),re();var A=1;break e}catch{}A=void 0}if(A)return!0}return!1},C:function(r,i){r>>>=0,i>>>=0;var s=0;return Ve().forEach(function(p,w){var A=i+s;for(w=Z[r+4*w>>2>>>0]=A,A=0;A<p.length;++A)ye[w++>>0>>>0]=p.charCodeAt(A);ye[w>>0>>>0]=0,s+=p.length+1}),0},D:function(r,i){r>>>=0,i>>>=0;var s=Ve();Z[r>>2>>>0]=s.length;var p=0;return s.forEach(function(w){p+=w.length+1}),Z[i>>2>>>0]=p,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(r,i,s,p){i>>>=0,s>>>=0,p>>>=0;for(var w=0,A=0;A<s;A++){var P=Z[i>>2>>>0],K=Z[i+4>>2>>>0];i+=8;for(var fe=0;fe<K;fe++){var oe=X[P+fe>>>0],ae=Fe[r];oe===0||oe===10?((r===1?_:F)(Ie(ae,0)),ae.length=0):ae.push(oe)}w+=K}return Z[p>>2>>>0]=w,0},A:Xe,c:function(r,i,s,p){return Xe(r>>>0,i>>>0,s>>>0,p>>>0)}};(function(){function r(s){if(s=s.exports,C=s=je(s),ce=C.J,re(),Oe.unshift(C.K),de--,o.monitorRunDependencies&&o.monitorRunDependencies(de),de==0&&(ie!==null&&(clearInterval(ie),ie=null),ne)){var p=ne;ne=null,p()}return s}var i={a:st};if(de++,o.monitorRunDependencies&&o.monitorRunDependencies(de),o.instantiateWasm)try{return o.instantiateWasm(i,r)}catch(s){F("Module.instantiateWasm callback failed with error: "+s),l(s)}return _e(i,function(s){r(s.instance)}).catch(l),{}})(),o._OrtInit=(r,i)=>(o._OrtInit=C.L)(r,i),o._OrtGetLastError=(r,i)=>(o._OrtGetLastError=C.M)(r,i),o._OrtCreateSessionOptions=(r,i,s,p,w,A,P,K,fe,oe)=>(o._OrtCreateSessionOptions=C.N)(r,i,s,p,w,A,P,K,fe,oe),o._OrtAppendExecutionProvider=(r,i)=>(o._OrtAppendExecutionProvider=C.O)(r,i),o._OrtAddFreeDimensionOverride=(r,i,s)=>(o._OrtAddFreeDimensionOverride=C.P)(r,i,s),o._OrtAddSessionConfigEntry=(r,i,s)=>(o._OrtAddSessionConfigEntry=C.Q)(r,i,s),o._OrtReleaseSessionOptions=r=>(o._OrtReleaseSessionOptions=C.R)(r),o._OrtCreateSession=(r,i,s)=>(o._OrtCreateSession=C.S)(r,i,s),o._OrtReleaseSession=r=>(o._OrtReleaseSession=C.T)(r),o._OrtGetInputOutputCount=(r,i,s)=>(o._OrtGetInputOutputCount=C.U)(r,i,s),o._OrtGetInputName=(r,i)=>(o._OrtGetInputName=C.V)(r,i),o._OrtGetOutputName=(r,i)=>(o._OrtGetOutputName=C.W)(r,i),o._OrtFree=r=>(o._OrtFree=C.X)(r),o._OrtCreateTensor=(r,i,s,p,w,A)=>(o._OrtCreateTensor=C.Y)(r,i,s,p,w,A),o._OrtGetTensorData=(r,i,s,p,w)=>(o._OrtGetTensorData=C.Z)(r,i,s,p,w),o._OrtReleaseTensor=r=>(o._OrtReleaseTensor=C._)(r),o._OrtCreateRunOptions=(r,i,s,p)=>(o._OrtCreateRunOptions=C.$)(r,i,s,p),o._OrtAddRunConfigEntry=(r,i,s)=>(o._OrtAddRunConfigEntry=C.aa)(r,i,s),o._OrtReleaseRunOptions=r=>(o._OrtReleaseRunOptions=C.ba)(r),o._OrtCreateBinding=r=>(o._OrtCreateBinding=C.ca)(r),o._OrtBindInput=(r,i,s)=>(o._OrtBindInput=C.da)(r,i,s),o._OrtBindOutput=(r,i,s,p)=>(o._OrtBindOutput=C.ea)(r,i,s,p),o._OrtClearBoundOutputs=r=>(o._OrtClearBoundOutputs=C.fa)(r),o._OrtReleaseBinding=r=>(o._OrtReleaseBinding=C.ga)(r),o._OrtRunWithBinding=(r,i,s,p,w)=>(o._OrtRunWithBinding=C.ha)(r,i,s,p,w),o._OrtRun=(r,i,s,p,w,A,P,K)=>(o._OrtRun=C.ia)(r,i,s,p,w,A,P,K),o._OrtEndProfiling=r=>(o._OrtEndProfiling=C.ja)(r);var Ze=o._malloc=r=>(Ze=o._malloc=C.ka)(r);o._free=r=>(o._free=C.la)(r);var He=r=>(He=C.na)(r),Qe=()=>(Qe=C.oa)(),Ye=r=>(Ye=C.pa)(r),T=r=>(T=C.qa)(r);function je(r){r=Object.assign({},r);var i=p=>()=>p()>>>0,s=p=>w=>p(w)>>>0;return r.__errno_location=i(r.__errno_location),r.malloc=s(r.malloc),r.stackSave=i(r.stackSave),r.stackAlloc=s(r.stackAlloc),r}o.stackAlloc=T,o.stackSave=Qe,o.stackRestore=Ye,o.UTF8ToString=Ce,o.stringToUTF8=(r,i,s)=>ke(r,X,i,s),o.lengthBytesUTF8=We;var Ue;ne=function r(){Ue||Le(),Ue||(ne=r)};function Le(){function r(){if(!Ue&&(Ue=!0,o.calledRun=!0,!he)){if(Ee(Oe),y(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;){var i=o.postRun.shift();M.unshift(i)}Ee(M)}}if(!(0<de)){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)E();Ee(be),0<de||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),r()},1)):r())}}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return Le(),m.ready}})();typeof lr=="object"&&typeof Ct=="object"?Ct.exports=fr:typeof define=="function"&&define.amd&&define([],()=>fr)});var dr=rt(()=>{});var pr=rt(()=>{});var mr={};Et(mr,{cpus:()=>Qr});var Qr,gr=_t(()=>{Qr=void 0});var br=rt((yr,Rt)=>{"use strict";var hr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(m={}){function o(){return M.buffer!=Y.buffer&&me(),Y}function y(){return M.buffer!=Y.buffer&&me(),ue}function l(){return M.buffer!=Y.buffer&&me(),we}function O(){return M.buffer!=Y.buffer&&me(),ve}function g(){return M.buffer!=Y.buffer&&me(),xe}var a=m,R,x;a.ready=new Promise((e,t)=>{R=e,x=t});var U=Object.assign({},a),B="./this.program",D=(e,t)=>{throw t},I=typeof window=="object",k=typeof importScripts=="function",L=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_=a.ENVIRONMENT_IS_PTHREAD||!1,F="";function q(e){return a.locateFile?a.locateFile(e,F):F+e}var De,ce,C;if(L){var he=(Tt(),nt(St)),ye=(Mt(),nt(At));F=k?ye.dirname(F)+"/":__dirname+"/",De=(t,n)=>(t=t.startsWith("file://")?new URL(t):ye.normalize(t),he.readFileSync(t,n?void 0:"utf8")),C=t=>(t=De(t,!0),t.buffer||(t=new Uint8Array(t)),t),ce=(t,n,f,b=!0)=>{t=t.startsWith("file://")?new URL(t):ye.normalize(t),he.readFile(t,b?void 0:"utf8",(h,v)=>{h?f(h):n(b?v.buffer:v)})},!a.thisProgram&&1<process.argv.length&&(B=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),D=(t,n)=>{throw process.exitCode=t,n},a.inspect=()=>"[Emscripten Module object]";let e;try{e=dr()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else(I||k)&&(k?F=self.location.href:typeof document<"u"&&document.currentScript&&(F=document.currentScript.src),typeof u<"u"&&u&&(F=u),F.indexOf("blob:")!==0?F=F.substr(0,F.replace(/[?#].*/,"").lastIndexOf("/")+1):F="",L||(De=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},k&&(C=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),ce=(e,t,n)=>{var f=new XMLHttpRequest;f.open("GET",e,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?t(f.response):n()},f.onerror=n,f.send(null)}));L&&typeof performance>"u"&&(global.performance=pr().performance);var X=console.log.bind(console),S=console.error.bind(console);L&&(X=(...e)=>he.writeSync(1,e.join(" ")+`\n`),S=(...e)=>he.writeSync(2,e.join(" ")+`\n`));var Z=a.print||X,re=a.printErr||S;Object.assign(a,U),U=null,a.thisProgram&&(B=a.thisProgram),a.quit&&(D=a.quit);var be;a.wasmBinary&&(be=a.wasmBinary);var Oe=a.noExitRuntime||!0;typeof WebAssembly!="object"&&ge("no native wasm support detected");var M,E,de,ie=!1,ne,Y,ue,we,ve,xe;function me(){var e=M.buffer;a.HEAP8=Y=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=we=new Int32Array(e),a.HEAPU8=ue=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=ve=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=xe=new Float64Array(e)}var Me=a.INITIAL_MEMORY||16777216;if(5242880<=Me||ge("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Me+"! (STACK_SIZE=5242880)"),_)M=a.wasmMemory;else if(a.wasmMemory)M=a.wasmMemory;else if(M=new WebAssembly.Memory({initial:Me/65536,maximum:65536,shared:!0}),!(M.buffer instanceof SharedArrayBuffer))throw re("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),L&&re("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");me(),Me=M.buffer.byteLength;var _e,se=[],Ee=[],ee=[],Q=0;function Se(){return Oe||0<Q}var pe=0,Ie=null,Ce=null;function We(){pe++,a.monitorRunDependencies&&a.monitorRunDependencies(pe)}function ke(){if(pe--,a.monitorRunDependencies&&a.monitorRunDependencies(pe),pe==0&&(Ie!==null&&(clearInterval(Ie),Ie=null),Ce)){var e=Ce;Ce=null,e()}}function ge(e){throw a.onAbort&&a.onAbort(e),e="Aborted("+e+")",re(e),ie=!0,ne=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),x(e),e}function Ge(e){return e.startsWith("data:application/octet-stream;base64,")}var Re;Re="ort-wasm-threaded.wasm",Ge(Re)||(Re=q(Re));function $e(e){if(e==Re&&be)return new Uint8Array(be);if(C)return C(e);throw"both async and sync fetching of the wasm failed"}function qe(e){if(!be&&(I||k)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>$e(e));if(ce)return new Promise((t,n)=>{ce(e,f=>t(new Uint8Array(f)),n)})}return Promise.resolve().then(()=>$e(e))}function Ve(e,t,n){return qe(e).then(f=>WebAssembly.instantiate(f,t)).then(f=>f).then(n,f=>{re("failed to asynchronously prepare wasm: "+f),ge(f)})}function Je(e,t){var n=Re;return be||typeof WebAssembly.instantiateStreaming!="function"||Ge(n)||n.startsWith("file://")||L||typeof fetch!="function"?Ve(n,e,t):fetch(n,{credentials:"same-origin"}).then(f=>WebAssembly.instantiateStreaming(f,e).then(t,function(b){return re("wasm streaming compile failed: "+b),re("falling back to ArrayBuffer instantiation"),Ve(n,e,t)}))}var Fe;function Pe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function Ne(e){e.terminate(),e.onmessage=()=>{}}function it(e){(e=T.La[e])||ge(),T.lb(e)}function Xe(e){var t=T.gb();if(!t)return 6;T.Pa.push(t),T.La[e.Na]=t,t.Na=e.Na;var n={cmd:"run",start_routine:e.mb,arg:e.fb,pthread_ptr:e.Na};return L&&t.unref(),t.postMessage(n,e.sb),0}var st=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ze=(e,t,n)=>{t>>>=0;var f=t+n;for(n=t;e[n]&&!(n>=f);)++n;if(16<n-t&&e.buffer&&st)return st.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(f="";t<n;){var b=e[t++];if(b&128){var h=e[t++]&63;if((b&224)==192)f+=String.fromCharCode((b&31)<<6|h);else{var v=e[t++]&63;b=(b&240)==224?(b&15)<<12|h<<6|v:(b&7)<<18|h<<12|v<<6|e[t++]&63,65536>b?f+=String.fromCharCode(b):(b-=65536,f+=String.fromCharCode(55296|b>>10,56320|b&1023))}}else f+=String.fromCharCode(b)}return f},He=(e,t)=>(e>>>=0)?Ze(y(),e,t):"";function Qe(e){if(_)return j(1,1,e);ne=e,Se()||(T.nb(),a.onExit&&a.onExit(e),ie=!0),D(e,new Pe(e))}var Ye=e=>{if(ne=e,_)throw Ue(e),"unwind";Qe(e)},T={Oa:[],Pa:[],ab:[],La:{},Va:function(){_?T.ib():T.hb()},hb:function(){for(var e=a.numThreads;e--;)T.Xa();se.unshift(()=>{We(),T.jb(()=>ke())})},ib:function(){T.receiveObjectTransfer=T.kb,T.threadInitTLS=T.$a,T.setExitStatus=T.Za,Oe=!1},Za:function(e){ne=e},xb:["$terminateWorker"],nb:function(){for(var e of T.Pa)Ne(e);for(e of T.Oa)Ne(e);T.Oa=[],T.Pa=[],T.La=[]},lb:function(e){var t=e.Na;delete T.La[t],T.Oa.push(e),T.Pa.splice(T.Pa.indexOf(e),1),e.Na=0,yt(t)},kb:function(){},$a:function(){T.ab.forEach(e=>e())},Ya:e=>new Promise(t=>{e.onmessage=h=>{h=h.data;var v=h.cmd;if(h.targetThread&&h.targetThread!=ft()){var z=T.La[h.wb];z?z.postMessage(h,h.transferList):re(\'Internal error! Worker sent a message "\'+v+\'" to target pthread \'+h.targetThread+", but that thread no longer exists!")}else v==="checkMailbox"?ut():v==="spawnThread"?Xe(h):v==="cleanupThread"?it(h.thread):v==="killThread"?(h=h.thread,v=T.La[h],delete T.La[h],Ne(v),yt(h),T.Pa.splice(T.Pa.indexOf(v),1),v.Na=0):v==="cancelThread"?T.La[h.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,L&&!e.Na&&e.unref(),t(e)):v==="alert"?alert("Thread "+h.threadId+": "+h.text):h.target==="setimmediate"?e.postMessage(h):v==="callHandler"?a[h.handler](...h.args):v&&re("worker sent an unknown command "+v)},e.onerror=h=>{throw re("worker sent an error! "+h.filename+":"+h.lineno+": "+h.message),h},L&&(e.on("message",function(h){e.onmessage({data:h})}),e.on("error",function(h){e.onerror(h)}));var n=[],f=["onExit","onAbort","print","printErr"],b;for(b of f)a.hasOwnProperty(b)&&n.push(b);e.postMessage({cmd:"load",handlers:n,urlOrBlob:a.mainScriptUrlOrBlob||u,wasmMemory:M,wasmModule:de})}),jb:function(e){if(_)return e();Promise.all(T.Oa.map(T.Ya)).then(e)},Xa:function(){var e=q("ort-wasm-threaded.worker.js");e=new Worker(e),T.Oa.push(e)},gb:function(){return T.Oa.length==0&&(T.Xa(),T.Ya(T.Oa[0])),T.Oa.pop()}};a.PThread=T;var je=e=>{for(;0<e.length;)e.shift()(a)};a.establishStackSpace=function(){var e=ft(),t=l()[e+52>>2>>>0];e=l()[e+56>>2>>>0],or(t,t-e),lt(t)};function Ue(e){if(_)return j(2,0,e);Ye(e)}var Le=[];a.invokeEntryPoint=function(e,t){var n=Le[e];n||(e>=Le.length&&(Le.length=e+1),Le[e]=n=_e.get(e)),e=n(t),Se()?T.Za(e):bt(e)};function r(e){this.Ua=e-24,this.eb=function(t){O()[this.Ua+4>>2>>>0]=t},this.cb=function(t){O()[this.Ua+8>>2>>>0]=t},this.Va=function(t,n){this.bb(),this.eb(t),this.cb(n)},this.bb=function(){O()[this.Ua+16>>2>>>0]=0}}var i=0,s=0;function p(e,t,n,f){return _?j(3,1,e,t,n,f):w(e,t,n,f)}function w(e,t,n,f){if(e>>>=0,t>>>=0,n>>>=0,f>>>=0,typeof SharedArrayBuffer>"u")return re("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var b=[];return _&&b.length===0?p(e,t,n,f):(e={mb:n,Na:e,fb:f,sb:b},_?(e.ub="spawnThread",postMessage(e,b),0):Xe(e))}function A(e,t,n){return _?j(4,1,e,t,n):0}function P(e,t){if(_)return j(5,1,e,t)}var K=e=>{for(var t=0,n=0;n<e.length;++n){var f=e.charCodeAt(n);127>=f?t++:2047>=f?t+=2:55296<=f&&57343>=f?(t+=4,++n):t+=3}return t},fe=(e,t,n,f)=>{if(n>>>=0,!(0<f))return 0;var b=n;f=n+f-1;for(var h=0;h<e.length;++h){var v=e.charCodeAt(h);if(55296<=v&&57343>=v){var z=e.charCodeAt(++h);v=65536+((v&1023)<<10)|z&1023}if(127>=v){if(n>=f)break;t[n++>>>0]=v}else{if(2047>=v){if(n+1>=f)break;t[n++>>>0]=192|v>>6}else{if(65535>=v){if(n+2>=f)break;t[n++>>>0]=224|v>>12}else{if(n+3>=f)break;t[n++>>>0]=240|v>>18,t[n++>>>0]=128|v>>12&63}t[n++>>>0]=128|v>>6&63}t[n++>>>0]=128|v&63}}return t[n>>>0]=0,n-b},oe=(e,t,n)=>fe(e,y(),t,n);function ae(e,t){if(_)return j(6,1,e,t)}function Ke(e,t,n){if(_)return j(7,1,e,t,n)}function et(e,t,n){return _?j(8,1,e,t,n):0}function c(e,t){if(_)return j(9,1,e,t)}function W(e,t,n){if(_)return j(10,1,e,t,n)}function H(e,t,n,f){if(_)return j(11,1,e,t,n,f)}function Te(e,t,n,f){if(_)return j(12,1,e,t,n,f)}function tt(e,t,n,f){if(_)return j(13,1,e,t,n,f)}function Ut(e){if(_)return j(14,1,e)}function Lt(e,t){if(_)return j(15,1,e,t)}function Bt(e,t,n){if(_)return j(16,1,e,t,n)}var Wr=e=>{if(!ie)try{if(e(),!Se())try{_?bt(ne):Ye(ne)}catch(t){t instanceof Pe||t=="unwind"||D(1,t)}}catch(t){t instanceof Pe||t=="unwind"||D(1,t)}};function pt(e){e>>>=0,typeof Atomics.tb=="function"&&(Atomics.tb(l(),e>>2,e).value.then(ut),e+=128,Atomics.store(l(),e>>2,1))}a.__emscripten_thread_mailbox_await=pt;function ut(){var e=ft();e&&(pt(e),Wr(()=>rr()))}a.checkMailbox=ut;var ze=e=>e%4===0&&(e%100!==0||e%400===0),Wt=[0,31,60,91,121,152,182,213,244,274,305,335],kt=[0,31,59,90,120,151,181,212,243,273,304,334];function Nt(e,t,n,f,b,h,v,z){return _?j(17,1,e,t,n,f,b,h,v,z):-52}function Ht(e,t,n,f,b,h,v){if(_)return j(18,1,e,t,n,f,b,h,v)}var Yt=e=>{var t=K(e)+1,n=Kt(t);return n&&oe(e,n,t),n},kr=e=>{var t=Ot();return e=e(),lt(t),e};function j(e,t){var n=arguments.length-2,f=arguments;return kr(()=>{for(var b=wt(8*n),h=b>>3,v=0;v<n;v++){var z=f[2+v];g()[h+v>>>0]=z}return tr(e,n,b,t)})}var mt=[],gt={},jt=()=>{if(!ht){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"},t;for(t in gt)gt[t]===void 0?delete e[t]:e[t]=gt[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);ht=n}return ht},ht;function zt(e,t){if(_)return j(19,1,e,t);e>>>=0,t>>>=0;var n=0;return jt().forEach(function(f,b){var h=t+n;for(b=O()[e+4*b>>2>>>0]=h,h=0;h<f.length;++h)o()[b++>>0>>>0]=f.charCodeAt(h);o()[b>>0>>>0]=0,n+=f.length+1}),0}function Gt(e,t){if(_)return j(20,1,e,t);e>>>=0,t>>>=0;var n=jt();O()[e>>2>>>0]=n.length;var f=0;return n.forEach(function(b){f+=b.length+1}),O()[t>>2>>>0]=f,0}function $t(e){return _?j(21,1,e):52}function qt(e,t,n,f){return _?j(22,1,e,t,n,f):52}function Vt(e,t,n,f,b){return _?j(23,1,e,t,n,f,b):70}var Nr=[null,[],[]];function Jt(e,t,n,f){if(_)return j(24,1,e,t,n,f);t>>>=0,n>>>=0,f>>>=0;for(var b=0,h=0;h<n;h++){var v=O()[t>>2>>>0],z=O()[t+4>>2>>>0];t+=8;for(var Ae=0;Ae<z;Ae++){var te=y()[v+Ae>>>0],le=Nr[e];te===0||te===10?((e===1?Z:re)(Ze(le,0)),le.length=0):le.push(te)}b+=z}return O()[f>>2>>>0]=b,0}var Xt=[31,29,31,30,31,30,31,31,30,31,30,31],Zt=[31,28,31,30,31,30,31,31,30,31,30,31];function Hr(e){var t=Array(K(e)+1);return fe(e,t,0,t.length),t}var Yr=(e,t)=>{o().set(e,t>>>0)};function Qt(e,t,n,f){function b(d,N,G){for(d=typeof d=="number"?d.toString():d||"";d.length<N;)d=G[0]+d;return d}function h(d,N){return b(d,N,"0")}function v(d,N){function G(ur){return 0>ur?-1:0<ur?1:0}var Be;return(Be=G(d.getFullYear()-N.getFullYear()))===0&&(Be=G(d.getMonth()-N.getMonth()))===0&&(Be=G(d.getDate()-N.getDate())),Be}function z(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function Ae(d){var N=d.Qa;for(d=new Date(new Date(d.Ra+1900,0,1).getTime());0<N;){var G=d.getMonth(),Be=(ze(d.getFullYear())?Xt:Zt)[G];if(N>Be-d.getDate())N-=Be-d.getDate()+1,d.setDate(1),11>G?d.setMonth(G+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else{d.setDate(d.getDate()+N);break}}return G=new Date(d.getFullYear()+1,0,4),N=z(new Date(d.getFullYear(),0,4)),G=z(G),0>=v(N,d)?0>=v(G,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}e>>>=0,t>>>=0,n>>>=0,f>>>=0;var te=l()[f+40>>2>>>0];f={qb:l()[f>>2>>>0],pb:l()[f+4>>2>>>0],Sa:l()[f+8>>2>>>0],Wa:l()[f+12>>2>>>0],Ta:l()[f+16>>2>>>0],Ra:l()[f+20>>2>>>0],Ma:l()[f+24>>2>>>0],Qa:l()[f+28>>2>>>0],yb:l()[f+32>>2>>>0],ob:l()[f+36>>2>>>0],rb:te?He(te):""},n=He(n),te={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var le in te)n=n.replace(new RegExp(le,"g"),te[le]);var ir="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),sr="January February March April May June July August September October November December".split(" ");te={"%a":d=>ir[d.Ma].substring(0,3),"%A":d=>ir[d.Ma],"%b":d=>sr[d.Ta].substring(0,3),"%B":d=>sr[d.Ta],"%C":d=>h((d.Ra+1900)/100|0,2),"%d":d=>h(d.Wa,2),"%e":d=>b(d.Wa,2," "),"%g":d=>Ae(d).toString().substring(2),"%G":d=>Ae(d),"%H":d=>h(d.Sa,2),"%I":d=>(d=d.Sa,d==0?d=12:12<d&&(d-=12),h(d,2)),"%j":d=>{for(var N=0,G=0;G<=d.Ta-1;N+=(ze(d.Ra+1900)?Xt:Zt)[G++]);return h(d.Wa+N,3)},"%m":d=>h(d.Ta+1,2),"%M":d=>h(d.pb,2),"%n":()=>`\n`,"%p":d=>0<=d.Sa&&12>d.Sa?"AM":"PM","%S":d=>h(d.qb,2),"%t":()=>"	","%u":d=>d.Ma||7,"%U":d=>h(Math.floor((d.Qa+7-d.Ma)/7),2),"%V":d=>{var N=Math.floor((d.Qa+7-(d.Ma+6)%7)/7);if(2>=(d.Ma+371-d.Qa-2)%7&&N++,N)N==53&&(G=(d.Ma+371-d.Qa)%7,G==4||G==3&&ze(d.Ra)||(N=1));else{N=52;var G=(d.Ma+7-d.Qa-1)%7;(G==4||G==5&&ze(d.Ra%400-1))&&N++}return h(N,2)},"%w":d=>d.Ma,"%W":d=>h(Math.floor((d.Qa+7-(d.Ma+6)%7)/7),2),"%y":d=>(d.Ra+1900).toString().substring(2),"%Y":d=>d.Ra+1900,"%z":d=>{d=d.ob;var N=0<=d;return d=Math.abs(d)/60,(N?"+":"-")+("0000"+(d/60*100+d%60)).slice(-4)},"%Z":d=>d.rb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(le in te)n.includes(le)&&(n=n.replace(new RegExp(le,"g"),te[le](f)));return n=n.replace(/\\0\\0/g,"%"),le=Hr(n),le.length>t?0:(Yr(le,e),le.length-1)}T.Va();var jr=[null,Qe,Ue,p,A,P,ae,Ke,et,c,W,H,Te,tt,Ut,Lt,Bt,Nt,Ht,zt,Gt,$t,qt,Vt,Jt],zr={b:function(e,t,n){throw e>>>=0,new r(e).Va(t>>>0,n>>>0),i=e,s++,i},N:function(e){er(e>>>0,!k,1,!I,131072,!1),T.$a()},j:function(e){e>>>=0,_?postMessage({cmd:"cleanupThread",thread:e}):it(e)},I:w,h:A,T:P,D:ae,F:Ke,U:et,R:c,J:W,Q:H,n:Te,E:tt,B:Ut,S:Lt,C:Bt,q:()=>!0,z:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ut()):_?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=T.La[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:pt,p:function(e){L&&T.La[e>>>0].ref()},t:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>2>>>0]=e.getUTCSeconds(),l()[n+4>>2>>>0]=e.getUTCMinutes(),l()[n+8>>2>>>0]=e.getUTCHours(),l()[n+12>>2>>>0]=e.getUTCDate(),l()[n+16>>2>>>0]=e.getUTCMonth(),l()[n+20>>2>>>0]=e.getUTCFullYear()-1900,l()[n+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,l()[n+28>>2>>>0]=e},u:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),l()[n>>2>>>0]=e.getSeconds(),l()[n+4>>2>>>0]=e.getMinutes(),l()[n+8>>2>>>0]=e.getHours(),l()[n+12>>2>>>0]=e.getDate(),l()[n+16>>2>>>0]=e.getMonth(),l()[n+20>>2>>>0]=e.getFullYear()-1900,l()[n+24>>2>>>0]=e.getDay(),t=(ze(e.getFullYear())?Wt:kt)[e.getMonth()]+e.getDate()-1|0,l()[n+28>>2>>>0]=t,l()[n+36>>2>>>0]=-(60*e.getTimezoneOffset()),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var f=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(t!=f&&e.getTimezoneOffset()==Math.min(f,t))|0,l()[n+32>>2>>>0]=e},v:function(e){e>>>=0;var t=new Date(l()[e+20>>2>>>0]+1900,l()[e+16>>2>>>0],l()[e+12>>2>>>0],l()[e+8>>2>>>0],l()[e+4>>2>>>0],l()[e>>2>>>0],0),n=l()[e+32>>2>>>0],f=t.getTimezoneOffset(),b=new Date(t.getFullYear(),6,1).getTimezoneOffset(),h=new Date(t.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(h,b);return 0>n?l()[e+32>>2>>>0]=+(b!=h&&v==f):0<n!=(v==f)&&(b=Math.max(h,b),t.setTime(t.getTime()+6e4*((0<n?v:b)-f))),l()[e+24>>2>>>0]=t.getDay(),n=(ze(t.getFullYear())?Wt:kt)[t.getMonth()]+t.getDate()-1|0,l()[e+28>>2>>>0]=n,l()[e>>2>>>0]=t.getSeconds(),l()[e+4>>2>>>0]=t.getMinutes(),l()[e+8>>2>>>0]=t.getHours(),l()[e+12>>2>>>0]=t.getDate(),l()[e+16>>2>>>0]=t.getMonth(),l()[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,nr((Fe=e,1<=+Math.abs(Fe)?0<Fe?+Math.floor(Fe/4294967296)>>>0:~~+Math.ceil((Fe-+(~~Fe>>>0))/4294967296)>>>0:0)),e>>>0},r:Nt,s:Ht,y:function(e,t,n){function f(te){return(te=te.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?te[1]:"GMT"}e>>>=0,t>>>=0,n>>>=0;var b=new Date().getFullYear(),h=new Date(b,0,1),v=new Date(b,6,1);b=h.getTimezoneOffset();var z=v.getTimezoneOffset(),Ae=Math.max(b,z);O()[e>>2>>>0]=60*Ae,l()[t>>2>>>0]=+(b!=z),e=f(h),t=f(v),e=Yt(e),t=Yt(t),z<b?(O()[n>>2>>>0]=e,O()[n+4>>2>>>0]=t):(O()[n>>2>>>0]=t,O()[n+4>>2>>>0]=e)},c:()=>{ge("")},k:function(){},i:function(){return Date.now()},o:()=>{throw Q+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return L?(gr(),nt(mr)).cpus().length:navigator.hardwareConcurrency},K:function(e,t,n,f){for(T.vb=t>>>0,mt.length=n,t=f>>>0>>3,f=0;f<n;f++)mt[f]=g()[t+f>>>0];return jr[e].apply(null,mt)},x:function(e){e>>>=0;var t=y().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var f=t*(1+.2/n);f=Math.min(f,e+100663296);var b=Math;f=Math.max(e,f);e:{b=b.min.call(b,4294901760,f+(65536-f%65536)%65536)-M.buffer.byteLength+65535>>>16;try{M.grow(b),me();var h=1;break e}catch{}h=void 0}if(h)return!0}return!1},O:zt,P:Gt,H:Ye,g:$t,m:qt,w:Vt,l:Jt,a:M||a.wasmMemory,G:Qt,d:function(e,t,n,f){return Qt(e>>>0,t>>>0,n>>>0,f>>>0)}};(function(){function e(n,f){return n=n.exports,E=n=Gr(n),T.ab.push(E.ya),_e=E.za,Ee.unshift(E.V),de=f,ke(),n}var t={a:zr};if(We(),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(n){re("Module.instantiateWasm callback failed with error: "+n),x(n)}return Je(t,function(n){e(n.instance,n.module)}).catch(x),{}})(),a._OrtInit=(e,t)=>(a._OrtInit=E.W)(e,t),a._OrtGetLastError=(e,t)=>(a._OrtGetLastError=E.X)(e,t),a._OrtCreateSessionOptions=(e,t,n,f,b,h,v,z,Ae,te)=>(a._OrtCreateSessionOptions=E.Y)(e,t,n,f,b,h,v,z,Ae,te),a._OrtAppendExecutionProvider=(e,t)=>(a._OrtAppendExecutionProvider=E.Z)(e,t),a._OrtAddFreeDimensionOverride=(e,t,n)=>(a._OrtAddFreeDimensionOverride=E._)(e,t,n),a._OrtAddSessionConfigEntry=(e,t,n)=>(a._OrtAddSessionConfigEntry=E.$)(e,t,n),a._OrtReleaseSessionOptions=e=>(a._OrtReleaseSessionOptions=E.aa)(e),a._OrtCreateSession=(e,t,n)=>(a._OrtCreateSession=E.ba)(e,t,n),a._OrtReleaseSession=e=>(a._OrtReleaseSession=E.ca)(e),a._OrtGetInputOutputCount=(e,t,n)=>(a._OrtGetInputOutputCount=E.da)(e,t,n),a._OrtGetInputName=(e,t)=>(a._OrtGetInputName=E.ea)(e,t),a._OrtGetOutputName=(e,t)=>(a._OrtGetOutputName=E.fa)(e,t),a._OrtFree=e=>(a._OrtFree=E.ga)(e),a._OrtCreateTensor=(e,t,n,f,b,h)=>(a._OrtCreateTensor=E.ha)(e,t,n,f,b,h),a._OrtGetTensorData=(e,t,n,f,b)=>(a._OrtGetTensorData=E.ia)(e,t,n,f,b),a._OrtReleaseTensor=e=>(a._OrtReleaseTensor=E.ja)(e),a._OrtCreateRunOptions=(e,t,n,f)=>(a._OrtCreateRunOptions=E.ka)(e,t,n,f),a._OrtAddRunConfigEntry=(e,t,n)=>(a._OrtAddRunConfigEntry=E.la)(e,t,n),a._OrtReleaseRunOptions=e=>(a._OrtReleaseRunOptions=E.ma)(e),a._OrtCreateBinding=e=>(a._OrtCreateBinding=E.na)(e),a._OrtBindInput=(e,t,n)=>(a._OrtBindInput=E.oa)(e,t,n),a._OrtBindOutput=(e,t,n,f)=>(a._OrtBindOutput=E.pa)(e,t,n,f),a._OrtClearBoundOutputs=e=>(a._OrtClearBoundOutputs=E.qa)(e),a._OrtReleaseBinding=e=>(a._OrtReleaseBinding=E.ra)(e),a._OrtRunWithBinding=(e,t,n,f,b)=>(a._OrtRunWithBinding=E.sa)(e,t,n,f,b),a._OrtRun=(e,t,n,f,b,h,v,z)=>(a._OrtRun=E.ta)(e,t,n,f,b,h,v,z),a._OrtEndProfiling=e=>(a._OrtEndProfiling=E.ua)(e);var ft=a._pthread_self=()=>(ft=a._pthread_self=E.va)(),Kt=a._malloc=e=>(Kt=a._malloc=E.wa)(e);a._free=e=>(a._free=E.xa)(e),a.__emscripten_tls_init=()=>(a.__emscripten_tls_init=E.ya)();var er=a.__emscripten_thread_init=(e,t,n,f,b,h)=>(er=a.__emscripten_thread_init=E.Aa)(e,t,n,f,b,h);a.__emscripten_thread_crashed=()=>(a.__emscripten_thread_crashed=E.Ba)();var tr=(e,t,n,f)=>(tr=E.Ca)(e,t,n,f),yt=e=>(yt=E.Da)(e),bt=a.__emscripten_thread_exit=e=>(bt=a.__emscripten_thread_exit=E.Ea)(e),rr=a.__emscripten_check_mailbox=()=>(rr=a.__emscripten_check_mailbox=E.Fa)(),nr=e=>(nr=E.Ga)(e),or=(e,t)=>(or=E.Ha)(e,t),Ot=()=>(Ot=E.Ia)(),lt=e=>(lt=E.Ja)(e),wt=e=>(wt=E.Ka)(e);function Gr(e){e=Object.assign({},e);var t=f=>()=>f()>>>0,n=f=>b=>f(b)>>>0;return e.__errno_location=t(e.__errno_location),e.pthread_self=t(e.pthread_self),e.malloc=n(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=n(e.stackAlloc),e}a.keepRuntimeAlive=Se,a.wasmMemory=M,a.stackAlloc=wt,a.stackSave=Ot,a.stackRestore=lt,a.UTF8ToString=He,a.stringToUTF8=oe,a.lengthBytesUTF8=K,a.ExitStatus=Pe,a.PThread=T;var ct;Ce=function e(){ct||ar(),ct||(Ce=e)};function ar(){function e(){if(!ct&&(ct=!0,a.calledRun=!0,!ie)&&(_||je(Ee),R(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),!_)){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;){var t=a.postRun.shift();ee.unshift(t)}je(ee)}}if(!(0<pe))if(_)R(a),_||je(Ee),startWorker(a);else{if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)se.unshift(a.preRun.shift());je(se),0<pe||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),e()},1)):e())}}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return ar(),m.ready}})();typeof yr=="object"&&typeof Rt=="object"?Rt.exports=hr:typeof define=="function"&&define.amd&&define([],()=>hr)});var Or=rt((hn,Kr)=>{Kr.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var vr;vr=cr();var en=br(),Dt,xt=!1,dt=!1,wr=!1,tn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},rn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},nn=(u,m)=>u?m?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":m?"ort-wasm-threaded.wasm":"ort-wasm.wasm",_r=async u=>{if(xt)return Promise.resolve();if(dt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(wr)throw new Error("previous call to \'initializeWebAssembly()\' failed.");dt=!0;let m=u.initTimeout,o=u.numThreads,y=u.simd,l=o>1&&tn(),O=y&&rn(),g=u.wasmPaths,a=typeof g=="string"?g:void 0,R=nn(O,l),x=typeof g=="object"?g[R]:void 0,U=!1,B=[];if(m>0&&B.push(new Promise(D=>{setTimeout(()=>{U=!0,D()},m)})),B.push(new Promise((D,I)=>{let k=l?en:vr,L={locateFile:(_,F)=>l&&_.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Or()],{type:"text/javascript"})):_.endsWith(".wasm")?x||(a??F)+R:F+_};if(l)if(L.numThreads=o,typeof Blob>"u")L.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let _=`var ortWasmThreaded=${k.toString()};`;L.mainScriptUrlOrBlob=new Blob([_],{type:"text/javascript"})}k(L).then(_=>{dt=!1,xt=!0,Dt=_,D()},_=>{dt=!1,wr=!0,I(_)})})),await Promise.race(B),U)throw new Error(`WebAssembly backend initializing failed due to timeout: ${m}ms`)},V=()=>{if(xt&&Dt)return Dt;throw new Error("WebAssembly is not initialized yet.")};var J=(u,m)=>{let o=V(),y=o.lengthBytesUTF8(u)+1,l=o._malloc(y);return o.stringToUTF8(u,l,y),m.push(l),l},ot=(u,m,o,y)=>{if(typeof u=="object"&&u!==null){if(o.has(u))throw new Error("Circular reference in options");o.add(u)}Object.entries(u).forEach(([l,O])=>{let g=m?m+l:l;if(typeof O=="object")ot(O,g+".",o,y);else if(typeof O=="string"||typeof O=="number")y(g,O.toString());else if(typeof O=="boolean")y(g,O?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof O}`)})},$=u=>{let m=V(),o=m.stackSave();try{let y=m.stackAlloc(8);m._OrtGetLastError(y,y+4);let l=m.HEAP32[y/4],O=m.HEAPU32[y/4+1],g=O?m.UTF8ToString(O):"";throw new Error(`${u} ERROR_CODE: ${l}, ERROR_MESSAGE: ${g}`)}finally{m.stackRestore(o)}};var Er=u=>{let m=V(),o=0,y=[],l=u||{};try{if(u?.logSeverityLevel===void 0)l.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if(u?.logVerbosityLevel===void 0)l.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);u?.terminate===void 0&&(l.terminate=!1);let O=0;return u?.tag!==void 0&&(O=J(u.tag,y)),o=m._OrtCreateRunOptions(l.logSeverityLevel,l.logVerbosityLevel,!!l.terminate,O),o===0&&$("Can\'t create run options."),u?.extra!==void 0&&ot(u.extra,"",new WeakSet,(g,a)=>{let R=J(g,y),x=J(a,y);m._OrtAddRunConfigEntry(o,R,x)!==0&&$(`Can\'t set a run config entry: ${g} - ${a}.`)}),[o,y]}catch(O){throw o!==0&&m._OrtReleaseRunOptions(o),y.forEach(g=>m._free(g)),O}};var on=u=>{switch(u){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${u}`)}},an=u=>{switch(u){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${u}`)}},sn=u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});let m=u.extra.session;m.use_ort_model_bytes_directly||(m.use_ort_model_bytes_directly="1"),u.executionProviders&&u.executionProviders.some(o=>(typeof o=="string"?o:o.name)==="webgpu")&&(u.enableMemPattern=!1)},un=(u,m,o)=>{for(let y of m){let l=typeof y=="string"?y:y.name;switch(l){case"xnnpack":l="XNNPACK";break;case"webnn":if(l="WEBNN",typeof y!="string"){let g=y;if(g?.deviceType){let a=J("deviceType",o),R=J(g.deviceType,o);V()._OrtAddSessionConfigEntry(u,a,R)!==0&&$(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.numThreads){let a=g.numThreads;(typeof a!="number"||!Number.isInteger(a)||a<0)&&(a=0);let R=J("numThreads",o),x=J(a.toString(),o);V()._OrtAddSessionConfigEntry(u,R,x)!==0&&$(`Can\'t set a session config entry: \'numThreads\' - ${g.numThreads}.`)}if(g?.powerPreference){let a=J("powerPreference",o),R=J(g.powerPreference,o);V()._OrtAddSessionConfigEntry(u,a,R)!==0&&$(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(l="JS",typeof y!="string"){let g=y;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let a=J("preferredLayout",o),R=J(g.preferredLayout,o);V()._OrtAddSessionConfigEntry(u,a,R)!==0&&$(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${l}`)}let O=J(l,o);V()._OrtAppendExecutionProvider(u,O)!==0&&$(`Can\'t append execution provider: ${l}.`)}},Sr=u=>{let m=V(),o=0,y=[],l=u||{};sn(l);try{let O=on(l.graphOptimizationLevel??"all"),g=an(l.executionMode??"sequential"),a=typeof l.logId=="string"?J(l.logId,y):0,R=l.logSeverityLevel??2;if(!Number.isInteger(R)||R<0||R>4)throw new Error(`log serverity level is not valid: ${R}`);let x=l.logVerbosityLevel??0;if(!Number.isInteger(x)||x<0||x>4)throw new Error(`log verbosity level is not valid: ${x}`);let U=typeof l.optimizedModelFilePath=="string"?J(l.optimizedModelFilePath,y):0;if(o=m._OrtCreateSessionOptions(O,!!l.enableCpuMemArena,!!l.enableMemPattern,g,!!l.enableProfiling,0,a,R,x,U),o===0&&$("Can\'t create session options."),l.executionProviders&&un(o,l.executionProviders,y),l.freeDimensionOverrides)for(let[B,D]of Object.entries(l.freeDimensionOverrides)){if(typeof B!="string")throw new Error(`free dimension override name must be a string: ${B}`);if(typeof D!="number"||!Number.isInteger(D)||D<0)throw new Error(`free dimension override value must be a non-negative integer: ${D}`);let I=J(B,y);m._OrtAddFreeDimensionOverride(o,I,D)!==0&&$(`Can\'t set a free dimension override: ${B} - ${D}.`)}return l.extra!==void 0&&ot(l.extra,"",new WeakSet,(B,D)=>{let I=J(B,y),k=J(D,y);m._OrtAddSessionConfigEntry(o,I,k)!==0&&$(`Can\'t set a session config entry: ${B} - ${D}.`)}),[o,y]}catch(O){throw o!==0&&m._OrtReleaseSessionOptions(o),y.forEach(g=>m._free(g)),O}};var It=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},Tr=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},Ft=u=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][u],Ar=u=>{switch(u){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}},Mr=u=>{switch(u){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${u}`)}},Cr=u=>u==="float32"||u==="int32"||u==="int64"||u==="bool"||u==="float16"||u==="uint32",Rr=u=>{switch(u){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${u}`)}};var fn=(u,m)=>{V()._OrtInit(u,m)!==0&&$("Can\'t initialize onnxruntime.")},xr=async u=>{fn(u.wasm.numThreads,Mr(u.logLevel))},Ir=async(u,m)=>{},at=new Map,ln=u=>{let m=V(),o=m.stackSave();try{let y=m.stackAlloc(8);return m._OrtGetInputOutputCount(u,y,y+4)!==0&&$("Can\'t get session input/output count."),[m.HEAP32[y/4],m.HEAP32[y/4+1]]}finally{m.stackRestore(o)}},Pt=u=>{let m=V(),o=m._malloc(u.byteLength);if(o===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${u.byteLength}.`);return m.HEAPU8.set(u,o),[o,u.byteLength]},Fr=(u,m)=>{let o,y,l=V();Array.isArray(u)?[o,y]=u:u.buffer===l.HEAPU8.buffer?[o,y]=[u.byteOffset,u.byteLength]:[o,y]=Pt(u);let O=0,g=0,a=0,R=[],x=[],U=[];try{[g,R]=Sr(m),O=l._OrtCreateSession(o,y,g),O===0&&$("Can\'t create a session.");let[B,D]=ln(O),I=[],k=[],L=[];for(let F=0;F<B;F++){let q=l._OrtGetInputName(O,F);q===0&&$("Can\'t get an input name."),x.push(q),I.push(l.UTF8ToString(q))}for(let F=0;F<D;F++){let q=l._OrtGetOutputName(O,F);q===0&&$("Can\'t get an output name."),U.push(q);let De=l.UTF8ToString(q);k.push(De)}let _=null;return at.set(O,[O,x,U,_]),[O,I,k]}catch(B){throw x.forEach(D=>l._OrtFree(D)),U.forEach(D=>l._OrtFree(D)),a!==0&&l._OrtReleaseBinding(a),O!==0&&l._OrtReleaseSession(O),B}finally{l._free(o),g!==0&&l._OrtReleaseSessionOptions(g),R.forEach(B=>l._free(B))}},Pr=u=>{let m=V(),o=at.get(u);if(!o)throw new Error(`cannot release session. invalid session id: ${u}`);let[y,l,O,g]=o;g&&m._OrtReleaseBinding(g.handle),m.jsepUnregisterBuffers?.(u),l.forEach(a=>m._OrtFree(a)),O.forEach(a=>m._OrtFree(a)),m._OrtReleaseSession(y),at.delete(u)},Dr=(u,m,o,y,l)=>{if(!u){m.push(0);return}let O=V(),g=u[0],a=u[1],R=u[3],x,U;if(g==="string"&&R==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(R==="gpu-buffer"){let I=u[2].gpuBuffer,k=Ft(It(g));U=a.reduce((L,_)=>L*_,1)*k,x=O.jsepRegisterBuffer(y,l,I,U)}else{let I=u[2];if(Array.isArray(I)){U=4*I.length,x=O._malloc(U),o.push(x);let k=x/4;for(let L=0;L<I.length;L++){if(typeof I[L]!="string")throw new TypeError(`tensor data at index ${L} is not a string`);O.HEAPU32[k++]=J(I[L],o)}}else U=I.byteLength,x=O._malloc(U),o.push(x),O.HEAPU8.set(new Uint8Array(I.buffer,I.byteOffset,U),x)}let B=O.stackSave(),D=O.stackAlloc(4*a.length);try{let I=D/4;a.forEach(L=>O.HEAP32[I++]=L);let k=O._OrtCreateTensor(It(g),x,U,D,a.length,Rr(R));k===0&&$(`Can\'t create tensor for input/output. session=${y}, index=${l}.`),m.push(k)}finally{O.stackRestore(B)}},Ur=async(u,m,o,y,l,O)=>{let g=V(),a=at.get(u);if(!a)throw new Error(`cannot run inference. invalid session id: ${u}`);let[R,x,U,B]=a,D=m.length,I=y.length,k=0,L=[],_=[],F=[],q=[],De=g.stackSave(),ce=g.stackAlloc(D*4),C=g.stackAlloc(D*4),he=g.stackAlloc(I*4),ye=g.stackAlloc(I*4);try{[k,L]=Er(O);for(let M=0;M<D;M++)Dr(o[M],_,q,u,m[M]);for(let M=0;M<I;M++)Dr(l[M],F,q,u,D+y[M]);let X=ce/4,S=C/4,Z=he/4,re=ye/4;for(let M=0;M<D;M++)g.HEAPU32[X++]=_[M],g.HEAPU32[S++]=x[m[M]];for(let M=0;M<I;M++)g.HEAPU32[Z++]=F[M],g.HEAPU32[re++]=U[y[M]];let be;be=await g._OrtRun(R,C,ce,D,ye,I,he,k),be!==0&&$("failed to call OrtRun().");let Oe=[];for(let M=0;M<I;M++){let E=g.HEAPU32[he/4+M];if(E===F[M]){Oe.push(l[M]);continue}let de=g.stackSave(),ie=g.stackAlloc(4*4),ne=!1,Y,ue=0;try{g._OrtGetTensorData(E,ie,ie+4,ie+8,ie+12)!==0&&$(`Can\'t access output tensor data on index ${M}.`);let ve=ie/4,xe=g.HEAPU32[ve++];ue=g.HEAPU32[ve++];let me=g.HEAPU32[ve++],Me=g.HEAPU32[ve++],_e=[];for(let ee=0;ee<Me;ee++)_e.push(g.HEAPU32[me/4+ee]);g._OrtFree(me);let se=_e.reduce((ee,Q)=>ee*Q,1);Y=Tr(xe);let Ee=B?.outputPreferredLocations[y[M]];if(Y==="string"){if(Ee==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let ee=[],Q=ue/4;for(let Se=0;Se<se;Se++){let pe=g.HEAPU32[Q++],Ie=Se===se-1?void 0:g.HEAPU32[Q]-pe;ee.push(g.UTF8ToString(pe,Ie))}Oe.push([Y,_e,ee,"cpu"])}else if(Ee==="gpu-buffer"&&se>0){let ee=g.jsepGetBuffer(ue),Q=Ft(xe);if(Q===void 0||!Cr(Y))throw new Error(`Unsupported data type: ${Y}`);ne=!0,Oe.push([Y,_e,{gpuBuffer:ee,download:g.jsepCreateDownloader(ee,se*Q,Y),dispose:()=>{g._OrtReleaseTensor(E)}},"gpu-buffer"])}else{let ee=Ar(Y),Q=new ee(se);new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength).set(g.HEAPU8.subarray(ue,ue+Q.byteLength)),Oe.push([Y,_e,Q,"cpu"])}}finally{g.stackRestore(de),Y==="string"&&ue&&g._free(ue),ne||g._OrtReleaseTensor(E)}}return B&&g._OrtClearBoundOutputs(B.handle),Oe}finally{g.stackRestore(De),_.forEach(X=>g._OrtReleaseTensor(X)),F.forEach(X=>g._OrtReleaseTensor(X)),q.forEach(X=>g._free(X)),k!==0&&g._OrtReleaseRunOptions(k),L.forEach(X=>g._free(X))}},Lr=u=>{let m=V(),o=at.get(u);if(!o)throw new Error("invalid session id");let y=o[0],l=m._OrtEndProfiling(y);l===0&&$("Can\'t get an profile file name."),m._OrtFree(l)},Br=u=>{let m=[];for(let o of u){let y=o[2];!Array.isArray(y)&&"buffer"in y&&m.push(y.buffer)}return m};self.onmessage=u=>{let{type:m,in:o}=u.data;try{switch(m){case"init-wasm":_r(o.wasm).then(()=>{xr(o).then(()=>{postMessage({type:m})},y=>{postMessage({type:m,err:y})})},y=>{postMessage({type:m,err:y})});break;case"init-ep":{let{epName:y,env:l}=o;Ir(l,y).then(()=>{postMessage({type:m})},O=>{postMessage({type:m,err:O})});break}case"copy-from":{let{buffer:y}=o,l=Pt(y);postMessage({type:m,out:l});break}case"create":{let{model:y,options:l}=o,O=Fr(y,l);postMessage({type:m,out:O});break}case"release":Pr(o),postMessage({type:m});break;case"run":{let{sessionId:y,inputIndices:l,inputs:O,outputIndices:g,options:a}=o;Ur(y,l,O,g,new Array(g.length).fill(null),a).then(R=>{R.some(x=>x[3]!=="cpu")?postMessage({type:m,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:m,out:R},Br(R))},R=>{postMessage({type:m,err:R})});break}case"end-profiling":Lr(o),postMessage({type:m});break;default:}}catch(y){postMessage({type:m,err:y})}};})();\n'});var Xe,Oe,Et,jt,zt,yr,wr,it,st,za,Ht,ea,ta,ra,na,aa,oa,ia,br=W(()=>{"use strict";Ve();Qn();ot();Xe=()=>!!z.wasm.proxy&&typeof document<"u",Et=!1,jt=!1,zt=!1,wr=new Map,it=(r,n)=>{let t=wr.get(r);t?t.push(n):wr.set(r,[n])},st=()=>{if(Et||!jt||zt||!Oe)throw new Error("worker not ready")},za=r=>{switch(r.data.type){case"init-wasm":Et=!1,r.data.err?(zt=!0,yr[1](r.data.err)):(jt=!0,yr[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let n=wr.get(r.data.type);r.data.err?n.shift()[1](r.data.err):n.shift()[0](r.data.out);break}default:}},Ht=typeof document<"u"?document?.currentScript?.src:void 0,ea=async()=>{if(!jt){if(Et)throw new Error("multiple calls to 'initWasm()' detected.");if(zt)throw new Error("previous call to 'initWasm()' failed.");if(Et=!0,Xe())return z.wasm.wasmPaths===void 0&&Ht&&Ht.indexOf("blob:")!==0&&(z.wasm.wasmPaths=Ht.substr(0,+Ht.lastIndexOf("/")+1)),new Promise((r,n)=>{Oe?.terminate();let t=URL.createObjectURL(new Blob([Kn()],{type:"text/javascript"}));Oe=new Worker(t,{name:"ort-wasm-proxy-worker"}),Oe.onerror=s=>n(s),Oe.onmessage=za,URL.revokeObjectURL(t),yr=[r,n];let f={type:"init-wasm",in:z};Oe.postMessage(f)});try{await Bn(z.wasm),await Gn(z),jt=!0}catch(r){throw zt=!0,r}finally{Et=!1}}},ta=async r=>{if(Xe())return st(),new Promise((n,t)=>{it("init-ep",[n,t]);let f={type:"init-ep",in:{epName:r,env:z}};Oe.postMessage(f)});await $n(z,r)},ra=async r=>Xe()?(st(),new Promise((n,t)=>{it("copy-from",[n,t]);let f={type:"copy-from",in:{buffer:r}};Oe.postMessage(f,[r.buffer])})):gr(r),na=async(r,n)=>{if(Xe()){if(n?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return st(),new Promise((t,f)=>{it("create",[t,f]);let s={type:"create",in:{model:r,options:n}},p=[];r instanceof Uint8Array&&p.push(r.buffer),Oe.postMessage(s,p)})}else return qn(r,n)},aa=async r=>{if(Xe())return st(),new Promise((n,t)=>{it("release",[n,t]);let f={type:"release",in:r};Oe.postMessage(f)});Vn(r)},oa=async(r,n,t,f,s,p)=>{if(Xe()){if(t.some(d=>d[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(s.some(d=>d))throw new Error("pre-allocated output tensor is not supported for proxy.");return st(),new Promise((d,i)=>{it("run",[d,i]);let w=t,h={type:"run",in:{sessionId:r,inputIndices:n,inputs:w,outputIndices:f,options:p}};Oe.postMessage(h,Zn(w))})}else return Xn(r,n,t,f,s,p)},ia=async r=>{if(Xe())return st(),new Promise((n,t)=>{it("end-profiling",[n,t]);let f={type:"end-profiling",in:r};Oe.postMessage(f)});Jn(r)}});var sa,Ya,Yt,ua=W(()=>{"use strict";Ve();br();hr();sa=(r,n)=>{switch(r.location){case"cpu":return[r.type,r.dims,r.data,"cpu"];case"gpu-buffer":return[r.type,r.dims,{gpuBuffer:r.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${r.location} for ${n()}`)}},Ya=r=>{switch(r[3]){case"cpu":return new de(r[0],r[2],r[1]);case"gpu-buffer":{let n=r[0];if(!Wt(n))throw new Error(`not supported data type: ${n} for deserializing GPU tensor`);let{gpuBuffer:t,download:f,dispose:s}=r[2];return de.fromGpuBuffer(t,{dataType:n,dims:r[1],download:f,dispose:s})}default:throw new Error(`invalid data location: ${r[3]}`)}},Yt=class{async fetchModelAndCopyToWasmMemory(n){let t=await fetch(n);if(t.status!==200)throw new Error(`failed to load model: ${n}`);let f=await t.arrayBuffer();return ra(new Uint8Array(f))}async loadModel(n,t){$e();let f;typeof n=="string"?typeof process<"u"&&process.versions&&process.versions.node?f=await(void 0)(n):f=await this.fetchModelAndCopyToWasmMemory(n):f=n,[this.sessionId,this.inputNames,this.outputNames]=await na(f,t),qe()}async dispose(){return aa(this.sessionId)}async run(n,t,f){$e();let s=[],p=[];Object.entries(n).forEach(O=>{let S=O[0],L=O[1],I=this.inputNames.indexOf(S);if(I===-1)throw new Error(`invalid input '${S}'`);s.push(L),p.push(I)});let d=[],i=[];Object.entries(t).forEach(O=>{let S=O[0],L=O[1],I=this.outputNames.indexOf(S);if(I===-1)throw new Error(`invalid output '${S}'`);d.push(L),i.push(I)});let w=s.map((O,S)=>sa(O,()=>`input "${this.inputNames[p[S]]}"`)),h=d.map((O,S)=>O?sa(O,()=>`output "${this.outputNames[i[S]]}"`):null),v=await oa(this.sessionId,p,w,i,h,f),_={};for(let O=0;O<v.length;O++)_[this.outputNames[i[O]]]=d[O]??Ya(v[O]);return qe(),_}startProfiling(){}endProfiling(){ia(this.sessionId)}}});var Ga,Gt,fa=W(()=>{"use strict";Ve();br();ua();Ga=()=>{if((typeof z.wasm.initTimeout!="number"||z.wasm.initTimeout<0)&&(z.wasm.initTimeout=0),typeof z.wasm.simd!="boolean"&&(z.wasm.simd=!0),typeof z.wasm.proxy!="boolean"&&(z.wasm.proxy=!1),typeof z.wasm.trace!="boolean"&&(z.wasm.trace=!1),typeof z.wasm.numThreads!="number"||!Number.isInteger(z.wasm.numThreads)||z.wasm.numThreads<=0){let r=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;z.wasm.numThreads=Math.min(4,Math.ceil((r||1)/2))}},Gt=class{async init(n){Ga(),await ea(),await ta(n)}async createInferenceSessionHandler(n,t){let f=new Yt;return await f.loadModel(n,t),Promise.resolve(f)}}});var la={};bt(la,{wasmBackend:()=>$a});var $a,ca=W(()=>{"use strict";fa();$a=new Gt});Ve();Ve();Ve();var On="1.17.0";var Ai=ar;{let r=(ca(),at(la)).wasmBackend;Ye("cpu",r,10),Ye("wasm",r,10),Ye("xnnpack",r,9),Ye("webnn",r,9)}Object.defineProperty(z.versions,"web",{value:On,enumerable:!0});export{Ta as InferenceSession,mn as TRACE,$e as TRACE_FUNC_BEGIN,qe as TRACE_FUNC_END,de as Tensor,Aa as TrainingSession,Ai as default,z as env,Ye as registerBackend};
//# sourceMappingURL=ort.wasm.min.js.map

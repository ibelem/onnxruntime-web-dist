/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
var Xe=Object.defineProperty;var jr=Object.getOwnPropertyDescriptor;var $r=Object.getOwnPropertyNames;var Gr=Object.prototype.hasOwnProperty;var B=(r,t)=>()=>(r&&(t=r(r=0)),t);var Yr=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),_e=(r,t)=>{for(var e in t)Xe(r,e,{get:t[e],enumerable:!0})},qr=(r,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $r(t))!Gr.call(r,o)&&o!==e&&Xe(r,o,{get:()=>t[o],enumerable:!(i=jr(t,o))||i.enumerable});return r};var Je=r=>qr(Xe({},"__esModule",{value:!0}),r);var De,ue,fe,Ce,Re=B(()=>{De=new Map,ue=[],fe=(r,t,e)=>{if(t&&typeof t.init=="function"&&typeof t.createInferenceSessionHandler=="function"){let i=De.get(r);if(i===void 0)De.set(r,{backend:t,priority:e});else{if(i.priority>e)return;if(i.priority===e&&i.backend!==t)throw new Error(`cannot register backend "${r}" using priority ${e}`)}if(e>=0){let o=ue.indexOf(r);o!==-1&&ue.splice(o,1);for(let c=0;c<ue.length;c++)if(De.get(ue[c]).priority<=e){ue.splice(c,0,r);return}ue.push(r)}return}throw new TypeError("not a valid backend")},Ce=async r=>{let t=r.length===0?ue:r,e=[];for(let i of t){let o=De.get(i);if(o){if(o.initialized)return o.backend;if(o.aborted)continue;let c=!!o.initPromise;try{return c||(o.initPromise=o.backend.init(i)),await o.initPromise,o.initialized=!0,o.backend}catch(u){c||e.push({name:i,err:u}),o.aborted=!0}finally{delete o.initPromise}}}throw new Error(`no available backend found. ERR: ${e.map(i=>`[${i.name}] ${i.err}`).join(", ")}`)}});var xt=B(()=>{Re()});var Bt,Pt=B(()=>{Bt="1.17.0"});var _t,ce,Ke=B(()=>{Pt();_t="warning",ce={wasm:{},webgl:{},webgpu:{},versions:{common:Bt},set logLevel(r){if(r!==void 0){if(typeof r!="string"||["verbose","info","warning","error","fatal"].indexOf(r)===-1)throw new Error(`Unsupported logging level: ${r}`);_t=r}},get logLevel(){return _t}};Object.defineProperty(ce,"logLevel",{enumerable:!0})});var U,Dt=B(()=>{Ke();U=ce});var Ct,Rt,Ut=B(()=>{Ct=(r,t)=>{let e=document.createElement("canvas");e.width=r.dims[3],e.height=r.dims[2];let i=e.getContext("2d");if(i!=null){let o,c;t?.tensorLayout!==void 0&&t.tensorLayout==="NHWC"?(o=r.dims[2],c=r.dims[3]):(o=r.dims[3],c=r.dims[2]);let u=t?.format!==void 0?t.format:"RGB",d=t?.norm,p,f;d===void 0||d.mean===void 0?p=[255,255,255,255]:typeof d.mean=="number"?p=[d.mean,d.mean,d.mean,d.mean]:(p=[d.mean[0],d.mean[1],d.mean[2],0],d.mean[3]!==void 0&&(p[3]=d.mean[3])),d===void 0||d.bias===void 0?f=[0,0,0,0]:typeof d.bias=="number"?f=[d.bias,d.bias,d.bias,d.bias]:(f=[d.bias[0],d.bias[1],d.bias[2],0],d.bias[3]!==void 0&&(f[3]=d.bias[3]));let h=c*o,w=0,y=h,g=h*2,v=-1;u==="RGBA"?(w=0,y=h,g=h*2,v=h*3):u==="RGB"?(w=0,y=h,g=h*2):u==="RBG"&&(w=0,g=h,y=h*2);for(let O=0;O<c;O++)for(let _=0;_<o;_++){let A=(r.data[w++]-f[0])*p[0],P=(r.data[y++]-f[1])*p[1],z=(r.data[g++]-f[2])*p[2],j=v===-1?255:(r.data[v++]-f[3])*p[3];i.fillStyle="rgba("+A+","+P+","+z+","+j+")",i.fillRect(_,O,1,1)}return e.toDataURL()}else throw new Error("Can not access image data")},Rt=(r,t)=>{let e=document.createElement("canvas").getContext("2d"),i;if(e!=null){let o,c,u;t?.tensorLayout!==void 0&&t.tensorLayout==="NHWC"?(o=r.dims[2],c=r.dims[1],u=r.dims[3]):(o=r.dims[3],c=r.dims[2],u=r.dims[1]);let d=t!==void 0&&t.format!==void 0?t.format:"RGB",p=t?.norm,f,h;p===void 0||p.mean===void 0?f=[255,255,255,255]:typeof p.mean=="number"?f=[p.mean,p.mean,p.mean,p.mean]:(f=[p.mean[0],p.mean[1],p.mean[2],255],p.mean[3]!==void 0&&(f[3]=p.mean[3])),p===void 0||p.bias===void 0?h=[0,0,0,0]:typeof p.bias=="number"?h=[p.bias,p.bias,p.bias,p.bias]:(h=[p.bias[0],p.bias[1],p.bias[2],0],p.bias[3]!==void 0&&(h[3]=p.bias[3]));let w=c*o;if(t!==void 0&&(t.format!==void 0&&u===4&&t.format!=="RGBA"||u===3&&t.format!=="RGB"&&t.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let y=4,g=0,v=1,O=2,_=3,A=0,P=w,z=w*2,j=-1;d==="RGBA"?(A=0,P=w,z=w*2,j=w*3):d==="RGB"?(A=0,P=w,z=w*2):d==="RBG"&&(A=0,z=w,P=w*2),i=e.createImageData(o,c);for(let S=0;S<c*o;g+=y,v+=y,O+=y,_+=y,S++)i.data[g]=(r.data[A++]-h[0])*f[0],i.data[v]=(r.data[P++]-h[1])*f[1],i.data[O]=(r.data[z++]-h[2])*f[2],i.data[_]=j===-1?255:(r.data[j++]-h[3])*f[3]}else throw new Error("Can not access image data");return i}});var Ze,Lt,Mt,kt,Ft,Nt=B(()=>{Ue();Ze=(r,t)=>{if(r===void 0)throw new Error("Image buffer must be defined");if(t.height===void 0||t.width===void 0)throw new Error("Image height and width must be defined");if(t.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:e,width:i}=t,o=t.norm??{mean:255,bias:0},c,u;typeof o.mean=="number"?c=[o.mean,o.mean,o.mean,o.mean]:c=[o.mean[0],o.mean[1],o.mean[2],o.mean[3]??255],typeof o.bias=="number"?u=[o.bias,o.bias,o.bias,o.bias]:u=[o.bias[0],o.bias[1],o.bias[2],o.bias[3]??0];let d=t.format!==void 0?t.format:"RGBA",p=t.tensorFormat!==void 0&&t.tensorFormat!==void 0?t.tensorFormat:"RGB",f=e*i,h=p==="RGBA"?new Float32Array(f*4):new Float32Array(f*3),w=4,y=0,g=1,v=2,O=3,_=0,A=f,P=f*2,z=-1;d==="RGB"&&(w=3,y=0,g=1,v=2,O=-1),p==="RGBA"?z=f*3:p==="RBG"?(_=0,P=f,A=f*2):p==="BGR"&&(P=0,A=f,_=f*2);for(let S=0;S<f;S++,y+=w,v+=w,g+=w,O+=w)h[_++]=(r[y]+u[0])/c[0],h[A++]=(r[g]+u[1])/c[1],h[P++]=(r[v]+u[2])/c[2],z!==-1&&O!==-1&&(h[z++]=(r[O]+u[3])/c[3]);return p==="RGBA"?new Y("float32",h,[1,4,e,i]):new Y("float32",h,[1,3,e,i])},Lt=async(r,t)=>{let e=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,i=typeof ImageData<"u"&&r instanceof ImageData,o=typeof ImageBitmap<"u"&&r instanceof ImageBitmap,c=typeof r=="string",u,d=t??{};if(e){let p=document.createElement("canvas");p.width=r.width,p.height=r.height;let f=p.getContext("2d");if(f!=null){let h=r.height,w=r.width;if(t!==void 0&&t.resizedHeight!==void 0&&t.resizedWidth!==void 0&&(h=t.resizedHeight,w=t.resizedWidth),t!==void 0){if(d=t,t.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");d.tensorFormat="RGBA",d.height=h,d.width=w}else d.tensorFormat="RGBA",d.height=h,d.width=w;f.drawImage(r,0,0),u=f.getImageData(0,0,w,h).data}else throw new Error("Can not access image data")}else if(i){let p,f;if(t!==void 0&&t.resizedWidth!==void 0&&t.resizedHeight!==void 0?(p=t.resizedHeight,f=t.resizedWidth):(p=r.height,f=r.width),t!==void 0&&(d=t),d.format="RGBA",d.height=p,d.width=f,t!==void 0){let h=document.createElement("canvas");h.width=f,h.height=p;let w=h.getContext("2d");if(w!=null)w.putImageData(r,0,0),u=w.getImageData(0,0,f,p).data;else throw new Error("Can not access image data")}else u=r.data}else if(o){if(t===void 0)throw new Error("Please provide image config with format for Imagebitmap");let p=document.createElement("canvas");p.width=r.width,p.height=r.height;let f=p.getContext("2d");if(f!=null){let h=r.height,w=r.width;return f.drawImage(r,0,0,w,h),u=f.getImageData(0,0,w,h).data,d.height=h,d.width=w,Ze(u,d)}else throw new Error("Can not access image data")}else{if(c)return new Promise((p,f)=>{let h=document.createElement("canvas"),w=h.getContext("2d");if(!r||!w)return f();let y=new Image;y.crossOrigin="Anonymous",y.src=r,y.onload=()=>{h.width=y.width,h.height=y.height,w.drawImage(y,0,0,h.width,h.height);let g=w.getImageData(0,0,h.width,h.height);d.height=h.height,d.width=h.width,p(Ze(g.data,d))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(u!==void 0)return Ze(u,d);throw new Error("Input data provided is not supported - aborted tensor creation")},Mt=(r,t)=>{let{width:e,height:i,download:o,dispose:c}=t,u=[1,i,e,4];return new Y({location:"texture",type:"float32",texture:r,dims:u,download:o,dispose:c})},kt=(r,t)=>{let{dataType:e,dims:i,download:o,dispose:c}=t;return new Y({location:"gpu-buffer",type:e??"float32",gpuBuffer:r,dims:i,download:o,dispose:c})},Ft=(r,t,e)=>new Y({location:"cpu-pinned",type:r,data:t,dims:e??[t.length]})});var Se,Le,Wt,Ht,zt=B(()=>{Se=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Le=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),Wt=!1,Ht=()=>{if(!Wt){Wt=!0;let r=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",t=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";r&&(Se.set("int64",BigInt64Array),Le.set(BigInt64Array,"int64")),t&&(Se.set("uint64",BigUint64Array),Le.set(BigUint64Array,"uint64"))}}});var jt,$t,Gt=B(()=>{Ue();jt=r=>{let t=1;for(let e=0;e<r.length;e++){let i=r[e];if(typeof i!="number"||!Number.isSafeInteger(i))throw new TypeError(`dims[${e}] must be an integer, got: ${i}`);if(i<0)throw new RangeError(`dims[${e}] must be a non-negative integer, got: ${i}`);t*=i}return t},$t=(r,t)=>{switch(r.location){case"cpu":return new Y(r.type,r.data,t);case"cpu-pinned":return new Y({location:"cpu-pinned",data:r.data,type:r.type,dims:t});case"texture":return new Y({location:"texture",texture:r.texture,type:r.type,dims:t});case"gpu-buffer":return new Y({location:"gpu-buffer",gpuBuffer:r.gpuBuffer,type:r.type,dims:t});default:throw new Error(`tensorReshape: tensor location ${r.location} is not supported`)}}});var Y,Ue=B(()=>{Ut();Nt();zt();Gt();Y=class{constructor(t,e,i){Ht();let o,c;if(typeof t=="object"&&"location"in t)switch(this.dataLocation=t.location,o=t.type,c=t.dims,t.location){case"cpu-pinned":{let d=Se.get(o);if(!d)throw new TypeError(`unsupported type "${o}" to create tensor from pinned buffer`);if(!(t.data instanceof d))throw new TypeError(`buffer should be of type ${d.name}`);this.cpuData=t.data;break}case"texture":{if(o!=="float32")throw new TypeError(`unsupported type "${o}" to create tensor from texture`);this.gpuTextureData=t.texture,this.downloader=t.download,this.disposer=t.dispose;break}case"gpu-buffer":{if(o!=="float32"&&o!=="float16"&&o!=="int32"&&o!=="int64"&&o!=="uint32"&&o!=="bool")throw new TypeError(`unsupported type "${o}" to create tensor from gpu buffer`);this.gpuBufferData=t.gpuBuffer,this.downloader=t.download,this.disposer=t.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let d,p;if(typeof t=="string")if(o=t,p=i,t==="string"){if(!Array.isArray(e))throw new TypeError("A string tensor's data must be a string array.");d=e}else{let f=Se.get(t);if(f===void 0)throw new TypeError(`Unsupported tensor type: ${t}.`);if(Array.isArray(e)){if(t==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");t==="uint64"||t==="int64"?d=f.from(e,BigInt):d=f.from(e)}else if(e instanceof f)d=e;else throw new TypeError(`A ${o} tensor's data must be type of ${f}`)}else if(p=e,Array.isArray(t)){if(t.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let f=typeof t[0];if(f==="string")o="string",d=t;else if(f==="boolean")o="bool",d=Uint8Array.from(t);else throw new TypeError(`Invalid element type of data array: ${f}.`)}else{let f=Le.get(t.constructor);if(f===void 0)throw new TypeError(`Unsupported type for tensor data: ${t.constructor}.`);o=f,d=t}if(p===void 0)p=[d.length];else if(!Array.isArray(p))throw new TypeError("A tensor's dims must be a number array");c=p,this.cpuData=d,this.dataLocation="cpu"}let u=jt(c);if(this.cpuData&&u!==this.cpuData.length)throw new Error(`Tensor's size(${u}) does not match data length(${this.cpuData.length}).`);this.type=o,this.dims=c,this.size=u}static async fromImage(t,e){return Lt(t,e)}static fromTexture(t,e){return Mt(t,e)}static fromGpuBuffer(t,e){return kt(t,e)}static fromPinnedBuffer(t,e,i){return Ft(t,e,i)}toDataURL(t){return Ct(this,t)}toImageData(t){return Rt(this,t)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(t){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let e=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=e,t&&this.disposer&&(this.disposer(),this.disposer=void 0),e}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(t){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return $t(this,t)}}});var H,Me=B(()=>{Ue();H=Y});var Yt,qt,le,de,Qe=B(()=>{Ke();Yt=(r,t)=>{ce.wasm.trace&&console.timeStamp(`${r}::ORT::${t}`)},qt=(r,t)=>{let e=new Error().stack?.split(/\r\n|\r|\n/g)||[],i=!1;for(let o=0;o<e.length;o++){if(i&&!e[o].includes("TRACE_FUNC")){let c=`FUNC_${r}::${e[o].trim().split(" ")[1]}`;t&&(c+=`::${t}`),Yt("CPU",c);return}e[o].includes("TRACE_FUNC")&&(i=!0)}},le=r=>{ce.wasm.trace&&qt("BEGIN",r)},de=r=>{ce.wasm.trace&&qt("END",r)}});var ke,Vt=B(()=>{Re();Me();Qe();ke=class r{constructor(t){this.handler=t}async run(t,e,i){le();let o={},c={};if(typeof t!="object"||t===null||t instanceof H||Array.isArray(t))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let u=!0;if(typeof e=="object"){if(e===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(e instanceof H)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(e)){if(e.length===0)throw new TypeError("'fetches' cannot be an empty array.");u=!1;for(let f of e){if(typeof f!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(f)===-1)throw new RangeError(`'fetches' contains invalid output name: ${f}.`);o[f]=null}if(typeof i=="object"&&i!==null)c=i;else if(typeof i<"u")throw new TypeError("'options' must be an object.")}else{let f=!1,h=Object.getOwnPropertyNames(e);for(let w of this.outputNames)if(h.indexOf(w)!==-1){let y=e[w];(y===null||y instanceof H)&&(f=!0,u=!1,o[w]=y)}if(f){if(typeof i=="object"&&i!==null)c=i;else if(typeof i<"u")throw new TypeError("'options' must be an object.")}else c=e}}else if(typeof e<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let f of this.inputNames)if(typeof t[f]>"u")throw new Error(`input '${f}' is missing in 'feeds'.`);if(u)for(let f of this.outputNames)o[f]=null;let d=await this.handler.run(t,o,c),p={};for(let f in d)if(Object.hasOwnProperty.call(d,f)){let h=d[f];h instanceof H?p[f]=h:p[f]=new H(h.type,h.data,h.dims)}return de(),p}async release(){return this.handler.dispose()}static async create(t,e,i,o){le();let c,u={};if(typeof t=="string"){if(c=t,typeof e=="object"&&e!==null)u=e;else if(typeof e<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof Uint8Array){if(c=t,typeof e=="object"&&e!==null)u=e;else if(typeof e<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer){let w=t,y=0,g=t.byteLength;if(typeof e=="object"&&e!==null)u=e;else if(typeof e=="number"){if(y=e,!Number.isSafeInteger(y))throw new RangeError("'byteOffset' must be an integer.");if(y<0||y>=w.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${w.byteLength}).`);if(g=t.byteLength-y,typeof i=="number"){if(g=i,!Number.isSafeInteger(g))throw new RangeError("'byteLength' must be an integer.");if(g<=0||y+g>w.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${w.byteLength-y}].`);if(typeof o=="object"&&o!==null)u=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else if(typeof i<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof e<"u")throw new TypeError("'options' must be an object.");c=new Uint8Array(w,y,g)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let p=(u.executionProviders||[]).map(w=>typeof w=="string"?w:w.name),h=await(await Ce(p)).createInferenceSessionHandler(c,u);return de(),new r(h)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var Vr,Xt=B(()=>{Vt();Vr=ke});var Jt=B(()=>{});var Xr,Fe,Kt=B(()=>{Re();Me();Xr="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Fe=class r{constructor(t,e,i){this.handler=t,this.hasOptimizerModel=e,this.hasEvalModel=i}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(t,e){let i=t.evalModel||"",o=t.optimizerModel||"",c=e||{},d=(c.executionProviders||[]).map(f=>typeof f=="string"?f:f.name),p=await Ce(d);if(p.createTrainingSessionHandler){let f=await p.createTrainingSessionHandler(t.checkpointState,t.trainModel,i,o,c);return new r(f,!!t.optimizerModel,!!t.evalModel)}else throw new Error(Xr)}typeNarrowingForRunStep(t,e,i,o,c){let u={},d={};if(typeof i!="object"||i===null||i instanceof H||Array.isArray(i))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let p=!0;if(typeof o=="object"){if(o===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(o instanceof H)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(o)){if(o.length===0)throw new TypeError("'fetches' cannot be an empty array.");p=!1;for(let f of o){if(typeof f!="string")throw new TypeError("'fetches' must be a string array or an object.");if(e.indexOf(f)===-1)throw new RangeError(`'fetches' contains invalid output name: ${f}.`);u[f]=null}if(typeof c=="object"&&c!==null)d=c;else if(typeof c<"u")throw new TypeError("'options' must be an object.")}else{let f=!1,h=Object.getOwnPropertyNames(o);for(let w of e)if(h.indexOf(w)!==-1){let y=o[w];(y===null||y instanceof H)&&(f=!0,p=!1,u[w]=y)}if(f){if(typeof c=="object"&&c!==null)d=c;else if(typeof c<"u")throw new TypeError("'options' must be an object.")}else d=o}}else if(typeof o<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let f of t)if(typeof i[f]>"u")throw new Error(`input '${f}' is missing in 'feeds'.`);if(p)for(let f of e)u[f]=null;return[u,d]}convertHandlerReturnTypeToMapOfTensors(t){let e={};for(let i in t)if(Object.hasOwnProperty.call(t,i)){let o=t[i];o instanceof H?e[i]=o:e[i]=new H(o.type,o.data,o.dims)}return e}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(t,e,i){let[o,c]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,t,e,i),u=await this.handler.runTrainStep(t,o,c);return this.convertHandlerReturnTypeToMapOfTensors(u)}async runOptimizerStep(t){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(t||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(t,e,i){if(this.hasEvalModel){let[o,c]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,t,e,i),u=await this.handler.runEvalStep(t,o,c);return this.convertHandlerReturnTypeToMapOfTensors(u)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(t=!0){return this.handler.getParametersSize(t)}async loadParametersBuffer(t,e=!0){let i=await this.getParametersSize(e);if(t.length!==4*i)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(t,e)}async getContiguousParameters(t=!0){return this.handler.getContiguousParameters(t)}async release(){return this.handler.dispose()}}});var Jr,Zt=B(()=>{Kt();Jr=Fe});var et={};_e(et,{InferenceSession:()=>Vr,TRACE:()=>Yt,TRACE_FUNC_BEGIN:()=>le,TRACE_FUNC_END:()=>de,Tensor:()=>H,TrainingSession:()=>Jr,env:()=>U,registerBackend:()=>fe});var pe=B(()=>{xt();Dt();Xt();Me();Qe();Jt();Zt()});var er={};_e(er,{readFile:()=>Kr});var Kr,tr=B(()=>{Kr=void 0});var rr={};_e(rr,{join:()=>Zr});var Zr,nr=B(()=>{Zr=void 0});var ir=Yr((sr,tt)=>{"use strict";var or=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(t={}){var e=t,i,o;e.ready=new Promise((n,s)=>{i=n,o=s});var c=Object.assign({},e),u="./this.program",d=typeof window=="object",p=typeof importScripts=="function",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",h="",w,y,g;if(f){var v=(tr(),Je(er)),O=(nr(),Je(rr));h=p?O.dirname(h)+"/":__dirname+"/",w=(n,s)=>(n=n.startsWith("file://")?new URL(n):O.normalize(n),v.readFileSync(n,s?void 0:"utf8")),g=n=>(n=w(n,!0),n.buffer||(n=new Uint8Array(n)),n),y=(n,s,a,m=!0)=>{n=n.startsWith("file://")?new URL(n):O.normalize(n),v.readFile(n,m?void 0:"utf8",(b,T)=>{b?a(b):s(m?T.buffer:T)})},!e.thisProgram&&1<process.argv.length&&(u=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),e.inspect=()=>"[Emscripten Module object]"}else(d||p)&&(p?h=self.location.href:typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),r&&(h=r),h.indexOf("blob:")!==0?h=h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):h="",w=n=>{var s=new XMLHttpRequest;return s.open("GET",n,!1),s.send(null),s.responseText},p&&(g=n=>{var s=new XMLHttpRequest;return s.open("GET",n,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)}),y=(n,s,a)=>{var m=new XMLHttpRequest;m.open("GET",n,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?s(m.response):a()},m.onerror=a,m.send(null)});var _=e.print||console.log.bind(console),A=e.printErr||console.error.bind(console);Object.assign(e,c),c=null,e.thisProgram&&(u=e.thisProgram);var P;e.wasmBinary&&(P=e.wasmBinary);var z=e.noExitRuntime||!0;typeof WebAssembly!="object"&&N("no native wasm support detected");var j,S,me=!1,re,k,E,F;function Ae(){var n=j.buffer;e.HEAP8=re=new Int8Array(n),e.HEAP16=new Int16Array(n),e.HEAP32=E=new Int32Array(n),e.HEAPU8=k=new Uint8Array(n),e.HEAPU16=new Uint16Array(n),e.HEAPU32=F=new Uint32Array(n),e.HEAPF32=new Float32Array(n),e.HEAPF64=new Float64Array(n)}var ge=[],te=[],x=[];function ne(){var n=e.preRun.shift();ge.unshift(n)}var Q=0,Z=null,ee=null;function N(n){throw e.onAbort&&e.onAbort(n),n="Aborted("+n+")",A(n),me=!0,n=new WebAssembly.RuntimeError(n+". Build with -sASSERTIONS for more info."),o(n),n}function X(n){return n.startsWith("data:application/octet-stream;base64,")}var oe;if(oe="ort-wasm.wasm",!X(oe)){var se=oe;oe=e.locateFile?e.locateFile(se,h):h+se}function be(n){if(n==oe&&P)return new Uint8Array(P);if(g)return g(n);throw"both async and sync fetching of the wasm failed"}function Ie(n){if(!P&&(d||p)){if(typeof fetch=="function"&&!n.startsWith("file://"))return fetch(n,{credentials:"same-origin"}).then(s=>{if(!s.ok)throw"failed to load wasm binary file at '"+n+"'";return s.arrayBuffer()}).catch(()=>be(n));if(y)return new Promise((s,a)=>{y(n,m=>s(new Uint8Array(m)),a)})}return Promise.resolve().then(()=>be(n))}function xe(n,s,a){return Ie(n).then(m=>WebAssembly.instantiate(m,s)).then(m=>m).then(a,m=>{A("failed to asynchronously prepare wasm: "+m),N(m)})}function ie(n,s){var a=oe;return P||typeof WebAssembly.instantiateStreaming!="function"||X(a)||a.startsWith("file://")||f||typeof fetch!="function"?xe(a,n,s):fetch(a,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,n).then(s,function(b){return A("wasm streaming compile failed: "+b),A("falling back to ArrayBuffer instantiation"),xe(a,n,s)}))}var J,he=n=>{for(;0<n.length;)n.shift()(e)};function $(n){this.va=n-24,this.Ea=function(s){F[this.va+4>>2>>>0]=s},this.za=function(s){F[this.va+8>>2>>>0]=s},this.xa=function(s,a){this.ya(),this.Ea(s),this.za(a)},this.ya=function(){F[this.va+16>>2>>>0]=0}}var W=0,Ee=0,Te=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Be=(n,s,a)=>{s>>>=0;var m=s+a;for(a=s;n[a]&&!(a>=m);)++a;if(16<a-s&&n.buffer&&Te)return Te.decode(n.subarray(s,a));for(m="";s<a;){var b=n[s++];if(b&128){var T=n[s++]&63;if((b&224)==192)m+=String.fromCharCode((b&31)<<6|T);else{var I=n[s++]&63;b=(b&240)==224?(b&15)<<12|T<<6|I:(b&7)<<18|T<<12|I<<6|n[s++]&63,65536>b?m+=String.fromCharCode(b):(b-=65536,m+=String.fromCharCode(55296|b>>10,56320|b&1023))}}else m+=String.fromCharCode(b)}return m},$e=(n,s)=>(n>>>=0)?Be(k,n,s):"",Ge=n=>{for(var s=0,a=0;a<n.length;++a){var m=n.charCodeAt(a);127>=m?s++:2047>=m?s+=2:55296<=m&&57343>=m?(s+=4,++a):s+=3}return s},Ye=(n,s,a,m)=>{if(a>>>=0,!(0<m))return 0;var b=a;m=a+m-1;for(var T=0;T<n.length;++T){var I=n.charCodeAt(T);if(55296<=I&&57343>=I){var G=n.charCodeAt(++T);I=65536+((I&1023)<<10)|G&1023}if(127>=I){if(a>=m)break;s[a++>>>0]=I}else{if(2047>=I){if(a+1>=m)break;s[a++>>>0]=192|I>>6}else{if(65535>=I){if(a+2>=m)break;s[a++>>>0]=224|I>>12}else{if(a+3>=m)break;s[a++>>>0]=240|I>>18,s[a++>>>0]=128|I>>12&63}s[a++>>>0]=128|I>>6&63}s[a++>>>0]=128|I&63}}return s[a>>>0]=0,a-b},ye=n=>n%4===0&&(n%100!==0||n%400===0),lt=[0,31,60,91,121,152,182,213,244,274,305,335],dt=[0,31,59,90,120,151,181,212,243,273,304,334],pt=n=>{var s=Ge(n)+1,a=gt(s);return a&&Ye(n,k,a,s),a},qe={},mt=()=>{if(!Ve){var n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:u||"./this.program"},s;for(s in qe)qe[s]===void 0?delete n[s]:n[s]=qe[s];var a=[];for(s in n)a.push(`${s}=${n[s]}`);Ve=a}return Ve},Ve,Nr=[null,[],[]],ht=[31,29,31,30,31,30,31,31,30,31,30,31],yt=[31,28,31,30,31,30,31,31,30,31,30,31];function Wr(n){var s=Array(Ge(n)+1);return Ye(n,s,0,s.length),s}function wt(n,s,a,m){function b(l,D,C){for(l=typeof l=="number"?l.toString():l||"";l.length<D;)l=C[0]+l;return l}function T(l,D){return b(l,D,"0")}function I(l,D){function C(It){return 0>It?-1:0<It?1:0}var ae;return(ae=C(l.getFullYear()-D.getFullYear()))===0&&(ae=C(l.getMonth()-D.getMonth()))===0&&(ae=C(l.getDate()-D.getDate())),ae}function G(l){switch(l.getDay()){case 0:return new Date(l.getFullYear()-1,11,29);case 1:return l;case 2:return new Date(l.getFullYear(),0,3);case 3:return new Date(l.getFullYear(),0,2);case 4:return new Date(l.getFullYear(),0,1);case 5:return new Date(l.getFullYear()-1,11,31);case 6:return new Date(l.getFullYear()-1,11,30)}}function K(l){var D=l.ra;for(l=new Date(new Date(l.sa+1900,0,1).getTime());0<D;){var C=l.getMonth(),ae=(ye(l.getFullYear())?ht:yt)[C];if(D>ae-l.getDate())D-=ae-l.getDate()+1,l.setDate(1),11>C?l.setMonth(C+1):(l.setMonth(0),l.setFullYear(l.getFullYear()+1));else{l.setDate(l.getDate()+D);break}}return C=new Date(l.getFullYear()+1,0,4),D=G(new Date(l.getFullYear(),0,4)),C=G(C),0>=I(D,l)?0>=I(C,l)?l.getFullYear()+1:l.getFullYear():l.getFullYear()-1}n>>>=0,s>>>=0,a>>>=0,m>>>=0;var q=E[m+40>>2>>>0];m={Ca:E[m>>2>>>0],Ba:E[m+4>>2>>>0],ta:E[m+8>>2>>>0],wa:E[m+12>>2>>>0],ua:E[m+16>>2>>>0],sa:E[m+20>>2>>>0],ma:E[m+24>>2>>>0],ra:E[m+28>>2>>>0],Fa:E[m+32>>2>>>0],Aa:E[m+36>>2>>>0],Da:q?$e(q):""},a=$e(a),q={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var V in q)a=a.replace(new RegExp(V,"g"),q[V]);var vt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),At="January February March April May June July August September October November December".split(" ");q={"%a":l=>vt[l.ma].substring(0,3),"%A":l=>vt[l.ma],"%b":l=>At[l.ua].substring(0,3),"%B":l=>At[l.ua],"%C":l=>T((l.sa+1900)/100|0,2),"%d":l=>T(l.wa,2),"%e":l=>b(l.wa,2," "),"%g":l=>K(l).toString().substring(2),"%G":l=>K(l),"%H":l=>T(l.ta,2),"%I":l=>(l=l.ta,l==0?l=12:12<l&&(l-=12),T(l,2)),"%j":l=>{for(var D=0,C=0;C<=l.ua-1;D+=(ye(l.sa+1900)?ht:yt)[C++]);return T(l.wa+D,3)},"%m":l=>T(l.ua+1,2),"%M":l=>T(l.Ba,2),"%n":()=>`
`,"%p":l=>0<=l.ta&&12>l.ta?"AM":"PM","%S":l=>T(l.Ca,2),"%t":()=>"	","%u":l=>l.ma||7,"%U":l=>T(Math.floor((l.ra+7-l.ma)/7),2),"%V":l=>{var D=Math.floor((l.ra+7-(l.ma+6)%7)/7);if(2>=(l.ma+371-l.ra-2)%7&&D++,D)D==53&&(C=(l.ma+371-l.ra)%7,C==4||C==3&&ye(l.sa)||(D=1));else{D=52;var C=(l.ma+7-l.ra-1)%7;(C==4||C==5&&ye(l.sa%400-1))&&D++}return T(D,2)},"%w":l=>l.ma,"%W":l=>T(Math.floor((l.ra+7-(l.ma+6)%7)/7),2),"%y":l=>(l.sa+1900).toString().substring(2),"%Y":l=>l.sa+1900,"%z":l=>{l=l.Aa;var D=0<=l;return l=Math.abs(l)/60,(D?"+":"-")+("0000"+(l/60*100+l%60)).slice(-4)},"%Z":l=>l.Da,"%%":()=>"%"},a=a.replace(/%%/g,"\0\0");for(V in q)a.includes(V)&&(a=a.replace(new RegExp(V,"g"),q[V](m)));return a=a.replace(/\0\0/g,"%"),V=Wr(a),V.length>s?0:(re.set(V,n>>>0),V.length-1)}var Hr={a:function(n,s,a){throw n>>>=0,new $(n).xa(s>>>0,a>>>0),W=n,Ee++,W},e:function(){return 0},H:function(){},x:function(){},z:function(){},k:function(){return 0},F:function(){},B:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},l:()=>!0,o:function(n,s,a){n=s+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*s:NaN,a>>>=0,n=new Date(1e3*n),E[a>>2>>>0]=n.getUTCSeconds(),E[a+4>>2>>>0]=n.getUTCMinutes(),E[a+8>>2>>>0]=n.getUTCHours(),E[a+12>>2>>>0]=n.getUTCDate(),E[a+16>>2>>>0]=n.getUTCMonth(),E[a+20>>2>>>0]=n.getUTCFullYear()-1900,E[a+24>>2>>>0]=n.getUTCDay(),E[a+28>>2>>>0]=(n.getTime()-Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},p:function(n,s,a){n=s+2097152>>>0<4194305-!!n?(n>>>0)+4294967296*s:NaN,a>>>=0,n=new Date(1e3*n),E[a>>2>>>0]=n.getSeconds(),E[a+4>>2>>>0]=n.getMinutes(),E[a+8>>2>>>0]=n.getHours(),E[a+12>>2>>>0]=n.getDate(),E[a+16>>2>>>0]=n.getMonth(),E[a+20>>2>>>0]=n.getFullYear()-1900,E[a+24>>2>>>0]=n.getDay(),E[a+28>>2>>>0]=(ye(n.getFullYear())?lt:dt)[n.getMonth()]+n.getDate()-1|0,E[a+36>>2>>>0]=-(60*n.getTimezoneOffset()),s=new Date(n.getFullYear(),6,1).getTimezoneOffset();var m=new Date(n.getFullYear(),0,1).getTimezoneOffset();E[a+32>>2>>>0]=(s!=m&&n.getTimezoneOffset()==Math.min(m,s))|0},q:function(n){n>>>=0;var s=new Date(E[n+20>>2>>>0]+1900,E[n+16>>2>>>0],E[n+12>>2>>>0],E[n+8>>2>>>0],E[n+4>>2>>>0],E[n>>2>>>0],0),a=E[n+32>>2>>>0],m=s.getTimezoneOffset(),b=new Date(s.getFullYear(),6,1).getTimezoneOffset(),T=new Date(s.getFullYear(),0,1).getTimezoneOffset(),I=Math.min(T,b);return 0>a?E[n+32>>2>>>0]=+(b!=T&&I==m):0<a!=(I==m)&&(b=Math.max(T,b),s.setTime(s.getTime()+6e4*((0<a?I:b)-m))),E[n+24>>2>>>0]=s.getDay(),E[n+28>>2>>>0]=(ye(s.getFullYear())?lt:dt)[s.getMonth()]+s.getDate()-1|0,E[n>>2>>>0]=s.getSeconds(),E[n+4>>2>>>0]=s.getMinutes(),E[n+8>>2>>>0]=s.getHours(),E[n+12>>2>>>0]=s.getDate(),E[n+16>>2>>>0]=s.getMonth(),E[n+20>>2>>>0]=s.getYear(),n=s.getTime()/1e3,bt((J=n,1<=+Math.abs(J)?0<J?+Math.floor(J/4294967296)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)),n>>>0},m:function(){return-52},n:function(){},t:function(n,s,a){function m(K){return(K=K.toTimeString().match(/\(([A-Za-z ]+)\)$/))?K[1]:"GMT"}a>>>=0;var b=new Date().getFullYear(),T=new Date(b,0,1),I=new Date(b,6,1);b=T.getTimezoneOffset();var G=I.getTimezoneOffset();F[n>>>0>>2>>>0]=60*Math.max(b,G),E[s>>>0>>2>>>0]=+(b!=G),n=m(T),s=m(I),n=pt(n),s=pt(s),G<b?(F[a>>2>>>0]=n,F[a+4>>2>>>0]=s):(F[a>>2>>>0]=s,F[a+4>>2>>>0]=n)},d:()=>{N("")},h:function(){return Date.now()},u:function(){return 4294901760},b:()=>performance.now(),I:function(n,s,a){return s>>>=0,k.copyWithin(n>>>0>>>0,s>>>0,s+(a>>>0)>>>0)},s:function(n){n>>>=0;var s=k.length;if(4294901760<n)return!1;for(var a=1;4>=a;a*=2){var m=s*(1+.2/a);m=Math.min(m,n+100663296);var b=Math;m=Math.max(n,m);e:{b=b.min.call(b,4294901760,m+(65536-m%65536)%65536)-j.buffer.byteLength+65535>>>16;try{j.grow(b),Ae();var T=1;break e}catch{}T=void 0}if(T)return!0}return!1},C:function(n,s){n>>>=0,s>>>=0;var a=0;return mt().forEach(function(m,b){var T=s+a;for(b=F[n+4*b>>2>>>0]=T,T=0;T<m.length;++T)re[b++>>0>>>0]=m.charCodeAt(T);re[b>>0>>>0]=0,a+=m.length+1}),0},D:function(n,s){n>>>=0,s>>>=0;var a=mt();F[n>>2>>>0]=a.length;var m=0;return a.forEach(function(b){m+=b.length+1}),F[s>>2>>>0]=m,0},f:()=>52,j:function(){return 52},r:function(){return 70},i:function(n,s,a,m){s>>>=0,a>>>=0,m>>>=0;for(var b=0,T=0;T<a;T++){var I=F[s>>2>>>0],G=F[s+4>>2>>>0];s+=8;for(var K=0;K<G;K++){var q=k[I+K>>>0],V=Nr[n];q===0||q===10?((n===1?_:A)(Be(V,0)),V.length=0):V.push(q)}b+=G}return F[m>>2>>>0]=b,0},A:wt,c:function(n,s,a,m){return wt(n>>>0,s>>>0,a>>>0,m>>>0)}};(function(){function n(a){if(a=a.exports,S=a=zr(a),j=S.J,Ae(),te.unshift(S.K),Q--,e.monitorRunDependencies&&e.monitorRunDependencies(Q),Q==0&&(Z!==null&&(clearInterval(Z),Z=null),ee)){var m=ee;ee=null,m()}return a}var s={a:Hr};if(Q++,e.monitorRunDependencies&&e.monitorRunDependencies(Q),e.instantiateWasm)try{return e.instantiateWasm(s,n)}catch(a){A("Module.instantiateWasm callback failed with error: "+a),o(a)}return ie(s,function(a){n(a.instance)}).catch(o),{}})(),e._OrtInit=(n,s)=>(e._OrtInit=S.L)(n,s),e._OrtGetLastError=(n,s)=>(e._OrtGetLastError=S.M)(n,s),e._OrtCreateSessionOptions=(n,s,a,m,b,T,I,G,K,q)=>(e._OrtCreateSessionOptions=S.N)(n,s,a,m,b,T,I,G,K,q),e._OrtAppendExecutionProvider=(n,s)=>(e._OrtAppendExecutionProvider=S.O)(n,s),e._OrtAddFreeDimensionOverride=(n,s,a)=>(e._OrtAddFreeDimensionOverride=S.P)(n,s,a),e._OrtAddSessionConfigEntry=(n,s,a)=>(e._OrtAddSessionConfigEntry=S.Q)(n,s,a),e._OrtReleaseSessionOptions=n=>(e._OrtReleaseSessionOptions=S.R)(n),e._OrtCreateSession=(n,s,a)=>(e._OrtCreateSession=S.S)(n,s,a),e._OrtReleaseSession=n=>(e._OrtReleaseSession=S.T)(n),e._OrtGetInputOutputCount=(n,s,a)=>(e._OrtGetInputOutputCount=S.U)(n,s,a),e._OrtGetInputName=(n,s)=>(e._OrtGetInputName=S.V)(n,s),e._OrtGetOutputName=(n,s)=>(e._OrtGetOutputName=S.W)(n,s),e._OrtFree=n=>(e._OrtFree=S.X)(n),e._OrtCreateTensor=(n,s,a,m,b,T)=>(e._OrtCreateTensor=S.Y)(n,s,a,m,b,T),e._OrtGetTensorData=(n,s,a,m,b)=>(e._OrtGetTensorData=S.Z)(n,s,a,m,b),e._OrtReleaseTensor=n=>(e._OrtReleaseTensor=S._)(n),e._OrtCreateRunOptions=(n,s,a,m)=>(e._OrtCreateRunOptions=S.$)(n,s,a,m),e._OrtAddRunConfigEntry=(n,s,a)=>(e._OrtAddRunConfigEntry=S.aa)(n,s,a),e._OrtReleaseRunOptions=n=>(e._OrtReleaseRunOptions=S.ba)(n),e._OrtCreateBinding=n=>(e._OrtCreateBinding=S.ca)(n),e._OrtBindInput=(n,s,a)=>(e._OrtBindInput=S.da)(n,s,a),e._OrtBindOutput=(n,s,a,m)=>(e._OrtBindOutput=S.ea)(n,s,a,m),e._OrtClearBoundOutputs=n=>(e._OrtClearBoundOutputs=S.fa)(n),e._OrtReleaseBinding=n=>(e._OrtReleaseBinding=S.ga)(n),e._OrtRunWithBinding=(n,s,a,m,b)=>(e._OrtRunWithBinding=S.ha)(n,s,a,m,b),e._OrtRun=(n,s,a,m,b,T,I,G)=>(e._OrtRun=S.ia)(n,s,a,m,b,T,I,G),e._OrtEndProfiling=n=>(e._OrtEndProfiling=S.ja)(n);var gt=e._malloc=n=>(gt=e._malloc=S.ka)(n);e._free=n=>(e._free=S.la)(n);var bt=n=>(bt=S.na)(n),Et=()=>(Et=S.oa)(),Tt=n=>(Tt=S.pa)(n),St=n=>(St=S.qa)(n);function zr(n){n=Object.assign({},n);var s=m=>()=>m()>>>0,a=m=>b=>m(b)>>>0;return n.__errno_location=s(n.__errno_location),n.malloc=a(n.malloc),n.stackSave=s(n.stackSave),n.stackAlloc=a(n.stackAlloc),n}e.stackAlloc=St,e.stackSave=Et,e.stackRestore=Tt,e.UTF8ToString=$e,e.stringToUTF8=(n,s,a)=>Ye(n,k,s,a),e.lengthBytesUTF8=Ge;var Pe;ee=function n(){Pe||Ot(),Pe||(ee=n)};function Ot(){function n(){if(!Pe&&(Pe=!0,e.calledRun=!0,!me)){if(he(te),i(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;){var s=e.postRun.shift();x.unshift(s)}he(x)}}if(!(0<Q)){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)ne();he(ge),0<Q||(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),n()},1)):n())}}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Ot(),t.ready}})();typeof sr=="object"&&typeof tt=="object"?tt.exports=or:typeof define=="function"&&define.amd&&define([],()=>or)});var ot,Qr,rt,nt,Ne,ar,en,tn,rn,ur,L,we=B(()=>{"use strict";ot=ir();Qr=ot,nt=!1,Ne=!1,ar=!1,en=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},tn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},rn=(r,t)=>r?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":t?"ort-wasm-threaded.wasm":"ort-wasm.wasm",ur=async r=>{if(nt)return Promise.resolve();if(Ne)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(ar)throw new Error("previous call to 'initializeWebAssembly()' failed.");Ne=!0;let t=r.initTimeout,e=r.numThreads,i=r.simd,o=e>1&&en(),c=i&&tn(),u=r.wasmPaths,d=typeof u=="string"?u:void 0,p=rn(c,o),f=typeof u=="object"?u[p]:void 0,h=!1,w=[];if(t>0&&w.push(new Promise(y=>{setTimeout(()=>{h=!0,y()},t)})),w.push(new Promise((y,g)=>{(o?Qr:ot)({locateFile:(_,A)=>_.endsWith(".wasm")?f||(d??A)+p:A+_}).then(_=>{Ne=!1,nt=!0,rt=_,y()},_=>{Ne=!1,ar=!0,g(_)})})),await Promise.race(w),h)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},L=()=>{if(nt&&rt)return rt;throw new Error("WebAssembly is not initialized yet.")}});var M,Oe,R,We=B(()=>{"use strict";we();M=(r,t)=>{let e=L(),i=e.lengthBytesUTF8(r)+1,o=e._malloc(i);return e.stringToUTF8(r,o,i),t.push(o),o},Oe=(r,t,e,i)=>{if(typeof r=="object"&&r!==null){if(e.has(r))throw new Error("Circular reference in options");e.add(r)}Object.entries(r).forEach(([o,c])=>{let u=t?t+o:o;if(typeof c=="object")Oe(c,u+".",e,i);else if(typeof c=="string"||typeof c=="number")i(u,c.toString());else if(typeof c=="boolean")i(u,c?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof c}`)})},R=r=>{let t=L(),e=t.stackSave();try{let i=t.stackAlloc(8);t._OrtGetLastError(i,i+4);let o=t.HEAP32[i/4],c=t.HEAPU32[i/4+1],u=c?t.UTF8ToString(c):"";throw new Error(`${r} ERROR_CODE: ${o}, ERROR_MESSAGE: ${u}`)}finally{t.stackRestore(e)}}});var fr,cr=B(()=>{"use strict";we();We();fr=r=>{let t=L(),e=0,i=[],o=r||{};try{if(r?.logSeverityLevel===void 0)o.logSeverityLevel=2;else if(typeof r.logSeverityLevel!="number"||!Number.isInteger(r.logSeverityLevel)||r.logSeverityLevel<0||r.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${r.logSeverityLevel}`);if(r?.logVerbosityLevel===void 0)o.logVerbosityLevel=0;else if(typeof r.logVerbosityLevel!="number"||!Number.isInteger(r.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${r.logVerbosityLevel}`);r?.terminate===void 0&&(o.terminate=!1);let c=0;return r?.tag!==void 0&&(c=M(r.tag,i)),e=t._OrtCreateRunOptions(o.logSeverityLevel,o.logVerbosityLevel,!!o.terminate,c),e===0&&R("Can't create run options."),r?.extra!==void 0&&Oe(r.extra,"",new WeakSet,(u,d)=>{let p=M(u,i),f=M(d,i);t._OrtAddRunConfigEntry(e,p,f)!==0&&R(`Can't set a run config entry: ${u} - ${d}.`)}),[e,i]}catch(c){throw e!==0&&t._OrtReleaseRunOptions(e),i.forEach(u=>t._free(u)),c}}});var nn,on,sn,an,lr,dr=B(()=>{"use strict";we();We();nn=r=>{switch(r){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${r}`)}},on=r=>{switch(r){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${r}`)}},sn=r=>{r.extra||(r.extra={}),r.extra.session||(r.extra.session={});let t=r.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),r.executionProviders&&r.executionProviders.some(e=>(typeof e=="string"?e:e.name)==="webgpu")&&(r.enableMemPattern=!1)},an=(r,t,e)=>{for(let i of t){let o=typeof i=="string"?i:i.name;switch(o){case"xnnpack":o="XNNPACK";break;case"webnn":if(o="WEBNN",typeof i!="string"){let u=i;if(u?.deviceType){let d=M("deviceType",e),p=M(u.deviceType,e);L()._OrtAddSessionConfigEntry(r,d,p)!==0&&R(`Can't set a session config entry: 'deviceType' - ${u.deviceType}.`)}if(u?.numThreads){let d=u.numThreads;(typeof d!="number"||!Number.isInteger(d)||d<0)&&(d=0);let p=M("numThreads",e),f=M(d.toString(),e);L()._OrtAddSessionConfigEntry(r,p,f)!==0&&R(`Can't set a session config entry: 'numThreads' - ${u.numThreads}.`)}if(u?.powerPreference){let d=M("powerPreference",e),p=M(u.powerPreference,e);L()._OrtAddSessionConfigEntry(r,d,p)!==0&&R(`Can't set a session config entry: 'powerPreference' - ${u.powerPreference}.`)}}break;case"webgpu":if(o="JS",typeof i!="string"){let u=i;if(u?.preferredLayout){if(u.preferredLayout!=="NCHW"&&u.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${u.preferredLayout}`);let d=M("preferredLayout",e),p=M(u.preferredLayout,e);L()._OrtAddSessionConfigEntry(r,d,p)!==0&&R(`Can't set a session config entry: 'preferredLayout' - ${u.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${o}`)}let c=M(o,e);L()._OrtAppendExecutionProvider(r,c)!==0&&R(`Can't append execution provider: ${o}.`)}},lr=r=>{let t=L(),e=0,i=[],o=r||{};sn(o);try{let c=nn(o.graphOptimizationLevel??"all"),u=on(o.executionMode??"sequential"),d=typeof o.logId=="string"?M(o.logId,i):0,p=o.logSeverityLevel??2;if(!Number.isInteger(p)||p<0||p>4)throw new Error(`log serverity level is not valid: ${p}`);let f=o.logVerbosityLevel??0;if(!Number.isInteger(f)||f<0||f>4)throw new Error(`log verbosity level is not valid: ${f}`);let h=typeof o.optimizedModelFilePath=="string"?M(o.optimizedModelFilePath,i):0;if(e=t._OrtCreateSessionOptions(c,!!o.enableCpuMemArena,!!o.enableMemPattern,u,!!o.enableProfiling,0,d,p,f,h),e===0&&R("Can't create session options."),o.executionProviders&&an(e,o.executionProviders,i),o.freeDimensionOverrides)for(let[w,y]of Object.entries(o.freeDimensionOverrides)){if(typeof w!="string")throw new Error(`free dimension override name must be a string: ${w}`);if(typeof y!="number"||!Number.isInteger(y)||y<0)throw new Error(`free dimension override value must be a non-negative integer: ${y}`);let g=M(w,i);t._OrtAddFreeDimensionOverride(e,g,y)!==0&&R(`Can't set a free dimension override: ${w} - ${y}.`)}return o.extra!==void 0&&Oe(o.extra,"",new WeakSet,(w,y)=>{let g=M(w,i),v=M(y,i);t._OrtAddSessionConfigEntry(e,g,v)!==0&&R(`Can't set a session config entry: ${w} - ${y}.`)}),[e,i]}catch(c){throw e!==0&&t._OrtReleaseSessionOptions(e),i.forEach(u=>t._free(u)),c}}});var st,pr,it,mr,hr,He,yr,at=B(()=>{"use strict";st=r=>{switch(r){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${r}`)}},pr=r=>{switch(r){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${r}`)}},it=r=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][r],mr=r=>{switch(r){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${r}`)}},hr=r=>{switch(r){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${r}`)}},He=r=>r==="float32"||r==="int32"||r==="int64"||r==="bool"||r==="float16"||r==="uint32",yr=r=>{switch(r){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${r}`)}}});var un,gr,br,ve,fn,ut,Er,Tr,wr,Sr,Or,vr=B(()=>{"use strict";cr();dr();at();we();We();un=(r,t)=>{L()._OrtInit(r,t)!==0&&R("Can't initialize onnxruntime.")},gr=async r=>{un(r.wasm.numThreads,hr(r.logLevel))},br=async(r,t)=>{},ve=new Map,fn=r=>{let t=L(),e=t.stackSave();try{let i=t.stackAlloc(8);return t._OrtGetInputOutputCount(r,i,i+4)!==0&&R("Can't get session input/output count."),[t.HEAP32[i/4],t.HEAP32[i/4+1]]}finally{t.stackRestore(e)}},ut=r=>{let t=L(),e=t._malloc(r.byteLength);if(e===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${r.byteLength}.`);return t.HEAPU8.set(r,e),[e,r.byteLength]},Er=(r,t)=>{let e,i,o=L();Array.isArray(r)?[e,i]=r:r.buffer===o.HEAPU8.buffer?[e,i]=[r.byteOffset,r.byteLength]:[e,i]=ut(r);let c=0,u=0,d=0,p=[],f=[],h=[];try{[u,p]=lr(t),c=o._OrtCreateSession(e,i,u),c===0&&R("Can't create a session.");let[w,y]=fn(c),g=[],v=[],O=[];for(let A=0;A<w;A++){let P=o._OrtGetInputName(c,A);P===0&&R("Can't get an input name."),f.push(P),g.push(o.UTF8ToString(P))}for(let A=0;A<y;A++){let P=o._OrtGetOutputName(c,A);P===0&&R("Can't get an output name."),h.push(P);let z=o.UTF8ToString(P);v.push(z)}let _=null;return ve.set(c,[c,f,h,_]),[c,g,v]}catch(w){throw f.forEach(y=>o._OrtFree(y)),h.forEach(y=>o._OrtFree(y)),d!==0&&o._OrtReleaseBinding(d),c!==0&&o._OrtReleaseSession(c),w}finally{o._free(e),u!==0&&o._OrtReleaseSessionOptions(u),p.forEach(w=>o._free(w))}},Tr=r=>{let t=L(),e=ve.get(r);if(!e)throw new Error(`cannot release session. invalid session id: ${r}`);let[i,o,c,u]=e;u&&t._OrtReleaseBinding(u.handle),t.jsepUnregisterBuffers?.(r),o.forEach(d=>t._OrtFree(d)),c.forEach(d=>t._OrtFree(d)),t._OrtReleaseSession(i),ve.delete(r)},wr=(r,t,e,i,o)=>{if(!r){t.push(0);return}let c=L(),u=r[0],d=r[1],p=r[3],f,h;if(u==="string"&&p==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(p==="gpu-buffer"){let g=r[2].gpuBuffer,v=it(st(u));h=d.reduce((O,_)=>O*_,1)*v,f=c.jsepRegisterBuffer(i,o,g,h)}else{let g=r[2];if(Array.isArray(g)){h=4*g.length,f=c._malloc(h),e.push(f);let v=f/4;for(let O=0;O<g.length;O++){if(typeof g[O]!="string")throw new TypeError(`tensor data at index ${O} is not a string`);c.HEAPU32[v++]=M(g[O],e)}}else h=g.byteLength,f=c._malloc(h),e.push(f),c.HEAPU8.set(new Uint8Array(g.buffer,g.byteOffset,h),f)}let w=c.stackSave(),y=c.stackAlloc(4*d.length);try{let g=y/4;d.forEach(O=>c.HEAP32[g++]=O);let v=c._OrtCreateTensor(st(u),f,h,y,d.length,yr(p));v===0&&R(`Can't create tensor for input/output. session=${i}, index=${o}.`),t.push(v)}finally{c.stackRestore(w)}},Sr=async(r,t,e,i,o,c)=>{let u=L(),d=ve.get(r);if(!d)throw new Error(`cannot run inference. invalid session id: ${r}`);let[p,f,h,w]=d,y=t.length,g=i.length,v=0,O=[],_=[],A=[],P=[],z=u.stackSave(),j=u.stackAlloc(y*4),S=u.stackAlloc(y*4),me=u.stackAlloc(g*4),re=u.stackAlloc(g*4);try{[v,O]=fr(c);for(let x=0;x<y;x++)wr(e[x],_,P,r,t[x]);for(let x=0;x<g;x++)wr(o[x],A,P,r,y+i[x]);let k=j/4,E=S/4,F=me/4,Ae=re/4;for(let x=0;x<y;x++)u.HEAPU32[k++]=_[x],u.HEAPU32[E++]=f[t[x]];for(let x=0;x<g;x++)u.HEAPU32[F++]=A[x],u.HEAPU32[Ae++]=h[i[x]];let ge;ge=await u._OrtRun(p,S,j,y,re,g,me,v),ge!==0&&R("failed to call OrtRun().");let te=[];for(let x=0;x<g;x++){let ne=u.HEAPU32[me/4+x];if(ne===A[x]){te.push(o[x]);continue}let Q=u.stackSave(),Z=u.stackAlloc(4*4),ee=!1,N,X=0;try{u._OrtGetTensorData(ne,Z,Z+4,Z+8,Z+12)!==0&&R(`Can't access output tensor data on index ${x}.`);let se=Z/4,be=u.HEAPU32[se++];X=u.HEAPU32[se++];let Ie=u.HEAPU32[se++],xe=u.HEAPU32[se++],ie=[];for(let $=0;$<xe;$++)ie.push(u.HEAPU32[Ie/4+$]);u._OrtFree(Ie);let J=ie.reduce(($,W)=>$*W,1);N=pr(be);let he=w?.outputPreferredLocations[i[x]];if(N==="string"){if(he==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let $=[],W=X/4;for(let Ee=0;Ee<J;Ee++){let Te=u.HEAPU32[W++],Be=Ee===J-1?void 0:u.HEAPU32[W]-Te;$.push(u.UTF8ToString(Te,Be))}te.push([N,ie,$,"cpu"])}else if(he==="gpu-buffer"&&J>0){let $=u.jsepGetBuffer(X),W=it(be);if(W===void 0||!He(N))throw new Error(`Unsupported data type: ${N}`);ee=!0,te.push([N,ie,{gpuBuffer:$,download:u.jsepCreateDownloader($,J*W,N),dispose:()=>{u._OrtReleaseTensor(ne)}},"gpu-buffer"])}else{let $=mr(N),W=new $(J);new Uint8Array(W.buffer,W.byteOffset,W.byteLength).set(u.HEAPU8.subarray(X,X+W.byteLength)),te.push([N,ie,W,"cpu"])}}finally{u.stackRestore(Q),N==="string"&&X&&u._free(X),ee||u._OrtReleaseTensor(ne)}}return w&&u._OrtClearBoundOutputs(w.handle),te}finally{u.stackRestore(z),_.forEach(k=>u._OrtReleaseTensor(k)),A.forEach(k=>u._OrtReleaseTensor(k)),P.forEach(k=>u._free(k)),v!==0&&u._OrtReleaseRunOptions(v),O.forEach(k=>u._free(k))}},Or=r=>{let t=L(),e=ve.get(r);if(!e)throw new Error("invalid session id");let i=e[0],o=t._OrtEndProfiling(i);o===0&&R("Can't get an profile file name."),t._OrtFree(o)}});var ft,Ar,Ir,Oo,xr,Br,Pr,_r,Dr,Cr,Rr,ct=B(()=>{"use strict";pe();vr();we();ft=!1,Ar=!1,Ir=!1,Oo=typeof document<"u"?document?.currentScript?.src:void 0,xr=async()=>{if(!Ar){if(ft)throw new Error("multiple calls to 'initWasm()' detected.");if(Ir)throw new Error("previous call to 'initWasm()' failed.");ft=!0;try{await ur(U.wasm),await gr(U),Ar=!0}catch(r){throw Ir=!0,r}finally{ft=!1}}},Br=async r=>{await br(U,r)},Pr=async r=>ut(r),_r=async(r,t)=>Er(r,t),Dr=async r=>{Tr(r)},Cr=async(r,t,e,i,o,c)=>Sr(r,t,e,i,o,c),Rr=async r=>{Or(r)}});var Ur,ln,ze,Lr=B(()=>{"use strict";pe();ct();at();Ur=(r,t)=>{switch(r.location){case"cpu":return[r.type,r.dims,r.data,"cpu"];case"gpu-buffer":return[r.type,r.dims,{gpuBuffer:r.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${r.location} for ${t()}`)}},ln=r=>{switch(r[3]){case"cpu":return new H(r[0],r[2],r[1]);case"gpu-buffer":{let t=r[0];if(!He(t))throw new Error(`not supported data type: ${t} for deserializing GPU tensor`);let{gpuBuffer:e,download:i,dispose:o}=r[2];return H.fromGpuBuffer(e,{dataType:t,dims:r[1],download:i,dispose:o})}default:throw new Error(`invalid data location: ${r[3]}`)}},ze=class{async fetchModelAndCopyToWasmMemory(t){let e=await fetch(t);if(e.status!==200)throw new Error(`failed to load model: ${t}`);let i=await e.arrayBuffer();return Pr(new Uint8Array(i))}async loadModel(t,e){le();let i;typeof t=="string"?typeof process<"u"&&process.versions&&process.versions.node?i=await(void 0)(t):i=await this.fetchModelAndCopyToWasmMemory(t):i=t,[this.sessionId,this.inputNames,this.outputNames]=await _r(i,e),de()}async dispose(){return Dr(this.sessionId)}async run(t,e,i){le();let o=[],c=[];Object.entries(t).forEach(y=>{let g=y[0],v=y[1],O=this.inputNames.indexOf(g);if(O===-1)throw new Error(`invalid input '${g}'`);o.push(v),c.push(O)});let u=[],d=[];Object.entries(e).forEach(y=>{let g=y[0],v=y[1],O=this.outputNames.indexOf(g);if(O===-1)throw new Error(`invalid output '${g}'`);u.push(v),d.push(O)});let p=o.map((y,g)=>Ur(y,()=>`input "${this.inputNames[c[g]]}"`)),f=u.map((y,g)=>y?Ur(y,()=>`output "${this.outputNames[d[g]]}"`):null),h=await Cr(this.sessionId,c,p,d,f,i),w={};for(let y=0;y<h.length;y++)w[this.outputNames[d[y]]]=u[y]??ln(h[y]);return de(),w}startProfiling(){}endProfiling(){Rr(this.sessionId)}}});var dn,je,Mr=B(()=>{"use strict";pe();ct();Lr();dn=()=>{if((typeof U.wasm.initTimeout!="number"||U.wasm.initTimeout<0)&&(U.wasm.initTimeout=0),typeof U.wasm.simd!="boolean"&&(U.wasm.simd=!0),typeof U.wasm.proxy!="boolean"&&(U.wasm.proxy=!1),typeof U.wasm.trace!="boolean"&&(U.wasm.trace=!1),typeof U.wasm.numThreads!="number"||!Number.isInteger(U.wasm.numThreads)||U.wasm.numThreads<=0){let r=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;U.wasm.numThreads=Math.min(4,Math.ceil((r||1)/2))}},je=class{async init(t){dn(),await xr(),await Br(t)}async createInferenceSessionHandler(t,e){let i=new ze;return await i.loadModel(t,e),Promise.resolve(i)}}});var kr={};_e(kr,{wasmBackend:()=>pn});var pn,Fr=B(()=>{"use strict";Mr();pn=new je});pe();pe();pe();var Qt="1.17.0";var zo=et;{let r=(Fr(),Je(kr)).wasmBackend;fe("cpu",r,10),fe("wasm",r,10),fe("xnnpack",r,9),fe("webnn",r,9)}Object.defineProperty(U.versions,"web",{value:Qt,enumerable:!0});export{Vr as InferenceSession,Yt as TRACE,le as TRACE_FUNC_BEGIN,de as TRACE_FUNC_END,H as Tensor,Jr as TrainingSession,zo as default,U as env,fe as registerBackend};
//# sourceMappingURL=ort.wasm-core.min.js.map

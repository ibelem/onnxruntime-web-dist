/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
"use strict";var ort=(()=>{var ph=Object.create;var yo=Object.defineProperty;var dh=Object.getOwnPropertyDescriptor;var hh=Object.getOwnPropertyNames;var mh=Object.getPrototypeOf,bh=Object.prototype.hasOwnProperty;var k=(i,t)=>()=>(i&&(t=i(i=0)),t);var xe=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports),tn=(i,t)=>{for(var n in t)yo(i,n,{get:t[n],enumerable:!0})},$s=(i,t,n,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of hh(t))!bh.call(i,r)&&r!==n&&yo(i,r,{get:()=>t[r],enumerable:!(e=dh(t,r))||e.enumerable});return i};var rn=(i,t,n)=>(n=i!=null?ph(mh(i)):{},$s(t||!i||!i.__esModule?yo(n,"default",{value:i,enumerable:!0}):n,i)),br=i=>$s(yo({},"__esModule",{value:!0}),i);var To,Lr,gr,Bs,Ei=k(()=>{"use strict";To=new Map,Lr=[],gr=(i,t,n)=>{if(t&&typeof t.init=="function"&&typeof t.createInferenceSessionHandler=="function"){let e=To.get(i);if(e===void 0)To.set(i,{backend:t,priority:n});else{if(e.priority>n)return;if(e.priority===n&&e.backend!==t)throw new Error(`cannot register backend "${i}" using priority ${n}`)}if(n>=0){let r=Lr.indexOf(i);r!==-1&&Lr.splice(r,1);for(let o=0;o<Lr.length;o++)if(To.get(Lr[o]).priority<=n){Lr.splice(o,0,i);return}Lr.push(i)}return}throw new TypeError("not a valid backend")},Bs=async i=>{let t=i.length===0?Lr:i,n=[];for(let e of t){let r=To.get(e);if(r){if(r.initialized)return r.backend;if(r.aborted)continue;let o=!!r.initPromise;try{return o||(r.initPromise=r.backend.init()),await r.initPromise,r.initialized=!0,r.backend}catch(s){o||n.push({name:e,err:s}),r.aborted=!0}finally{delete r.initPromise}}}throw new Error(`no available backend found. ERR: ${n.map(e=>`[${e.name}] ${e.err}`).join(", ")}`)}});var Rs=k(()=>{"use strict";Ei()});var Ns,Ms=k(()=>{"use strict";Ns="1.17.0"});var Gs,Di,Us=k(()=>{"use strict";Ms();Gs="warning",Di={wasm:{},webgl:{},webgpu:{},versions:{common:Ns},set logLevel(i){if(i!==void 0){if(typeof i!="string"||["verbose","info","warning","error","fatal"].indexOf(i)===-1)throw new Error(`Unsupported logging level: ${i}`);Gs=i}},get logLevel(){return Gs}};Object.defineProperty(Di,"logLevel",{enumerable:!0})});var ie,Ws=k(()=>{"use strict";Us();ie=Di});var zs,Vs,Hs=k(()=>{"use strict";zs=(i,t)=>{let n=document.createElement("canvas");n.width=i.dims[3],n.height=i.dims[2];let e=n.getContext("2d");if(e!=null){let r,o;t?.tensorLayout!==void 0&&t.tensorLayout==="NHWC"?(r=i.dims[2],o=i.dims[3]):(r=i.dims[3],o=i.dims[2]);let s=t?.format!==void 0?t.format:"RGB",a=t?.norm,u,l;a===void 0||a.mean===void 0?u=[255,255,255,255]:typeof a.mean=="number"?u=[a.mean,a.mean,a.mean,a.mean]:(u=[a.mean[0],a.mean[1],a.mean[2],0],a.mean[3]!==void 0&&(u[3]=a.mean[3])),a===void 0||a.bias===void 0?l=[0,0,0,0]:typeof a.bias=="number"?l=[a.bias,a.bias,a.bias,a.bias]:(l=[a.bias[0],a.bias[1],a.bias[2],0],a.bias[3]!==void 0&&(l[3]=a.bias[3]));let c=o*r,b=0,y=c,w=c*2,A=-1;s==="RGBA"?(b=0,y=c,w=c*2,A=c*3):s==="RGB"?(b=0,y=c,w=c*2):s==="RBG"&&(b=0,w=c,y=c*2);for(let O=0;O<o;O++)for(let C=0;C<r;C++){let $=(i.data[b++]-l[0])*u[0],F=(i.data[y++]-l[1])*u[1],G=(i.data[w++]-l[2])*u[2],ee=A===-1?255:(i.data[A++]-l[3])*u[3];e.fillStyle="rgba("+$+","+F+","+G+","+ee+")",e.fillRect(C,O,1,1)}return n.toDataURL()}else throw new Error("Can not access image data")},Vs=(i,t)=>{let n=document.createElement("canvas").getContext("2d"),e;if(n!=null){let r,o,s;t?.tensorLayout!==void 0&&t.tensorLayout==="NHWC"?(r=i.dims[2],o=i.dims[1],s=i.dims[3]):(r=i.dims[3],o=i.dims[2],s=i.dims[1]);let a=t!==void 0&&t.format!==void 0?t.format:"RGB",u=t?.norm,l,c;u===void 0||u.mean===void 0?l=[255,255,255,255]:typeof u.mean=="number"?l=[u.mean,u.mean,u.mean,u.mean]:(l=[u.mean[0],u.mean[1],u.mean[2],255],u.mean[3]!==void 0&&(l[3]=u.mean[3])),u===void 0||u.bias===void 0?c=[0,0,0,0]:typeof u.bias=="number"?c=[u.bias,u.bias,u.bias,u.bias]:(c=[u.bias[0],u.bias[1],u.bias[2],0],u.bias[3]!==void 0&&(c[3]=u.bias[3]));let b=o*r;if(t!==void 0&&(t.format!==void 0&&s===4&&t.format!=="RGBA"||s===3&&t.format!=="RGB"&&t.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let y=4,w=0,A=1,O=2,C=3,$=0,F=b,G=b*2,ee=-1;a==="RGBA"?($=0,F=b,G=b*2,ee=b*3):a==="RGB"?($=0,F=b,G=b*2):a==="RBG"&&($=0,G=b,F=b*2),e=n.createImageData(r,o);for(let z=0;z<o*r;w+=y,A+=y,O+=y,C+=y,z++)e.data[w]=(i.data[$++]-c[0])*l[0],e.data[A]=(i.data[F++]-c[1])*l[1],e.data[O]=(i.data[G++]-c[2])*l[2],e.data[C]=ee===-1?255:(i.data[ee++]-c[3])*l[3]}else throw new Error("Can not access image data");return e}});var Li,js,qs,Ys,Xs,Ks=k(()=>{"use strict";vo();Li=(i,t)=>{if(i===void 0)throw new Error("Image buffer must be defined");if(t.height===void 0||t.width===void 0)throw new Error("Image height and width must be defined");if(t.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:n,width:e}=t,r=t.norm??{mean:255,bias:0},o,s;typeof r.mean=="number"?o=[r.mean,r.mean,r.mean,r.mean]:o=[r.mean[0],r.mean[1],r.mean[2],r.mean[3]??255],typeof r.bias=="number"?s=[r.bias,r.bias,r.bias,r.bias]:s=[r.bias[0],r.bias[1],r.bias[2],r.bias[3]??0];let a=t.format!==void 0?t.format:"RGBA",u=t.tensorFormat!==void 0&&t.tensorFormat!==void 0?t.tensorFormat:"RGB",l=n*e,c=u==="RGBA"?new Float32Array(l*4):new Float32Array(l*3),b=4,y=0,w=1,A=2,O=3,C=0,$=l,F=l*2,G=-1;a==="RGB"&&(b=3,y=0,w=1,A=2,O=-1),u==="RGBA"?G=l*3:u==="RBG"?(C=0,F=l,$=l*2):u==="BGR"&&(F=0,$=l,C=l*2);for(let z=0;z<l;z++,y+=b,A+=b,w+=b,O+=b)c[C++]=(i[y]+s[0])/o[0],c[$++]=(i[w]+s[1])/o[1],c[F++]=(i[A]+s[2])/o[2],G!==-1&&O!==-1&&(c[G++]=(i[O]+s[3])/o[3]);return u==="RGBA"?new at("float32",c,[1,4,n,e]):new at("float32",c,[1,3,n,e])},js=async(i,t)=>{let n=typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement,e=typeof ImageData<"u"&&i instanceof ImageData,r=typeof ImageBitmap<"u"&&i instanceof ImageBitmap,o=typeof i=="string",s,a=t??{};if(n){let u=document.createElement("canvas");u.width=i.width,u.height=i.height;let l=u.getContext("2d");if(l!=null){let c=i.height,b=i.width;if(t!==void 0&&t.resizedHeight!==void 0&&t.resizedWidth!==void 0&&(c=t.resizedHeight,b=t.resizedWidth),t!==void 0){if(a=t,t.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");a.tensorFormat="RGBA",a.height=c,a.width=b}else a.tensorFormat="RGBA",a.height=c,a.width=b;l.drawImage(i,0,0),s=l.getImageData(0,0,b,c).data}else throw new Error("Can not access image data")}else if(e){let u,l;if(t!==void 0&&t.resizedWidth!==void 0&&t.resizedHeight!==void 0?(u=t.resizedHeight,l=t.resizedWidth):(u=i.height,l=i.width),t!==void 0&&(a=t),a.format="RGBA",a.height=u,a.width=l,t!==void 0){let c=document.createElement("canvas");c.width=l,c.height=u;let b=c.getContext("2d");if(b!=null)b.putImageData(i,0,0),s=b.getImageData(0,0,l,u).data;else throw new Error("Can not access image data")}else s=i.data}else if(r){if(t===void 0)throw new Error("Please provide image config with format for Imagebitmap");let u=document.createElement("canvas");u.width=i.width,u.height=i.height;let l=u.getContext("2d");if(l!=null){let c=i.height,b=i.width;return l.drawImage(i,0,0,b,c),s=l.getImageData(0,0,b,c).data,a.height=c,a.width=b,Li(s,a)}else throw new Error("Can not access image data")}else{if(o)return new Promise((u,l)=>{let c=document.createElement("canvas"),b=c.getContext("2d");if(!i||!b)return l();let y=new Image;y.crossOrigin="Anonymous",y.src=i,y.onload=()=>{c.width=y.width,c.height=y.height,b.drawImage(y,0,0,c.width,c.height);let w=b.getImageData(0,0,c.width,c.height);a.height=c.height,a.width=c.width,u(Li(w.data,a))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(s!==void 0)return Li(s,a);throw new Error("Input data provided is not supported - aborted tensor creation")},qs=(i,t)=>{let{width:n,height:e,download:r,dispose:o}=t,s=[1,e,n,4];return new at({location:"texture",type:"float32",texture:i,dims:s,download:r,dispose:o})},Ys=(i,t)=>{let{dataType:n,dims:e,download:r,dispose:o}=t;return new at({location:"gpu-buffer",type:n??"float32",gpuBuffer:i,dims:e,download:r,dispose:o})},Xs=(i,t,n)=>new at({location:"cpu-pinned",type:i,data:t,dims:n??[t.length]})});var kn,xo,Js,Zs,Qs=k(()=>{"use strict";kn=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),xo=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),Js=!1,Zs=()=>{if(!Js){Js=!0;let i=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",t=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";i&&(kn.set("int64",BigInt64Array),xo.set(BigInt64Array,"int64")),t&&(kn.set("uint64",BigUint64Array),xo.set(BigUint64Array,"uint64"))}}});var eu,tu,ru=k(()=>{"use strict";vo();eu=i=>{let t=1;for(let n=0;n<i.length;n++){let e=i[n];if(typeof e!="number"||!Number.isSafeInteger(e))throw new TypeError(`dims[${n}] must be an integer, got: ${e}`);if(e<0)throw new RangeError(`dims[${n}] must be a non-negative integer, got: ${e}`);t*=e}return t},tu=(i,t)=>{switch(i.location){case"cpu":return new at(i.type,i.data,t);case"cpu-pinned":return new at({location:"cpu-pinned",data:i.data,type:i.type,dims:t});case"texture":return new at({location:"texture",texture:i.texture,type:i.type,dims:t});case"gpu-buffer":return new at({location:"gpu-buffer",gpuBuffer:i.gpuBuffer,type:i.type,dims:t});default:throw new Error(`tensorReshape: tensor location ${i.location} is not supported`)}}});var at,vo=k(()=>{"use strict";Hs();Ks();Qs();ru();at=class{constructor(t,n,e){Zs();let r,o;if(typeof t=="object"&&"location"in t)switch(this.dataLocation=t.location,r=t.type,o=t.dims,t.location){case"cpu-pinned":{let a=kn.get(r);if(!a)throw new TypeError(`unsupported type "${r}" to create tensor from pinned buffer`);if(!(t.data instanceof a))throw new TypeError(`buffer should be of type ${a.name}`);this.cpuData=t.data;break}case"texture":{if(r!=="float32")throw new TypeError(`unsupported type "${r}" to create tensor from texture`);this.gpuTextureData=t.texture,this.downloader=t.download,this.disposer=t.dispose;break}case"gpu-buffer":{if(r!=="float32"&&r!=="float16"&&r!=="int32"&&r!=="int64"&&r!=="uint32"&&r!=="bool")throw new TypeError(`unsupported type "${r}" to create tensor from gpu buffer`);this.gpuBufferData=t.gpuBuffer,this.downloader=t.download,this.disposer=t.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let a,u;if(typeof t=="string")if(r=t,u=e,t==="string"){if(!Array.isArray(n))throw new TypeError("A string tensor's data must be a string array.");a=n}else{let l=kn.get(t);if(l===void 0)throw new TypeError(`Unsupported tensor type: ${t}.`);if(Array.isArray(n)){if(t==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");t==="uint64"||t==="int64"?a=l.from(n,BigInt):a=l.from(n)}else if(n instanceof l)a=n;else throw new TypeError(`A ${r} tensor's data must be type of ${l}`)}else if(u=n,Array.isArray(t)){if(t.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let l=typeof t[0];if(l==="string")r="string",a=t;else if(l==="boolean")r="bool",a=Uint8Array.from(t);else throw new TypeError(`Invalid element type of data array: ${l}.`)}else{let l=xo.get(t.constructor);if(l===void 0)throw new TypeError(`Unsupported type for tensor data: ${t.constructor}.`);r=l,a=t}if(u===void 0)u=[a.length];else if(!Array.isArray(u))throw new TypeError("A tensor's dims must be a number array");o=u,this.cpuData=a,this.dataLocation="cpu"}let s=eu(o);if(this.cpuData&&s!==this.cpuData.length)throw new Error(`Tensor's size(${s}) does not match data length(${this.cpuData.length}).`);this.type=r,this.dims=o,this.size=s}static async fromImage(t,n){return js(t,n)}static fromTexture(t,n){return qs(t,n)}static fromGpuBuffer(t,n){return Ys(t,n)}static fromPinnedBuffer(t,n,e){return Xs(t,n,e)}toDataURL(t){return zs(this,t)}toImageData(t){return Vs(this,t)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(t){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let n=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=n,t&&this.disposer&&(this.disposer(),this.disposer=void 0),n}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(t){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return tu(this,t)}}});var wt,Ci=k(()=>{"use strict";vo();wt=at});var wo,nu=k(()=>{"use strict";Ei();Ci();wo=class i{constructor(t){this.handler=t}async run(t,n,e){let r={},o={};if(typeof t!="object"||t===null||t instanceof wt||Array.isArray(t))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let s=!0;if(typeof n=="object"){if(n===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(n instanceof wt)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(n)){if(n.length===0)throw new TypeError("'fetches' cannot be an empty array.");s=!1;for(let l of n){if(typeof l!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(l)===-1)throw new RangeError(`'fetches' contains invalid output name: ${l}.`);r[l]=null}if(typeof e=="object"&&e!==null)o=e;else if(typeof e<"u")throw new TypeError("'options' must be an object.")}else{let l=!1,c=Object.getOwnPropertyNames(n);for(let b of this.outputNames)if(c.indexOf(b)!==-1){let y=n[b];(y===null||y instanceof wt)&&(l=!0,s=!1,r[b]=y)}if(l){if(typeof e=="object"&&e!==null)o=e;else if(typeof e<"u")throw new TypeError("'options' must be an object.")}else o=n}}else if(typeof n<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let l of this.inputNames)if(typeof t[l]>"u")throw new Error(`input '${l}' is missing in 'feeds'.`);if(s)for(let l of this.outputNames)r[l]=null;let a=await this.handler.run(t,r,o),u={};for(let l in a)if(Object.hasOwnProperty.call(a,l)){let c=a[l];c instanceof wt?u[l]=c:u[l]=new wt(c.type,c.data,c.dims)}return u}async release(){return this.handler.dispose()}static async create(t,n,e,r){let o,s={};if(typeof t=="string"){if(o=t,typeof n=="object"&&n!==null)s=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof Uint8Array){if(o=t,typeof n=="object"&&n!==null)s=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer){let b=t,y=0,w=t.byteLength;if(typeof n=="object"&&n!==null)s=n;else if(typeof n=="number"){if(y=n,!Number.isSafeInteger(y))throw new RangeError("'byteOffset' must be an integer.");if(y<0||y>=b.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${b.byteLength}).`);if(w=t.byteLength-y,typeof e=="number"){if(w=e,!Number.isSafeInteger(w))throw new RangeError("'byteLength' must be an integer.");if(w<=0||y+w>b.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${b.byteLength-y}].`);if(typeof r=="object"&&r!==null)s=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(typeof e<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof n<"u")throw new TypeError("'options' must be an object.");o=new Uint8Array(b,y,w)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let u=(s.executionProviders||[]).map(b=>typeof b=="string"?b:b.name),c=await(await Bs(u)).createInferenceSessionHandler(o,s);return new i(c)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var gh,ou=k(()=>{"use strict";nu();gh=wo});var iu=k(()=>{"use strict"});var _o,au=k(()=>{"use strict";_o=class{constructor(t){this.handler=t}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}static async create(t,n){throw new Error("Method not implemented")}async loadParametersBuffer(t,n){throw new Error("Method not implemented.")}async getContiguousParameters(t){throw new Error("Method not implemented.")}async runTrainStep(t,n,e){throw new Error("Method not implemented.")}async release(){return this.handler.dispose()}}});var yh,su=k(()=>{"use strict";au();yh=_o});var zt=k(()=>{"use strict";Rs();Ws();ou();Ci();iu();su()});function yr(i,t,n,e){if(t===void 0)return vh(i);if(n===void 0)Oo(i,t,1);else if(typeof n=="number"&&e===void 0)Oo(i,t,n);else if(typeof n=="string"&&e===void 0)Oo(i,n,1,t);else if(typeof n=="string"&&typeof e=="number")Oo(i,n,e,t);else throw new TypeError("input is valid")}function vh(i){return{verbose:yr.verbose.bind(null,i),info:yr.info.bind(null,i),warning:yr.warning.bind(null,i),error:yr.error.bind(null,i),fatal:yr.fatal.bind(null,i)}}function Oo(i,t,n,e){let r=$n[e||""]||$n[""];lu[i]<lu[r.minimalSeverity]||(r.logDateTime&&(t=`${new Date().toISOString()}|${t}`),r.logSourceLocation,Th[r.provider].log(i,t,e))}var Fi,ki,lu,Th,fu,$n,ye,Ao,So,Po,Io,_t=k(()=>{"use strict";Fi=class{log(t,n,e){}},ki=class{log(t,n,e){console.log(`${this.color(t)} ${e?"\x1B[35m"+e+"\x1B[0m ":""}${n}`)}color(t){switch(t){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${t}`)}}},lu={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},Th={none:new Fi,console:new ki},fu={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1},$n={"":fu};(u=>{function i(l,c){u("verbose",l,c)}u.verbose=i;function t(l,c){u("info",l,c)}u.info=t;function n(l,c){u("warning",l,c)}u.warning=n;function e(l,c){u("error",l,c)}u.error=e;function r(l,c){u("fatal",l,c)}u.fatal=r;function o(l){$n={},s("",l||{})}u.reset=o;function s(l,c){if(l==="*")o(c);else{let b=$n[l]||fu;$n[l]={provider:c.provider||b.provider,minimalSeverity:c.minimalSeverity||b.minimalSeverity,logDateTime:c.logDateTime===void 0?b.logDateTime:c.logDateTime,logSourceLocation:c.logSourceLocation===void 0?b.logSourceLocation:c.logSourceLocation}}}u.set=s;function a(l){let c={};l.logLevel&&(c.minimalSeverity=l.logLevel),s("",c)}u.setWithEnv=a})(yr||={});ye=yr,Ao=class{constructor(t,n,e,r,o,s){this.category=t;this.name=n;this.startTime=e;this.endCallback=r;this.timer=o;this.ctx=s}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}},So=class{constructor(t,n,e,r){this.category=t;this.name=n;this.startTime=e;this.endTime=r}},Po=class{constructor(t,n,e){this._started=!1;this._flushPointer=0;this._started=!1,this._maxNumberEvents=t===void 0?1e4:t,this._flushBatchSize=n===void 0?10:n,this._flushIntervalInMilliseconds=e===void 0?5e3:e}static create(t){return t===void 0?new this:new this(t.maxNumberEvents,t.flushBatchSize,t.flushIntervalInMilliseconds)}start(){this._started=!0,this._timingEvents=[],this._flushTime=Io(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(t,n,e,r){let o=this._started?this.begin(t,n,r):void 0,s=!1,a=e();if(a&&typeof a.then=="function")return s=!0,new Promise((u,l)=>{a.then(async c=>{o&&await o.end(),u(c)},async c=>{o&&await o.end(),l(c)})});if(!s&&o){let u=o.end();if(u&&typeof u.then=="function")return new Promise((l,c)=>{u.then(()=>{l(a)},b=>{c(b)})})}return a}begin(t,n,e){if(!this._started)throw new Error("profiler is not started yet");if(e===void 0){let r=Io();return this.flush(r),new Ao(t,n,r,o=>this.endSync(o))}else{let r=e.beginTimer();return new Ao(t,n,0,async o=>this.end(o),r,e)}}async end(t){let n=await t.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new So(t.category,t.name,t.startTime,n)),this.flush(n))}endSync(t){let n=Io();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new So(t.category,t.name,t.startTime,n)),this.flush(n))}logOneEvent(t){ye.verbose(`Profiler.${t.category}`,`${(t.endTime-t.startTime).toFixed(2)}ms on event '${t.name}' at ${t.endTime.toFixed(2)}`)}flush(t){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||t-this._flushTime>=this._flushIntervalInMilliseconds){for(let n=this._flushPointer;this._flushPointer<n+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=Io()}}get started(){return this._started}},Io=typeof performance<"u"&&performance.now?()=>performance.now():Date.now});function cu(i,t,n){for(let e of n){let r=e[0],o=e[1],s=e[2],a=e[3],u=e[4];if(i.opType===r){for(let l of t)if((l.domain===o||l.domain==="ai.onnx"&&o==="")&&xh(l.version,s))return{opImpl:a,opInit:u}}}throw new TypeError(`cannot resolve operator '${i.opType}' with opsets: ${t.map(e=>`${e.domain||"ai.onnx"} v${e.version}`).join(", ")}`)}function xh(i,t){if(t.endsWith("+")){let n=Number.parseInt(t.substring(0,t.length-1),10);return!isNaN(n)&&n<=i}else if(t.split("-").length===2){let n=t.split("-"),e=Number.parseInt(n[0],10),r=Number.parseInt(n[1],10);return!isNaN(e)&&!isNaN(r)&&e<=i&&i<=r}else return Number.parseInt(t,10)===i}var pu=k(()=>{"use strict"});var du=xe($i=>{"use strict";$i.__esModule=!0;var wh=function(){function i(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=i.EMPTY,t&&i.isGuid(t)&&(this.value=t)}return i.isGuid=function(t){var n=t.toString();return t&&(t instanceof i||i.validator.test(n))},i.create=function(){return new i([i.gen(2),i.gen(1),i.gen(1),i.gen(1),i.gen(3)].join("-"))},i.createEmpty=function(){return new i("emptyguid")},i.parse=function(t){return new i(t)},i.raw=function(){return[i.gen(2),i.gen(1),i.gen(1),i.gen(1),i.gen(3)].join("-")},i.gen=function(t){for(var n="",e=0;e<t;e++)n+=((1+Math.random())*65536|0).toString(16).substring(1);return n},i.prototype.equals=function(t){return i.isGuid(t)&&this.value===t.toString()},i.prototype.isEmpty=function(){return this.value===i.EMPTY},i.prototype.toString=function(){return this.value},i.prototype.toJSON=function(){return{value:this.value}},i.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),i.EMPTY="00000000-0000-0000-0000-000000000000",i}();$i.Guid=wh});function we(i,t,n){this.low=i|0,this.high=t|0,this.unsigned=!!n}function Ze(i){return(i&&i.__isLong__)===!0}function hu(i){var t=Math.clz32(i&-i);return i?31-t:t}function Cr(i,t){var n,e,r;return t?(i>>>=0,(r=0<=i&&i<256)&&(e=bu[i],e)?e:(n=he(i,0,!0),r&&(bu[i]=n),n)):(i|=0,(r=-128<=i&&i<128)&&(e=mu[i],e)?e:(n=he(i,i<0?-1:0,!1),r&&(mu[i]=n),n))}function It(i,t){if(isNaN(i))return t?ir:$t;if(t){if(i<0)return ir;if(i>=vu)return _u}else{if(i<=-yu)return dt;if(i+1>=yu)return wu}return i<0?It(-i,t).neg():he(i%on|0,i/on|0,t)}function he(i,t,n){return new we(i,t,n)}function Ri(i,t,n){if(i.length===0)throw Error("empty string");if(typeof t=="number"?(n=t,t=!1):t=!!t,i==="NaN"||i==="Infinity"||i==="+Infinity"||i==="-Infinity")return t?ir:$t;if(n=n||10,n<2||36<n)throw RangeError("radix");var e;if((e=i.indexOf("-"))>0)throw Error("interior hyphen");if(e===0)return Ri(i.substring(1),t,n).neg();for(var r=It(Eo(n,8)),o=$t,s=0;s<i.length;s+=8){var a=Math.min(8,i.length-s),u=parseInt(i.substring(s,s+a),n);if(a<8){var l=It(Eo(n,a));o=o.mul(l).add(It(u))}else o=o.mul(r),o=o.add(It(u))}return o.unsigned=t,o}function Bt(i,t){return typeof i=="number"?It(i,t):typeof i=="string"?Ri(i,t):he(i.low,i.high,typeof t=="boolean"?t:i.unsigned)}var Ot,mu,bu,Eo,gu,_h,on,vu,yu,Tu,$t,ir,nn,xu,Bi,wu,_u,dt,M,ar,Ni=k(()=>{Ot=null;try{Ot=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}we.prototype.__isLong__;Object.defineProperty(we.prototype,"__isLong__",{value:!0});we.isLong=Ze;mu={},bu={};we.fromInt=Cr;we.fromNumber=It;we.fromBits=he;Eo=Math.pow;we.fromString=Ri;we.fromValue=Bt;gu=65536,_h=1<<24,on=gu*gu,vu=on*on,yu=vu/2,Tu=Cr(_h),$t=Cr(0);we.ZERO=$t;ir=Cr(0,!0);we.UZERO=ir;nn=Cr(1);we.ONE=nn;xu=Cr(1,!0);we.UONE=xu;Bi=Cr(-1);we.NEG_ONE=Bi;wu=he(-1,2147483647,!1);we.MAX_VALUE=wu;_u=he(-1,-1,!0);we.MAX_UNSIGNED_VALUE=_u;dt=he(0,-2147483648,!1);we.MIN_VALUE=dt;M=we.prototype;M.toInt=function(){return this.unsigned?this.low>>>0:this.low};M.toNumber=function(){return this.unsigned?(this.high>>>0)*on+(this.low>>>0):this.high*on+(this.low>>>0)};M.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(dt)){var n=It(t),e=this.div(n),r=e.mul(n).sub(this);return e.toString(t)+r.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var o=It(Eo(t,6),this.unsigned),s=this,a="";;){var u=s.div(o),l=s.sub(u.mul(o)).toInt()>>>0,c=l.toString(t);if(s=u,s.isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}};M.getHighBits=function(){return this.high};M.getHighBitsUnsigned=function(){return this.high>>>0};M.getLowBits=function(){return this.low};M.getLowBitsUnsigned=function(){return this.low>>>0};M.getNumBitsAbs=function(){if(this.isNegative())return this.eq(dt)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,n=31;n>0&&!(t&1<<n);n--);return this.high!=0?n+33:n+1};M.isZero=function(){return this.high===0&&this.low===0};M.eqz=M.isZero;M.isNegative=function(){return!this.unsigned&&this.high<0};M.isPositive=function(){return this.unsigned||this.high>=0};M.isOdd=function(){return(this.low&1)===1};M.isEven=function(){return(this.low&1)===0};M.equals=function(t){return Ze(t)||(t=Bt(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};M.eq=M.equals;M.notEquals=function(t){return!this.eq(t)};M.neq=M.notEquals;M.ne=M.notEquals;M.lessThan=function(t){return this.comp(t)<0};M.lt=M.lessThan;M.lessThanOrEqual=function(t){return this.comp(t)<=0};M.lte=M.lessThanOrEqual;M.le=M.lessThanOrEqual;M.greaterThan=function(t){return this.comp(t)>0};M.gt=M.greaterThan;M.greaterThanOrEqual=function(t){return this.comp(t)>=0};M.gte=M.greaterThanOrEqual;M.ge=M.greaterThanOrEqual;M.compare=function(t){if(Ze(t)||(t=Bt(t)),this.eq(t))return 0;var n=this.isNegative(),e=t.isNegative();return n&&!e?-1:!n&&e?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};M.comp=M.compare;M.negate=function(){return!this.unsigned&&this.eq(dt)?dt:this.not().add(nn)};M.neg=M.negate;M.add=function(t){Ze(t)||(t=Bt(t));var n=this.high>>>16,e=this.high&65535,r=this.low>>>16,o=this.low&65535,s=t.high>>>16,a=t.high&65535,u=t.low>>>16,l=t.low&65535,c=0,b=0,y=0,w=0;return w+=o+l,y+=w>>>16,w&=65535,y+=r+u,b+=y>>>16,y&=65535,b+=e+a,c+=b>>>16,b&=65535,c+=n+s,c&=65535,he(y<<16|w,c<<16|b,this.unsigned)};M.subtract=function(t){return Ze(t)||(t=Bt(t)),this.add(t.neg())};M.sub=M.subtract;M.multiply=function(t){if(this.isZero())return this;if(Ze(t)||(t=Bt(t)),Ot){var n=Ot.mul(this.low,this.high,t.low,t.high);return he(n,Ot.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?ir:$t;if(this.eq(dt))return t.isOdd()?dt:$t;if(t.eq(dt))return this.isOdd()?dt:$t;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Tu)&&t.lt(Tu))return It(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,r=this.high&65535,o=this.low>>>16,s=this.low&65535,a=t.high>>>16,u=t.high&65535,l=t.low>>>16,c=t.low&65535,b=0,y=0,w=0,A=0;return A+=s*c,w+=A>>>16,A&=65535,w+=o*c,y+=w>>>16,w&=65535,w+=s*l,y+=w>>>16,w&=65535,y+=r*c,b+=y>>>16,y&=65535,y+=o*l,b+=y>>>16,y&=65535,y+=s*u,b+=y>>>16,y&=65535,b+=e*c+r*l+o*u+s*a,b&=65535,he(w<<16|A,b<<16|y,this.unsigned)};M.mul=M.multiply;M.divide=function(t){if(Ze(t)||(t=Bt(t)),t.isZero())throw Error("division by zero");if(Ot){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var n=(this.unsigned?Ot.div_u:Ot.div_s)(this.low,this.high,t.low,t.high);return he(n,Ot.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ir:$t;var e,r,o;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ir;if(t.gt(this.shru(1)))return xu;o=ir}else{if(this.eq(dt)){if(t.eq(nn)||t.eq(Bi))return dt;if(t.eq(dt))return nn;var s=this.shr(1);return e=s.div(t).shl(1),e.eq($t)?t.isNegative()?nn:Bi:(r=this.sub(t.mul(e)),o=e.add(r.div(t)),o)}else if(t.eq(dt))return this.unsigned?ir:$t;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=$t}for(r=this;r.gte(t);){e=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(e)/Math.LN2),u=a<=48?1:Eo(2,a-48),l=It(e),c=l.mul(t);c.isNegative()||c.gt(r);)e-=u,l=It(e,this.unsigned),c=l.mul(t);l.isZero()&&(l=nn),o=o.add(l),r=r.sub(c)}return o};M.div=M.divide;M.modulo=function(t){if(Ze(t)||(t=Bt(t)),Ot){var n=(this.unsigned?Ot.rem_u:Ot.rem_s)(this.low,this.high,t.low,t.high);return he(n,Ot.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};M.mod=M.modulo;M.rem=M.modulo;M.not=function(){return he(~this.low,~this.high,this.unsigned)};M.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};M.clz=M.countLeadingZeros;M.countTrailingZeros=function(){return this.low?hu(this.low):hu(this.high)+32};M.ctz=M.countTrailingZeros;M.and=function(t){return Ze(t)||(t=Bt(t)),he(this.low&t.low,this.high&t.high,this.unsigned)};M.or=function(t){return Ze(t)||(t=Bt(t)),he(this.low|t.low,this.high|t.high,this.unsigned)};M.xor=function(t){return Ze(t)||(t=Bt(t)),he(this.low^t.low,this.high^t.high,this.unsigned)};M.shiftLeft=function(t){return Ze(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?he(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):he(0,this.low<<t-32,this.unsigned)};M.shl=M.shiftLeft;M.shiftRight=function(t){return Ze(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?he(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):he(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};M.shr=M.shiftRight;M.shiftRightUnsigned=function(t){return Ze(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?he(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?he(this.high,0,this.unsigned):he(this.high>>>t-32,0,this.unsigned)};M.shru=M.shiftRightUnsigned;M.shr_u=M.shiftRightUnsigned;M.rotateLeft=function(t){var n;return Ze(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?he(this.high,this.low,this.unsigned):t<32?(n=32-t,he(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(t-=32,n=32-t,he(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))};M.rotl=M.rotateLeft;M.rotateRight=function(t){var n;return Ze(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?he(this.high,this.low,this.unsigned):t<32?(n=32-t,he(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(t-=32,n=32-t,he(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))};M.rotr=M.rotateRight;M.toSigned=function(){return this.unsigned?he(this.low,this.high,!1):this};M.toUnsigned=function(){return this.unsigned?this:he(this.low,this.high,!0)};M.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};M.toBytesLE=function(){var t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};M.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};we.fromBytes=function(t,n,e){return e?we.fromBytesLE(t,n):we.fromBytesBE(t,n)};we.fromBytesLE=function(t,n){return new we(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)};we.fromBytesBE=function(t,n){return new we(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};ar=we});var I,Do=k(()=>{I={};I.Offset;I.Table;I.SIZEOF_SHORT=2;I.SIZEOF_INT=4;I.FILE_IDENTIFIER_LENGTH=4;I.SIZE_PREFIX_LENGTH=4;I.Encoding={UTF8_BYTES:1,UTF16_STRING:2};I.int32=new Int32Array(2);I.float32=new Float32Array(I.int32.buffer);I.float64=new Float64Array(I.int32.buffer);I.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;I.Long=function(i,t){this.low=i|0,this.high=t|0};I.Long.create=function(i,t){return i==0&&t==0?I.Long.ZERO:new I.Long(i,t)};I.Long.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296};I.Long.prototype.equals=function(i){return this.low==i.low&&this.high==i.high};I.Long.ZERO=new I.Long(0,0);I.Builder=function(i){if(i)var t=i;else var t=1024;this.bb=I.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};I.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};I.Builder.prototype.forceDefaults=function(i){this.force_defaults=i};I.Builder.prototype.dataBuffer=function(){return this.bb};I.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())};I.Builder.prototype.prep=function(i,t){i>this.minalign&&(this.minalign=i);for(var n=~(this.bb.capacity()-this.space+t)+1&i-1;this.space<n+i+t;){var e=this.bb.capacity();this.bb=I.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-e}this.pad(n)};I.Builder.prototype.pad=function(i){for(var t=0;t<i;t++)this.bb.writeInt8(--this.space,0)};I.Builder.prototype.writeInt8=function(i){this.bb.writeInt8(this.space-=1,i)};I.Builder.prototype.writeInt16=function(i){this.bb.writeInt16(this.space-=2,i)};I.Builder.prototype.writeInt32=function(i){this.bb.writeInt32(this.space-=4,i)};I.Builder.prototype.writeInt64=function(i){this.bb.writeInt64(this.space-=8,i)};I.Builder.prototype.writeFloat32=function(i){this.bb.writeFloat32(this.space-=4,i)};I.Builder.prototype.writeFloat64=function(i){this.bb.writeFloat64(this.space-=8,i)};I.Builder.prototype.addInt8=function(i){this.prep(1,0),this.writeInt8(i)};I.Builder.prototype.addInt16=function(i){this.prep(2,0),this.writeInt16(i)};I.Builder.prototype.addInt32=function(i){this.prep(4,0),this.writeInt32(i)};I.Builder.prototype.addInt64=function(i){this.prep(8,0),this.writeInt64(i)};I.Builder.prototype.addFloat32=function(i){this.prep(4,0),this.writeFloat32(i)};I.Builder.prototype.addFloat64=function(i){this.prep(8,0),this.writeFloat64(i)};I.Builder.prototype.addFieldInt8=function(i,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(i))};I.Builder.prototype.addFieldInt16=function(i,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(i))};I.Builder.prototype.addFieldInt32=function(i,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(i))};I.Builder.prototype.addFieldInt64=function(i,t,n){(this.force_defaults||!t.equals(n))&&(this.addInt64(t),this.slot(i))};I.Builder.prototype.addFieldFloat32=function(i,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(i))};I.Builder.prototype.addFieldFloat64=function(i,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(i))};I.Builder.prototype.addFieldOffset=function(i,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(i))};I.Builder.prototype.addFieldStruct=function(i,t,n){t!=n&&(this.nested(t),this.slot(i))};I.Builder.prototype.nested=function(i){if(i!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")};I.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")};I.Builder.prototype.slot=function(i){this.vtable[i]=this.offset()};I.Builder.prototype.offset=function(){return this.bb.capacity()-this.space};I.Builder.growByteBuffer=function(i){var t=i.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,e=I.ByteBuffer.allocate(n);return e.setPosition(n-t),e.bytes().set(i.bytes(),n-t),e};I.Builder.prototype.addOffset=function(i){this.prep(I.SIZEOF_INT,0),this.writeInt32(this.offset()-i+I.SIZEOF_INT)};I.Builder.prototype.startObject=function(i){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=i;for(var t=0;t<i;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()};I.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var i=this.offset(),t=this.vtable_in_use-1;t>=0&&this.vtable[t]==0;t--);for(var n=t+1;t>=0;t--)this.addInt16(this.vtable[t]!=0?i-this.vtable[t]:0);var e=2;this.addInt16(i-this.object_start);var r=(n+e)*I.SIZEOF_SHORT;this.addInt16(r);var o=0,s=this.space;e:for(t=0;t<this.vtables.length;t++){var a=this.bb.capacity()-this.vtables[t];if(r==this.bb.readInt16(a)){for(var u=I.SIZEOF_SHORT;u<r;u+=I.SIZEOF_SHORT)if(this.bb.readInt16(s+u)!=this.bb.readInt16(a+u))continue e;o=this.vtables[t];break}}return o?(this.space=this.bb.capacity()-i,this.bb.writeInt32(this.space,o-i)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-i,this.offset()-i)),this.isNested=!1,i};I.Builder.prototype.finish=function(i,t,n){var e=n?I.SIZE_PREFIX_LENGTH:0;if(t){var r=t;if(this.prep(this.minalign,I.SIZEOF_INT+I.FILE_IDENTIFIER_LENGTH+e),r.length!=I.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+I.FILE_IDENTIFIER_LENGTH);for(var o=I.FILE_IDENTIFIER_LENGTH-1;o>=0;o--)this.writeInt8(r.charCodeAt(o))}this.prep(this.minalign,I.SIZEOF_INT+e),this.addOffset(i),e&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)};I.Builder.prototype.finishSizePrefixed=function(i,t){this.finish(i,t,!0)};I.Builder.prototype.requiredField=function(i,t){var n=this.bb.capacity()-i,e=n-this.bb.readInt32(n),r=this.bb.readInt16(e+t)!=0;if(!r)throw new Error("FlatBuffers: field "+t+" must be set")};I.Builder.prototype.startVector=function(i,t,n){this.notNested(),this.vector_num_elems=t,this.prep(I.SIZEOF_INT,i*t),this.prep(n,i*t)};I.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()};I.Builder.prototype.createString=function(i){if(i instanceof Uint8Array)var t=i;else for(var t=[],n=0;n<i.length;){var e,r=i.charCodeAt(n++);if(r<55296||r>=56320)e=r;else{var o=i.charCodeAt(n++);e=(r<<10)+o+(65536-56623104-56320)}e<128?t.push(e):(e<2048?t.push(e>>6&31|192):(e<65536?t.push(e>>12&15|224):t.push(e>>18&7|240,e>>12&63|128),t.push(e>>6&63|128)),t.push(e&63|128))}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var n=0,s=this.space,a=this.bb.bytes();n<t.length;n++)a[s++]=t[n];return this.endVector()};I.Builder.prototype.createLong=function(i,t){return I.Long.create(i,t)};I.ByteBuffer=function(i){this.bytes_=i,this.position_=0};I.ByteBuffer.allocate=function(i){return new I.ByteBuffer(new Uint8Array(i))};I.ByteBuffer.prototype.clear=function(){this.position_=0};I.ByteBuffer.prototype.bytes=function(){return this.bytes_};I.ByteBuffer.prototype.position=function(){return this.position_};I.ByteBuffer.prototype.setPosition=function(i){this.position_=i};I.ByteBuffer.prototype.capacity=function(){return this.bytes_.length};I.ByteBuffer.prototype.readInt8=function(i){return this.readUint8(i)<<24>>24};I.ByteBuffer.prototype.readUint8=function(i){return this.bytes_[i]};I.ByteBuffer.prototype.readInt16=function(i){return this.readUint16(i)<<16>>16};I.ByteBuffer.prototype.readUint16=function(i){return this.bytes_[i]|this.bytes_[i+1]<<8};I.ByteBuffer.prototype.readInt32=function(i){return this.bytes_[i]|this.bytes_[i+1]<<8|this.bytes_[i+2]<<16|this.bytes_[i+3]<<24};I.ByteBuffer.prototype.readUint32=function(i){return this.readInt32(i)>>>0};I.ByteBuffer.prototype.readInt64=function(i){return new I.Long(this.readInt32(i),this.readInt32(i+4))};I.ByteBuffer.prototype.readUint64=function(i){return new I.Long(this.readUint32(i),this.readUint32(i+4))};I.ByteBuffer.prototype.readFloat32=function(i){return I.int32[0]=this.readInt32(i),I.float32[0]};I.ByteBuffer.prototype.readFloat64=function(i){return I.int32[I.isLittleEndian?0:1]=this.readInt32(i),I.int32[I.isLittleEndian?1:0]=this.readInt32(i+4),I.float64[0]};I.ByteBuffer.prototype.writeInt8=function(i,t){this.bytes_[i]=t};I.ByteBuffer.prototype.writeUint8=function(i,t){this.bytes_[i]=t};I.ByteBuffer.prototype.writeInt16=function(i,t){this.bytes_[i]=t,this.bytes_[i+1]=t>>8};I.ByteBuffer.prototype.writeUint16=function(i,t){this.bytes_[i]=t,this.bytes_[i+1]=t>>8};I.ByteBuffer.prototype.writeInt32=function(i,t){this.bytes_[i]=t,this.bytes_[i+1]=t>>8,this.bytes_[i+2]=t>>16,this.bytes_[i+3]=t>>24};I.ByteBuffer.prototype.writeUint32=function(i,t){this.bytes_[i]=t,this.bytes_[i+1]=t>>8,this.bytes_[i+2]=t>>16,this.bytes_[i+3]=t>>24};I.ByteBuffer.prototype.writeInt64=function(i,t){this.writeInt32(i,t.low),this.writeInt32(i+4,t.high)};I.ByteBuffer.prototype.writeUint64=function(i,t){this.writeUint32(i,t.low),this.writeUint32(i+4,t.high)};I.ByteBuffer.prototype.writeFloat32=function(i,t){I.float32[0]=t,this.writeInt32(i,I.int32[0])};I.ByteBuffer.prototype.writeFloat64=function(i,t){I.float64[0]=t,this.writeInt32(i,I.int32[I.isLittleEndian?0:1]),this.writeInt32(i+4,I.int32[I.isLittleEndian?1:0])};I.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+I.SIZEOF_INT+I.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var i="",t=0;t<I.FILE_IDENTIFIER_LENGTH;t++)i+=String.fromCharCode(this.readInt8(this.position_+I.SIZEOF_INT+t));return i};I.ByteBuffer.prototype.__offset=function(i,t){var n=i-this.readInt32(i);return t<this.readInt16(n)?this.readInt16(n+t):0};I.ByteBuffer.prototype.__union=function(i,t){return i.bb_pos=t+this.readInt32(t),i.bb=this,i};I.ByteBuffer.prototype.__string=function(i,t){i+=this.readInt32(i);var n=this.readInt32(i),e="",r=0;if(i+=I.SIZEOF_INT,t===I.Encoding.UTF8_BYTES)return this.bytes_.subarray(i,i+n);for(;r<n;){var o,s=this.readUint8(i+r++);if(s<192)o=s;else{var a=this.readUint8(i+r++);if(s<224)o=(s&31)<<6|a&63;else{var u=this.readUint8(i+r++);if(s<240)o=(s&15)<<12|(a&63)<<6|u&63;else{var l=this.readUint8(i+r++);o=(s&7)<<18|(a&63)<<12|(u&63)<<6|l&63}}}o<65536?e+=String.fromCharCode(o):(o-=65536,e+=String.fromCharCode((o>>10)+55296,(o&1024-1)+56320))}return e};I.ByteBuffer.prototype.__indirect=function(i){return i+this.readInt32(i)};I.ByteBuffer.prototype.__vector=function(i){return i+this.readInt32(i)+I.SIZEOF_INT};I.ByteBuffer.prototype.__vector_len=function(i){return this.readInt32(i+this.readInt32(i))};I.ByteBuffer.prototype.__has_identifier=function(i){if(i.length!=I.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+I.FILE_IDENTIFIER_LENGTH);for(var t=0;t<I.FILE_IDENTIFIER_LENGTH;t++)if(i.charCodeAt(t)!=this.readInt8(this.position_+I.SIZEOF_INT+t))return!1;return!0};I.ByteBuffer.prototype.createLong=function(i,t){return I.Long.create(i,t)}});var Y,Bn=k(()=>{"use strict";Do();(t=>{let i;(e=>{let n;(o=>{let r;(G=>(G[G.UNDEFINED=0]="UNDEFINED",G[G.FLOAT=1]="FLOAT",G[G.INT=2]="INT",G[G.STRING=3]="STRING",G[G.TENSOR=4]="TENSOR",G[G.GRAPH=5]="GRAPH",G[G.FLOATS=6]="FLOATS",G[G.INTS=7]="INTS",G[G.STRINGS=8]="STRINGS",G[G.TENSORS=9]="TENSORS",G[G.GRAPHS=10]="GRAPHS",G[G.SPARSE_TENSOR=11]="SPARSE_TENSOR",G[G.SPARSE_TENSORS=12]="SPARSE_TENSORS"))(r=o.AttributeType||={})})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{let r;(l=>(l[l.UNKNOWN=0]="UNKNOWN",l[l.VALUE=1]="VALUE",l[l.PARAM=2]="PARAM"))(r=o.DimensionValueType||={})})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{let r;(B=>(B[B.UNDEFINED=0]="UNDEFINED",B[B.FLOAT=1]="FLOAT",B[B.UINT8=2]="UINT8",B[B.INT8=3]="INT8",B[B.UINT16=4]="UINT16",B[B.INT16=5]="INT16",B[B.INT32=6]="INT32",B[B.INT64=7]="INT64",B[B.STRING=8]="STRING",B[B.BOOL=9]="BOOL",B[B.FLOAT16=10]="FLOAT16",B[B.DOUBLE=11]="DOUBLE",B[B.UINT32=12]="UINT32",B[B.UINT64=13]="UINT64",B[B.COMPLEX64=14]="COMPLEX64",B[B.COMPLEX128=15]="COMPLEX128",B[B.BFLOAT16=16]="BFLOAT16",B[B.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",B[B.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",B[B.FLOAT8E5M2=19]="FLOAT8E5M2",B[B.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"))(r=o.TensorDataType||={})})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{let r;(u=>(u[u.Primitive=0]="Primitive",u[u.Fused=1]="Fused"))(r=o.NodeType||={})})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{let r;(c=>(c[c.NONE=0]="NONE",c[c.tensor_type=1]="tensor_type",c[c.sequence_type=2]="sequence_type",c[c.map_type=3]="map_type"))(r=o.TypeInfoValue||={})})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsShape(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsShape(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}dim(a,u){let l=this.bb.__offset(this.bb_pos,4);return l?(u||new t.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+a*4),this.bb):null}dimLength(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0}static startShape(a){a.startObject(1)}static addDim(a,u){a.addFieldOffset(0,u,0)}static createDimVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startDimVector(a,u){a.startVector(4,u,4)}static endShape(a){return a.endObject()}static createShape(a,u){return r.startShape(a),r.addDim(a,u),r.endShape(a)}}o.Shape=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsDimension(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsDimension(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}value(a){let u=this.bb.__offset(this.bb_pos,4);return u?(a||new t.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}denotation(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}static startDimension(a){a.startObject(2)}static addValue(a,u){a.addFieldOffset(0,u,0)}static addDenotation(a,u){a.addFieldOffset(1,u,0)}static endDimension(a){return a.endObject()}static createDimension(a,u,l){return r.startDimension(a),r.addValue(a,u),r.addDenotation(a,l),r.endDimension(a)}}o.Dimension=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsDimensionValue(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsDimensionValue(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}dimType(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):0}dimValue(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}dimParam(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__string(this.bb_pos+u,a):null}static startDimensionValue(a){a.startObject(3)}static addDimType(a,u){a.addFieldInt8(0,u,0)}static addDimValue(a,u){a.addFieldInt64(1,u,a.createLong(0,0))}static addDimParam(a,u){a.addFieldOffset(2,u,0)}static endDimensionValue(a){return a.endObject()}static createDimensionValue(a,u,l,c){return r.startDimensionValue(a),r.addDimType(a,u),r.addDimValue(a,l),r.addDimParam(a,c),r.endDimensionValue(a)}}o.DimensionValue=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsTensorTypeAndShape(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsTensorTypeAndShape(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}elemType(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0}shape(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new t.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startTensorTypeAndShape(a){a.startObject(2)}static addElemType(a,u){a.addFieldInt32(0,u,0)}static addShape(a,u){a.addFieldOffset(1,u,0)}static endTensorTypeAndShape(a){return a.endObject()}static createTensorTypeAndShape(a,u,l){return r.startTensorTypeAndShape(a),r.addElemType(a,u),r.addShape(a,l),r.endTensorTypeAndShape(a)}}o.TensorTypeAndShape=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsMapType(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsMapType(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}keyType(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0}valueType(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new t.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startMapType(a){a.startObject(2)}static addKeyType(a,u){a.addFieldInt32(0,u,0)}static addValueType(a,u){a.addFieldOffset(1,u,0)}static endMapType(a){return a.endObject()}static createMapType(a,u,l){return r.startMapType(a),r.addKeyType(a,u),r.addValueType(a,l),r.endMapType(a)}}o.MapType=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsSequenceType(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsSequenceType(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}elemType(a){let u=this.bb.__offset(this.bb_pos,4);return u?(a||new t.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startSequenceType(a){a.startObject(1)}static addElemType(a,u){a.addFieldOffset(0,u,0)}static endSequenceType(a){return a.endObject()}static createSequenceType(a,u){return r.startSequenceType(a),r.addElemType(a,u),r.endSequenceType(a)}}o.SequenceType=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(a,u,l,c){return a.prep(4,12),a.writeInt32(c),a.writeInt32(l),a.writeInt32(u),a.offset()}}o.EdgeEnd=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsNodeEdge(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsNodeEdge(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}nodeIndex(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readUint32(this.bb_pos+a):0}inputEdges(a,u){let l=this.bb.__offset(this.bb_pos,6);return l?(u||new t.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+l)+a*12,this.bb):null}inputEdgesLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}outputEdges(a,u){let l=this.bb.__offset(this.bb_pos,8);return l?(u||new t.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+l)+a*12,this.bb):null}outputEdgesLength(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0}static startNodeEdge(a){a.startObject(3)}static addNodeIndex(a,u){a.addFieldInt32(0,u,0)}static addInputEdges(a,u){a.addFieldOffset(1,u,0)}static startInputEdgesVector(a,u){a.startVector(12,u,4)}static addOutputEdges(a,u){a.addFieldOffset(2,u,0)}static startOutputEdgesVector(a,u){a.startVector(12,u,4)}static endNodeEdge(a){return a.endObject()}static createNodeEdge(a,u,l,c){return r.startNodeEdge(a),r.addNodeIndex(a,u),r.addInputEdges(a,l),r.addOutputEdges(a,c),r.endNodeEdge(a)}}o.NodeEdge=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsNode(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsNode(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}name(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}docString(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}domain(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__string(this.bb_pos+u,a):null}sinceVersion(){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0}index(){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readUint32(this.bb_pos+a):0}opType(a){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__string(this.bb_pos+u,a):null}type(){let a=this.bb.__offset(this.bb_pos,16);return a?this.bb.readInt32(this.bb_pos+a):0}executionProviderType(a){let u=this.bb.__offset(this.bb_pos,18);return u?this.bb.__string(this.bb_pos+u,a):null}inputs(a,u){let l=this.bb.__offset(this.bb_pos,20);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+a*4,u):null}inputsLength(){let a=this.bb.__offset(this.bb_pos,20);return a?this.bb.__vector_len(this.bb_pos+a):0}outputs(a,u){let l=this.bb.__offset(this.bb_pos,22);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+a*4,u):null}outputsLength(){let a=this.bb.__offset(this.bb_pos,22);return a?this.bb.__vector_len(this.bb_pos+a):0}attributes(a,u){let l=this.bb.__offset(this.bb_pos,24);return l?(u||new t.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+a*4),this.bb):null}attributesLength(){let a=this.bb.__offset(this.bb_pos,24);return a?this.bb.__vector_len(this.bb_pos+a):0}inputArgCounts(a){let u=this.bb.__offset(this.bb_pos,26);return u?this.bb.readInt32(this.bb.__vector(this.bb_pos+u)+a*4):0}inputArgCountsLength(){let a=this.bb.__offset(this.bb_pos,26);return a?this.bb.__vector_len(this.bb_pos+a):0}inputArgCountsArray(){let a=this.bb.__offset(this.bb_pos,26);return a?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null}implicitInputs(a,u){let l=this.bb.__offset(this.bb_pos,28);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+a*4,u):null}implicitInputsLength(){let a=this.bb.__offset(this.bb_pos,28);return a?this.bb.__vector_len(this.bb_pos+a):0}static startNode(a){a.startObject(13)}static addName(a,u){a.addFieldOffset(0,u,0)}static addDocString(a,u){a.addFieldOffset(1,u,0)}static addDomain(a,u){a.addFieldOffset(2,u,0)}static addSinceVersion(a,u){a.addFieldInt32(3,u,0)}static addIndex(a,u){a.addFieldInt32(4,u,0)}static addOpType(a,u){a.addFieldOffset(5,u,0)}static addType(a,u){a.addFieldInt32(6,u,0)}static addExecutionProviderType(a,u){a.addFieldOffset(7,u,0)}static addInputs(a,u){a.addFieldOffset(8,u,0)}static createInputsVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startInputsVector(a,u){a.startVector(4,u,4)}static addOutputs(a,u){a.addFieldOffset(9,u,0)}static createOutputsVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startOutputsVector(a,u){a.startVector(4,u,4)}static addAttributes(a,u){a.addFieldOffset(10,u,0)}static createAttributesVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startAttributesVector(a,u){a.startVector(4,u,4)}static addInputArgCounts(a,u){a.addFieldOffset(11,u,0)}static createInputArgCountsVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addInt32(u[l]);return a.endVector()}static startInputArgCountsVector(a,u){a.startVector(4,u,4)}static addImplicitInputs(a,u){a.addFieldOffset(12,u,0)}static createImplicitInputsVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startImplicitInputsVector(a,u){a.startVector(4,u,4)}static endNode(a){return a.endObject()}static createNode(a,u,l,c,b,y,w,A,O,C,$,F,G,ee){return r.startNode(a),r.addName(a,u),r.addDocString(a,l),r.addDomain(a,c),r.addSinceVersion(a,b),r.addIndex(a,y),r.addOpType(a,w),r.addType(a,A),r.addExecutionProviderType(a,O),r.addInputs(a,C),r.addOutputs(a,$),r.addAttributes(a,F),r.addInputArgCounts(a,G),r.addImplicitInputs(a,ee),r.endNode(a)}}o.Node=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsValueInfo(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsValueInfo(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}name(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}docString(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}type(a){let u=this.bb.__offset(this.bb_pos,8);return u?(a||new t.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startValueInfo(a){a.startObject(3)}static addName(a,u){a.addFieldOffset(0,u,0)}static addDocString(a,u){a.addFieldOffset(1,u,0)}static addType(a,u){a.addFieldOffset(2,u,0)}static endValueInfo(a){return a.endObject()}static createValueInfo(a,u,l,c){return r.startValueInfo(a),r.addName(a,u),r.addDocString(a,l),r.addType(a,c),r.endValueInfo(a)}}o.ValueInfo=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsTypeInfo(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsTypeInfo(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}denotation(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}valueType(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readUint8(this.bb_pos+a):0}value(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__union(a,this.bb_pos+u):null}static startTypeInfo(a){a.startObject(3)}static addDenotation(a,u){a.addFieldOffset(0,u,0)}static addValueType(a,u){a.addFieldInt8(1,u,0)}static addValue(a,u){a.addFieldOffset(2,u,0)}static endTypeInfo(a){return a.endObject()}static createTypeInfo(a,u,l,c){return r.startTypeInfo(a),r.addDenotation(a,u),r.addValueType(a,l),r.addValue(a,c),r.endTypeInfo(a)}}o.TypeInfo=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsOperatorSetId(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsOperatorSetId(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}domain(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}version(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}static startOperatorSetId(a){a.startObject(2)}static addDomain(a,u){a.addFieldOffset(0,u,0)}static addVersion(a,u){a.addFieldInt64(1,u,a.createLong(0,0))}static endOperatorSetId(a){return a.endObject()}static createOperatorSetId(a,u,l){return r.startOperatorSetId(a),r.addDomain(a,u),r.addVersion(a,l),r.endOperatorSetId(a)}}o.OperatorSetId=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsTensor(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsTensor(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}name(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}docString(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}dims(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.readInt64(this.bb.__vector(this.bb_pos+u)+a*8):this.bb.createLong(0,0)}dimsLength(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0}dataType(){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0}rawData(a){let u=this.bb.__offset(this.bb_pos,12);return u?this.bb.readUint8(this.bb.__vector(this.bb_pos+u)+a):0}rawDataLength(){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.__vector_len(this.bb_pos+a):0}rawDataArray(){let a=this.bb.__offset(this.bb_pos,12);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null}stringData(a,u){let l=this.bb.__offset(this.bb_pos,14);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+a*4,u):null}stringDataLength(){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0}static startTensor(a){a.startObject(6)}static addName(a,u){a.addFieldOffset(0,u,0)}static addDocString(a,u){a.addFieldOffset(1,u,0)}static addDims(a,u){a.addFieldOffset(2,u,0)}static createDimsVector(a,u){a.startVector(8,u.length,8);for(let l=u.length-1;l>=0;l--)a.addInt64(u[l]);return a.endVector()}static startDimsVector(a,u){a.startVector(8,u,8)}static addDataType(a,u){a.addFieldInt32(3,u,0)}static addRawData(a,u){a.addFieldOffset(4,u,0)}static createRawDataVector(a,u){a.startVector(1,u.length,1);for(let l=u.length-1;l>=0;l--)a.addInt8(u[l]);return a.endVector()}static startRawDataVector(a,u){a.startVector(1,u,1)}static addStringData(a,u){a.addFieldOffset(5,u,0)}static createStringDataVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startStringDataVector(a,u){a.startVector(4,u,4)}static endTensor(a){return a.endObject()}static createTensor(a,u,l,c,b,y,w){return r.startTensor(a),r.addName(a,u),r.addDocString(a,l),r.addDims(a,c),r.addDataType(a,b),r.addRawData(a,y),r.addStringData(a,w),r.endTensor(a)}}o.Tensor=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsSparseTensor(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsSparseTensor(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}values(a){let u=this.bb.__offset(this.bb_pos,4);return u?(a||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}indices(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}dims(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.readInt64(this.bb.__vector(this.bb_pos+u)+a*8):this.bb.createLong(0,0)}dimsLength(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0}static startSparseTensor(a){a.startObject(3)}static addValues(a,u){a.addFieldOffset(0,u,0)}static addIndices(a,u){a.addFieldOffset(1,u,0)}static addDims(a,u){a.addFieldOffset(2,u,0)}static createDimsVector(a,u){a.startVector(8,u.length,8);for(let l=u.length-1;l>=0;l--)a.addInt64(u[l]);return a.endVector()}static startDimsVector(a,u){a.startVector(8,u,8)}static endSparseTensor(a){return a.endObject()}static createSparseTensor(a,u,l,c){return r.startSparseTensor(a),r.addValues(a,u),r.addIndices(a,l),r.addDims(a,c),r.endSparseTensor(a)}}o.SparseTensor=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsAttribute(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsAttribute(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}name(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}docString(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}type(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readInt32(this.bb_pos+a):0}f(){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readFloat32(this.bb_pos+a):0}i(){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}s(a){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__string(this.bb_pos+u,a):null}t(a){let u=this.bb.__offset(this.bb_pos,16);return u?(a||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}g(a){let u=this.bb.__offset(this.bb_pos,18);return u?(a||new t.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}floats(a){let u=this.bb.__offset(this.bb_pos,20);return u?this.bb.readFloat32(this.bb.__vector(this.bb_pos+u)+a*4):0}floatsLength(){let a=this.bb.__offset(this.bb_pos,20);return a?this.bb.__vector_len(this.bb_pos+a):0}floatsArray(){let a=this.bb.__offset(this.bb_pos,20);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null}ints(a){let u=this.bb.__offset(this.bb_pos,22);return u?this.bb.readInt64(this.bb.__vector(this.bb_pos+u)+a*8):this.bb.createLong(0,0)}intsLength(){let a=this.bb.__offset(this.bb_pos,22);return a?this.bb.__vector_len(this.bb_pos+a):0}strings(a,u){let l=this.bb.__offset(this.bb_pos,24);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+a*4,u):null}stringsLength(){let a=this.bb.__offset(this.bb_pos,24);return a?this.bb.__vector_len(this.bb_pos+a):0}tensors(a,u){let l=this.bb.__offset(this.bb_pos,26);return l?(u||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+a*4),this.bb):null}tensorsLength(){let a=this.bb.__offset(this.bb_pos,26);return a?this.bb.__vector_len(this.bb_pos+a):0}graphs(a,u){let l=this.bb.__offset(this.bb_pos,28);return l?(u||new t.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+a*4),this.bb):null}graphsLength(){let a=this.bb.__offset(this.bb_pos,28);return a?this.bb.__vector_len(this.bb_pos+a):0}static startAttribute(a){a.startObject(13)}static addName(a,u){a.addFieldOffset(0,u,0)}static addDocString(a,u){a.addFieldOffset(1,u,0)}static addType(a,u){a.addFieldInt32(2,u,0)}static addF(a,u){a.addFieldFloat32(3,u,0)}static addI(a,u){a.addFieldInt64(4,u,a.createLong(0,0))}static addS(a,u){a.addFieldOffset(5,u,0)}static addT(a,u){a.addFieldOffset(6,u,0)}static addG(a,u){a.addFieldOffset(7,u,0)}static addFloats(a,u){a.addFieldOffset(8,u,0)}static createFloatsVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addFloat32(u[l]);return a.endVector()}static startFloatsVector(a,u){a.startVector(4,u,4)}static addInts(a,u){a.addFieldOffset(9,u,0)}static createIntsVector(a,u){a.startVector(8,u.length,8);for(let l=u.length-1;l>=0;l--)a.addInt64(u[l]);return a.endVector()}static startIntsVector(a,u){a.startVector(8,u,8)}static addStrings(a,u){a.addFieldOffset(10,u,0)}static createStringsVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startStringsVector(a,u){a.startVector(4,u,4)}static addTensors(a,u){a.addFieldOffset(11,u,0)}static createTensorsVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startTensorsVector(a,u){a.startVector(4,u,4)}static addGraphs(a,u){a.addFieldOffset(12,u,0)}static createGraphsVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startGraphsVector(a,u){a.startVector(4,u,4)}static endAttribute(a){return a.endObject()}static createAttribute(a,u,l,c,b,y,w,A,O,C,$,F,G,ee){return r.startAttribute(a),r.addName(a,u),r.addDocString(a,l),r.addType(a,c),r.addF(a,b),r.addI(a,y),r.addS(a,w),r.addT(a,A),r.addG(a,O),r.addFloats(a,C),r.addInts(a,$),r.addStrings(a,F),r.addTensors(a,G),r.addGraphs(a,ee),r.endAttribute(a)}}o.Attribute=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsGraph(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsGraph(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}initializers(a,u){let l=this.bb.__offset(this.bb_pos,4);return l?(u||new t.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+a*4),this.bb):null}initializersLength(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0}nodeArgs(a,u){let l=this.bb.__offset(this.bb_pos,6);return l?(u||new t.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+a*4),this.bb):null}nodeArgsLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}nodes(a,u){let l=this.bb.__offset(this.bb_pos,8);return l?(u||new t.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+a*4),this.bb):null}nodesLength(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0}maxNodeIndex(){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readUint32(this.bb_pos+a):0}nodeEdges(a,u){let l=this.bb.__offset(this.bb_pos,12);return l?(u||new t.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+a*4),this.bb):null}nodeEdgesLength(){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.__vector_len(this.bb_pos+a):0}inputs(a,u){let l=this.bb.__offset(this.bb_pos,14);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+a*4,u):null}inputsLength(){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0}outputs(a,u){let l=this.bb.__offset(this.bb_pos,16);return l?this.bb.__string(this.bb.__vector(this.bb_pos+l)+a*4,u):null}outputsLength(){let a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__vector_len(this.bb_pos+a):0}sparseInitializers(a,u){let l=this.bb.__offset(this.bb_pos,18);return l?(u||new t.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+a*4),this.bb):null}sparseInitializersLength(){let a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__vector_len(this.bb_pos+a):0}static startGraph(a){a.startObject(8)}static addInitializers(a,u){a.addFieldOffset(0,u,0)}static createInitializersVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startInitializersVector(a,u){a.startVector(4,u,4)}static addNodeArgs(a,u){a.addFieldOffset(1,u,0)}static createNodeArgsVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startNodeArgsVector(a,u){a.startVector(4,u,4)}static addNodes(a,u){a.addFieldOffset(2,u,0)}static createNodesVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startNodesVector(a,u){a.startVector(4,u,4)}static addMaxNodeIndex(a,u){a.addFieldInt32(3,u,0)}static addNodeEdges(a,u){a.addFieldOffset(4,u,0)}static createNodeEdgesVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startNodeEdgesVector(a,u){a.startVector(4,u,4)}static addInputs(a,u){a.addFieldOffset(5,u,0)}static createInputsVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startInputsVector(a,u){a.startVector(4,u,4)}static addOutputs(a,u){a.addFieldOffset(6,u,0)}static createOutputsVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startOutputsVector(a,u){a.startVector(4,u,4)}static addSparseInitializers(a,u){a.addFieldOffset(7,u,0)}static createSparseInitializersVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startSparseInitializersVector(a,u){a.startVector(4,u,4)}static endGraph(a){return a.endObject()}static createGraph(a,u,l,c,b,y,w,A,O){return r.startGraph(a),r.addInitializers(a,u),r.addNodeArgs(a,l),r.addNodes(a,c),r.addMaxNodeIndex(a,b),r.addNodeEdges(a,y),r.addInputs(a,w),r.addOutputs(a,A),r.addSparseInitializers(a,O),r.endGraph(a)}}o.Graph=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsModel(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsModel(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}irVersion(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}opsetImport(a,u){let l=this.bb.__offset(this.bb_pos,6);return l?(u||new t.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+a*4),this.bb):null}opsetImportLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}producerName(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__string(this.bb_pos+u,a):null}producerVersion(a){let u=this.bb.__offset(this.bb_pos,10);return u?this.bb.__string(this.bb_pos+u,a):null}domain(a){let u=this.bb.__offset(this.bb_pos,12);return u?this.bb.__string(this.bb_pos+u,a):null}modelVersion(){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}docString(a){let u=this.bb.__offset(this.bb_pos,16);return u?this.bb.__string(this.bb_pos+u,a):null}graph(a){let u=this.bb.__offset(this.bb_pos,18);return u?(a||new t.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}graphDocString(a){let u=this.bb.__offset(this.bb_pos,20);return u?this.bb.__string(this.bb_pos+u,a):null}static startModel(a){a.startObject(9)}static addIrVersion(a,u){a.addFieldInt64(0,u,a.createLong(0,0))}static addOpsetImport(a,u){a.addFieldOffset(1,u,0)}static createOpsetImportVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startOpsetImportVector(a,u){a.startVector(4,u,4)}static addProducerName(a,u){a.addFieldOffset(2,u,0)}static addProducerVersion(a,u){a.addFieldOffset(3,u,0)}static addDomain(a,u){a.addFieldOffset(4,u,0)}static addModelVersion(a,u){a.addFieldInt64(5,u,a.createLong(0,0))}static addDocString(a,u){a.addFieldOffset(6,u,0)}static addGraph(a,u){a.addFieldOffset(7,u,0)}static addGraphDocString(a,u){a.addFieldOffset(8,u,0)}static endModel(a){return a.endObject()}static createModel(a,u,l,c,b,y,w,A,O,C){return r.startModel(a),r.addIrVersion(a,u),r.addOpsetImport(a,l),r.addProducerName(a,c),r.addProducerVersion(a,b),r.addDomain(a,y),r.addModelVersion(a,w),r.addDocString(a,A),r.addGraph(a,O),r.addGraphDocString(a,C),r.endModel(a)}}o.Model=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsKernelCreateInfos(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsKernelCreateInfos(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}nodeIndices(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.readUint32(this.bb.__vector(this.bb_pos+u)+a*4):0}nodeIndicesLength(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0}nodeIndicesArray(){let a=this.bb.__offset(this.bb_pos,4);return a?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null}kernelDefHashes(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.readUint64(this.bb.__vector(this.bb_pos+u)+a*8):this.bb.createLong(0,0)}kernelDefHashesLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}static startKernelCreateInfos(a){a.startObject(2)}static addNodeIndices(a,u){a.addFieldOffset(0,u,0)}static createNodeIndicesVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addInt32(u[l]);return a.endVector()}static startNodeIndicesVector(a,u){a.startVector(4,u,4)}static addKernelDefHashes(a,u){a.addFieldOffset(1,u,0)}static createKernelDefHashesVector(a,u){a.startVector(8,u.length,8);for(let l=u.length-1;l>=0;l--)a.addInt64(u[l]);return a.endVector()}static startKernelDefHashesVector(a,u){a.startVector(8,u,8)}static endKernelCreateInfos(a){return a.endObject()}static createKernelCreateInfos(a,u,l){return r.startKernelCreateInfos(a),r.addNodeIndices(a,u),r.addKernelDefHashes(a,l),r.endKernelCreateInfos(a)}}o.KernelCreateInfos=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsSubGraphSessionState(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsSubGraphSessionState(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}graphId(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}sessionState(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new t.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startSubGraphSessionState(a){a.startObject(2)}static addGraphId(a,u){a.addFieldOffset(0,u,0)}static addSessionState(a,u){a.addFieldOffset(1,u,0)}static endSubGraphSessionState(a){let u=a.endObject();return a.requiredField(u,4),u}static createSubGraphSessionState(a,u,l){return r.startSubGraphSessionState(a),r.addGraphId(a,u),r.addSessionState(a,l),r.endSubGraphSessionState(a)}}o.SubGraphSessionState=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsSessionState(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsSessionState(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}kernels(a){let u=this.bb.__offset(this.bb_pos,4);return u?(a||new t.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}subGraphSessionStates(a,u){let l=this.bb.__offset(this.bb_pos,6);return l?(u||new t.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+l)+a*4),this.bb):null}subGraphSessionStatesLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}static startSessionState(a){a.startObject(2)}static addKernels(a,u){a.addFieldOffset(0,u,0)}static addSubGraphSessionStates(a,u){a.addFieldOffset(1,u,0)}static createSubGraphSessionStatesVector(a,u){a.startVector(4,u.length,4);for(let l=u.length-1;l>=0;l--)a.addOffset(u[l]);return a.endVector()}static startSubGraphSessionStatesVector(a,u){a.startVector(4,u,4)}static endSessionState(a){return a.endObject()}static createSessionState(a,u,l){return r.startSessionState(a),r.addKernels(a,u),r.addSubGraphSessionStates(a,l),r.endSessionState(a)}}o.SessionState=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={});(t=>{let i;(e=>{let n;(o=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsInferenceSession(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsInferenceSession(a,u){return a.setPosition(a.position()+I.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static bufferHasIdentifier(a){return a.__has_identifier("ORTM")}ortVersion(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}model(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new t.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}sessionState(a){let u=this.bb.__offset(this.bb_pos,8);return u?(a||new t.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startInferenceSession(a){a.startObject(3)}static addOrtVersion(a,u){a.addFieldOffset(0,u,0)}static addModel(a,u){a.addFieldOffset(1,u,0)}static addSessionState(a,u){a.addFieldOffset(2,u,0)}static endInferenceSession(a){return a.endObject()}static finishInferenceSessionBuffer(a,u){a.finish(u,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(a,u){a.finish(u,"ORTM",!0)}static createInferenceSession(a,u,l,c){return r.startInferenceSession(a),r.addOrtVersion(a,u),r.addModel(a,l),r.addSessionState(a,c),r.endInferenceSession(a)}}o.InferenceSession=r})(n=e.fbs||={})})(i=t.experimental||={})})(Y||={})});var Iu=xe((r0,Ou)=>{"use strict";Ou.exports=Oh;function Oh(i,t){for(var n=new Array(arguments.length-1),e=0,r=2,o=!0;r<arguments.length;)n[e++]=arguments[r++];return new Promise(function(a,u){n[e]=function(c){if(o)if(o=!1,c)u(c);else{for(var b=new Array(arguments.length-1),y=0;y<b.length;)b[y++]=arguments[y];a.apply(null,b)}};try{i.apply(t||null,n)}catch(l){o&&(o=!1,u(l))}})}});var Eu=xe(Pu=>{"use strict";var Lo=Pu;Lo.length=function(t){var n=t.length;if(!n)return 0;for(var e=0;--n%4>1&&t.charAt(n)==="=";)++e;return Math.ceil(t.length*3)/4-e};var an=new Array(64),Su=new Array(123);for(Rt=0;Rt<64;)Su[an[Rt]=Rt<26?Rt+65:Rt<52?Rt+71:Rt<62?Rt-4:Rt-59|43]=Rt++;var Rt;Lo.encode=function(t,n,e){for(var r=null,o=[],s=0,a=0,u;n<e;){var l=t[n++];switch(a){case 0:o[s++]=an[l>>2],u=(l&3)<<4,a=1;break;case 1:o[s++]=an[u|l>>4],u=(l&15)<<2,a=2;break;case 2:o[s++]=an[u|l>>6],o[s++]=an[l&63],a=0;break}s>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,o)),s=0)}return a&&(o[s++]=an[u],o[s++]=61,a===1&&(o[s++]=61)),r?(s&&r.push(String.fromCharCode.apply(String,o.slice(0,s))),r.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var Au="invalid encoding";Lo.decode=function(t,n,e){for(var r=e,o=0,s,a=0;a<t.length;){var u=t.charCodeAt(a++);if(u===61&&o>1)break;if((u=Su[u])===void 0)throw Error(Au);switch(o){case 0:s=u,o=1;break;case 1:n[e++]=s<<2|(u&48)>>4,s=u,o=2;break;case 2:n[e++]=(s&15)<<4|(u&60)>>2,s=u,o=3;break;case 3:n[e++]=(s&3)<<6|u,o=0;break}}if(o===1)throw Error(Au);return e-r};Lo.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var Lu=xe((o0,Du)=>{"use strict";Du.exports=Co;function Co(){this._listeners={}}Co.prototype.on=function(t,n,e){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:n,ctx:e||this}),this};Co.prototype.off=function(t,n){if(t===void 0)this._listeners={};else if(n===void 0)this._listeners[t]=[];else for(var e=this._listeners[t],r=0;r<e.length;)e[r].fn===n?e.splice(r,1):++r;return this};Co.prototype.emit=function(t){var n=this._listeners[t];if(n){for(var e=[],r=1;r<arguments.length;)e.push(arguments[r++]);for(r=0;r<n.length;)n[r].fn.apply(n[r++].ctx,e)}return this}});var Nu=xe((i0,Ru)=>{"use strict";Ru.exports=Cu(Cu);function Cu(i){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),e=n[3]===128;function r(u,l,c){t[0]=u,l[c]=n[0],l[c+1]=n[1],l[c+2]=n[2],l[c+3]=n[3]}function o(u,l,c){t[0]=u,l[c]=n[3],l[c+1]=n[2],l[c+2]=n[1],l[c+3]=n[0]}i.writeFloatLE=e?r:o,i.writeFloatBE=e?o:r;function s(u,l){return n[0]=u[l],n[1]=u[l+1],n[2]=u[l+2],n[3]=u[l+3],t[0]}function a(u,l){return n[3]=u[l],n[2]=u[l+1],n[1]=u[l+2],n[0]=u[l+3],t[0]}i.readFloatLE=e?s:a,i.readFloatBE=e?a:s}():function(){function t(e,r,o,s){var a=r<0?1:0;if(a&&(r=-r),r===0)e(1/r>0?0:2147483648,o,s);else if(isNaN(r))e(2143289344,o,s);else if(r>34028234663852886e22)e((a<<31|2139095040)>>>0,o,s);else if(r<11754943508222875e-54)e((a<<31|Math.round(r/1401298464324817e-60))>>>0,o,s);else{var u=Math.floor(Math.log(r)/Math.LN2),l=Math.round(r*Math.pow(2,-u)*8388608)&8388607;e((a<<31|u+127<<23|l)>>>0,o,s)}}i.writeFloatLE=t.bind(null,Fu),i.writeFloatBE=t.bind(null,ku);function n(e,r,o){var s=e(r,o),a=(s>>31)*2+1,u=s>>>23&255,l=s&8388607;return u===255?l?NaN:a*(1/0):u===0?a*1401298464324817e-60*l:a*Math.pow(2,u-150)*(l+8388608)}i.readFloatLE=n.bind(null,$u),i.readFloatBE=n.bind(null,Bu)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),e=n[7]===128;function r(u,l,c){t[0]=u,l[c]=n[0],l[c+1]=n[1],l[c+2]=n[2],l[c+3]=n[3],l[c+4]=n[4],l[c+5]=n[5],l[c+6]=n[6],l[c+7]=n[7]}function o(u,l,c){t[0]=u,l[c]=n[7],l[c+1]=n[6],l[c+2]=n[5],l[c+3]=n[4],l[c+4]=n[3],l[c+5]=n[2],l[c+6]=n[1],l[c+7]=n[0]}i.writeDoubleLE=e?r:o,i.writeDoubleBE=e?o:r;function s(u,l){return n[0]=u[l],n[1]=u[l+1],n[2]=u[l+2],n[3]=u[l+3],n[4]=u[l+4],n[5]=u[l+5],n[6]=u[l+6],n[7]=u[l+7],t[0]}function a(u,l){return n[7]=u[l],n[6]=u[l+1],n[5]=u[l+2],n[4]=u[l+3],n[3]=u[l+4],n[2]=u[l+5],n[1]=u[l+6],n[0]=u[l+7],t[0]}i.readDoubleLE=e?s:a,i.readDoubleBE=e?a:s}():function(){function t(e,r,o,s,a,u){var l=s<0?1:0;if(l&&(s=-s),s===0)e(0,a,u+r),e(1/s>0?0:2147483648,a,u+o);else if(isNaN(s))e(0,a,u+r),e(2146959360,a,u+o);else if(s>17976931348623157e292)e(0,a,u+r),e((l<<31|2146435072)>>>0,a,u+o);else{var c;if(s<22250738585072014e-324)c=s/5e-324,e(c>>>0,a,u+r),e((l<<31|c/4294967296)>>>0,a,u+o);else{var b=Math.floor(Math.log(s)/Math.LN2);b===1024&&(b=1023),c=s*Math.pow(2,-b),e(c*4503599627370496>>>0,a,u+r),e((l<<31|b+1023<<20|c*1048576&1048575)>>>0,a,u+o)}}}i.writeDoubleLE=t.bind(null,Fu,0,4),i.writeDoubleBE=t.bind(null,ku,4,0);function n(e,r,o,s,a){var u=e(s,a+r),l=e(s,a+o),c=(l>>31)*2+1,b=l>>>20&2047,y=4294967296*(l&1048575)+u;return b===2047?y?NaN:c*(1/0):b===0?c*5e-324*y:c*Math.pow(2,b-1075)*(y+4503599627370496)}i.readDoubleLE=n.bind(null,$u,0,4),i.readDoubleBE=n.bind(null,Bu,4,0)}(),i}function Fu(i,t,n){t[n]=i&255,t[n+1]=i>>>8&255,t[n+2]=i>>>16&255,t[n+3]=i>>>24}function ku(i,t,n){t[n]=i>>>24,t[n+1]=i>>>16&255,t[n+2]=i>>>8&255,t[n+3]=i&255}function $u(i,t){return(i[t]|i[t+1]<<8|i[t+2]<<16|i[t+3]<<24)>>>0}function Bu(i,t){return(i[t]<<24|i[t+1]<<16|i[t+2]<<8|i[t+3])>>>0}});var Mu=xe((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(i){}return null}});var Uu=xe(Gu=>{"use strict";var Mi=Gu;Mi.length=function(t){for(var n=0,e=0,r=0;r<t.length;++r)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:(e&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320?(++r,n+=4):n+=3;return n};Mi.read=function(t,n,e){var r=e-n;if(r<1)return"";for(var o=null,s=[],a=0,u;n<e;)u=t[n++],u<128?s[a++]=u:u>191&&u<224?s[a++]=(u&31)<<6|t[n++]&63:u>239&&u<365?(u=((u&7)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536,s[a++]=55296+(u>>10),s[a++]=56320+(u&1023)):s[a++]=(u&15)<<12|(t[n++]&63)<<6|t[n++]&63,a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};Mi.write=function(t,n,e){for(var r=e,o,s,a=0;a<t.length;++a)o=t.charCodeAt(a),o<128?n[e++]=o:o<2048?(n[e++]=o>>6|192,n[e++]=o&63|128):(o&64512)===55296&&((s=t.charCodeAt(a+1))&64512)===56320?(o=65536+((o&1023)<<10)+(s&1023),++a,n[e++]=o>>18|240,n[e++]=o>>12&63|128,n[e++]=o>>6&63|128,n[e++]=o&63|128):(n[e++]=o>>12|224,n[e++]=o>>6&63|128,n[e++]=o&63|128);return e-r}});var zu=xe((s0,Wu)=>{"use strict";Wu.exports=Ih;function Ih(i,t,n){var e=n||8192,r=e>>>1,o=null,s=e;return function(u){if(u<1||u>r)return i(u);s+u>e&&(o=i(e),s=0);var l=t.call(o,s,s+=u);return s&7&&(s=(s|7)+1),l}}});var Hu=xe((u0,Vu)=>{"use strict";Vu.exports=He;var Rn=vr();function He(i,t){this.lo=i>>>0,this.hi=t>>>0}var Fr=He.zero=new He(0,0);Fr.toNumber=function(){return 0};Fr.zzEncode=Fr.zzDecode=function(){return this};Fr.length=function(){return 1};var Ah=He.zeroHash="\0\0\0\0\0\0\0\0";He.fromNumber=function(t){if(t===0)return Fr;var n=t<0;n&&(t=-t);var e=t>>>0,r=(t-e)/4294967296>>>0;return n&&(r=~r>>>0,e=~e>>>0,++e>4294967295&&(e=0,++r>4294967295&&(r=0))),new He(e,r)};He.from=function(t){if(typeof t=="number")return He.fromNumber(t);if(Rn.isString(t))if(Rn.Long)t=Rn.Long.fromString(t);else return He.fromNumber(parseInt(t,10));return t.low||t.high?new He(t.low>>>0,t.high>>>0):Fr};He.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var n=~this.lo+1>>>0,e=~this.hi>>>0;return n||(e=e+1>>>0),-(n+e*4294967296)}return this.lo+this.hi*4294967296};He.prototype.toLong=function(t){return Rn.Long?new Rn.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var Tr=String.prototype.charCodeAt;He.fromHash=function(t){return t===Ah?Fr:new He((Tr.call(t,0)|Tr.call(t,1)<<8|Tr.call(t,2)<<16|Tr.call(t,3)<<24)>>>0,(Tr.call(t,4)|Tr.call(t,5)<<8|Tr.call(t,6)<<16|Tr.call(t,7)<<24)>>>0)};He.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};He.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};He.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};He.prototype.length=function(){var t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,e=this.hi>>>24;return e===0?n===0?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:e<128?9:10}});var vr=xe(Gi=>{"use strict";var K=Gi;K.asPromise=Iu();K.base64=Eu();K.EventEmitter=Lu();K.float=Nu();K.inquire=Mu();K.utf8=Uu();K.pool=zu();K.LongBits=Hu();K.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);K.global=K.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Gi;K.emptyArray=Object.freeze?Object.freeze([]):[];K.emptyObject=Object.freeze?Object.freeze({}):{};K.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};K.isString=function(t){return typeof t=="string"||t instanceof String};K.isObject=function(t){return t&&typeof t=="object"};K.isset=K.isSet=function(t,n){var e=t[n];return e!=null&&t.hasOwnProperty(n)?typeof e!="object"||(Array.isArray(e)?e.length:Object.keys(e).length)>0:!1};K.Buffer=function(){try{var i=K.inquire("buffer").Buffer;return i.prototype.utf8Write?i:null}catch{return null}}();K._Buffer_from=null;K._Buffer_allocUnsafe=null;K.newBuffer=function(t){return typeof t=="number"?K.Buffer?K._Buffer_allocUnsafe(t):new K.Array(t):K.Buffer?K._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)};K.Array=typeof Uint8Array<"u"?Uint8Array:Array;K.Long=K.global.dcodeIO&&K.global.dcodeIO.Long||K.global.Long||K.inquire("long");K.key2Re=/^true|false|0|1$/;K.key32Re=/^-?(?:0|[1-9][0-9]*)$/;K.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;K.longToHash=function(t){return t?K.LongBits.from(t).toHash():K.LongBits.zeroHash};K.longFromHash=function(t,n){var e=K.LongBits.fromHash(t);return K.Long?K.Long.fromBits(e.lo,e.hi,n):e.toNumber(!!n)};function ju(i,t,n){for(var e=Object.keys(t),r=0;r<e.length;++r)(i[e[r]]===void 0||!n)&&(i[e[r]]=t[e[r]]);return i}K.merge=ju;K.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function qu(i){function t(n,e){if(!(this instanceof t))return new t(n,e);Object.defineProperty(this,"message",{get:function(){return n}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),e&&ju(this,e)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return i},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}K.newError=qu;K.ProtocolError=qu("ProtocolError");K.oneOfGetter=function(t){for(var n={},e=0;e<t.length;++e)n[t[e]]=1;return function(){for(var r=Object.keys(this),o=r.length-1;o>-1;--o)if(n[r[o]]===1&&this[r[o]]!==void 0&&this[r[o]]!==null)return r[o]}};K.oneOfSetter=function(t){return function(n){for(var e=0;e<t.length;++e)t[e]!==n&&delete this[t[e]]}};K.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};K._configure=function(){var i=K.Buffer;if(!i){K._Buffer_from=K._Buffer_allocUnsafe=null;return}K._Buffer_from=i.from!==Uint8Array.from&&i.from||function(n,e){return new i(n,e)},K._Buffer_allocUnsafe=i.allocUnsafe||function(n){return new i(n)}}});var qi=xe((f0,Ju)=>{"use strict";Ju.exports=pe;var At=vr(),Ui,Fo=At.LongBits,Yu=At.base64,Xu=At.utf8;function Nn(i,t,n){this.fn=i,this.len=t,this.next=void 0,this.val=n}function zi(){}function Sh(i){this.head=i.head,this.tail=i.tail,this.len=i.len,this.next=i.states}function pe(){this.len=0,this.head=new Nn(zi,0,0),this.tail=this.head,this.states=null}var Ku=function(){return At.Buffer?function(){return(pe.create=function(){return new Ui})()}:function(){return new pe}};pe.create=Ku();pe.alloc=function(t){return new At.Array(t)};At.Array!==Array&&(pe.alloc=At.pool(pe.alloc,At.Array.prototype.subarray));pe.prototype._push=function(t,n,e){return this.tail=this.tail.next=new Nn(t,n,e),this.len+=n,this};function Vi(i,t,n){t[n]=i&255}function Ph(i,t,n){for(;i>127;)t[n++]=i&127|128,i>>>=7;t[n]=i}function Hi(i,t){this.len=i,this.next=void 0,this.val=t}Hi.prototype=Object.create(Nn.prototype);Hi.prototype.fn=Ph;pe.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new Hi((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};pe.prototype.int32=function(t){return t<0?this._push(ji,10,Fo.fromNumber(t)):this.uint32(t)};pe.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function ji(i,t,n){for(;i.hi;)t[n++]=i.lo&127|128,i.lo=(i.lo>>>7|i.hi<<25)>>>0,i.hi>>>=7;for(;i.lo>127;)t[n++]=i.lo&127|128,i.lo=i.lo>>>7;t[n++]=i.lo}pe.prototype.uint64=function(t){var n=Fo.from(t);return this._push(ji,n.length(),n)};pe.prototype.int64=pe.prototype.uint64;pe.prototype.sint64=function(t){var n=Fo.from(t).zzEncode();return this._push(ji,n.length(),n)};pe.prototype.bool=function(t){return this._push(Vi,1,t?1:0)};function Wi(i,t,n){t[n]=i&255,t[n+1]=i>>>8&255,t[n+2]=i>>>16&255,t[n+3]=i>>>24}pe.prototype.fixed32=function(t){return this._push(Wi,4,t>>>0)};pe.prototype.sfixed32=pe.prototype.fixed32;pe.prototype.fixed64=function(t){var n=Fo.from(t);return this._push(Wi,4,n.lo)._push(Wi,4,n.hi)};pe.prototype.sfixed64=pe.prototype.fixed64;pe.prototype.float=function(t){return this._push(At.float.writeFloatLE,4,t)};pe.prototype.double=function(t){return this._push(At.float.writeDoubleLE,8,t)};var Eh=At.Array.prototype.set?function(t,n,e){n.set(t,e)}:function(t,n,e){for(var r=0;r<t.length;++r)n[e+r]=t[r]};pe.prototype.bytes=function(t){var n=t.length>>>0;if(!n)return this._push(Vi,1,0);if(At.isString(t)){var e=pe.alloc(n=Yu.length(t));Yu.decode(t,e,0),t=e}return this.uint32(n)._push(Eh,n,t)};pe.prototype.string=function(t){var n=Xu.length(t);return n?this.uint32(n)._push(Xu.write,n,t):this._push(Vi,1,0)};pe.prototype.fork=function(){return this.states=new Sh(this),this.head=this.tail=new Nn(zi,0,0),this.len=0,this};pe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Nn(zi,0,0),this.len=0),this};pe.prototype.ldelim=function(){var t=this.head,n=this.tail,e=this.len;return this.reset().uint32(e),e&&(this.tail.next=t.next,this.tail=n,this.len+=e),this};pe.prototype.finish=function(){for(var t=this.head.next,n=this.constructor.alloc(this.len),e=0;t;)t.fn(t.val,n,e),e+=t.len,t=t.next;return n};pe._configure=function(i){Ui=i,pe.create=Ku(),Ui._configure()}});var el=xe((c0,Qu)=>{"use strict";Qu.exports=Vt;var Zu=qi();(Vt.prototype=Object.create(Zu.prototype)).constructor=Vt;var xr=vr();function Vt(){Zu.call(this)}Vt._configure=function(){Vt.alloc=xr._Buffer_allocUnsafe,Vt.writeBytesBuffer=xr.Buffer&&xr.Buffer.prototype instanceof Uint8Array&&xr.Buffer.prototype.set.name==="set"?function(t,n,e){n.set(t,e)}:function(t,n,e){if(t.copy)t.copy(n,e,0,t.length);else for(var r=0;r<t.length;)n[e++]=t[r++]}};Vt.prototype.bytes=function(t){xr.isString(t)&&(t=xr._Buffer_from(t,"base64"));var n=t.length>>>0;return this.uint32(n),n&&this._push(Vt.writeBytesBuffer,n,t),this};function Dh(i,t,n){i.length<40?xr.utf8.write(i,t,n):t.utf8Write?t.utf8Write(i,n):t.write(i,n)}Vt.prototype.string=function(t){var n=xr.Buffer.byteLength(t);return this.uint32(n),n&&this._push(Dh,n,t),this};Vt._configure()});var Ki=xe((p0,il)=>{"use strict";il.exports=Fe;var Ht=vr(),Xi,nl=Ht.LongBits,Lh=Ht.utf8;function Nt(i,t){return RangeError("index out of range: "+i.pos+" + "+(t||1)+" > "+i.len)}function Fe(i){this.buf=i,this.pos=0,this.len=i.length}var tl=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new Fe(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new Fe(t);throw Error("illegal buffer")},ol=function(){return Ht.Buffer?function(n){return(Fe.create=function(r){return Ht.Buffer.isBuffer(r)?new Xi(r):tl(r)})(n)}:tl};Fe.create=ol();Fe.prototype._slice=Ht.Array.prototype.subarray||Ht.Array.prototype.slice;Fe.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Nt(this,10);return t}}();Fe.prototype.int32=function(){return this.uint32()|0};Fe.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function Yi(){var i=new nl(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(i.lo=(i.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return i;if(i.lo=(i.lo|(this.buf[this.pos]&127)<<28)>>>0,i.hi=(i.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return i;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw Nt(this);if(i.lo=(i.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return i}return i.lo=(i.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,i}if(this.len-this.pos>4){for(;t<5;++t)if(i.hi=(i.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return i}else for(;t<5;++t){if(this.pos>=this.len)throw Nt(this);if(i.hi=(i.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return i}throw Error("invalid varint encoding")}Fe.prototype.bool=function(){return this.uint32()!==0};function ko(i,t){return(i[t-4]|i[t-3]<<8|i[t-2]<<16|i[t-1]<<24)>>>0}Fe.prototype.fixed32=function(){if(this.pos+4>this.len)throw Nt(this,4);return ko(this.buf,this.pos+=4)};Fe.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Nt(this,4);return ko(this.buf,this.pos+=4)|0};function rl(){if(this.pos+8>this.len)throw Nt(this,8);return new nl(ko(this.buf,this.pos+=4),ko(this.buf,this.pos+=4))}Fe.prototype.float=function(){if(this.pos+4>this.len)throw Nt(this,4);var t=Ht.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};Fe.prototype.double=function(){if(this.pos+8>this.len)throw Nt(this,4);var t=Ht.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};Fe.prototype.bytes=function(){var t=this.uint32(),n=this.pos,e=this.pos+t;if(e>this.len)throw Nt(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(n,e):n===e?new this.buf.constructor(0):this._slice.call(this.buf,n,e)};Fe.prototype.string=function(){var t=this.bytes();return Lh.read(t,0,t.length)};Fe.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw Nt(this,t);this.pos+=t}else do if(this.pos>=this.len)throw Nt(this);while(this.buf[this.pos++]&128);return this};Fe.prototype.skipType=function(i){switch(i){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(i=this.uint32()&7)!==4;)this.skipType(i);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+i+" at offset "+this.pos)}return this};Fe._configure=function(i){Xi=i,Fe.create=ol(),Xi._configure();var t=Ht.Long?"toLong":"toNumber";Ht.merge(Fe.prototype,{int64:function(){return Yi.call(this)[t](!1)},uint64:function(){return Yi.call(this)[t](!0)},sint64:function(){return Yi.call(this).zzDecode()[t](!1)},fixed64:function(){return rl.call(this)[t](!0)},sfixed64:function(){return rl.call(this)[t](!1)}})}});var ll=xe((d0,ul)=>{"use strict";ul.exports=kr;var sl=Ki();(kr.prototype=Object.create(sl.prototype)).constructor=kr;var al=vr();function kr(i){sl.call(this,i)}kr._configure=function(){al.Buffer&&(kr.prototype._slice=al.Buffer.prototype.slice)};kr.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};kr._configure()});var cl=xe((h0,fl)=>{"use strict";fl.exports=Mn;var Ji=vr();(Mn.prototype=Object.create(Ji.EventEmitter.prototype)).constructor=Mn;function Mn(i,t,n){if(typeof i!="function")throw TypeError("rpcImpl must be a function");Ji.EventEmitter.call(this),this.rpcImpl=i,this.requestDelimited=!!t,this.responseDelimited=!!n}Mn.prototype.rpcCall=function i(t,n,e,r,o){if(!r)throw TypeError("request must be specified");var s=this;if(!o)return Ji.asPromise(i,s,t,n,e,r);if(!s.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](r).finish(),function(u,l){if(u)return s.emit("error",u,t),o(u);if(l===null){s.end(!0);return}if(!(l instanceof e))try{l=e[s.responseDelimited?"decodeDelimited":"decode"](l)}catch(c){return s.emit("error",c,t),o(c)}return s.emit("data",l,t),o(null,l)})}catch(a){s.emit("error",a,t),setTimeout(function(){o(a)},0);return}};Mn.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var dl=xe(pl=>{"use strict";var Ch=pl;Ch.Service=cl()});var ml=xe((b0,hl)=>{"use strict";hl.exports={}});var yl=xe(gl=>{"use strict";var ht=gl;ht.build="minimal";ht.Writer=qi();ht.BufferWriter=el();ht.Reader=Ki();ht.BufferReader=ll();ht.util=vr();ht.rpc=dl();ht.roots=ml();ht.configure=bl;function bl(){ht.util._configure(),ht.Writer._configure(ht.BufferWriter),ht.Reader._configure(ht.BufferReader)}bl()});var vl=xe((y0,Tl)=>{"use strict";Tl.exports=yl()});var sn=xe((T0,xl)=>{"use strict";var _e=vl(),W=_e.Reader,ke=_e.Writer,x=_e.util,g=_e.roots.default||(_e.roots.default={});g.onnx=function(){var i={};return i.Version=function(){var t={},n=Object.create(t);return n[t[0]="_START_VERSION"]=0,n[t[1]="IR_VERSION_2017_10_10"]=1,n[t[2]="IR_VERSION_2017_10_30"]=2,n[t[3]="IR_VERSION_2017_11_3"]=3,n[t[4]="IR_VERSION_2019_1_22"]=4,n[t[5]="IR_VERSION_2019_3_18"]=5,n[t[6]="IR_VERSION_2019_9_19"]=6,n[t[7]="IR_VERSION_2020_5_8"]=7,n[t[8]="IR_VERSION_2021_7_30"]=8,n[t[9]="IR_VERSION"]=9,n}(),i.AttributeProto=function(){function t(n){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],n)for(var e=Object.keys(n),r=0;r<e.length;++r)n[e[r]]!=null&&(this[e[r]]=n[e[r]])}return t.prototype.name="",t.prototype.refAttrName="",t.prototype.docString="",t.prototype.type=0,t.prototype.f=0,t.prototype.i=x.Long?x.Long.fromBits(0,0,!1):0,t.prototype.s=x.newBuffer([]),t.prototype.t=null,t.prototype.g=null,t.prototype.sparseTensor=null,t.prototype.tp=null,t.prototype.floats=x.emptyArray,t.prototype.ints=x.emptyArray,t.prototype.strings=x.emptyArray,t.prototype.tensors=x.emptyArray,t.prototype.graphs=x.emptyArray,t.prototype.sparseTensors=x.emptyArray,t.prototype.typeProtos=x.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=ke.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&r.uint32(10).string(e.name),e.f!=null&&Object.hasOwnProperty.call(e,"f")&&r.uint32(21).float(e.f),e.i!=null&&Object.hasOwnProperty.call(e,"i")&&r.uint32(24).int64(e.i),e.s!=null&&Object.hasOwnProperty.call(e,"s")&&r.uint32(34).bytes(e.s),e.t!=null&&Object.hasOwnProperty.call(e,"t")&&g.onnx.TensorProto.encode(e.t,r.uint32(42).fork()).ldelim(),e.g!=null&&Object.hasOwnProperty.call(e,"g")&&g.onnx.GraphProto.encode(e.g,r.uint32(50).fork()).ldelim(),e.floats!=null&&e.floats.length){r.uint32(58).fork();for(var o=0;o<e.floats.length;++o)r.float(e.floats[o]);r.ldelim()}if(e.ints!=null&&e.ints.length){r.uint32(66).fork();for(var o=0;o<e.ints.length;++o)r.int64(e.ints[o]);r.ldelim()}if(e.strings!=null&&e.strings.length)for(var o=0;o<e.strings.length;++o)r.uint32(74).bytes(e.strings[o]);if(e.tensors!=null&&e.tensors.length)for(var o=0;o<e.tensors.length;++o)g.onnx.TensorProto.encode(e.tensors[o],r.uint32(82).fork()).ldelim();if(e.graphs!=null&&e.graphs.length)for(var o=0;o<e.graphs.length;++o)g.onnx.GraphProto.encode(e.graphs[o],r.uint32(90).fork()).ldelim();if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(106).string(e.docString),e.tp!=null&&Object.hasOwnProperty.call(e,"tp")&&g.onnx.TypeProto.encode(e.tp,r.uint32(114).fork()).ldelim(),e.typeProtos!=null&&e.typeProtos.length)for(var o=0;o<e.typeProtos.length;++o)g.onnx.TypeProto.encode(e.typeProtos[o],r.uint32(122).fork()).ldelim();if(e.type!=null&&Object.hasOwnProperty.call(e,"type")&&r.uint32(160).int32(e.type),e.refAttrName!=null&&Object.hasOwnProperty.call(e,"refAttrName")&&r.uint32(170).string(e.refAttrName),e.sparseTensor!=null&&Object.hasOwnProperty.call(e,"sparseTensor")&&g.onnx.SparseTensorProto.encode(e.sparseTensor,r.uint32(178).fork()).ldelim(),e.sparseTensors!=null&&e.sparseTensors.length)for(var o=0;o<e.sparseTensors.length;++o)g.onnx.SparseTensorProto.encode(e.sparseTensors[o],r.uint32(186).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof W||(e=W.create(e));for(var o=r===void 0?e.len:e.pos+r,s=new g.onnx.AttributeProto;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:{s.name=e.string();break}case 21:{s.refAttrName=e.string();break}case 13:{s.docString=e.string();break}case 20:{s.type=e.int32();break}case 2:{s.f=e.float();break}case 3:{s.i=e.int64();break}case 4:{s.s=e.bytes();break}case 5:{s.t=g.onnx.TensorProto.decode(e,e.uint32());break}case 6:{s.g=g.onnx.GraphProto.decode(e,e.uint32());break}case 22:{s.sparseTensor=g.onnx.SparseTensorProto.decode(e,e.uint32());break}case 14:{s.tp=g.onnx.TypeProto.decode(e,e.uint32());break}case 7:{if(s.floats&&s.floats.length||(s.floats=[]),(a&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.floats.push(e.float());else s.floats.push(e.float());break}case 8:{if(s.ints&&s.ints.length||(s.ints=[]),(a&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.ints.push(e.int64());else s.ints.push(e.int64());break}case 9:{s.strings&&s.strings.length||(s.strings=[]),s.strings.push(e.bytes());break}case 10:{s.tensors&&s.tensors.length||(s.tensors=[]),s.tensors.push(g.onnx.TensorProto.decode(e,e.uint32()));break}case 11:{s.graphs&&s.graphs.length||(s.graphs=[]),s.graphs.push(g.onnx.GraphProto.decode(e,e.uint32()));break}case 23:{s.sparseTensors&&s.sparseTensors.length||(s.sparseTensors=[]),s.sparseTensors.push(g.onnx.SparseTensorProto.decode(e,e.uint32()));break}case 15:{s.typeProtos&&s.typeProtos.length||(s.typeProtos=[]),s.typeProtos.push(g.onnx.TypeProto.decode(e,e.uint32()));break}default:e.skipType(a&7);break}}return s},t.decodeDelimited=function(e){return e instanceof W||(e=new W(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!x.isString(e.name))return"name: string expected";if(e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&!x.isString(e.refAttrName))return"refAttrName: string expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!x.isString(e.docString))return"docString: string expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:break}if(e.f!=null&&e.hasOwnProperty("f")&&typeof e.f!="number")return"f: number expected";if(e.i!=null&&e.hasOwnProperty("i")&&!x.isInteger(e.i)&&!(e.i&&x.isInteger(e.i.low)&&x.isInteger(e.i.high)))return"i: integer|Long expected";if(e.s!=null&&e.hasOwnProperty("s")&&!(e.s&&typeof e.s.length=="number"||x.isString(e.s)))return"s: buffer expected";if(e.t!=null&&e.hasOwnProperty("t")){var r=g.onnx.TensorProto.verify(e.t);if(r)return"t."+r}if(e.g!=null&&e.hasOwnProperty("g")){var r=g.onnx.GraphProto.verify(e.g);if(r)return"g."+r}if(e.sparseTensor!=null&&e.hasOwnProperty("sparseTensor")){var r=g.onnx.SparseTensorProto.verify(e.sparseTensor);if(r)return"sparseTensor."+r}if(e.tp!=null&&e.hasOwnProperty("tp")){var r=g.onnx.TypeProto.verify(e.tp);if(r)return"tp."+r}if(e.floats!=null&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var o=0;o<e.floats.length;++o)if(typeof e.floats[o]!="number")return"floats: number[] expected"}if(e.ints!=null&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(var o=0;o<e.ints.length;++o)if(!x.isInteger(e.ints[o])&&!(e.ints[o]&&x.isInteger(e.ints[o].low)&&x.isInteger(e.ints[o].high)))return"ints: integer|Long[] expected"}if(e.strings!=null&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(var o=0;o<e.strings.length;++o)if(!(e.strings[o]&&typeof e.strings[o].length=="number"||x.isString(e.strings[o])))return"strings: buffer[] expected"}if(e.tensors!=null&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(var o=0;o<e.tensors.length;++o){var r=g.onnx.TensorProto.verify(e.tensors[o]);if(r)return"tensors."+r}}if(e.graphs!=null&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(var o=0;o<e.graphs.length;++o){var r=g.onnx.GraphProto.verify(e.graphs[o]);if(r)return"graphs."+r}}if(e.sparseTensors!=null&&e.hasOwnProperty("sparseTensors")){if(!Array.isArray(e.sparseTensors))return"sparseTensors: array expected";for(var o=0;o<e.sparseTensors.length;++o){var r=g.onnx.SparseTensorProto.verify(e.sparseTensors[o]);if(r)return"sparseTensors."+r}}if(e.typeProtos!=null&&e.hasOwnProperty("typeProtos")){if(!Array.isArray(e.typeProtos))return"typeProtos: array expected";for(var o=0;o<e.typeProtos.length;++o){var r=g.onnx.TypeProto.verify(e.typeProtos[o]);if(r)return"typeProtos."+r}}return null},t.fromObject=function(e){if(e instanceof g.onnx.AttributeProto)return e;var r=new g.onnx.AttributeProto;switch(e.name!=null&&(r.name=String(e.name)),e.refAttrName!=null&&(r.refAttrName=String(e.refAttrName)),e.docString!=null&&(r.docString=String(e.docString)),e.type){default:if(typeof e.type=="number"){r.type=e.type;break}break;case"UNDEFINED":case 0:r.type=0;break;case"FLOAT":case 1:r.type=1;break;case"INT":case 2:r.type=2;break;case"STRING":case 3:r.type=3;break;case"TENSOR":case 4:r.type=4;break;case"GRAPH":case 5:r.type=5;break;case"SPARSE_TENSOR":case 11:r.type=11;break;case"TYPE_PROTO":case 13:r.type=13;break;case"FLOATS":case 6:r.type=6;break;case"INTS":case 7:r.type=7;break;case"STRINGS":case 8:r.type=8;break;case"TENSORS":case 9:r.type=9;break;case"GRAPHS":case 10:r.type=10;break;case"SPARSE_TENSORS":case 12:r.type=12;break;case"TYPE_PROTOS":case 14:r.type=14;break}if(e.f!=null&&(r.f=Number(e.f)),e.i!=null&&(x.Long?(r.i=x.Long.fromValue(e.i)).unsigned=!1:typeof e.i=="string"?r.i=parseInt(e.i,10):typeof e.i=="number"?r.i=e.i:typeof e.i=="object"&&(r.i=new x.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),e.s!=null&&(typeof e.s=="string"?x.base64.decode(e.s,r.s=x.newBuffer(x.base64.length(e.s)),0):e.s.length>=0&&(r.s=e.s)),e.t!=null){if(typeof e.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");r.t=g.onnx.TensorProto.fromObject(e.t)}if(e.g!=null){if(typeof e.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");r.g=g.onnx.GraphProto.fromObject(e.g)}if(e.sparseTensor!=null){if(typeof e.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");r.sparseTensor=g.onnx.SparseTensorProto.fromObject(e.sparseTensor)}if(e.tp!=null){if(typeof e.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");r.tp=g.onnx.TypeProto.fromObject(e.tp)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");r.floats=[];for(var o=0;o<e.floats.length;++o)r.floats[o]=Number(e.floats[o])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");r.ints=[];for(var o=0;o<e.ints.length;++o)x.Long?(r.ints[o]=x.Long.fromValue(e.ints[o])).unsigned=!1:typeof e.ints[o]=="string"?r.ints[o]=parseInt(e.ints[o],10):typeof e.ints[o]=="number"?r.ints[o]=e.ints[o]:typeof e.ints[o]=="object"&&(r.ints[o]=new x.LongBits(e.ints[o].low>>>0,e.ints[o].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");r.strings=[];for(var o=0;o<e.strings.length;++o)typeof e.strings[o]=="string"?x.base64.decode(e.strings[o],r.strings[o]=x.newBuffer(x.base64.length(e.strings[o])),0):e.strings[o].length>=0&&(r.strings[o]=e.strings[o])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");r.tensors=[];for(var o=0;o<e.tensors.length;++o){if(typeof e.tensors[o]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");r.tensors[o]=g.onnx.TensorProto.fromObject(e.tensors[o])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");r.graphs=[];for(var o=0;o<e.graphs.length;++o){if(typeof e.graphs[o]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");r.graphs[o]=g.onnx.GraphProto.fromObject(e.graphs[o])}}if(e.sparseTensors){if(!Array.isArray(e.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");r.sparseTensors=[];for(var o=0;o<e.sparseTensors.length;++o){if(typeof e.sparseTensors[o]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");r.sparseTensors[o]=g.onnx.SparseTensorProto.fromObject(e.sparseTensors[o])}}if(e.typeProtos){if(!Array.isArray(e.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");r.typeProtos=[];for(var o=0;o<e.typeProtos.length;++o){if(typeof e.typeProtos[o]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");r.typeProtos[o]=g.onnx.TypeProto.fromObject(e.typeProtos[o])}}return r},t.toObject=function(e,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.floats=[],o.ints=[],o.strings=[],o.tensors=[],o.graphs=[],o.typeProtos=[],o.sparseTensors=[]),r.defaults){if(o.name="",o.f=0,x.Long){var s=new x.Long(0,0,!1);o.i=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else o.i=r.longs===String?"0":0;r.bytes===String?o.s="":(o.s=[],r.bytes!==Array&&(o.s=x.newBuffer(o.s))),o.t=null,o.g=null,o.docString="",o.tp=null,o.type=r.enums===String?"UNDEFINED":0,o.refAttrName="",o.sparseTensor=null}if(e.name!=null&&e.hasOwnProperty("name")&&(o.name=e.name),e.f!=null&&e.hasOwnProperty("f")&&(o.f=r.json&&!isFinite(e.f)?String(e.f):e.f),e.i!=null&&e.hasOwnProperty("i")&&(typeof e.i=="number"?o.i=r.longs===String?String(e.i):e.i:o.i=r.longs===String?x.Long.prototype.toString.call(e.i):r.longs===Number?new x.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),e.s!=null&&e.hasOwnProperty("s")&&(o.s=r.bytes===String?x.base64.encode(e.s,0,e.s.length):r.bytes===Array?Array.prototype.slice.call(e.s):e.s),e.t!=null&&e.hasOwnProperty("t")&&(o.t=g.onnx.TensorProto.toObject(e.t,r)),e.g!=null&&e.hasOwnProperty("g")&&(o.g=g.onnx.GraphProto.toObject(e.g,r)),e.floats&&e.floats.length){o.floats=[];for(var a=0;a<e.floats.length;++a)o.floats[a]=r.json&&!isFinite(e.floats[a])?String(e.floats[a]):e.floats[a]}if(e.ints&&e.ints.length){o.ints=[];for(var a=0;a<e.ints.length;++a)typeof e.ints[a]=="number"?o.ints[a]=r.longs===String?String(e.ints[a]):e.ints[a]:o.ints[a]=r.longs===String?x.Long.prototype.toString.call(e.ints[a]):r.longs===Number?new x.LongBits(e.ints[a].low>>>0,e.ints[a].high>>>0).toNumber():e.ints[a]}if(e.strings&&e.strings.length){o.strings=[];for(var a=0;a<e.strings.length;++a)o.strings[a]=r.bytes===String?x.base64.encode(e.strings[a],0,e.strings[a].length):r.bytes===Array?Array.prototype.slice.call(e.strings[a]):e.strings[a]}if(e.tensors&&e.tensors.length){o.tensors=[];for(var a=0;a<e.tensors.length;++a)o.tensors[a]=g.onnx.TensorProto.toObject(e.tensors[a],r)}if(e.graphs&&e.graphs.length){o.graphs=[];for(var a=0;a<e.graphs.length;++a)o.graphs[a]=g.onnx.GraphProto.toObject(e.graphs[a],r)}if(e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),e.tp!=null&&e.hasOwnProperty("tp")&&(o.tp=g.onnx.TypeProto.toObject(e.tp,r)),e.typeProtos&&e.typeProtos.length){o.typeProtos=[];for(var a=0;a<e.typeProtos.length;++a)o.typeProtos[a]=g.onnx.TypeProto.toObject(e.typeProtos[a],r)}if(e.type!=null&&e.hasOwnProperty("type")&&(o.type=r.enums===String?g.onnx.AttributeProto.AttributeType[e.type]===void 0?e.type:g.onnx.AttributeProto.AttributeType[e.type]:e.type),e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&(o.refAttrName=e.refAttrName),e.sparseTensor!=null&&e.hasOwnProperty("sparseTensor")&&(o.sparseTensor=g.onnx.SparseTensorProto.toObject(e.sparseTensor,r)),e.sparseTensors&&e.sparseTensors.length){o.sparseTensors=[];for(var a=0;a<e.sparseTensors.length;++a)o.sparseTensors[a]=g.onnx.SparseTensorProto.toObject(e.sparseTensors[a],r)}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.AttributeProto"},t.AttributeType=function(){var n={},e=Object.create(n);return e[n[0]="UNDEFINED"]=0,e[n[1]="FLOAT"]=1,e[n[2]="INT"]=2,e[n[3]="STRING"]=3,e[n[4]="TENSOR"]=4,e[n[5]="GRAPH"]=5,e[n[11]="SPARSE_TENSOR"]=11,e[n[13]="TYPE_PROTO"]=13,e[n[6]="FLOATS"]=6,e[n[7]="INTS"]=7,e[n[8]="STRINGS"]=8,e[n[9]="TENSORS"]=9,e[n[10]="GRAPHS"]=10,e[n[12]="SPARSE_TENSORS"]=12,e[n[14]="TYPE_PROTOS"]=14,e}(),t}(),i.ValueInfoProto=function(){function t(n){if(n)for(var e=Object.keys(n),r=0;r<e.length;++r)n[e[r]]!=null&&(this[e[r]]=n[e[r]])}return t.prototype.name="",t.prototype.type=null,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=ke.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&r.uint32(10).string(e.name),e.type!=null&&Object.hasOwnProperty.call(e,"type")&&g.onnx.TypeProto.encode(e.type,r.uint32(18).fork()).ldelim(),e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(26).string(e.docString),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof W||(e=W.create(e));for(var o=r===void 0?e.len:e.pos+r,s=new g.onnx.ValueInfoProto;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:{s.name=e.string();break}case 2:{s.type=g.onnx.TypeProto.decode(e,e.uint32());break}case 3:{s.docString=e.string();break}default:e.skipType(a&7);break}}return s},t.decodeDelimited=function(e){return e instanceof W||(e=new W(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!x.isString(e.name))return"name: string expected";if(e.type!=null&&e.hasOwnProperty("type")){var r=g.onnx.TypeProto.verify(e.type);if(r)return"type."+r}return e.docString!=null&&e.hasOwnProperty("docString")&&!x.isString(e.docString)?"docString: string expected":null},t.fromObject=function(e){if(e instanceof g.onnx.ValueInfoProto)return e;var r=new g.onnx.ValueInfoProto;if(e.name!=null&&(r.name=String(e.name)),e.type!=null){if(typeof e.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");r.type=g.onnx.TypeProto.fromObject(e.type)}return e.docString!=null&&(r.docString=String(e.docString)),r},t.toObject=function(e,r){r||(r={});var o={};return r.defaults&&(o.name="",o.type=null,o.docString=""),e.name!=null&&e.hasOwnProperty("name")&&(o.name=e.name),e.type!=null&&e.hasOwnProperty("type")&&(o.type=g.onnx.TypeProto.toObject(e.type,r)),e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.ValueInfoProto"},t}(),i.NodeProto=function(){function t(n){if(this.input=[],this.output=[],this.attribute=[],n)for(var e=Object.keys(n),r=0;r<e.length;++r)n[e[r]]!=null&&(this[e[r]]=n[e[r]])}return t.prototype.input=x.emptyArray,t.prototype.output=x.emptyArray,t.prototype.name="",t.prototype.opType="",t.prototype.domain="",t.prototype.attribute=x.emptyArray,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=ke.create()),e.input!=null&&e.input.length)for(var o=0;o<e.input.length;++o)r.uint32(10).string(e.input[o]);if(e.output!=null&&e.output.length)for(var o=0;o<e.output.length;++o)r.uint32(18).string(e.output[o]);if(e.name!=null&&Object.hasOwnProperty.call(e,"name")&&r.uint32(26).string(e.name),e.opType!=null&&Object.hasOwnProperty.call(e,"opType")&&r.uint32(34).string(e.opType),e.attribute!=null&&e.attribute.length)for(var o=0;o<e.attribute.length;++o)g.onnx.AttributeProto.encode(e.attribute[o],r.uint32(42).fork()).ldelim();return e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(50).string(e.docString),e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&r.uint32(58).string(e.domain),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof W||(e=W.create(e));for(var o=r===void 0?e.len:e.pos+r,s=new g.onnx.NodeProto;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:{s.input&&s.input.length||(s.input=[]),s.input.push(e.string());break}case 2:{s.output&&s.output.length||(s.output=[]),s.output.push(e.string());break}case 3:{s.name=e.string();break}case 4:{s.opType=e.string();break}case 7:{s.domain=e.string();break}case 5:{s.attribute&&s.attribute.length||(s.attribute=[]),s.attribute.push(g.onnx.AttributeProto.decode(e,e.uint32()));break}case 6:{s.docString=e.string();break}default:e.skipType(a&7);break}}return s},t.decodeDelimited=function(e){return e instanceof W||(e=new W(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var r=0;r<e.input.length;++r)if(!x.isString(e.input[r]))return"input: string[] expected"}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(var r=0;r<e.output.length;++r)if(!x.isString(e.output[r]))return"output: string[] expected"}if(e.name!=null&&e.hasOwnProperty("name")&&!x.isString(e.name))return"name: string expected";if(e.opType!=null&&e.hasOwnProperty("opType")&&!x.isString(e.opType))return"opType: string expected";if(e.domain!=null&&e.hasOwnProperty("domain")&&!x.isString(e.domain))return"domain: string expected";if(e.attribute!=null&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(var r=0;r<e.attribute.length;++r){var o=g.onnx.AttributeProto.verify(e.attribute[r]);if(o)return"attribute."+o}}return e.docString!=null&&e.hasOwnProperty("docString")&&!x.isString(e.docString)?"docString: string expected":null},t.fromObject=function(e){if(e instanceof g.onnx.NodeProto)return e;var r=new g.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");r.input=[];for(var o=0;o<e.input.length;++o)r.input[o]=String(e.input[o])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");r.output=[];for(var o=0;o<e.output.length;++o)r.output[o]=String(e.output[o])}if(e.name!=null&&(r.name=String(e.name)),e.opType!=null&&(r.opType=String(e.opType)),e.domain!=null&&(r.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");r.attribute=[];for(var o=0;o<e.attribute.length;++o){if(typeof e.attribute[o]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");r.attribute[o]=g.onnx.AttributeProto.fromObject(e.attribute[o])}}return e.docString!=null&&(r.docString=String(e.docString)),r},t.toObject=function(e,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.input=[],o.output=[],o.attribute=[]),r.defaults&&(o.name="",o.opType="",o.docString="",o.domain=""),e.input&&e.input.length){o.input=[];for(var s=0;s<e.input.length;++s)o.input[s]=e.input[s]}if(e.output&&e.output.length){o.output=[];for(var s=0;s<e.output.length;++s)o.output[s]=e.output[s]}if(e.name!=null&&e.hasOwnProperty("name")&&(o.name=e.name),e.opType!=null&&e.hasOwnProperty("opType")&&(o.opType=e.opType),e.attribute&&e.attribute.length){o.attribute=[];for(var s=0;s<e.attribute.length;++s)o.attribute[s]=g.onnx.AttributeProto.toObject(e.attribute[s],r)}return e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),e.domain!=null&&e.hasOwnProperty("domain")&&(o.domain=e.domain),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.NodeProto"},t}(),i.TrainingInfoProto=function(){function t(n){if(this.initializationBinding=[],this.updateBinding=[],n)for(var e=Object.keys(n),r=0;r<e.length;++r)n[e[r]]!=null&&(this[e[r]]=n[e[r]])}return t.prototype.initialization=null,t.prototype.algorithm=null,t.prototype.initializationBinding=x.emptyArray,t.prototype.updateBinding=x.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=ke.create()),e.initialization!=null&&Object.hasOwnProperty.call(e,"initialization")&&g.onnx.GraphProto.encode(e.initialization,r.uint32(10).fork()).ldelim(),e.algorithm!=null&&Object.hasOwnProperty.call(e,"algorithm")&&g.onnx.GraphProto.encode(e.algorithm,r.uint32(18).fork()).ldelim(),e.initializationBinding!=null&&e.initializationBinding.length)for(var o=0;o<e.initializationBinding.length;++o)g.onnx.StringStringEntryProto.encode(e.initializationBinding[o],r.uint32(26).fork()).ldelim();if(e.updateBinding!=null&&e.updateBinding.length)for(var o=0;o<e.updateBinding.length;++o)g.onnx.StringStringEntryProto.encode(e.updateBinding[o],r.uint32(34).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof W||(e=W.create(e));for(var o=r===void 0?e.len:e.pos+r,s=new g.onnx.TrainingInfoProto;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:{s.initialization=g.onnx.GraphProto.decode(e,e.uint32());break}case 2:{s.algorithm=g.onnx.GraphProto.decode(e,e.uint32());break}case 3:{s.initializationBinding&&s.initializationBinding.length||(s.initializationBinding=[]),s.initializationBinding.push(g.onnx.StringStringEntryProto.decode(e,e.uint32()));break}case 4:{s.updateBinding&&s.updateBinding.length||(s.updateBinding=[]),s.updateBinding.push(g.onnx.StringStringEntryProto.decode(e,e.uint32()));break}default:e.skipType(a&7);break}}return s},t.decodeDelimited=function(e){return e instanceof W||(e=new W(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.initialization!=null&&e.hasOwnProperty("initialization")){var r=g.onnx.GraphProto.verify(e.initialization);if(r)return"initialization."+r}if(e.algorithm!=null&&e.hasOwnProperty("algorithm")){var r=g.onnx.GraphProto.verify(e.algorithm);if(r)return"algorithm."+r}if(e.initializationBinding!=null&&e.hasOwnProperty("initializationBinding")){if(!Array.isArray(e.initializationBinding))return"initializationBinding: array expected";for(var o=0;o<e.initializationBinding.length;++o){var r=g.onnx.StringStringEntryProto.verify(e.initializationBinding[o]);if(r)return"initializationBinding."+r}}if(e.updateBinding!=null&&e.hasOwnProperty("updateBinding")){if(!Array.isArray(e.updateBinding))return"updateBinding: array expected";for(var o=0;o<e.updateBinding.length;++o){var r=g.onnx.StringStringEntryProto.verify(e.updateBinding[o]);if(r)return"updateBinding."+r}}return null},t.fromObject=function(e){if(e instanceof g.onnx.TrainingInfoProto)return e;var r=new g.onnx.TrainingInfoProto;if(e.initialization!=null){if(typeof e.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");r.initialization=g.onnx.GraphProto.fromObject(e.initialization)}if(e.algorithm!=null){if(typeof e.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");r.algorithm=g.onnx.GraphProto.fromObject(e.algorithm)}if(e.initializationBinding){if(!Array.isArray(e.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");r.initializationBinding=[];for(var o=0;o<e.initializationBinding.length;++o){if(typeof e.initializationBinding[o]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");r.initializationBinding[o]=g.onnx.StringStringEntryProto.fromObject(e.initializationBinding[o])}}if(e.updateBinding){if(!Array.isArray(e.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");r.updateBinding=[];for(var o=0;o<e.updateBinding.length;++o){if(typeof e.updateBinding[o]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");r.updateBinding[o]=g.onnx.StringStringEntryProto.fromObject(e.updateBinding[o])}}return r},t.toObject=function(e,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.initializationBinding=[],o.updateBinding=[]),r.defaults&&(o.initialization=null,o.algorithm=null),e.initialization!=null&&e.hasOwnProperty("initialization")&&(o.initialization=g.onnx.GraphProto.toObject(e.initialization,r)),e.algorithm!=null&&e.hasOwnProperty("algorithm")&&(o.algorithm=g.onnx.GraphProto.toObject(e.algorithm,r)),e.initializationBinding&&e.initializationBinding.length){o.initializationBinding=[];for(var s=0;s<e.initializationBinding.length;++s)o.initializationBinding[s]=g.onnx.StringStringEntryProto.toObject(e.initializationBinding[s],r)}if(e.updateBinding&&e.updateBinding.length){o.updateBinding=[];for(var s=0;s<e.updateBinding.length;++s)o.updateBinding[s]=g.onnx.StringStringEntryProto.toObject(e.updateBinding[s],r)}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TrainingInfoProto"},t}(),i.ModelProto=function(){function t(n){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],n)for(var e=Object.keys(n),r=0;r<e.length;++r)n[e[r]]!=null&&(this[e[r]]=n[e[r]])}return t.prototype.irVersion=x.Long?x.Long.fromBits(0,0,!1):0,t.prototype.opsetImport=x.emptyArray,t.prototype.producerName="",t.prototype.producerVersion="",t.prototype.domain="",t.prototype.modelVersion=x.Long?x.Long.fromBits(0,0,!1):0,t.prototype.docString="",t.prototype.graph=null,t.prototype.metadataProps=x.emptyArray,t.prototype.trainingInfo=x.emptyArray,t.prototype.functions=x.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=ke.create()),e.irVersion!=null&&Object.hasOwnProperty.call(e,"irVersion")&&r.uint32(8).int64(e.irVersion),e.producerName!=null&&Object.hasOwnProperty.call(e,"producerName")&&r.uint32(18).string(e.producerName),e.producerVersion!=null&&Object.hasOwnProperty.call(e,"producerVersion")&&r.uint32(26).string(e.producerVersion),e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&r.uint32(34).string(e.domain),e.modelVersion!=null&&Object.hasOwnProperty.call(e,"modelVersion")&&r.uint32(40).int64(e.modelVersion),e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(50).string(e.docString),e.graph!=null&&Object.hasOwnProperty.call(e,"graph")&&g.onnx.GraphProto.encode(e.graph,r.uint32(58).fork()).ldelim(),e.opsetImport!=null&&e.opsetImport.length)for(var o=0;o<e.opsetImport.length;++o)g.onnx.OperatorSetIdProto.encode(e.opsetImport[o],r.uint32(66).fork()).ldelim();if(e.metadataProps!=null&&e.metadataProps.length)for(var o=0;o<e.metadataProps.length;++o)g.onnx.StringStringEntryProto.encode(e.metadataProps[o],r.uint32(114).fork()).ldelim();if(e.trainingInfo!=null&&e.trainingInfo.length)for(var o=0;o<e.trainingInfo.length;++o)g.onnx.TrainingInfoProto.encode(e.trainingInfo[o],r.uint32(162).fork()).ldelim();if(e.functions!=null&&e.functions.length)for(var o=0;o<e.functions.length;++o)g.onnx.FunctionProto.encode(e.functions[o],r.uint32(202).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof W||(e=W.create(e));for(var o=r===void 0?e.len:e.pos+r,s=new g.onnx.ModelProto;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:{s.irVersion=e.int64();break}case 8:{s.opsetImport&&s.opsetImport.length||(s.opsetImport=[]),s.opsetImport.push(g.onnx.OperatorSetIdProto.decode(e,e.uint32()));break}case 2:{s.producerName=e.string();break}case 3:{s.producerVersion=e.string();break}case 4:{s.domain=e.string();break}case 5:{s.modelVersion=e.int64();break}case 6:{s.docString=e.string();break}case 7:{s.graph=g.onnx.GraphProto.decode(e,e.uint32());break}case 14:{s.metadataProps&&s.metadataProps.length||(s.metadataProps=[]),s.metadataProps.push(g.onnx.StringStringEntryProto.decode(e,e.uint32()));break}case 20:{s.trainingInfo&&s.trainingInfo.length||(s.trainingInfo=[]),s.trainingInfo.push(g.onnx.TrainingInfoProto.decode(e,e.uint32()));break}case 25:{s.functions&&s.functions.length||(s.functions=[]),s.functions.push(g.onnx.FunctionProto.decode(e,e.uint32()));break}default:e.skipType(a&7);break}}return s},t.decodeDelimited=function(e){return e instanceof W||(e=new W(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.irVersion!=null&&e.hasOwnProperty("irVersion")&&!x.isInteger(e.irVersion)&&!(e.irVersion&&x.isInteger(e.irVersion.low)&&x.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(e.opsetImport!=null&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var r=0;r<e.opsetImport.length;++r){var o=g.onnx.OperatorSetIdProto.verify(e.opsetImport[r]);if(o)return"opsetImport."+o}}if(e.producerName!=null&&e.hasOwnProperty("producerName")&&!x.isString(e.producerName))return"producerName: string expected";if(e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&!x.isString(e.producerVersion))return"producerVersion: string expected";if(e.domain!=null&&e.hasOwnProperty("domain")&&!x.isString(e.domain))return"domain: string expected";if(e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&!x.isInteger(e.modelVersion)&&!(e.modelVersion&&x.isInteger(e.modelVersion.low)&&x.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!x.isString(e.docString))return"docString: string expected";if(e.graph!=null&&e.hasOwnProperty("graph")){var o=g.onnx.GraphProto.verify(e.graph);if(o)return"graph."+o}if(e.metadataProps!=null&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(var r=0;r<e.metadataProps.length;++r){var o=g.onnx.StringStringEntryProto.verify(e.metadataProps[r]);if(o)return"metadataProps."+o}}if(e.trainingInfo!=null&&e.hasOwnProperty("trainingInfo")){if(!Array.isArray(e.trainingInfo))return"trainingInfo: array expected";for(var r=0;r<e.trainingInfo.length;++r){var o=g.onnx.TrainingInfoProto.verify(e.trainingInfo[r]);if(o)return"trainingInfo."+o}}if(e.functions!=null&&e.hasOwnProperty("functions")){if(!Array.isArray(e.functions))return"functions: array expected";for(var r=0;r<e.functions.length;++r){var o=g.onnx.FunctionProto.verify(e.functions[r]);if(o)return"functions."+o}}return null},t.fromObject=function(e){if(e instanceof g.onnx.ModelProto)return e;var r=new g.onnx.ModelProto;if(e.irVersion!=null&&(x.Long?(r.irVersion=x.Long.fromValue(e.irVersion)).unsigned=!1:typeof e.irVersion=="string"?r.irVersion=parseInt(e.irVersion,10):typeof e.irVersion=="number"?r.irVersion=e.irVersion:typeof e.irVersion=="object"&&(r.irVersion=new x.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");r.opsetImport=[];for(var o=0;o<e.opsetImport.length;++o){if(typeof e.opsetImport[o]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");r.opsetImport[o]=g.onnx.OperatorSetIdProto.fromObject(e.opsetImport[o])}}if(e.producerName!=null&&(r.producerName=String(e.producerName)),e.producerVersion!=null&&(r.producerVersion=String(e.producerVersion)),e.domain!=null&&(r.domain=String(e.domain)),e.modelVersion!=null&&(x.Long?(r.modelVersion=x.Long.fromValue(e.modelVersion)).unsigned=!1:typeof e.modelVersion=="string"?r.modelVersion=parseInt(e.modelVersion,10):typeof e.modelVersion=="number"?r.modelVersion=e.modelVersion:typeof e.modelVersion=="object"&&(r.modelVersion=new x.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),e.docString!=null&&(r.docString=String(e.docString)),e.graph!=null){if(typeof e.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");r.graph=g.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");r.metadataProps=[];for(var o=0;o<e.metadataProps.length;++o){if(typeof e.metadataProps[o]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");r.metadataProps[o]=g.onnx.StringStringEntryProto.fromObject(e.metadataProps[o])}}if(e.trainingInfo){if(!Array.isArray(e.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");r.trainingInfo=[];for(var o=0;o<e.trainingInfo.length;++o){if(typeof e.trainingInfo[o]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");r.trainingInfo[o]=g.onnx.TrainingInfoProto.fromObject(e.trainingInfo[o])}}if(e.functions){if(!Array.isArray(e.functions))throw TypeError(".onnx.ModelProto.functions: array expected");r.functions=[];for(var o=0;o<e.functions.length;++o){if(typeof e.functions[o]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");r.functions[o]=g.onnx.FunctionProto.fromObject(e.functions[o])}}return r},t.toObject=function(e,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.opsetImport=[],o.metadataProps=[],o.trainingInfo=[],o.functions=[]),r.defaults){if(x.Long){var s=new x.Long(0,0,!1);o.irVersion=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else o.irVersion=r.longs===String?"0":0;if(o.producerName="",o.producerVersion="",o.domain="",x.Long){var s=new x.Long(0,0,!1);o.modelVersion=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else o.modelVersion=r.longs===String?"0":0;o.docString="",o.graph=null}if(e.irVersion!=null&&e.hasOwnProperty("irVersion")&&(typeof e.irVersion=="number"?o.irVersion=r.longs===String?String(e.irVersion):e.irVersion:o.irVersion=r.longs===String?x.Long.prototype.toString.call(e.irVersion):r.longs===Number?new x.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),e.producerName!=null&&e.hasOwnProperty("producerName")&&(o.producerName=e.producerName),e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&(o.producerVersion=e.producerVersion),e.domain!=null&&e.hasOwnProperty("domain")&&(o.domain=e.domain),e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&(typeof e.modelVersion=="number"?o.modelVersion=r.longs===String?String(e.modelVersion):e.modelVersion:o.modelVersion=r.longs===String?x.Long.prototype.toString.call(e.modelVersion):r.longs===Number?new x.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),e.graph!=null&&e.hasOwnProperty("graph")&&(o.graph=g.onnx.GraphProto.toObject(e.graph,r)),e.opsetImport&&e.opsetImport.length){o.opsetImport=[];for(var a=0;a<e.opsetImport.length;++a)o.opsetImport[a]=g.onnx.OperatorSetIdProto.toObject(e.opsetImport[a],r)}if(e.metadataProps&&e.metadataProps.length){o.metadataProps=[];for(var a=0;a<e.metadataProps.length;++a)o.metadataProps[a]=g.onnx.StringStringEntryProto.toObject(e.metadataProps[a],r)}if(e.trainingInfo&&e.trainingInfo.length){o.trainingInfo=[];for(var a=0;a<e.trainingInfo.length;++a)o.trainingInfo[a]=g.onnx.TrainingInfoProto.toObject(e.trainingInfo[a],r)}if(e.functions&&e.functions.length){o.functions=[];for(var a=0;a<e.functions.length;++a)o.functions[a]=g.onnx.FunctionProto.toObject(e.functions[a],r)}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.ModelProto"},t}(),i.StringStringEntryProto=function(){function t(n){if(n)for(var e=Object.keys(n),r=0;r<e.length;++r)n[e[r]]!=null&&(this[e[r]]=n[e[r]])}return t.prototype.key="",t.prototype.value="",t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=ke.create()),e.key!=null&&Object.hasOwnProperty.call(e,"key")&&r.uint32(10).string(e.key),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&r.uint32(18).string(e.value),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof W||(e=W.create(e));for(var o=r===void 0?e.len:e.pos+r,s=new g.onnx.StringStringEntryProto;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:{s.key=e.string();break}case 2:{s.value=e.string();break}default:e.skipType(a&7);break}}return s},t.decodeDelimited=function(e){return e instanceof W||(e=new W(e)),this.decode(e,e.uint32())},t.verify=function(e){return typeof e!="object"||e===null?"object expected":e.key!=null&&e.hasOwnProperty("key")&&!x.isString(e.key)?"key: string expected":e.value!=null&&e.hasOwnProperty("value")&&!x.isString(e.value)?"value: string expected":null},t.fromObject=function(e){if(e instanceof g.onnx.StringStringEntryProto)return e;var r=new g.onnx.StringStringEntryProto;return e.key!=null&&(r.key=String(e.key)),e.value!=null&&(r.value=String(e.value)),r},t.toObject=function(e,r){r||(r={});var o={};return r.defaults&&(o.key="",o.value=""),e.key!=null&&e.hasOwnProperty("key")&&(o.key=e.key),e.value!=null&&e.hasOwnProperty("value")&&(o.value=e.value),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.StringStringEntryProto"},t}(),i.TensorAnnotation=function(){function t(n){if(this.quantParameterTensorNames=[],n)for(var e=Object.keys(n),r=0;r<e.length;++r)n[e[r]]!=null&&(this[e[r]]=n[e[r]])}return t.prototype.tensorName="",t.prototype.quantParameterTensorNames=x.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=ke.create()),e.tensorName!=null&&Object.hasOwnProperty.call(e,"tensorName")&&r.uint32(10).string(e.tensorName),e.quantParameterTensorNames!=null&&e.quantParameterTensorNames.length)for(var o=0;o<e.quantParameterTensorNames.length;++o)g.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[o],r.uint32(18).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof W||(e=W.create(e));for(var o=r===void 0?e.len:e.pos+r,s=new g.onnx.TensorAnnotation;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:{s.tensorName=e.string();break}case 2:{s.quantParameterTensorNames&&s.quantParameterTensorNames.length||(s.quantParameterTensorNames=[]),s.quantParameterTensorNames.push(g.onnx.StringStringEntryProto.decode(e,e.uint32()));break}default:e.skipType(a&7);break}}return s},t.decodeDelimited=function(e){return e instanceof W||(e=new W(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.tensorName!=null&&e.hasOwnProperty("tensorName")&&!x.isString(e.tensorName))return"tensorName: string expected";if(e.quantParameterTensorNames!=null&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var r=0;r<e.quantParameterTensorNames.length;++r){var o=g.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[r]);if(o)return"quantParameterTensorNames."+o}}return null},t.fromObject=function(e){if(e instanceof g.onnx.TensorAnnotation)return e;var r=new g.onnx.TensorAnnotation;if(e.tensorName!=null&&(r.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");r.quantParameterTensorNames=[];for(var o=0;o<e.quantParameterTensorNames.length;++o){if(typeof e.quantParameterTensorNames[o]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");r.quantParameterTensorNames[o]=g.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[o])}}return r},t.toObject=function(e,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.quantParameterTensorNames=[]),r.defaults&&(o.tensorName=""),e.tensorName!=null&&e.hasOwnProperty("tensorName")&&(o.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){o.quantParameterTensorNames=[];for(var s=0;s<e.quantParameterTensorNames.length;++s)o.quantParameterTensorNames[s]=g.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[s],r)}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TensorAnnotation"},t}(),i.GraphProto=function(){function t(n){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],n)for(var e=Object.keys(n),r=0;r<e.length;++r)n[e[r]]!=null&&(this[e[r]]=n[e[r]])}return t.prototype.node=x.emptyArray,t.prototype.name="",t.prototype.initializer=x.emptyArray,t.prototype.sparseInitializer=x.emptyArray,t.prototype.docString="",t.prototype.input=x.emptyArray,t.prototype.output=x.emptyArray,t.prototype.valueInfo=x.emptyArray,t.prototype.quantizationAnnotation=x.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=ke.create()),e.node!=null&&e.node.length)for(var o=0;o<e.node.length;++o)g.onnx.NodeProto.encode(e.node[o],r.uint32(10).fork()).ldelim();if(e.name!=null&&Object.hasOwnProperty.call(e,"name")&&r.uint32(18).string(e.name),e.initializer!=null&&e.initializer.length)for(var o=0;o<e.initializer.length;++o)g.onnx.TensorProto.encode(e.initializer[o],r.uint32(42).fork()).ldelim();if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(82).string(e.docString),e.input!=null&&e.input.length)for(var o=0;o<e.input.length;++o)g.onnx.ValueInfoProto.encode(e.input[o],r.uint32(90).fork()).ldelim();if(e.output!=null&&e.output.length)for(var o=0;o<e.output.length;++o)g.onnx.ValueInfoProto.encode(e.output[o],r.uint32(98).fork()).ldelim();if(e.valueInfo!=null&&e.valueInfo.length)for(var o=0;o<e.valueInfo.length;++o)g.onnx.ValueInfoProto.encode(e.valueInfo[o],r.uint32(106).fork()).ldelim();if(e.quantizationAnnotation!=null&&e.quantizationAnnotation.length)for(var o=0;o<e.quantizationAnnotation.length;++o)g.onnx.TensorAnnotation.encode(e.quantizationAnnotation[o],r.uint32(114).fork()).ldelim();if(e.sparseInitializer!=null&&e.sparseInitializer.length)for(var o=0;o<e.sparseInitializer.length;++o)g.onnx.SparseTensorProto.encode(e.sparseInitializer[o],r.uint32(122).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof W||(e=W.create(e));for(var o=r===void 0?e.len:e.pos+r,s=new g.onnx.GraphProto;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:{s.node&&s.node.length||(s.node=[]),s.node.push(g.onnx.NodeProto.decode(e,e.uint32()));break}case 2:{s.name=e.string();break}case 5:{s.initializer&&s.initializer.length||(s.initializer=[]),s.initializer.push(g.onnx.TensorProto.decode(e,e.uint32()));break}case 15:{s.sparseInitializer&&s.sparseInitializer.length||(s.sparseInitializer=[]),s.sparseInitializer.push(g.onnx.SparseTensorProto.decode(e,e.uint32()));break}case 10:{s.docString=e.string();break}case 11:{s.input&&s.input.length||(s.input=[]),s.input.push(g.onnx.ValueInfoProto.decode(e,e.uint32()));break}case 12:{s.output&&s.output.length||(s.output=[]),s.output.push(g.onnx.ValueInfoProto.decode(e,e.uint32()));break}case 13:{s.valueInfo&&s.valueInfo.length||(s.valueInfo=[]),s.valueInfo.push(g.onnx.ValueInfoProto.decode(e,e.uint32()));break}case 14:{s.quantizationAnnotation&&s.quantizationAnnotation.length||(s.quantizationAnnotation=[]),s.quantizationAnnotation.push(g.onnx.TensorAnnotation.decode(e,e.uint32()));break}default:e.skipType(a&7);break}}return s},t.decodeDelimited=function(e){return e instanceof W||(e=new W(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.node!=null&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var r=0;r<e.node.length;++r){var o=g.onnx.NodeProto.verify(e.node[r]);if(o)return"node."+o}}if(e.name!=null&&e.hasOwnProperty("name")&&!x.isString(e.name))return"name: string expected";if(e.initializer!=null&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(var r=0;r<e.initializer.length;++r){var o=g.onnx.TensorProto.verify(e.initializer[r]);if(o)return"initializer."+o}}if(e.sparseInitializer!=null&&e.hasOwnProperty("sparseInitializer")){if(!Array.isArray(e.sparseInitializer))return"sparseInitializer: array expected";for(var r=0;r<e.sparseInitializer.length;++r){var o=g.onnx.SparseTensorProto.verify(e.sparseInitializer[r]);if(o)return"sparseInitializer."+o}}if(e.docString!=null&&e.hasOwnProperty("docString")&&!x.isString(e.docString))return"docString: string expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var r=0;r<e.input.length;++r){var o=g.onnx.ValueInfoProto.verify(e.input[r]);if(o)return"input."+o}}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(var r=0;r<e.output.length;++r){var o=g.onnx.ValueInfoProto.verify(e.output[r]);if(o)return"output."+o}}if(e.valueInfo!=null&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(var r=0;r<e.valueInfo.length;++r){var o=g.onnx.ValueInfoProto.verify(e.valueInfo[r]);if(o)return"valueInfo."+o}}if(e.quantizationAnnotation!=null&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(var r=0;r<e.quantizationAnnotation.length;++r){var o=g.onnx.TensorAnnotation.verify(e.quantizationAnnotation[r]);if(o)return"quantizationAnnotation."+o}}return null},t.fromObject=function(e){if(e instanceof g.onnx.GraphProto)return e;var r=new g.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");r.node=[];for(var o=0;o<e.node.length;++o){if(typeof e.node[o]!="object")throw TypeError(".onnx.GraphProto.node: object expected");r.node[o]=g.onnx.NodeProto.fromObject(e.node[o])}}if(e.name!=null&&(r.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");r.initializer=[];for(var o=0;o<e.initializer.length;++o){if(typeof e.initializer[o]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");r.initializer[o]=g.onnx.TensorProto.fromObject(e.initializer[o])}}if(e.sparseInitializer){if(!Array.isArray(e.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");r.sparseInitializer=[];for(var o=0;o<e.sparseInitializer.length;++o){if(typeof e.sparseInitializer[o]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");r.sparseInitializer[o]=g.onnx.SparseTensorProto.fromObject(e.sparseInitializer[o])}}if(e.docString!=null&&(r.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");r.input=[];for(var o=0;o<e.input.length;++o){if(typeof e.input[o]!="object")throw TypeError(".onnx.GraphProto.input: object expected");r.input[o]=g.onnx.ValueInfoProto.fromObject(e.input[o])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");r.output=[];for(var o=0;o<e.output.length;++o){if(typeof e.output[o]!="object")throw TypeError(".onnx.GraphProto.output: object expected");r.output[o]=g.onnx.ValueInfoProto.fromObject(e.output[o])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");r.valueInfo=[];for(var o=0;o<e.valueInfo.length;++o){if(typeof e.valueInfo[o]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");r.valueInfo[o]=g.onnx.ValueInfoProto.fromObject(e.valueInfo[o])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");r.quantizationAnnotation=[];for(var o=0;o<e.quantizationAnnotation.length;++o){if(typeof e.quantizationAnnotation[o]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");r.quantizationAnnotation[o]=g.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[o])}}return r},t.toObject=function(e,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.node=[],o.initializer=[],o.input=[],o.output=[],o.valueInfo=[],o.quantizationAnnotation=[],o.sparseInitializer=[]),r.defaults&&(o.name="",o.docString=""),e.node&&e.node.length){o.node=[];for(var s=0;s<e.node.length;++s)o.node[s]=g.onnx.NodeProto.toObject(e.node[s],r)}if(e.name!=null&&e.hasOwnProperty("name")&&(o.name=e.name),e.initializer&&e.initializer.length){o.initializer=[];for(var s=0;s<e.initializer.length;++s)o.initializer[s]=g.onnx.TensorProto.toObject(e.initializer[s],r)}if(e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),e.input&&e.input.length){o.input=[];for(var s=0;s<e.input.length;++s)o.input[s]=g.onnx.ValueInfoProto.toObject(e.input[s],r)}if(e.output&&e.output.length){o.output=[];for(var s=0;s<e.output.length;++s)o.output[s]=g.onnx.ValueInfoProto.toObject(e.output[s],r)}if(e.valueInfo&&e.valueInfo.length){o.valueInfo=[];for(var s=0;s<e.valueInfo.length;++s)o.valueInfo[s]=g.onnx.ValueInfoProto.toObject(e.valueInfo[s],r)}if(e.quantizationAnnotation&&e.quantizationAnnotation.length){o.quantizationAnnotation=[];for(var s=0;s<e.quantizationAnnotation.length;++s)o.quantizationAnnotation[s]=g.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[s],r)}if(e.sparseInitializer&&e.sparseInitializer.length){o.sparseInitializer=[];for(var s=0;s<e.sparseInitializer.length;++s)o.sparseInitializer[s]=g.onnx.SparseTensorProto.toObject(e.sparseInitializer[s],r)}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.GraphProto"},t}(),i.TensorProto=function(){function t(n){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],n)for(var e=Object.keys(n),r=0;r<e.length;++r)n[e[r]]!=null&&(this[e[r]]=n[e[r]])}return t.prototype.dims=x.emptyArray,t.prototype.dataType=0,t.prototype.segment=null,t.prototype.floatData=x.emptyArray,t.prototype.int32Data=x.emptyArray,t.prototype.stringData=x.emptyArray,t.prototype.int64Data=x.emptyArray,t.prototype.name="",t.prototype.docString="",t.prototype.rawData=x.newBuffer([]),t.prototype.externalData=x.emptyArray,t.prototype.dataLocation=0,t.prototype.doubleData=x.emptyArray,t.prototype.uint64Data=x.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=ke.create()),e.dims!=null&&e.dims.length){r.uint32(10).fork();for(var o=0;o<e.dims.length;++o)r.int64(e.dims[o]);r.ldelim()}if(e.dataType!=null&&Object.hasOwnProperty.call(e,"dataType")&&r.uint32(16).int32(e.dataType),e.segment!=null&&Object.hasOwnProperty.call(e,"segment")&&g.onnx.TensorProto.Segment.encode(e.segment,r.uint32(26).fork()).ldelim(),e.floatData!=null&&e.floatData.length){r.uint32(34).fork();for(var o=0;o<e.floatData.length;++o)r.float(e.floatData[o]);r.ldelim()}if(e.int32Data!=null&&e.int32Data.length){r.uint32(42).fork();for(var o=0;o<e.int32Data.length;++o)r.int32(e.int32Data[o]);r.ldelim()}if(e.stringData!=null&&e.stringData.length)for(var o=0;o<e.stringData.length;++o)r.uint32(50).bytes(e.stringData[o]);if(e.int64Data!=null&&e.int64Data.length){r.uint32(58).fork();for(var o=0;o<e.int64Data.length;++o)r.int64(e.int64Data[o]);r.ldelim()}if(e.name!=null&&Object.hasOwnProperty.call(e,"name")&&r.uint32(66).string(e.name),e.rawData!=null&&Object.hasOwnProperty.call(e,"rawData")&&r.uint32(74).bytes(e.rawData),e.doubleData!=null&&e.doubleData.length){r.uint32(82).fork();for(var o=0;o<e.doubleData.length;++o)r.double(e.doubleData[o]);r.ldelim()}if(e.uint64Data!=null&&e.uint64Data.length){r.uint32(90).fork();for(var o=0;o<e.uint64Data.length;++o)r.uint64(e.uint64Data[o]);r.ldelim()}if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(98).string(e.docString),e.externalData!=null&&e.externalData.length)for(var o=0;o<e.externalData.length;++o)g.onnx.StringStringEntryProto.encode(e.externalData[o],r.uint32(106).fork()).ldelim();return e.dataLocation!=null&&Object.hasOwnProperty.call(e,"dataLocation")&&r.uint32(112).int32(e.dataLocation),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof W||(e=W.create(e));for(var o=r===void 0?e.len:e.pos+r,s=new g.onnx.TensorProto;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:{if(s.dims&&s.dims.length||(s.dims=[]),(a&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.dims.push(e.int64());else s.dims.push(e.int64());break}case 2:{s.dataType=e.int32();break}case 3:{s.segment=g.onnx.TensorProto.Segment.decode(e,e.uint32());break}case 4:{if(s.floatData&&s.floatData.length||(s.floatData=[]),(a&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.floatData.push(e.float());else s.floatData.push(e.float());break}case 5:{if(s.int32Data&&s.int32Data.length||(s.int32Data=[]),(a&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.int32Data.push(e.int32());else s.int32Data.push(e.int32());break}case 6:{s.stringData&&s.stringData.length||(s.stringData=[]),s.stringData.push(e.bytes());break}case 7:{if(s.int64Data&&s.int64Data.length||(s.int64Data=[]),(a&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.int64Data.push(e.int64());else s.int64Data.push(e.int64());break}case 8:{s.name=e.string();break}case 12:{s.docString=e.string();break}case 9:{s.rawData=e.bytes();break}case 13:{s.externalData&&s.externalData.length||(s.externalData=[]),s.externalData.push(g.onnx.StringStringEntryProto.decode(e,e.uint32()));break}case 14:{s.dataLocation=e.int32();break}case 10:{if(s.doubleData&&s.doubleData.length||(s.doubleData=[]),(a&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.doubleData.push(e.double());else s.doubleData.push(e.double());break}case 11:{if(s.uint64Data&&s.uint64Data.length||(s.uint64Data=[]),(a&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.uint64Data.push(e.uint64());else s.uint64Data.push(e.uint64());break}default:e.skipType(a&7);break}}return s},t.decodeDelimited=function(e){return e instanceof W||(e=new W(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dims!=null&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var r=0;r<e.dims.length;++r)if(!x.isInteger(e.dims[r])&&!(e.dims[r]&&x.isInteger(e.dims[r].low)&&x.isInteger(e.dims[r].high)))return"dims: integer|Long[] expected"}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&!x.isInteger(e.dataType))return"dataType: integer expected";if(e.segment!=null&&e.hasOwnProperty("segment")){var o=g.onnx.TensorProto.Segment.verify(e.segment);if(o)return"segment."+o}if(e.floatData!=null&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(var r=0;r<e.floatData.length;++r)if(typeof e.floatData[r]!="number")return"floatData: number[] expected"}if(e.int32Data!=null&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(var r=0;r<e.int32Data.length;++r)if(!x.isInteger(e.int32Data[r]))return"int32Data: integer[] expected"}if(e.stringData!=null&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(var r=0;r<e.stringData.length;++r)if(!(e.stringData[r]&&typeof e.stringData[r].length=="number"||x.isString(e.stringData[r])))return"stringData: buffer[] expected"}if(e.int64Data!=null&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(var r=0;r<e.int64Data.length;++r)if(!x.isInteger(e.int64Data[r])&&!(e.int64Data[r]&&x.isInteger(e.int64Data[r].low)&&x.isInteger(e.int64Data[r].high)))return"int64Data: integer|Long[] expected"}if(e.name!=null&&e.hasOwnProperty("name")&&!x.isString(e.name))return"name: string expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!x.isString(e.docString))return"docString: string expected";if(e.rawData!=null&&e.hasOwnProperty("rawData")&&!(e.rawData&&typeof e.rawData.length=="number"||x.isString(e.rawData)))return"rawData: buffer expected";if(e.externalData!=null&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(var r=0;r<e.externalData.length;++r){var o=g.onnx.StringStringEntryProto.verify(e.externalData[r]);if(o)return"externalData."+o}}if(e.dataLocation!=null&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:break}if(e.doubleData!=null&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(var r=0;r<e.doubleData.length;++r)if(typeof e.doubleData[r]!="number")return"doubleData: number[] expected"}if(e.uint64Data!=null&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(var r=0;r<e.uint64Data.length;++r)if(!x.isInteger(e.uint64Data[r])&&!(e.uint64Data[r]&&x.isInteger(e.uint64Data[r].low)&&x.isInteger(e.uint64Data[r].high)))return"uint64Data: integer|Long[] expected"}return null},t.fromObject=function(e){if(e instanceof g.onnx.TensorProto)return e;var r=new g.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");r.dims=[];for(var o=0;o<e.dims.length;++o)x.Long?(r.dims[o]=x.Long.fromValue(e.dims[o])).unsigned=!1:typeof e.dims[o]=="string"?r.dims[o]=parseInt(e.dims[o],10):typeof e.dims[o]=="number"?r.dims[o]=e.dims[o]:typeof e.dims[o]=="object"&&(r.dims[o]=new x.LongBits(e.dims[o].low>>>0,e.dims[o].high>>>0).toNumber())}if(e.dataType!=null&&(r.dataType=e.dataType|0),e.segment!=null){if(typeof e.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");r.segment=g.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");r.floatData=[];for(var o=0;o<e.floatData.length;++o)r.floatData[o]=Number(e.floatData[o])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");r.int32Data=[];for(var o=0;o<e.int32Data.length;++o)r.int32Data[o]=e.int32Data[o]|0}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");r.stringData=[];for(var o=0;o<e.stringData.length;++o)typeof e.stringData[o]=="string"?x.base64.decode(e.stringData[o],r.stringData[o]=x.newBuffer(x.base64.length(e.stringData[o])),0):e.stringData[o].length>=0&&(r.stringData[o]=e.stringData[o])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");r.int64Data=[];for(var o=0;o<e.int64Data.length;++o)x.Long?(r.int64Data[o]=x.Long.fromValue(e.int64Data[o])).unsigned=!1:typeof e.int64Data[o]=="string"?r.int64Data[o]=parseInt(e.int64Data[o],10):typeof e.int64Data[o]=="number"?r.int64Data[o]=e.int64Data[o]:typeof e.int64Data[o]=="object"&&(r.int64Data[o]=new x.LongBits(e.int64Data[o].low>>>0,e.int64Data[o].high>>>0).toNumber())}if(e.name!=null&&(r.name=String(e.name)),e.docString!=null&&(r.docString=String(e.docString)),e.rawData!=null&&(typeof e.rawData=="string"?x.base64.decode(e.rawData,r.rawData=x.newBuffer(x.base64.length(e.rawData)),0):e.rawData.length>=0&&(r.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");r.externalData=[];for(var o=0;o<e.externalData.length;++o){if(typeof e.externalData[o]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");r.externalData[o]=g.onnx.StringStringEntryProto.fromObject(e.externalData[o])}}switch(e.dataLocation){default:if(typeof e.dataLocation=="number"){r.dataLocation=e.dataLocation;break}break;case"DEFAULT":case 0:r.dataLocation=0;break;case"EXTERNAL":case 1:r.dataLocation=1;break}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");r.doubleData=[];for(var o=0;o<e.doubleData.length;++o)r.doubleData[o]=Number(e.doubleData[o])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");r.uint64Data=[];for(var o=0;o<e.uint64Data.length;++o)x.Long?(r.uint64Data[o]=x.Long.fromValue(e.uint64Data[o])).unsigned=!0:typeof e.uint64Data[o]=="string"?r.uint64Data[o]=parseInt(e.uint64Data[o],10):typeof e.uint64Data[o]=="number"?r.uint64Data[o]=e.uint64Data[o]:typeof e.uint64Data[o]=="object"&&(r.uint64Data[o]=new x.LongBits(e.uint64Data[o].low>>>0,e.uint64Data[o].high>>>0).toNumber(!0))}return r},t.toObject=function(e,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.dims=[],o.floatData=[],o.int32Data=[],o.stringData=[],o.int64Data=[],o.doubleData=[],o.uint64Data=[],o.externalData=[]),r.defaults&&(o.dataType=0,o.segment=null,o.name="",r.bytes===String?o.rawData="":(o.rawData=[],r.bytes!==Array&&(o.rawData=x.newBuffer(o.rawData))),o.docString="",o.dataLocation=r.enums===String?"DEFAULT":0),e.dims&&e.dims.length){o.dims=[];for(var s=0;s<e.dims.length;++s)typeof e.dims[s]=="number"?o.dims[s]=r.longs===String?String(e.dims[s]):e.dims[s]:o.dims[s]=r.longs===String?x.Long.prototype.toString.call(e.dims[s]):r.longs===Number?new x.LongBits(e.dims[s].low>>>0,e.dims[s].high>>>0).toNumber():e.dims[s]}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&(o.dataType=e.dataType),e.segment!=null&&e.hasOwnProperty("segment")&&(o.segment=g.onnx.TensorProto.Segment.toObject(e.segment,r)),e.floatData&&e.floatData.length){o.floatData=[];for(var s=0;s<e.floatData.length;++s)o.floatData[s]=r.json&&!isFinite(e.floatData[s])?String(e.floatData[s]):e.floatData[s]}if(e.int32Data&&e.int32Data.length){o.int32Data=[];for(var s=0;s<e.int32Data.length;++s)o.int32Data[s]=e.int32Data[s]}if(e.stringData&&e.stringData.length){o.stringData=[];for(var s=0;s<e.stringData.length;++s)o.stringData[s]=r.bytes===String?x.base64.encode(e.stringData[s],0,e.stringData[s].length):r.bytes===Array?Array.prototype.slice.call(e.stringData[s]):e.stringData[s]}if(e.int64Data&&e.int64Data.length){o.int64Data=[];for(var s=0;s<e.int64Data.length;++s)typeof e.int64Data[s]=="number"?o.int64Data[s]=r.longs===String?String(e.int64Data[s]):e.int64Data[s]:o.int64Data[s]=r.longs===String?x.Long.prototype.toString.call(e.int64Data[s]):r.longs===Number?new x.LongBits(e.int64Data[s].low>>>0,e.int64Data[s].high>>>0).toNumber():e.int64Data[s]}if(e.name!=null&&e.hasOwnProperty("name")&&(o.name=e.name),e.rawData!=null&&e.hasOwnProperty("rawData")&&(o.rawData=r.bytes===String?x.base64.encode(e.rawData,0,e.rawData.length):r.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length){o.doubleData=[];for(var s=0;s<e.doubleData.length;++s)o.doubleData[s]=r.json&&!isFinite(e.doubleData[s])?String(e.doubleData[s]):e.doubleData[s]}if(e.uint64Data&&e.uint64Data.length){o.uint64Data=[];for(var s=0;s<e.uint64Data.length;++s)typeof e.uint64Data[s]=="number"?o.uint64Data[s]=r.longs===String?String(e.uint64Data[s]):e.uint64Data[s]:o.uint64Data[s]=r.longs===String?x.Long.prototype.toString.call(e.uint64Data[s]):r.longs===Number?new x.LongBits(e.uint64Data[s].low>>>0,e.uint64Data[s].high>>>0).toNumber(!0):e.uint64Data[s]}if(e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),e.externalData&&e.externalData.length){o.externalData=[];for(var s=0;s<e.externalData.length;++s)o.externalData[s]=g.onnx.StringStringEntryProto.toObject(e.externalData[s],r)}return e.dataLocation!=null&&e.hasOwnProperty("dataLocation")&&(o.dataLocation=r.enums===String?g.onnx.TensorProto.DataLocation[e.dataLocation]===void 0?e.dataLocation:g.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TensorProto"},t.DataType=function(){var n={},e=Object.create(n);return e[n[0]="UNDEFINED"]=0,e[n[1]="FLOAT"]=1,e[n[2]="UINT8"]=2,e[n[3]="INT8"]=3,e[n[4]="UINT16"]=4,e[n[5]="INT16"]=5,e[n[6]="INT32"]=6,e[n[7]="INT64"]=7,e[n[8]="STRING"]=8,e[n[9]="BOOL"]=9,e[n[10]="FLOAT16"]=10,e[n[11]="DOUBLE"]=11,e[n[12]="UINT32"]=12,e[n[13]="UINT64"]=13,e[n[14]="COMPLEX64"]=14,e[n[15]="COMPLEX128"]=15,e[n[16]="BFLOAT16"]=16,e[n[17]="FLOAT8E4M3FN"]=17,e[n[18]="FLOAT8E4M3FNUZ"]=18,e[n[19]="FLOAT8E5M2"]=19,e[n[20]="FLOAT8E5M2FNUZ"]=20,e}(),t.Segment=function(){function n(e){if(e)for(var r=Object.keys(e),o=0;o<r.length;++o)e[r[o]]!=null&&(this[r[o]]=e[r[o]])}return n.prototype.begin=x.Long?x.Long.fromBits(0,0,!1):0,n.prototype.end=x.Long?x.Long.fromBits(0,0,!1):0,n.create=function(r){return new n(r)},n.encode=function(r,o){return o||(o=ke.create()),r.begin!=null&&Object.hasOwnProperty.call(r,"begin")&&o.uint32(8).int64(r.begin),r.end!=null&&Object.hasOwnProperty.call(r,"end")&&o.uint32(16).int64(r.end),o},n.encodeDelimited=function(r,o){return this.encode(r,o).ldelim()},n.decode=function(r,o){r instanceof W||(r=W.create(r));for(var s=o===void 0?r.len:r.pos+o,a=new g.onnx.TensorProto.Segment;r.pos<s;){var u=r.uint32();switch(u>>>3){case 1:{a.begin=r.int64();break}case 2:{a.end=r.int64();break}default:r.skipType(u&7);break}}return a},n.decodeDelimited=function(r){return r instanceof W||(r=new W(r)),this.decode(r,r.uint32())},n.verify=function(r){return typeof r!="object"||r===null?"object expected":r.begin!=null&&r.hasOwnProperty("begin")&&!x.isInteger(r.begin)&&!(r.begin&&x.isInteger(r.begin.low)&&x.isInteger(r.begin.high))?"begin: integer|Long expected":r.end!=null&&r.hasOwnProperty("end")&&!x.isInteger(r.end)&&!(r.end&&x.isInteger(r.end.low)&&x.isInteger(r.end.high))?"end: integer|Long expected":null},n.fromObject=function(r){if(r instanceof g.onnx.TensorProto.Segment)return r;var o=new g.onnx.TensorProto.Segment;return r.begin!=null&&(x.Long?(o.begin=x.Long.fromValue(r.begin)).unsigned=!1:typeof r.begin=="string"?o.begin=parseInt(r.begin,10):typeof r.begin=="number"?o.begin=r.begin:typeof r.begin=="object"&&(o.begin=new x.LongBits(r.begin.low>>>0,r.begin.high>>>0).toNumber())),r.end!=null&&(x.Long?(o.end=x.Long.fromValue(r.end)).unsigned=!1:typeof r.end=="string"?o.end=parseInt(r.end,10):typeof r.end=="number"?o.end=r.end:typeof r.end=="object"&&(o.end=new x.LongBits(r.end.low>>>0,r.end.high>>>0).toNumber())),o},n.toObject=function(r,o){o||(o={});var s={};if(o.defaults){if(x.Long){var a=new x.Long(0,0,!1);s.begin=o.longs===String?a.toString():o.longs===Number?a.toNumber():a}else s.begin=o.longs===String?"0":0;if(x.Long){var a=new x.Long(0,0,!1);s.end=o.longs===String?a.toString():o.longs===Number?a.toNumber():a}else s.end=o.longs===String?"0":0}return r.begin!=null&&r.hasOwnProperty("begin")&&(typeof r.begin=="number"?s.begin=o.longs===String?String(r.begin):r.begin:s.begin=o.longs===String?x.Long.prototype.toString.call(r.begin):o.longs===Number?new x.LongBits(r.begin.low>>>0,r.begin.high>>>0).toNumber():r.begin),r.end!=null&&r.hasOwnProperty("end")&&(typeof r.end=="number"?s.end=o.longs===String?String(r.end):r.end:s.end=o.longs===String?x.Long.prototype.toString.call(r.end):o.longs===Number?new x.LongBits(r.end.low>>>0,r.end.high>>>0).toNumber():r.end),s},n.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},n.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TensorProto.Segment"},n}(),t.DataLocation=function(){var n={},e=Object.create(n);return e[n[0]="DEFAULT"]=0,e[n[1]="EXTERNAL"]=1,e}(),t}(),i.SparseTensorProto=function(){function t(n){if(this.dims=[],n)for(var e=Object.keys(n),r=0;r<e.length;++r)n[e[r]]!=null&&(this[e[r]]=n[e[r]])}return t.prototype.values=null,t.prototype.indices=null,t.prototype.dims=x.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=ke.create()),e.values!=null&&Object.hasOwnProperty.call(e,"values")&&g.onnx.TensorProto.encode(e.values,r.uint32(10).fork()).ldelim(),e.indices!=null&&Object.hasOwnProperty.call(e,"indices")&&g.onnx.TensorProto.encode(e.indices,r.uint32(18).fork()).ldelim(),e.dims!=null&&e.dims.length){r.uint32(26).fork();for(var o=0;o<e.dims.length;++o)r.int64(e.dims[o]);r.ldelim()}return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof W||(e=W.create(e));for(var o=r===void 0?e.len:e.pos+r,s=new g.onnx.SparseTensorProto;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:{s.values=g.onnx.TensorProto.decode(e,e.uint32());break}case 2:{s.indices=g.onnx.TensorProto.decode(e,e.uint32());break}case 3:{if(s.dims&&s.dims.length||(s.dims=[]),(a&7)===2)for(var u=e.uint32()+e.pos;e.pos<u;)s.dims.push(e.int64());else s.dims.push(e.int64());break}default:e.skipType(a&7);break}}return s},t.decodeDelimited=function(e){return e instanceof W||(e=new W(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.values!=null&&e.hasOwnProperty("values")){var r=g.onnx.TensorProto.verify(e.values);if(r)return"values."+r}if(e.indices!=null&&e.hasOwnProperty("indices")){var r=g.onnx.TensorProto.verify(e.indices);if(r)return"indices."+r}if(e.dims!=null&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var o=0;o<e.dims.length;++o)if(!x.isInteger(e.dims[o])&&!(e.dims[o]&&x.isInteger(e.dims[o].low)&&x.isInteger(e.dims[o].high)))return"dims: integer|Long[] expected"}return null},t.fromObject=function(e){if(e instanceof g.onnx.SparseTensorProto)return e;var r=new g.onnx.SparseTensorProto;if(e.values!=null){if(typeof e.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");r.values=g.onnx.TensorProto.fromObject(e.values)}if(e.indices!=null){if(typeof e.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");r.indices=g.onnx.TensorProto.fromObject(e.indices)}if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");r.dims=[];for(var o=0;o<e.dims.length;++o)x.Long?(r.dims[o]=x.Long.fromValue(e.dims[o])).unsigned=!1:typeof e.dims[o]=="string"?r.dims[o]=parseInt(e.dims[o],10):typeof e.dims[o]=="number"?r.dims[o]=e.dims[o]:typeof e.dims[o]=="object"&&(r.dims[o]=new x.LongBits(e.dims[o].low>>>0,e.dims[o].high>>>0).toNumber())}return r},t.toObject=function(e,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.dims=[]),r.defaults&&(o.values=null,o.indices=null),e.values!=null&&e.hasOwnProperty("values")&&(o.values=g.onnx.TensorProto.toObject(e.values,r)),e.indices!=null&&e.hasOwnProperty("indices")&&(o.indices=g.onnx.TensorProto.toObject(e.indices,r)),e.dims&&e.dims.length){o.dims=[];for(var s=0;s<e.dims.length;++s)typeof e.dims[s]=="number"?o.dims[s]=r.longs===String?String(e.dims[s]):e.dims[s]:o.dims[s]=r.longs===String?x.Long.prototype.toString.call(e.dims[s]):r.longs===Number?new x.LongBits(e.dims[s].low>>>0,e.dims[s].high>>>0).toNumber():e.dims[s]}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.SparseTensorProto"},t}(),i.TensorShapeProto=function(){function t(n){if(this.dim=[],n)for(var e=Object.keys(n),r=0;r<e.length;++r)n[e[r]]!=null&&(this[e[r]]=n[e[r]])}return t.prototype.dim=x.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=ke.create()),e.dim!=null&&e.dim.length)for(var o=0;o<e.dim.length;++o)g.onnx.TensorShapeProto.Dimension.encode(e.dim[o],r.uint32(10).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof W||(e=W.create(e));for(var o=r===void 0?e.len:e.pos+r,s=new g.onnx.TensorShapeProto;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:{s.dim&&s.dim.length||(s.dim=[]),s.dim.push(g.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()));break}default:e.skipType(a&7);break}}return s},t.decodeDelimited=function(e){return e instanceof W||(e=new W(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dim!=null&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var r=0;r<e.dim.length;++r){var o=g.onnx.TensorShapeProto.Dimension.verify(e.dim[r]);if(o)return"dim."+o}}return null},t.fromObject=function(e){if(e instanceof g.onnx.TensorShapeProto)return e;var r=new g.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");r.dim=[];for(var o=0;o<e.dim.length;++o){if(typeof e.dim[o]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");r.dim[o]=g.onnx.TensorShapeProto.Dimension.fromObject(e.dim[o])}}return r},t.toObject=function(e,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.dim=[]),e.dim&&e.dim.length){o.dim=[];for(var s=0;s<e.dim.length;++s)o.dim[s]=g.onnx.TensorShapeProto.Dimension.toObject(e.dim[s],r)}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.TensorShapeProto"},t.Dimension=function(){function n(r){if(r)for(var o=Object.keys(r),s=0;s<o.length;++s)r[o[s]]!=null&&(this[o[s]]=r[o[s]])}n.prototype.dimValue=null,n.prototype.dimParam=null,n.prototype.denotation="";var e;return Object.defineProperty(n.prototype,"value",{get:x.oneOfGetter(e=["dimValue","dimParam"]),set:x.oneOfSetter(e)}),n.create=function(o){return new n(o)},n.encode=function(o,s){return s||(s=ke.create()),o.dimValue!=null&&Object.hasOwnProperty.call(o,"dimValue")&&s.uint32(8).int64(o.dimValue),o.dimParam!=null&&Object.hasOwnProperty.call(o,"dimParam")&&s.uint32(18).string(o.dimParam),o.denotation!=null&&Object.hasOwnProperty.call(o,"denotation")&&s.uint32(26).string(o.denotation),s},n.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},n.decode=function(o,s){o instanceof W||(o=W.create(o));for(var a=s===void 0?o.len:o.pos+s,u=new g.onnx.TensorShapeProto.Dimension;o.pos<a;){var l=o.uint32();switch(l>>>3){case 1:{u.dimValue=o.int64();break}case 2:{u.dimParam=o.string();break}case 3:{u.denotation=o.string();break}default:o.skipType(l&7);break}}return u},n.decodeDelimited=function(o){return o instanceof W||(o=new W(o)),this.decode(o,o.uint32())},n.verify=function(o){if(typeof o!="object"||o===null)return"object expected";var s={};if(o.dimValue!=null&&o.hasOwnProperty("dimValue")&&(s.value=1,!x.isInteger(o.dimValue)&&!(o.dimValue&&x.isInteger(o.dimValue.low)&&x.isInteger(o.dimValue.high))))return"dimValue: integer|Long expected";if(o.dimParam!=null&&o.hasOwnProperty("dimParam")){if(s.value===1)return"value: multiple values";if(s.value=1,!x.isString(o.dimParam))return"dimParam: string expected"}return o.denotation!=null&&o.hasOwnProperty("denotation")&&!x.isString(o.denotation)?"denotation: string expected":null},n.fromObject=function(o){if(o instanceof g.onnx.TensorShapeProto.Dimension)return o;var s=new g.onnx.TensorShapeProto.Dimension;return o.dimValue!=null&&(x.Long?(s.dimValue=x.Long.fromValue(o.dimValue)).unsigned=!1:typeof o.dimValue=="string"?s.dimValue=parseInt(o.dimValue,10):typeof o.dimValue=="number"?s.dimValue=o.dimValue:typeof o.dimValue=="object"&&(s.dimValue=new x.LongBits(o.dimValue.low>>>0,o.dimValue.high>>>0).toNumber())),o.dimParam!=null&&(s.dimParam=String(o.dimParam)),o.denotation!=null&&(s.denotation=String(o.denotation)),s},n.toObject=function(o,s){s||(s={});var a={};return s.defaults&&(a.denotation=""),o.dimValue!=null&&o.hasOwnProperty("dimValue")&&(typeof o.dimValue=="number"?a.dimValue=s.longs===String?String(o.dimValue):o.dimValue:a.dimValue=s.longs===String?x.Long.prototype.toString.call(o.dimValue):s.longs===Number?new x.LongBits(o.dimValue.low>>>0,o.dimValue.high>>>0).toNumber():o.dimValue,s.oneofs&&(a.value="dimValue")),o.dimParam!=null&&o.hasOwnProperty("dimParam")&&(a.dimParam=o.dimParam,s.oneofs&&(a.value="dimParam")),o.denotation!=null&&o.hasOwnProperty("denotation")&&(a.denotation=o.denotation),a},n.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},n.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TensorShapeProto.Dimension"},n}(),t}(),i.TypeProto=function(){function t(e){if(e)for(var r=Object.keys(e),o=0;o<r.length;++o)e[r[o]]!=null&&(this[r[o]]=e[r[o]])}t.prototype.tensorType=null,t.prototype.sequenceType=null,t.prototype.mapType=null,t.prototype.optionalType=null,t.prototype.sparseTensorType=null,t.prototype.denotation="";var n;return Object.defineProperty(t.prototype,"value",{get:x.oneOfGetter(n=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:x.oneOfSetter(n)}),t.create=function(r){return new t(r)},t.encode=function(r,o){return o||(o=ke.create()),r.tensorType!=null&&Object.hasOwnProperty.call(r,"tensorType")&&g.onnx.TypeProto.Tensor.encode(r.tensorType,o.uint32(10).fork()).ldelim(),r.sequenceType!=null&&Object.hasOwnProperty.call(r,"sequenceType")&&g.onnx.TypeProto.Sequence.encode(r.sequenceType,o.uint32(34).fork()).ldelim(),r.mapType!=null&&Object.hasOwnProperty.call(r,"mapType")&&g.onnx.TypeProto.Map.encode(r.mapType,o.uint32(42).fork()).ldelim(),r.denotation!=null&&Object.hasOwnProperty.call(r,"denotation")&&o.uint32(50).string(r.denotation),r.sparseTensorType!=null&&Object.hasOwnProperty.call(r,"sparseTensorType")&&g.onnx.TypeProto.SparseTensor.encode(r.sparseTensorType,o.uint32(66).fork()).ldelim(),r.optionalType!=null&&Object.hasOwnProperty.call(r,"optionalType")&&g.onnx.TypeProto.Optional.encode(r.optionalType,o.uint32(74).fork()).ldelim(),o},t.encodeDelimited=function(r,o){return this.encode(r,o).ldelim()},t.decode=function(r,o){r instanceof W||(r=W.create(r));for(var s=o===void 0?r.len:r.pos+o,a=new g.onnx.TypeProto;r.pos<s;){var u=r.uint32();switch(u>>>3){case 1:{a.tensorType=g.onnx.TypeProto.Tensor.decode(r,r.uint32());break}case 4:{a.sequenceType=g.onnx.TypeProto.Sequence.decode(r,r.uint32());break}case 5:{a.mapType=g.onnx.TypeProto.Map.decode(r,r.uint32());break}case 9:{a.optionalType=g.onnx.TypeProto.Optional.decode(r,r.uint32());break}case 8:{a.sparseTensorType=g.onnx.TypeProto.SparseTensor.decode(r,r.uint32());break}case 6:{a.denotation=r.string();break}default:r.skipType(u&7);break}}return a},t.decodeDelimited=function(r){return r instanceof W||(r=new W(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var o={};if(r.tensorType!=null&&r.hasOwnProperty("tensorType")){o.value=1;{var s=g.onnx.TypeProto.Tensor.verify(r.tensorType);if(s)return"tensorType."+s}}if(r.sequenceType!=null&&r.hasOwnProperty("sequenceType")){if(o.value===1)return"value: multiple values";o.value=1;{var s=g.onnx.TypeProto.Sequence.verify(r.sequenceType);if(s)return"sequenceType."+s}}if(r.mapType!=null&&r.hasOwnProperty("mapType")){if(o.value===1)return"value: multiple values";o.value=1;{var s=g.onnx.TypeProto.Map.verify(r.mapType);if(s)return"mapType."+s}}if(r.optionalType!=null&&r.hasOwnProperty("optionalType")){if(o.value===1)return"value: multiple values";o.value=1;{var s=g.onnx.TypeProto.Optional.verify(r.optionalType);if(s)return"optionalType."+s}}if(r.sparseTensorType!=null&&r.hasOwnProperty("sparseTensorType")){if(o.value===1)return"value: multiple values";o.value=1;{var s=g.onnx.TypeProto.SparseTensor.verify(r.sparseTensorType);if(s)return"sparseTensorType."+s}}return r.denotation!=null&&r.hasOwnProperty("denotation")&&!x.isString(r.denotation)?"denotation: string expected":null},t.fromObject=function(r){if(r instanceof g.onnx.TypeProto)return r;var o=new g.onnx.TypeProto;if(r.tensorType!=null){if(typeof r.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");o.tensorType=g.onnx.TypeProto.Tensor.fromObject(r.tensorType)}if(r.sequenceType!=null){if(typeof r.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");o.sequenceType=g.onnx.TypeProto.Sequence.fromObject(r.sequenceType)}if(r.mapType!=null){if(typeof r.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");o.mapType=g.onnx.TypeProto.Map.fromObject(r.mapType)}if(r.optionalType!=null){if(typeof r.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");o.optionalType=g.onnx.TypeProto.Optional.fromObject(r.optionalType)}if(r.sparseTensorType!=null){if(typeof r.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");o.sparseTensorType=g.onnx.TypeProto.SparseTensor.fromObject(r.sparseTensorType)}return r.denotation!=null&&(o.denotation=String(r.denotation)),o},t.toObject=function(r,o){o||(o={});var s={};return o.defaults&&(s.denotation=""),r.tensorType!=null&&r.hasOwnProperty("tensorType")&&(s.tensorType=g.onnx.TypeProto.Tensor.toObject(r.tensorType,o),o.oneofs&&(s.value="tensorType")),r.sequenceType!=null&&r.hasOwnProperty("sequenceType")&&(s.sequenceType=g.onnx.TypeProto.Sequence.toObject(r.sequenceType,o),o.oneofs&&(s.value="sequenceType")),r.mapType!=null&&r.hasOwnProperty("mapType")&&(s.mapType=g.onnx.TypeProto.Map.toObject(r.mapType,o),o.oneofs&&(s.value="mapType")),r.denotation!=null&&r.hasOwnProperty("denotation")&&(s.denotation=r.denotation),r.sparseTensorType!=null&&r.hasOwnProperty("sparseTensorType")&&(s.sparseTensorType=g.onnx.TypeProto.SparseTensor.toObject(r.sparseTensorType,o),o.oneofs&&(s.value="sparseTensorType")),r.optionalType!=null&&r.hasOwnProperty("optionalType")&&(s.optionalType=g.onnx.TypeProto.Optional.toObject(r.optionalType,o),o.oneofs&&(s.value="optionalType")),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto"},t.Tensor=function(){function e(r){if(r)for(var o=Object.keys(r),s=0;s<o.length;++s)r[o[s]]!=null&&(this[o[s]]=r[o[s]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(o){return new e(o)},e.encode=function(o,s){return s||(s=ke.create()),o.elemType!=null&&Object.hasOwnProperty.call(o,"elemType")&&s.uint32(8).int32(o.elemType),o.shape!=null&&Object.hasOwnProperty.call(o,"shape")&&g.onnx.TensorShapeProto.encode(o.shape,s.uint32(18).fork()).ldelim(),s},e.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},e.decode=function(o,s){o instanceof W||(o=W.create(o));for(var a=s===void 0?o.len:o.pos+s,u=new g.onnx.TypeProto.Tensor;o.pos<a;){var l=o.uint32();switch(l>>>3){case 1:{u.elemType=o.int32();break}case 2:{u.shape=g.onnx.TensorShapeProto.decode(o,o.uint32());break}default:o.skipType(l&7);break}}return u},e.decodeDelimited=function(o){return o instanceof W||(o=new W(o)),this.decode(o,o.uint32())},e.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.elemType!=null&&o.hasOwnProperty("elemType")&&!x.isInteger(o.elemType))return"elemType: integer expected";if(o.shape!=null&&o.hasOwnProperty("shape")){var s=g.onnx.TensorShapeProto.verify(o.shape);if(s)return"shape."+s}return null},e.fromObject=function(o){if(o instanceof g.onnx.TypeProto.Tensor)return o;var s=new g.onnx.TypeProto.Tensor;if(o.elemType!=null&&(s.elemType=o.elemType|0),o.shape!=null){if(typeof o.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");s.shape=g.onnx.TensorShapeProto.fromObject(o.shape)}return s},e.toObject=function(o,s){s||(s={});var a={};return s.defaults&&(a.elemType=0,a.shape=null),o.elemType!=null&&o.hasOwnProperty("elemType")&&(a.elemType=o.elemType),o.shape!=null&&o.hasOwnProperty("shape")&&(a.shape=g.onnx.TensorShapeProto.toObject(o.shape,s)),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},e.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.Tensor"},e}(),t.Sequence=function(){function e(r){if(r)for(var o=Object.keys(r),s=0;s<o.length;++s)r[o[s]]!=null&&(this[o[s]]=r[o[s]])}return e.prototype.elemType=null,e.create=function(o){return new e(o)},e.encode=function(o,s){return s||(s=ke.create()),o.elemType!=null&&Object.hasOwnProperty.call(o,"elemType")&&g.onnx.TypeProto.encode(o.elemType,s.uint32(10).fork()).ldelim(),s},e.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},e.decode=function(o,s){o instanceof W||(o=W.create(o));for(var a=s===void 0?o.len:o.pos+s,u=new g.onnx.TypeProto.Sequence;o.pos<a;){var l=o.uint32();switch(l>>>3){case 1:{u.elemType=g.onnx.TypeProto.decode(o,o.uint32());break}default:o.skipType(l&7);break}}return u},e.decodeDelimited=function(o){return o instanceof W||(o=new W(o)),this.decode(o,o.uint32())},e.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.elemType!=null&&o.hasOwnProperty("elemType")){var s=g.onnx.TypeProto.verify(o.elemType);if(s)return"elemType."+s}return null},e.fromObject=function(o){if(o instanceof g.onnx.TypeProto.Sequence)return o;var s=new g.onnx.TypeProto.Sequence;if(o.elemType!=null){if(typeof o.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");s.elemType=g.onnx.TypeProto.fromObject(o.elemType)}return s},e.toObject=function(o,s){s||(s={});var a={};return s.defaults&&(a.elemType=null),o.elemType!=null&&o.hasOwnProperty("elemType")&&(a.elemType=g.onnx.TypeProto.toObject(o.elemType,s)),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},e.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.Sequence"},e}(),t.Map=function(){function e(r){if(r)for(var o=Object.keys(r),s=0;s<o.length;++s)r[o[s]]!=null&&(this[o[s]]=r[o[s]])}return e.prototype.keyType=0,e.prototype.valueType=null,e.create=function(o){return new e(o)},e.encode=function(o,s){return s||(s=ke.create()),o.keyType!=null&&Object.hasOwnProperty.call(o,"keyType")&&s.uint32(8).int32(o.keyType),o.valueType!=null&&Object.hasOwnProperty.call(o,"valueType")&&g.onnx.TypeProto.encode(o.valueType,s.uint32(18).fork()).ldelim(),s},e.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},e.decode=function(o,s){o instanceof W||(o=W.create(o));for(var a=s===void 0?o.len:o.pos+s,u=new g.onnx.TypeProto.Map;o.pos<a;){var l=o.uint32();switch(l>>>3){case 1:{u.keyType=o.int32();break}case 2:{u.valueType=g.onnx.TypeProto.decode(o,o.uint32());break}default:o.skipType(l&7);break}}return u},e.decodeDelimited=function(o){return o instanceof W||(o=new W(o)),this.decode(o,o.uint32())},e.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.keyType!=null&&o.hasOwnProperty("keyType")&&!x.isInteger(o.keyType))return"keyType: integer expected";if(o.valueType!=null&&o.hasOwnProperty("valueType")){var s=g.onnx.TypeProto.verify(o.valueType);if(s)return"valueType."+s}return null},e.fromObject=function(o){if(o instanceof g.onnx.TypeProto.Map)return o;var s=new g.onnx.TypeProto.Map;if(o.keyType!=null&&(s.keyType=o.keyType|0),o.valueType!=null){if(typeof o.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");s.valueType=g.onnx.TypeProto.fromObject(o.valueType)}return s},e.toObject=function(o,s){s||(s={});var a={};return s.defaults&&(a.keyType=0,a.valueType=null),o.keyType!=null&&o.hasOwnProperty("keyType")&&(a.keyType=o.keyType),o.valueType!=null&&o.hasOwnProperty("valueType")&&(a.valueType=g.onnx.TypeProto.toObject(o.valueType,s)),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},e.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.Map"},e}(),t.Optional=function(){function e(r){if(r)for(var o=Object.keys(r),s=0;s<o.length;++s)r[o[s]]!=null&&(this[o[s]]=r[o[s]])}return e.prototype.elemType=null,e.create=function(o){return new e(o)},e.encode=function(o,s){return s||(s=ke.create()),o.elemType!=null&&Object.hasOwnProperty.call(o,"elemType")&&g.onnx.TypeProto.encode(o.elemType,s.uint32(10).fork()).ldelim(),s},e.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},e.decode=function(o,s){o instanceof W||(o=W.create(o));for(var a=s===void 0?o.len:o.pos+s,u=new g.onnx.TypeProto.Optional;o.pos<a;){var l=o.uint32();switch(l>>>3){case 1:{u.elemType=g.onnx.TypeProto.decode(o,o.uint32());break}default:o.skipType(l&7);break}}return u},e.decodeDelimited=function(o){return o instanceof W||(o=new W(o)),this.decode(o,o.uint32())},e.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.elemType!=null&&o.hasOwnProperty("elemType")){var s=g.onnx.TypeProto.verify(o.elemType);if(s)return"elemType."+s}return null},e.fromObject=function(o){if(o instanceof g.onnx.TypeProto.Optional)return o;var s=new g.onnx.TypeProto.Optional;if(o.elemType!=null){if(typeof o.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");s.elemType=g.onnx.TypeProto.fromObject(o.elemType)}return s},e.toObject=function(o,s){s||(s={});var a={};return s.defaults&&(a.elemType=null),o.elemType!=null&&o.hasOwnProperty("elemType")&&(a.elemType=g.onnx.TypeProto.toObject(o.elemType,s)),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},e.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.Optional"},e}(),t.SparseTensor=function(){function e(r){if(r)for(var o=Object.keys(r),s=0;s<o.length;++s)r[o[s]]!=null&&(this[o[s]]=r[o[s]])}return e.prototype.elemType=0,e.prototype.shape=null,e.create=function(o){return new e(o)},e.encode=function(o,s){return s||(s=ke.create()),o.elemType!=null&&Object.hasOwnProperty.call(o,"elemType")&&s.uint32(8).int32(o.elemType),o.shape!=null&&Object.hasOwnProperty.call(o,"shape")&&g.onnx.TensorShapeProto.encode(o.shape,s.uint32(18).fork()).ldelim(),s},e.encodeDelimited=function(o,s){return this.encode(o,s).ldelim()},e.decode=function(o,s){o instanceof W||(o=W.create(o));for(var a=s===void 0?o.len:o.pos+s,u=new g.onnx.TypeProto.SparseTensor;o.pos<a;){var l=o.uint32();switch(l>>>3){case 1:{u.elemType=o.int32();break}case 2:{u.shape=g.onnx.TensorShapeProto.decode(o,o.uint32());break}default:o.skipType(l&7);break}}return u},e.decodeDelimited=function(o){return o instanceof W||(o=new W(o)),this.decode(o,o.uint32())},e.verify=function(o){if(typeof o!="object"||o===null)return"object expected";if(o.elemType!=null&&o.hasOwnProperty("elemType")&&!x.isInteger(o.elemType))return"elemType: integer expected";if(o.shape!=null&&o.hasOwnProperty("shape")){var s=g.onnx.TensorShapeProto.verify(o.shape);if(s)return"shape."+s}return null},e.fromObject=function(o){if(o instanceof g.onnx.TypeProto.SparseTensor)return o;var s=new g.onnx.TypeProto.SparseTensor;if(o.elemType!=null&&(s.elemType=o.elemType|0),o.shape!=null){if(typeof o.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");s.shape=g.onnx.TensorShapeProto.fromObject(o.shape)}return s},e.toObject=function(o,s){s||(s={});var a={};return s.defaults&&(a.elemType=0,a.shape=null),o.elemType!=null&&o.hasOwnProperty("elemType")&&(a.elemType=o.elemType),o.shape!=null&&o.hasOwnProperty("shape")&&(a.shape=g.onnx.TensorShapeProto.toObject(o.shape,s)),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},e.getTypeUrl=function(o){return o===void 0&&(o="type.googleapis.com"),o+"/onnx.TypeProto.SparseTensor"},e}(),t}(),i.OperatorSetIdProto=function(){function t(n){if(n)for(var e=Object.keys(n),r=0;r<e.length;++r)n[e[r]]!=null&&(this[e[r]]=n[e[r]])}return t.prototype.domain="",t.prototype.version=x.Long?x.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=ke.create()),e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&r.uint32(10).string(e.domain),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&r.uint32(16).int64(e.version),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof W||(e=W.create(e));for(var o=r===void 0?e.len:e.pos+r,s=new g.onnx.OperatorSetIdProto;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:{s.domain=e.string();break}case 2:{s.version=e.int64();break}default:e.skipType(a&7);break}}return s},t.decodeDelimited=function(e){return e instanceof W||(e=new W(e)),this.decode(e,e.uint32())},t.verify=function(e){return typeof e!="object"||e===null?"object expected":e.domain!=null&&e.hasOwnProperty("domain")&&!x.isString(e.domain)?"domain: string expected":e.version!=null&&e.hasOwnProperty("version")&&!x.isInteger(e.version)&&!(e.version&&x.isInteger(e.version.low)&&x.isInteger(e.version.high))?"version: integer|Long expected":null},t.fromObject=function(e){if(e instanceof g.onnx.OperatorSetIdProto)return e;var r=new g.onnx.OperatorSetIdProto;return e.domain!=null&&(r.domain=String(e.domain)),e.version!=null&&(x.Long?(r.version=x.Long.fromValue(e.version)).unsigned=!1:typeof e.version=="string"?r.version=parseInt(e.version,10):typeof e.version=="number"?r.version=e.version:typeof e.version=="object"&&(r.version=new x.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),r},t.toObject=function(e,r){r||(r={});var o={};if(r.defaults)if(o.domain="",x.Long){var s=new x.Long(0,0,!1);o.version=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else o.version=r.longs===String?"0":0;return e.domain!=null&&e.hasOwnProperty("domain")&&(o.domain=e.domain),e.version!=null&&e.hasOwnProperty("version")&&(typeof e.version=="number"?o.version=r.longs===String?String(e.version):e.version:o.version=r.longs===String?x.Long.prototype.toString.call(e.version):r.longs===Number?new x.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.OperatorSetIdProto"},t}(),i.OperatorStatus=function(){var t={},n=Object.create(t);return n[t[0]="EXPERIMENTAL"]=0,n[t[1]="STABLE"]=1,n}(),i.FunctionProto=function(){function t(n){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],n)for(var e=Object.keys(n),r=0;r<e.length;++r)n[e[r]]!=null&&(this[e[r]]=n[e[r]])}return t.prototype.name="",t.prototype.input=x.emptyArray,t.prototype.output=x.emptyArray,t.prototype.attribute=x.emptyArray,t.prototype.attributeProto=x.emptyArray,t.prototype.node=x.emptyArray,t.prototype.docString="",t.prototype.opsetImport=x.emptyArray,t.prototype.domain="",t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=ke.create()),e.name!=null&&Object.hasOwnProperty.call(e,"name")&&r.uint32(10).string(e.name),e.input!=null&&e.input.length)for(var o=0;o<e.input.length;++o)r.uint32(34).string(e.input[o]);if(e.output!=null&&e.output.length)for(var o=0;o<e.output.length;++o)r.uint32(42).string(e.output[o]);if(e.attribute!=null&&e.attribute.length)for(var o=0;o<e.attribute.length;++o)r.uint32(50).string(e.attribute[o]);if(e.node!=null&&e.node.length)for(var o=0;o<e.node.length;++o)g.onnx.NodeProto.encode(e.node[o],r.uint32(58).fork()).ldelim();if(e.docString!=null&&Object.hasOwnProperty.call(e,"docString")&&r.uint32(66).string(e.docString),e.opsetImport!=null&&e.opsetImport.length)for(var o=0;o<e.opsetImport.length;++o)g.onnx.OperatorSetIdProto.encode(e.opsetImport[o],r.uint32(74).fork()).ldelim();if(e.domain!=null&&Object.hasOwnProperty.call(e,"domain")&&r.uint32(82).string(e.domain),e.attributeProto!=null&&e.attributeProto.length)for(var o=0;o<e.attributeProto.length;++o)g.onnx.AttributeProto.encode(e.attributeProto[o],r.uint32(90).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof W||(e=W.create(e));for(var o=r===void 0?e.len:e.pos+r,s=new g.onnx.FunctionProto;e.pos<o;){var a=e.uint32();switch(a>>>3){case 1:{s.name=e.string();break}case 4:{s.input&&s.input.length||(s.input=[]),s.input.push(e.string());break}case 5:{s.output&&s.output.length||(s.output=[]),s.output.push(e.string());break}case 6:{s.attribute&&s.attribute.length||(s.attribute=[]),s.attribute.push(e.string());break}case 11:{s.attributeProto&&s.attributeProto.length||(s.attributeProto=[]),s.attributeProto.push(g.onnx.AttributeProto.decode(e,e.uint32()));break}case 7:{s.node&&s.node.length||(s.node=[]),s.node.push(g.onnx.NodeProto.decode(e,e.uint32()));break}case 8:{s.docString=e.string();break}case 9:{s.opsetImport&&s.opsetImport.length||(s.opsetImport=[]),s.opsetImport.push(g.onnx.OperatorSetIdProto.decode(e,e.uint32()));break}case 10:{s.domain=e.string();break}default:e.skipType(a&7);break}}return s},t.decodeDelimited=function(e){return e instanceof W||(e=new W(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!x.isString(e.name))return"name: string expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var r=0;r<e.input.length;++r)if(!x.isString(e.input[r]))return"input: string[] expected"}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(var r=0;r<e.output.length;++r)if(!x.isString(e.output[r]))return"output: string[] expected"}if(e.attribute!=null&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(var r=0;r<e.attribute.length;++r)if(!x.isString(e.attribute[r]))return"attribute: string[] expected"}if(e.attributeProto!=null&&e.hasOwnProperty("attributeProto")){if(!Array.isArray(e.attributeProto))return"attributeProto: array expected";for(var r=0;r<e.attributeProto.length;++r){var o=g.onnx.AttributeProto.verify(e.attributeProto[r]);if(o)return"attributeProto."+o}}if(e.node!=null&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var r=0;r<e.node.length;++r){var o=g.onnx.NodeProto.verify(e.node[r]);if(o)return"node."+o}}if(e.docString!=null&&e.hasOwnProperty("docString")&&!x.isString(e.docString))return"docString: string expected";if(e.opsetImport!=null&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var r=0;r<e.opsetImport.length;++r){var o=g.onnx.OperatorSetIdProto.verify(e.opsetImport[r]);if(o)return"opsetImport."+o}}return e.domain!=null&&e.hasOwnProperty("domain")&&!x.isString(e.domain)?"domain: string expected":null},t.fromObject=function(e){if(e instanceof g.onnx.FunctionProto)return e;var r=new g.onnx.FunctionProto;if(e.name!=null&&(r.name=String(e.name)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.FunctionProto.input: array expected");r.input=[];for(var o=0;o<e.input.length;++o)r.input[o]=String(e.input[o])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.FunctionProto.output: array expected");r.output=[];for(var o=0;o<e.output.length;++o)r.output[o]=String(e.output[o])}if(e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");r.attribute=[];for(var o=0;o<e.attribute.length;++o)r.attribute[o]=String(e.attribute[o])}if(e.attributeProto){if(!Array.isArray(e.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");r.attributeProto=[];for(var o=0;o<e.attributeProto.length;++o){if(typeof e.attributeProto[o]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");r.attributeProto[o]=g.onnx.AttributeProto.fromObject(e.attributeProto[o])}}if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.FunctionProto.node: array expected");r.node=[];for(var o=0;o<e.node.length;++o){if(typeof e.node[o]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");r.node[o]=g.onnx.NodeProto.fromObject(e.node[o])}}if(e.docString!=null&&(r.docString=String(e.docString)),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");r.opsetImport=[];for(var o=0;o<e.opsetImport.length;++o){if(typeof e.opsetImport[o]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");r.opsetImport[o]=g.onnx.OperatorSetIdProto.fromObject(e.opsetImport[o])}}return e.domain!=null&&(r.domain=String(e.domain)),r},t.toObject=function(e,r){r||(r={});var o={};if((r.arrays||r.defaults)&&(o.input=[],o.output=[],o.attribute=[],o.node=[],o.opsetImport=[],o.attributeProto=[]),r.defaults&&(o.name="",o.docString="",o.domain=""),e.name!=null&&e.hasOwnProperty("name")&&(o.name=e.name),e.input&&e.input.length){o.input=[];for(var s=0;s<e.input.length;++s)o.input[s]=e.input[s]}if(e.output&&e.output.length){o.output=[];for(var s=0;s<e.output.length;++s)o.output[s]=e.output[s]}if(e.attribute&&e.attribute.length){o.attribute=[];for(var s=0;s<e.attribute.length;++s)o.attribute[s]=e.attribute[s]}if(e.node&&e.node.length){o.node=[];for(var s=0;s<e.node.length;++s)o.node[s]=g.onnx.NodeProto.toObject(e.node[s],r)}if(e.docString!=null&&e.hasOwnProperty("docString")&&(o.docString=e.docString),e.opsetImport&&e.opsetImport.length){o.opsetImport=[];for(var s=0;s<e.opsetImport.length;++s)o.opsetImport[s]=g.onnx.OperatorSetIdProto.toObject(e.opsetImport[s],r)}if(e.domain!=null&&e.hasOwnProperty("domain")&&(o.domain=e.domain),e.attributeProto&&e.attributeProto.length){o.attributeProto=[];for(var s=0;s<e.attributeProto.length;++s)o.attributeProto[s]=g.onnx.AttributeProto.toObject(e.attributeProto[s],r)}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,_e.util.toJSONOptions)},t.getTypeUrl=function(e){return e===void 0&&(e="type.googleapis.com"),e+"/onnx.FunctionProto"},t}(),i}();xl.exports=g});function un(i,t){if(!i)throw new Error(typeof t=="string"?t:t())}function Un(i){return new TextDecoder().decode(i)}var Oe,$r,Zi,st,$o,Je,mt,q,Gn,Br,Rr,Nr,me=k(()=>{"use strict";Do();Ni();Oe=rn(sn());Mr();$r=class{static arraysEqual(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}},Zi=class{static preprocessInputShapes(t,n){let e=t.length===1?[1,t[0]]:t,r=n.length===1?[n[0],1]:n;return[e,r]}static postprocessOutputShape(t,n,e){n===1&&t.splice(t.length-2,1),e===1&&t.pop()}static calcMatMulShape(t,n){return t[1]!==n[0]?void 0:[t[0],n[1]]}},st=class i{static calcShape(t,n,e=!1){let r=t.length,o=n.length;if(r===0)return n;if(o===0)return t;let s=Math.max(t.length,n.length),a=new Array(s);if(e){if(r<2||o<2)return;let u=Zi.calcMatMulShape([t[r-2],t[r-1]],[n[o-2],n[o-1]]);if(u===void 0)return;[a[s-2],a[s-1]]=u}for(let u=e?3:1;u<=s;u++){let l=r-u<0?1:t[r-u],c=o-u<0?1:n[o-u];if(l!==c&&l>1&&c>1)return;a[s-u]=Math.max(l,c)}return a}static index(t,n){let e=new Array(n.length);return i.fillIndex(t,n,e),e}static fillIndex(t,n,e){let r=t.length-n.length;for(let o=0;o<n.length;o++)e[o]=t[r+o]%n[o]}static calc(t,n,e,r,o){let s=i.calcShape(t.dims,n.dims);if(s){if(r&&!q.areEqual(s,t.dims))return;let a=q.size(s),u=r?t:new Me(s,o||t.type);if(s.length===0)u.set([],e(t.get([]),n.get([])));else{let l=new Array(s.length),c=new Array(t.dims.length),b=new Array(n.dims.length),y=0,w=0,A=!1,O=!1;t.dims.length===0&&(y=t.get([]),A=!0),n.dims.length===0&&(w=n.get([]),O=!0);let C;for(let $=0;$<a;$++){C=$;for(let F=s.length-1;F>=0;F--)l[F]=C%s[F],C=Math.floor(C/s[F]);A||(i.fillIndex(l,t.dims,c),y=t.get(c)),O||(i.fillIndex(l,n.dims,b),w=n.get(b)),u.set(l,e(y,w))}}return u}}static isValidBroadcast(t,n){let e=t.length,r=n.length;if(e>r)return!1;for(let o=1;o<=e;o++)if(t[e-o]!==1&&t[e-o]!==n[r-o])return!1;return!0}static getBroadcastDims(t,n){let e=t.length,r=[];for(let o=0;o<e;o++){let s=e-1-o,a=t[s]||1;(n[n.length-1-o]||1)>1&&a===1&&r.unshift(s)}return r}},$o=class{static getShapeOfGemmResult(t,n,e,r,o){if(t.length!==2||e.length!==2)throw new Error("shape need to be of size 2");let s,a,u;n?(s=t[1],a=t[0]):(s=t[0],a=t[1]);let l=-1;if(r?(u=e[0],l=1):(u=e[1],l=0),e[l]!==a)throw new Error("dimension mismatch");if(s<=0||u<=0||a<=0)throw new Error("invalid shape specified");if(o&&!st.isValidBroadcast(o,[s,u]))throw new Error("gemm: invalid bias shape for broadcast");return[s,u,a]}},Je=class i{static tensorDataTypeFromProto(t){switch(t){case Oe.onnx.TensorProto.DataType.INT8:return"int8";case Oe.onnx.TensorProto.DataType.UINT8:return"uint8";case Oe.onnx.TensorProto.DataType.BOOL:return"bool";case Oe.onnx.TensorProto.DataType.INT16:return"int16";case Oe.onnx.TensorProto.DataType.UINT16:return"uint16";case Oe.onnx.TensorProto.DataType.INT32:return"int32";case Oe.onnx.TensorProto.DataType.UINT32:return"uint32";case Oe.onnx.TensorProto.DataType.FLOAT:return"float32";case Oe.onnx.TensorProto.DataType.DOUBLE:return"float64";case Oe.onnx.TensorProto.DataType.STRING:return"string";case Oe.onnx.TensorProto.DataType.INT64:return"int32";case Oe.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${Oe.onnx.TensorProto.DataType[t]}`)}}static tensorDataTypeStringToEnum(t){switch(t){case"int8":return Oe.onnx.TensorProto.DataType.INT8;case"uint8":return Oe.onnx.TensorProto.DataType.UINT8;case"bool":return Oe.onnx.TensorProto.DataType.BOOL;case"int16":return Oe.onnx.TensorProto.DataType.INT16;case"uint16":return Oe.onnx.TensorProto.DataType.UINT16;case"int32":return Oe.onnx.TensorProto.DataType.INT32;case"uint32":return Oe.onnx.TensorProto.DataType.UINT32;case"float32":return Oe.onnx.TensorProto.DataType.FLOAT;case"float64":return Oe.onnx.TensorProto.DataType.DOUBLE;case"string":return Oe.onnx.TensorProto.DataType.STRING;case"int64":return Oe.onnx.TensorProto.DataType.INT64;case"uint64":return Oe.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${t}`)}}static tensorDimsFromProto(t){return t.map(n=>ar.isLong(n)?n.toNumber():n)}static tensorValueTypeFromProto(t){return{tensorType:i.tensorDataTypeFromProto(t.elemType),shape:{dims:i.tensorDimsFromProto(t.shape.dim.map(n=>n.dimValue))}}}static tensorDimsFromORTFormat(t){let n=[];for(let e=0;e<t.dimsLength();e++)n.push(mt.longToNumber(t.dims(e)));return n}static tensorAttributesFromORTFormat(t){let n=[];for(let e=0;e<t.attributesLength();e++)n.push(t.attributes(e));return n}},mt=class{static longToNumber(t,n){return ar.isLong(t)?t.toNumber():t instanceof I.Long?ar.fromValue({low:t.low,high:t.high,unsigned:n??!1}).toNumber():t}static isLong(t){return ar.isLong(t)||t instanceof I.Long}},q=class i{static size(t){return i.getSizeFromDimensionRange(t,0,t.length)}static sizeFromDimension(t,n){if(n<0||n>t.length)throw new Error(`invalid dimension of ${n} for sizeFromDimension as Tensor has ${t.length} dimensions.`);return i.getSizeFromDimensionRange(t,n,t.length)}static sizeToDimension(t,n){if(n<0||n>t.length)throw new Error(`invalid dimension of ${n} for sizeToDimension as Tensor has ${t.length} dimensions.`);return i.getSizeFromDimensionRange(t,0,n)}static getSizeFromDimensionRange(t,n,e){let r=1;for(let o=n;o<e;o++){if(t[o]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=t[o]}return r}static computeStrides(t){let n=t.length;if(n===0)return[];if(n===1)return[1];let e=new Array(n);e[n-1]=1,e[n-2]=t[n-1];for(let r=n-3;r>=0;--r)e[r]=e[r+1]*t[r+1];return e}static transpose(t){return t.slice().reverse()}static indicesToOffset(t,n,e){e===void 0&&(e=t.length);let r=0;for(let o=0;o<e;++o)r+=n[o]*t[o];return r}static offsetToIndices(t,n){let e=n.length;if(e===0)return[];if(e===1)return[t*n[0]];let r=new Array(n.length);for(let o=0;o<r.length-1;++o)r[o]=Math.floor(t/n[o]),t-=r[o]*n[o];return r[r.length-1]=t,r}static normalizeAxis(t,n){if(t<-n&&t>=n)throw new Error("unsupported axis for this operation.");return t<0?t+n:t}static normalizeAxes(t,n){return t.map(e=>this.normalizeAxis(e,n))}static incrementIndex(t,n,e){if(n.length===0||t.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(e===void 0)e=n.length;else if(e<=0||e>n.length)throw new Error("Incorrect axis to increment on");for(let r=e-1;r>=0&&(t[r]++,!(t[r]<n[r]));--r)t[r]=0}static calculateReshapedDims(t,n){if(n.length===0){if(t.length===0||i.size(t)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}let e=n.length,r=new Array(e),o=-1,s=1;for(let u=0;u<e;u++){if(n[u]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(n[u]===-1){if(o!==-1)throw new Error("at most one dimension in shape hints can be -1");o=u}else{if(n[u]===0){if(u>=t.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");r[u]=t[u]}else r[u]=n[u];s*=r[u]}}let a=i.size(t);if(o!==-1){if(a%s!==0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${t}] Output shape: [${n}]`);r[o]=a/s}else if(s!==a)throw new Error("reshapedDims and originalDims don't have matching sizes");return r}static sortBasedOnPerm(t,n){return n?n.map(e=>t[e]):t.slice().reverse()}static padShape(t,n){let e=t.length;return t.map((r,o)=>r+n[o]+n[o+e])}static areEqual(t,n){return t.length!==n.length?!1:t.every((e,r)=>e===n[r])}static validateDimsAndCalcSize(t){if(t.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let n=1;for(let e of t){if(!Number.isInteger(e))throw new TypeError(`Invalid shape: ${e} is not an integer`);if(e<0||e>2147483647)throw new TypeError(`Invalid shape: length ${e} is not allowed`);n*=e}return n}static flattenShape(t,n){n<0&&(n+=t.length);let e=t.reduce((s,a)=>s*a,1),r=t.slice(n).reduce((s,a)=>s*a,1);return[e/r,r]}static squeezeShape(t,n){let e=new Array;n=i.normalizeAxes(n,t.length);for(let r=0;r<t.length;r++){let o=n.indexOf(r)>=0;if(o&&t[r]!==1)throw new Error("squeeze an axis of size different than 1");(n.length===0&&t[r]>1||n.length>0&&!o)&&e.push(t[r])}return e}static unsqueezeShape(t,n){let e=new Array(t.length+n.length);e.fill(0);for(let o=0;o<n.length;o++){let s=i.normalizeAxis(n[o],e.length);if(s>=e.length)throw new Error("'axes' has an out of range axis");if(e[s]!==0)throw new Error("'axes' has a duplicate axis");e[s]=1}let r=0;for(let o=0;o<e.length;o++)e[o]===0&&(e[o]=t[r++]);if(r!==t.length)throw new Error("the unsqueezed dimension could not be established");return e}},Gn=class i{static splitShape(t,n,e,r){if(e.length===0){if(!r)throw new Error("need to know number of outputs when the 'split' attribute is not specified");i.determineSplit(t[n],r,e)}let o=[],s=[0];for(let a=0;a<e.length;++a){a!==0&&s.push(s[a-1]+e[a-1]);let u=t.slice();u[n]=e[a],o.push(u)}return[o,s]}static determineSplit(t,n,e){if(t%n!==0)throw new Error("cannot split tensor to equal sized parts");for(let r=0;r<n;++r)e.push(t/n)}},Br=class i{static adjustPoolAttributes(t,n,e,r,o,s){if(!t&&e.length!==n.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(t)for(let a=0;a<n.length-2;a++)a>=e.length?e.push(n[a+2]):e[a]=n[a+2];for(let a=0;a<e.length;a++)if(a<r.length){if(r[a]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(let a=0;a<e.length;a++)if(a<o.length){if(o[a]<0)throw new Error("dilations should be greater than or equal to 1")}else o.push(1);for(let a=0;a<e.length*2;a++)if(a<s.length){if(s[a]<0)throw new Error("pad should be greater than or equal to 1")}else s.push(0);for(let a=0;a<e.length;a++){if(e[a]<=0)throw new Error("kernel shapes need to be greater than 0");if(s[a]>=e[a]||s[a+e.length]>=e[a])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(t,n,e,r,o,s){if(s){if(o.length!==2*(t.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(n.length!==t.length-2)throw new Error("length of strides should be the length of data dimensions");if(r.length!==t.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let a=0;a<t.length-2;a++)i.adjustPadAndReturnShape(t[a+2],n[a],e[a],r[a],o,a,a+t.length-2,s)}}static computePoolOutputShape(t,n,e,r,o,s,a){if(n.length<=0)throw new Error("input shape must be of size greater than 0");let u=[n[0],n[1]];return i.computeShapeHelper(t,n,u,e,r,o,s,a),u}static computeConvOutputShape(t,n,e,r,o,s,a){if(t.length<=0||n.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");let u=[t[0],n[0]];return i.computeShapeHelper(!1,t,u,e,r,o,s,a),u}static computeShapeHelper(t,n,e,r,o,s,a,u){if(t)for(let l=0;l<n.length-2;l++)e.push(1);else for(let l=0;l<n.length-2;l++)e.push(i.adjustPadAndReturnShape(n[l+2],r[l],o[l],s[l],a,l,l+n.length-2,u))}static adjustPadAndReturnShape(t,n,e,r,o,s,a,u){let l=e*(r-1)+1;if(u&&u!=="NOTSET")switch(u){case"VALID":return o[s]=0,o[a]=0,Math.floor((t-l)/n+1);case"SAME_LOWER":case"SAME_UPPER":if(e!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let b=((t+n-1)/n-1)*n+r-t;return o[s]=Math.floor(u==="SAME_LOWER"?(b+1)/2:b/2),o[a]=b-o[s],Math.floor((t+b-r)/n+1)}default:throw new Error("Unsupported AutoPad type")}else return Math.floor((t+o[s]+o[a]-l)/n+1)}},Rr=-34028234663852886e22,Nr=34028234663852886e22});function Fh(i){switch(i){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${i}`)}}function wl(i){switch(i){case ae.onnx.TensorProto.DataType.UINT8:case ae.onnx.TensorProto.DataType.INT8:case ae.onnx.TensorProto.DataType.BOOL:return 1;case ae.onnx.TensorProto.DataType.UINT16:case ae.onnx.TensorProto.DataType.INT16:return 2;case ae.onnx.TensorProto.DataType.FLOAT:case ae.onnx.TensorProto.DataType.INT32:case ae.onnx.TensorProto.DataType.UINT32:return 4;case ae.onnx.TensorProto.DataType.INT64:case ae.onnx.TensorProto.DataType.DOUBLE:case ae.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${ae.onnx.TensorProto.DataType[i]}`)}}function kh(i,t){return new(Il(t))(i)}function Il(i){switch(i){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function ea(i,t){if(t===ae.onnx.TensorProto.DataType.INT64||t===Qi.TensorDataType.INT64){if(i.greaterThanOrEqual(2147483648)||i.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else if(t===ae.onnx.TensorProto.DataType.UINT32||t===Qi.TensorDataType.UINT32||t===ae.onnx.TensorProto.DataType.UINT64||t===Qi.TensorDataType.UINT64){if(i.greaterThanOrEqual(4294967296)||i.lessThan(0))throw new TypeError("uint64 is not supported")}else throw new TypeError(`not a LONG type: ${ae.onnx.TensorProto.DataType[t]}`);return i.toNumber()}function _l(i,t,n){switch(t){case ae.onnx.TensorProto.DataType.BOOL:case ae.onnx.TensorProto.DataType.UINT8:return i.getUint8(n);case ae.onnx.TensorProto.DataType.INT8:return i.getInt8(n);case ae.onnx.TensorProto.DataType.UINT16:return i.getUint16(n,!0);case ae.onnx.TensorProto.DataType.INT16:return i.getInt16(n,!0);case ae.onnx.TensorProto.DataType.FLOAT:return i.getFloat32(n,!0);case ae.onnx.TensorProto.DataType.INT32:return i.getInt32(n,!0);case ae.onnx.TensorProto.DataType.UINT32:return i.getUint32(n,!0);case ae.onnx.TensorProto.DataType.INT64:return ea(ar.fromBits(i.getUint32(n,!0),i.getUint32(n+4,!0),!1),t);case ae.onnx.TensorProto.DataType.DOUBLE:return i.getFloat64(n,!0);case ae.onnx.TensorProto.DataType.UINT64:return ea(ar.fromBits(i.getUint32(n,!0),i.getUint32(n+4,!0),!0),t);default:throw new Error(`cannot read from DataView for type ${ae.onnx.TensorProto.DataType[t]}`)}}var Ol,ae,Qi,Me,Mr=k(()=>{"use strict";Ol=rn(du());Ni();Bn();ae=rn(sn());me();Qi=Y.experimental.fbs,Me=class i{constructor(t,n,e,r,o,s=Ol.Guid.create()){this.dims=t;this.type=n;this.dataProvider=e;this.asyncDataProvider=r;this.cache=o;this.dataId=s;this.size=q.validateDimsAndCalcSize(t);let a=this.size,u=e===void 0&&r===void 0&&o===void 0;if(o!==void 0&&o.length!==a)throw new RangeError("Input dims doesn't match data length.");if(n==="string"){if(o!==void 0&&(!Array.isArray(o)||!o.every(l=>typeof l=="string")))throw new TypeError("cache should be a string array");u&&(this.cache=new Array(a))}else{if(o!==void 0){let l=Il(n);if(!(o instanceof l))throw new TypeError(`cache should be type ${l.name}`)}if(u){let l=new ArrayBuffer(a*Fh(n));this.cache=kh(l,n)}}}get data(){if(this.cache===void 0){let t=this.dataProvider(this.dataId);if(t.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=t}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(t){return this.data[q.indicesToOffset(t,this.strides)]}set(t,n){this.data[q.indicesToOffset(t,this.strides)]=n}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=q.computeStrides(this.dims)),this._strides}static fromProto(t){if(!t)throw new Error("cannot construct Value from an empty tensor");let n=Je.tensorDataTypeFromProto(t.dataType),e=Je.tensorDimsFromProto(t.dims),r=new i(e,n);if(n==="string")t.stringData.forEach((o,s)=>{r.data[s]=Un(o)});else if(t.rawData&&typeof t.rawData.byteLength=="number"&&t.rawData.byteLength>0){let o=r.data,s=new DataView(t.rawData.buffer,t.rawData.byteOffset,t.rawData.byteLength),a=wl(t.dataType),u=t.rawData.byteLength/a;if(t.rawData.byteLength%a!==0)throw new Error("invalid buffer length");if(o.length!==u)throw new Error("buffer length mismatch");for(let l=0;l<u;l++){let c=_l(s,t.dataType,l*a);o[l]=c}}else{let o;switch(t.dataType){case ae.onnx.TensorProto.DataType.FLOAT:o=t.floatData;break;case ae.onnx.TensorProto.DataType.INT32:case ae.onnx.TensorProto.DataType.INT16:case ae.onnx.TensorProto.DataType.UINT16:case ae.onnx.TensorProto.DataType.INT8:case ae.onnx.TensorProto.DataType.UINT8:case ae.onnx.TensorProto.DataType.BOOL:o=t.int32Data;break;case ae.onnx.TensorProto.DataType.INT64:o=t.int64Data;break;case ae.onnx.TensorProto.DataType.DOUBLE:o=t.doubleData;break;case ae.onnx.TensorProto.DataType.UINT32:case ae.onnx.TensorProto.DataType.UINT64:o=t.uint64Data;break;default:throw new Error("unspecific error")}if(o==null)throw new Error("failed to populate data from a tensorproto value");let s=r.data;if(s.length!==o.length)throw new Error("array length mismatch");for(let a=0;a<o.length;a++){let u=o[a];ar.isLong(u)?s[a]=ea(u,t.dataType):s[a]=u}}return r}static fromData(t,n,e){return new i(n,e,void 0,void 0,t)}static fromOrtTensor(t){if(!t)throw new Error("cannot construct Value from an empty tensor");let n=Je.tensorDimsFromORTFormat(t),e=Je.tensorDataTypeFromProto(t.dataType()),r=new i(n,e);if(e==="string")for(let o=0;o<t.stringDataLength();o++)r.data[o]=t.stringData(o);else if(t.rawDataArray()&&typeof t.rawDataLength()=="number"&&t.rawDataLength()>0){let o=r.data,s=new DataView(t.rawDataArray().buffer,t.rawDataArray().byteOffset,t.rawDataLength()),a=wl(t.dataType()),u=t.rawDataLength()/a;if(t.rawDataLength()%a!==0)throw new Error("invalid buffer length");if(o.length!==u)throw new Error("buffer length mismatch");for(let l=0;l<u;l++){let c=_l(s,t.dataType(),l*a);o[l]=c}}return r}}});function J(i){return i===1?$h:Bh}function Al(i){let t=J(i);return`${t.version}
      precision highp float;
      ${t.attribute} vec3 position;
      ${t.attribute} vec2 textureCoord;

      ${t.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`}function Sl(i){let t=J(i);return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFrag} vec2 TexCoords;
    ${t.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `}function Pl(i,t){let n=J(i);return`
  void main() {
    int indices[${t}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${n.output} = result;
  }
  `}var $h,Bh,Ee=k(()=>{"use strict";$h={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},Bh={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"}});var fe=k(()=>{"use strict"});async function ta(i,t=e=>0,n){return new Promise((e,r)=>{let o=0,s=()=>{if(i()){e();return}o++;let a=t(o);if(n!=null&&o>=n){r();return}setTimeout(s,a)};s()})}function Bo(i){return un(typeof i<"u"&&i.length!==0,()=>"empty string found for sampler name"),"get"+i.charAt(0).toUpperCase()+i.slice(1)}function El(i){return un(typeof i<"u"&&i.length!==0,()=>"empty string found for sampler name"),"get"+i.charAt(0).toUpperCase()+i.slice(1)+"AtOutCoords"}function ln(i,t){let n=JSON.parse(JSON.stringify(i));return n=t,n}function fn(i,t){return t.map(n=>i[n]).join(", ")}function ut(i){if(i<=1)return"int";if(i===2)return"ivec2";if(i===3)return"ivec3";if(i===4)return"ivec4";if(i===5)return"ivec5";if(i===6)return"ivec6";throw Error(`GPU for rank ${i} is not yet supported`)}function Mt(i=6){return["x","y","z","w","u","v"].slice(0,i)}var jt=k(()=>{"use strict";me()});function Rh(i,t){return Mt(t).map(n=>`${i}.${n}`)}function cn(i,t){return t===1?[i]:Rh(i,t)}function qt(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}var Gr=k(()=>{"use strict";jt()});function Mh(i,t,n){if(i===0)return"false";if(i===1)return`rc > ${t[0]}`;let e="";for(let r=i-2;r<i;r++)e+=`${n[r]} >= ${t[r-i+2]}`,r<i-1&&(e+="||");return e}function Gh(i,t){let n=i.length;if(n===0)return"getA(), 0, 0, 0";if(n===1)return`getA(rc),
            rc + 1 >= ${i[0]} ? 0. : getA(rc + 1),
            0, 0`;let e="r, c",r="r, cp1",o="rp1, c",s="rp1, cp1",a="";if(n>2)for(let u=0;u<n-2;++u)a=a+`${t[u]},`;return`getA(${a}${e}),
          rEdge ? 0. : getA(${a}${o}),
          cEdge ? 0. : getA(${a}${r}),
          rEdge || cEdge ? 0. : getA(${a}${s})`}function Uh(i,t,n,e){return i===0||i===1?"":`
    int r = ${t[i-2]};
    int c = ${t[i-1]};
    int rp1 = ${t[i-2]} + 1;
    int cp1 = ${t[i-1]} + 1;
    bool rEdge = rp1 >= ${e};
    bool cEdge = cp1 >= ${n};
    `}var Dl,Nh,Ll,Cl=k(()=>{"use strict";Ee();fe();jt();Gr();Dl={name:"pack",inputNames:["A"],inputTypes:[1]},Nh=(i,t)=>{let n=J(i.session.backend.glContext.version),e=t.dims,r=e.length,o=t.dims.length,s=ut(o),a=cn("rc",o),u=Uh(o,a,e[e.length-2],e[e.length-1]),l;r===0?l=[1,1]:r===1?l=[e[0],1]:l=[e[o-1],e[o-2]];let c=Mh(o,l,a),b=Gh(e,a),y=`
        void main() {
          ${s} rc = getOutputCoords();

          if(${c}) {
            ${n.output} = vec4(0);
          } else {
            ${u}

            ${n.output} = vec4(${b});
          }
        }
      `;return{...Dl,hasMain:!0,output:{dims:t.dims,type:t.type,textureType:2},shaderSource:y}},Ll=(i,t)=>({...Dl,get:()=>Nh(i,t)})});function ra(i){if(i.length===0)return[1,1,1];let t=1;for(let n=0;n<i.length-2;++n)t*=i[n];return[t,i.length>1?i[i.length-2]:1,i[i.length-1]]}function kl(i,t){let n=!1;return i.length===0||t.length===0?n=!0:i.length<2||t.length<2?n=i[i.length-1]===t[t.length-1]:n=i[i.length-1]===t[t.length-1]&&i[i.length-2]===t[t.length-2],n}function Vh(i){let t=q.computeStrides(i),n=["b","r","c"],e="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${t.map((o,s)=>{let a=`int ${n[s]} = ${e} / ${o}`,u=s===t.length-1?`int ${n[s+1]} = ${e} - ${n[s]} * ${o}`:`index -= ${n[s]} * ${o}`;return`${a}; ${u};`}).join("")}
      return ivec3(b, r, c);
    }
  `}function Hh(i){let t=q.computeStrides(i);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${t[0]} + coords.z * ${t[1]} + coords.y;
  }
`}var Wh,zh,Fl,$l=k(()=>{"use strict";me();Ee();fe();Gr();Wh=i=>({name:"Reshape (packed)",inputTypes:[2],inputNames:["A"],cacheHint:`${i}`}),zh=(i,t,n,e)=>{let r=t.dims,o=e,s="";for(let l=0;l<4;l++){let c="";switch(l){case 0:c="outputCoords = rc;";break;case 1:c="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:c="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:c="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}s+=`
        ${c}
        ${l>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${l}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${l>0?"}":""}
      `}let a=J(i.session.backend.glContext.version),u=`
      ${Vh(r)}
      ${Hh(o)}
      ${qt()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${o[2]};
        int cols = ${o[1]};

        ${s}
        ${a.output} = result;
      }
    `;return{...n,output:{dims:o,type:t.type,textureType:2},shaderSource:u,hasMain:!0}},Fl=(i,t,n)=>{let e=Wh(n);return{...e,get:()=>zh(i,t,e,n)}}});var na,Bl=k(()=>{"use strict";Ee();fe();na=(i,t)=>{let n=t.shape,e=J(i.session.backend.glContext.version),r=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${e.texture2D}(X,TexCoords).r;
      ${e.output} = encodeAsUint8(value);
    }`,o={name:"Uint8Encode",inputTypes:[0],inputNames:["X"],output:{dims:n,type:t.tensor.type,textureType:3},shaderSource:r,hasMain:!0};return i.executeProgram(o,[t.tensor])}});function qh(i,t){if(i===1)return"rc";let n="";for(let e=0;e<i;e++)n+=t[e],e<i-1&&(n+=",");return n}var Rl,jh,Nl,Ml=k(()=>{"use strict";Ee();fe();jt();Gr();Rl={name:"unpack",inputNames:["A"],inputTypes:[2]},jh=(i,t)=>{let n=t.dims.length,e=cn("rc",n),r=e.slice(-2),o=ut(n),s=qt(),u=t.dims.length===0?"":qh(n,e),l=n<=1?"rc":`vec2(${r.join(",")})`,c=J(i.session.backend.glContext.version),b=`
    ${s}
    void main() {
      ${o} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${u});

       ${c.output} = vec4(getChannel(packedInput, ${l}), 0, 0, 0);
     }
   `;return{...Rl,hasMain:!0,output:{dims:t.dims,type:t.type,textureType:0},shaderSource:b}},Nl=(i,t)=>({...Rl,get:()=>jh(i,t)})});var Ro,Wn,No,zn=k(()=>{"use strict";_t();Ro=class{constructor(t,n=1){if(n===1)this.internalFormat=t.R32F,this.format=t.RED,this.textureType=t.FLOAT,this.channelSize=n;else if(n===4)this.internalFormat=t.RGBA32F,this.format=t.RGBA,this.textureType=t.FLOAT,this.channelSize=n;else throw new Error(`Invalid number of channels: ${n}`)}encode(t,n){let e,r;return t.constructor!==Float32Array&&(ye.warning("Encoder","data was not of type Float32; creating new Float32Array"),r=new Float32Array(t)),n*this.channelSize>t.length?(ye.warning("Encoder","Source data too small. Allocating larger array"),r=t,e=this.allocate(n*this.channelSize),r.forEach((o,s)=>e[s]=o)):(r=t,e=r),e}allocate(t){return new Float32Array(t*4)}decode(t,n){return this.channelSize===1?t.filter((r,o)=>o%4===0).subarray(0,n):t.subarray(0,n)}},Wn=class{constructor(t,n=1,e){if(n!==1&&n!==4)throw new Error(`Invalid number of channels: ${n}`);this.internalFormat=t.RGBA,this.format=t.RGBA,this.channelSize=n,this.textureType=e||t.FLOAT}encode(t,n){let e=t;return this.channelSize===1&&(ye.verbose("Encoder","Exploding into a larger array"),e=this.allocate(n),t.forEach((r,o)=>e[o*4]=r)),e}allocate(t){return new Float32Array(t*4)}decode(t,n){return this.channelSize===1?t.filter((r,o)=>o%4===0).subarray(0,n):t.subarray(0,n)}},No=class{constructor(t,n=1){this.channelSize=4;if(n===1)this.internalFormat=t.ALPHA,this.format=t.ALPHA,this.textureType=t.UNSIGNED_BYTE,this.channelSize=n;else if(n===4)this.internalFormat=t.RGBA,this.format=t.RGBA,this.textureType=t.UNSIGNED_BYTE,this.channelSize=n;else throw new Error(`Invalid number of channels: ${n}`)}encode(t,n){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}allocate(t){return new Uint8Array(t*this.channelSize)}decode(t,n){if(t instanceof Uint8Array)return t.subarray(0,n);throw new Error(`Invalid array type: ${t.constructor}`)}}});var Vn,Gl,oa,Ul=k(()=>{"use strict";me();fe();Vn=(i,t,n)=>{let e=n===0||n===1?1:4,r=n===2,o=n===1||n===2,s=n===4?t.length-1:void 0,a=n===4?t.map((u,l)=>l===t.length-1?u*4:u):void 0;return oa(i,t,e,a,{isPacked:r,reverseWH:o,breakAxis:s})},Gl=(i,t,n)=>{let e=Vn(i,t,n);return[e.width,e.height]},oa=(i,t,n=1,e,r)=>{let o=!!(r&&r.isPacked),[s,a]=i.computeTextureWH(o&&e||t,r),u=t.length,l=t.slice(0);if(u===0&&(l=[1]),n===1)e=t;else if(o){if(n!==4)throw new Error("a packed texture must be 4-channel");e=t,u>0&&(l[u-1]=Math.ceil(l[u-1]/2)),u>1&&(l[u-2]=Math.ceil(l[u-2]/2))}else if(!e)throw new Error("Unpacked shape is needed when using channels > 1");return{width:s,height:a,channels:n,isPacked:o,shape:l,strides:q.computeStrides(l),unpackedShape:e,reversedWH:r&&r.reverseWH}}});var Xh,Mo,zl=k(()=>{"use strict";_t();Mr();me();Cl();$l();Bl();Ml();zn();Ul();fe();Xh=(i,t)=>{let n=t.map(r=>`${r.unpackedShape.join(",")};${r.width}x${r.height}`).join("_"),e=i.name;return i.cacheHint&&(e+="["+i.cacheHint+"]"),e+=":"+n,e},Mo=class{constructor(t){this.session=t;this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(t,n){return Gl(this.session.layoutStrategy,t,n)}executeProgram(t,n){if(n.length<t.inputNames.length)throw new Error(`Input size mustn't be less than ${t.inputNames.length}.`);if(t.inputNames.length!==t.inputTypes.length)throw new Error("input names size does not match input types");let e=[];for(let l=0;l<t.inputNames.length;++l)e[l]=this.getOrCreateTextureData(n[l],t.inputTypes[l]);let r=Xh(t,e),o=this.session.programManager.getArtifact(r),s=o?o.programInfo:typeof t.get=="function"?t.get():t,a=Vn(this.session.layoutStrategy,s.output.dims,s.output.textureType),u=this.createTextureData(a,s.output.type);return o||(o=this.session.programManager.build(s,e,u),this.session.programManager.setArtifact(r,o)),this.runProgram(o,e,u),u}run(t,n){return this.executeProgram(t,n).tensor}runProgram(t,n,e){for(let r=0;r<n.length;++r)if(!!n[r].isPacked!=(t.programInfo.inputTypes[r]===2))throw new Error(`input[${r}] property packed inconsistent`);if(!!e.isPacked!=(t.programInfo.output.textureType===2))throw new Error("output property packed inconsistent");this.session.programManager.run(t,n,e)}getOrCreateTextureData(t,n){let e=this.getTextureData(t.dataId,n===2);if(!e&&(e=this.getTextureData(t.dataId,n!==2),e))return n===2?this.pack(e):this.unpack(e);if(!e){let r=Vn(this.session.layoutStrategy,t.dims,n);if(n===4){let a=t.dims;if(a.length===4){let u=[a[0],Math.ceil(a[1]*a[2]*a[3]/4)],l=Vn(this.session.layoutStrategy,u,n),c=t.numberData;if(a[1]*a[2]*a[3]%4!==0){let b=a[0],y=a[1]*a[2]*a[3],w=Math.ceil(y*1/4)*4,A=b*w;c=new Float32Array(A);for(let O=0;O<b;++O){let C=O*y,$=O*w+O%1*y;c.set(t.numberData.subarray(C,C+y),$)}}return this.createTextureData(l,t.type,c,t,1)}}if(n===2){let o=oa(this.session.layoutStrategy,t.dims,1,[],{reverseWH:!0}),s=this.createTextureData(o,t.type,t.numberData,t,1);e=this.pack(s)}else e=this.createTextureData(r,t.type,t.numberData,t,1)}return e}createTextureDataFromLayoutBindTensor(t,n,e,r){return this.createTextureData(t,n,e,r,1)}createTextureData(t,n,e,r,o){ye.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(t)}]`);let s=this.session.textureManager.createTextureFromLayout(n,t,e,o);return this.createTextureDataFromTexture(t,n,s,r)}reshapeUnpacked(t,n){let e=this.getOrCreateTextureData(t,0),r={channels:e.channels,height:e.height,width:e.width,shape:n.length!==0?n:[1],strides:q.computeStrides(n),unpackedShape:n};return this.createTextureDataFromTexture(r,t.type,e.texture).tensor}reshapePacked(t,n){let e=this.getOrCreateTextureData(t,2);if(kl(t.dims,n)){let l={channels:e.channels,height:e.height,width:e.width,shape:n.length!==0?n:[1],strides:q.computeStrides(n),unpackedShape:n,isPacked:!0};return this.createTextureDataFromTexture(l,t.type,e.texture).tensor}let r=ra(t.dims),o=ra(n),s=this.reshapePacked(t,r),a=this.run(Fl(this,s,o),[s]);return this.reshapePacked(a,n)}cast(t,n){let e=this.getOrCreateTextureData(t,0);return this.createTextureDataFromTexture(e,n,e.texture).tensor}createTextureDataFromTexture(t,n,e,r,o){let s={...t,tensor:r||new Me(t.unpackedShape,n,a=>this.readTexture(s),async a=>this.readTextureAsync(s),void 0,o),texture:e};return this.setTextureData(s.tensor.dataId,s,t.isPacked),s}getTextureData(t,n=!1){return this.session.isInitializer(t)?this.session.getTextureData(t,n):n?this.packedTextureDataCache.get(t):this.unpackedTextureDataCache.get(t)}setTextureData(t,n,e=!1){this.session.isInitializer(t)?this.session.setTextureData(t,n,e):(e?this.packedTextureDataCache:this.unpackedTextureDataCache).set(t,n)}isTextureLayoutCached(t,n=!1){return!!this.getTextureData(t.dataId,n)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(t=>this.session.textureManager.releaseTexture(t)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(t=>this.session.textureManager.releaseTexture(t)),this.unpackedTextureDataCache=new Map}readTexture(t){return t.isPacked?this.readTexture(this.unpack(t)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(t,t.tensor.type,t.channels):this.session.textureManager.readUint8TextureAsFloat(na(this,t))}async readTextureAsync(t){return t.isPacked?this.readTextureAsync(this.unpack(t)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(t,t.tensor.type,t.channels):this.session.textureManager.readUint8TextureAsFloat(na(this,t))}pack(t){return this.executeProgram(Ll(this,t.tensor),[t.tensor])}unpack(t){return this.executeProgram(Nl(this,t.tensor),[t.tensor])}}});var ia,ne,je=k(()=>{"use strict";ia=class{constructor(t){Object.assign(this,t)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(t=>`${this[t]}`).join(";")),this._cacheKey}},ne=i=>new ia(i)});var Vl,Hl,jl,Kh,Jh,ql=k(()=>{"use strict";je();Ee();fe();Vl={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[0,0,0,0,0]},Hl=(i,t,n)=>(Jh(t),[i.run({...Vl,cacheHint:n.cacheKey,get:()=>Kh(i,t,n)},t)]),jl=i=>{let t=i.attributes.getFloat("epsilon",1e-5),n=i.attributes.getFloat("momentum",.9),e=i.attributes.getInt("spatial",1);return ne({epsilon:t,momentum:n,spatial:e})},Kh=(i,t,n)=>{let e=J(i.session.backend.glContext.version),r=t[0].dims.length,[o,s]=i.calculateTextureWidthAndHeight(t[1].dims,0),a=`
  float process(int[${r}] indices) {
    vec2 position = offsetToCoords(indices[1], ${o}, ${s});
    float scale = getColorAsFloat(${e.texture2D}(Scale, position));
    float mean = getColorAsFloat(${e.texture2D}(Mean, position));
    float variance = getColorAsFloat(${e.texture2D}(Variance, position));
    float b = getColorAsFloat(${e.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${n.epsilon})) ) + b;
  }`;return{...Vl,output:{dims:t[0].dims,type:t[0].type,textureType:0},shaderSource:a}},Jh=i=>{if(!i||i.length!==5)throw new Error("BatchNormalization requires 5 inputs.");let t=i[0],n=i[1],e=i[2],r=i[3],o=i[4];if(t.dims.length<3||n.dims.length!==1||e.dims.length!==1||r.dims.length!==1||o.dims.length!==1)throw new Error("invalid input shape.");if(n.dims[0]!==t.dims[1]||e.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1]||o.dims[0]!==t.dims[1])throw new Error("invalid input shape.");if(t.type!=="float32"&&t.type!=="float64"||n.type!=="float32"&&n.type!=="float64"||e.type!=="float32"&&e.type!=="float64"||r.type!=="float32"&&r.type!=="float64"||o.type!=="float32"&&o.type!=="float64")throw new Error("invalid input tensor types.")}});var Go,St,V,Hn,Uo,sr=k(()=>{"use strict";Go=class{constructor(t,n,e,r){this.glContext=t;this.programInfo=n;this.inputTextureLayouts=e;this.outputTextureLayout=r}},St=class{constructor(t){this.context=t}},V=class{constructor(t,n){this.routineBody=t;this.dependencies=n}},Hn=class{constructor(t,n,e){this.name=t;e?this.dependencies=e:this.dependencies=[],n&&(this.routineBody=n)}addDependency(t){t&&this.dependencies.push(t)}},Uo=class{static returnOrderedNodes(t){if(!t||t.length===0)return[];if(t.length===1)return t;let n=new Set,e=new Set,r=new Array;return this.createOrderedNodes(t,n,e,r),r}static createOrderedNodes(t,n,e,r){for(let o=0;o<t.length;++o)this.dfsTraverse(t[o],n,e,r)}static dfsTraverse(t,n,e,r){if(!t||e.has(t.name))return;if(n.has(t.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");n.add(t.name);let o=t.dependencies;if(o&&o.length>0)for(let s=0;s<o.length;++s)this.dfsTraverse(o[s],n,e,r);r.push(t),e.add(t.name),n.delete(t.name)}}});function Qh(){let i="add_";return{body:`
  float ${i}(float a, float b) {
    return a + b;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:i,type:0}}function em(){let i="div_";return{body:`
  float ${i}(float a, float b) {
    return a / b;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:i,type:0}}function tm(){let i="mul_";return{body:`
  float ${i}(float a, float b) {
    return a * b;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:i,type:0}}function rm(){let i="sub_";return{body:`
  float ${i}(float a, float b) {
    return a - b;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:i,type:0}}function nm(){let i="equal_";return{body:`
  float ${i}(float a, float b) {
    return float(a == b);
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:i,type:0}}function om(){let i="greater_";return{body:`
  float ${i}(float a, float b) {
    return float(a > b);
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:i,type:0}}function im(){let i="less_";return{body:`
  float ${i}(float a, float b) {
    return float(a < b);
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:i,type:0}}function am(){let i="and_";return{body:`
  float ${i}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:i,type:0}}function sm(){let i="or_";return{body:`
  float ${i}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:i,type:0}}function um(){let i="xor_";return{body:`
  float ${i}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:i,type:0}}function lm(){return cm("pow")}function fm(){let i="prelu_";return{body:`
  float ${i}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:i,type:0}}function cm(i){let t=`${i}_`;return{body:`
  float ${t}(float a, float b) {
    return ${i}(a, b);
  }
  vec4 ${t}(vec4 v1, vec4 v2) {
    return ${i}(v1, v2);
  }
  `,name:t,type:0}}var Pt,pm,Yl,Xl,Kl,Jl,Zl,Ql,ef,tf,rf,nf,of,af,sf=k(()=>{"use strict";me();sr();Ee();fe();Pt=(i,t,n,e=t[0].type,r)=>{let o=i.session.pack?2:0;return{name:n.name,inputNames:["A","B"],inputTypes:[o,o],cacheHint:r,get:()=>pm(i,t,n,e)}},pm=(i,t,n,e=t[0].type)=>{let r=i.session.pack?2:0,o=!q.areEqual(t[0].dims,t[1].dims),s=t[0].dims,a=i.session.pack;if(o){let c=st.calcShape(t[0].dims,t[1].dims,!1);if(!c)throw new Error("Can't perform binary op on the given tensors");s=c;let b=s.length,y=t[0].dims.length!==0?t[0].dims.length:1,w=t[1].dims.length!==0?t[1].dims.length:1,A=t[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",O=t[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",C=J(i.session.backend.glContext.version),$=a?`
      ${n.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${n.name}(a, b);
        ${C.output} = result;
      }`:`
      ${n.body}
      float process(int indices[${b}]) {
        int aindices[${y}];
        int bindices[${w}];
        ${A}
        ${O}
        return ${n.name}(_A(aindices), _B(bindices));
      }`;return{name:n.name,inputNames:["A","B"],inputTypes:[r,r],output:{dims:s,type:e,textureType:r},shaderSource:$,hasMain:a}}let u=J(i.session.backend.glContext.version),l=`
    ${n.body}
    void main() {
      vec4 v1 = ${u.texture2D}(A, TexCoords);
      vec4 v2 = ${u.texture2D}(B, TexCoords);
      vec4 result = ${n.name}(v1, v2);
      ${u.output} = result;
    }
    `;return{name:n.name,inputNames:["A","B"],inputTypes:[r,r],output:{dims:t[0].dims,type:e,textureType:r},shaderSource:l,hasMain:!0}},Yl=(i,t)=>[i.run(Pt(i,t,Qh()),t)],Xl=(i,t)=>[i.run(Pt(i,t,am(),"bool"),t)],Kl=(i,t)=>[i.run(Pt(i,t,em()),t)],Jl=(i,t)=>[i.run(Pt(i,t,nm(),"bool"),t)],Zl=(i,t)=>[i.run(Pt(i,t,om(),"bool"),t)],Ql=(i,t)=>[i.run(Pt(i,t,im(),"bool"),t)],ef=(i,t)=>[i.run(Pt(i,t,tm()),t)],tf=(i,t)=>[i.run(Pt(i,t,sm(),"bool"),t)],rf=(i,t)=>[i.run(Pt(i,t,lm()),t)],nf=(i,t)=>[i.run(Pt(i,t,fm()),t)],of=(i,t)=>[i.run(Pt(i,t,rm()),t)],af=(i,t)=>[i.run(Pt(i,t,um(),"bool"),t)]});var uf,lf,hm,ff=k(()=>{"use strict";me();uf=(i,t,n)=>(hm(t),[i.cast(t[0],n)]),lf=i=>Je.tensorDataTypeFromProto(i.attributes.getInt("to")),hm=i=>{if(!i||i.length!==1)throw new Error("Cast requires 1 input.");if(i[0].type==="string")throw new Error("Invalid input type.")}});var mm,bm,cf,Wo,pf=k(()=>{"use strict";Ee();fe();jt();Gr();mm=(i,t)=>({name:"Concat (packed)",inputNames:Array.from({length:i},(n,e)=>`X${e}`),inputTypes:Array(i).fill(2),cacheHint:t}),bm=(i,t,n,e)=>{let r=n[0].dims.slice();if(e>=r.length||e<-1*r.length)throw new Error("axis specified for concat doesn't match input dimensionality");e<0&&(e=r.length+e);let o=r.slice(0);for(let z=1;z<n.length;z++){let ve=n[z].dims.slice();for(let Ie=0;Ie<r.length;Ie++)if(Ie===e)o[e]+=ve[Ie];else if(r[Ie]!==ve[Ie])throw new Error("non concat dimensions must match")}let s=o.length,a=cn("coords",s),u=ut(s),l=qt(),c=n.map(z=>z.dims),b=Mt(s),y=new Array(c.length-1);y[0]=c[0][e];for(let z=1;z<y.length;z++)y[z]=y[z-1]+c[z][e];let w=b[e],A=b.slice(-2),O=b.join(),C=`if (${w} < ${y[0]}) {
        return getChannel(
            getX0(${O}), vec2(${A.join()}));
        }`;for(let z=1;z<y.length;z++){let ve=y[z-1];C+=`
            if (${w} < ${y[z]}  && ${w} >= ${y[z-1]}) {
              return getChannel(
                getX${z}(${Wo(b,w,ve)}),
                vec2(${Wo(A,w,ve)}));
            }`}let $=y.length,F=y[y.length-1];C+=`
            return getChannel(
              getX${$}(${Wo(b,w,F)}),
              vec2(${Wo(A,w,F)}));`;let G=J(i.session.backend.glContext.version),ee=`
          ${l}
          float getValue(${b.map(z=>"int "+z)}) {
            ${C}
          }

          void main() {
            ${u} coords = getOutputCoords();
            int lastDim = coords.${b[s-1]};
            coords.${b[s-1]} = coords.${b[s-2]};
            coords.${b[s-2]} = lastDim;

            vec4 result = vec4(getValue(${a}), 0., 0., 0.);

            ${a[s-1]} = ${a[s-1]} + 1;
            if (${a[s-1]} < ${o[s-1]}) {
              result.g = getValue(${a});
            }

            ${a[s-2]} = ${a[s-2]} + 1;
            if (${a[s-2]} < ${o[s-2]}) {
              result.a = getValue(${a});
            }

            ${a[s-1]} = ${a[s-1]} - 1;
            if (${a[s-2]} < ${o[s-2]} &&
                ${a[s-1]} < ${o[s-1]}) {
              result.b = getValue(${a});
            }
            ${G.output} = result;
          }
        `;return{...t,output:{dims:o,type:n[0].type,textureType:2},shaderSource:ee,hasMain:!0}},cf=(i,t,n)=>{let e=mm(t.length,n.cacheKey);return{...e,get:()=>bm(i,e,t,n.axis)}},Wo=(i,t,n)=>{let e=i.indexOf(t);return i.map((o,s)=>s===e?`${o} - ${n}`:o).join()}});var df,gm,ym,Tm,hf,vm,xm,wm,mf,_m,bf=k(()=>{"use strict";je();fe();pf();df=(i,t,n)=>(_m(t),i.session.pack&&t[0].dims.length>1?[i.run(cf(i,t,n),t)]:[i.run(Tm(i,t,n),t)]),gm=(i,t)=>({name:"Concat",inputNames:Array.from({length:i},(n,e)=>`X${e}`),inputTypes:Array(i).fill(0),cacheHint:t}),ym=(i,t,n,e)=>{let r=n[0].dims.slice();if(e>=r.length||e<-1*r.length)throw new Error("axis specified for concat doesn't match input dimensionality");e<0&&(e=r.length+e);let o=r.slice(0);for(let w=1;w<n.length;w++){let A=n[w].dims.slice();for(let O=0;O<r.length;O++)if(O===e)o[e]+=A[O];else if(r[O]!==A[O])throw new Error("non concat dimensions must match")}let s=o.length,a=new Array(n.length),u=0;for(let w=0;w<a.length;++w)u+=n[w].dims[e],a[w]=u;let l="";n.length<5?l=hf(a):l=vm(a);let c=xm(n.length,s),b=wm(a),y=`
        ${c}
        ${b}
        ${l}
        float process(int indices[${s}]) {
          int textureIndex = getTextureWhereDataResides (indices[${e}]);

          if(textureIndex != 0) {
            indices[${e}] = indices[${e}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return{...t,output:{dims:o,type:n[0].type,textureType:0},shaderSource:y}},Tm=(i,t,n)=>{let e=gm(t.length,n.cacheKey);return{...e,get:()=>ym(i,e,t,n.axis)}},hf=i=>`int getTextureWhereDataResides(int index) {
      ${i.map((n,e)=>`if(index<${n}) {return ${e};}
`).join("")}
    }`,vm=i=>hf(i),xm=(i,t)=>{let n=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${t}]) {`];for(let e=0;e<i;++e)e===0?n.push(`	if (textureIndex == ${e}) { return _X${e}(indices); }`):e===i-1?n.push(`	else { return _X${e}(indices); }`):n.push(`	else if (textureIndex == ${e}) { return _X${e}(indices); }`);return n.push("	}"),n.join(`
`)},wm=i=>{let t=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let n=0;n<i.length;++n)n===0?t.push(`	if (index == ${n}) { return ${i[n]}; }`):n===i.length-1?t.push(`	else { return ${i[n]}; }`):t.push(`	else if (index == ${n}) { return ${i[n]}; }`);return t.push("	}"),t.join(`
`)},mf=i=>ne({axis:i.attributes.getInt("axis")}),_m=i=>{if(!i||i.length<1)throw new Error("too few inputs");let t=i[0].type,n=i[0].dims.length;if(t==="string")throw new Error("string tensor is not supported yet");for(let e of i){if(e.type!==t)throw new Error("input tensors should be one type");if(e.dims.length!==n)throw new Error("input tensors should have the same shape")}}});function Om(){return Et("abs")}function Im(){return Et("acos")}function Am(){return Et("asin")}function Sm(){return Et("atan")}function Pm(){return Et("ceil")}function Em(){return Et("cos")}function Dm(i){let t="elu";return{body:`
  const float alpha = float(${i});

  float ${t}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${t}_(vec4 v) {
    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));
  }
  `,name:t,type:0}}function Lm(){return Et("exp")}function Cm(){return Et("floor")}function aa(i,t){let n="clip";return{body:`
  const float min = float(${i});
  const float max = float(${t});

  float ${n}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${n}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:n,type:0}}function Fm(){let i="indentity";return{body:`
  float ${i}_(float a) {
    return a;
  }
  vec4 ${i}_(vec4 v) {
    return v;
  }
  `,name:i,type:0}}function km(i){let t="leakyRelu";return{body:`
  const float alpha = float(${i});

  float ${t}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${t}_(vec4 v) {
    return vec4(${t}_(v.x), ${t}_(v.y), ${t}_(v.z), ${t}_(v.w));
  }
  `,name:t,type:0}}function $m(){return Et("log")}function Bm(){let i="neg";return{body:`
  float ${i}_(float a) {
    return -a;
  }
  vec4 ${i}_(vec4 v) {
    return -v;
  }
  `,name:i,type:0}}function Rm(){let i="not";return{body:`
  float ${i}_(float a) {
    return float( ! bool(a) );
  }
  bool ${i}_(bool a) {
    return !a;
  }
  vec4 ${i}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${i}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:i,type:0}}function Nm(){return Et("sin")}function sa(){let i="relu";return{body:`
  float ${i}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${i}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:i,type:0}}function ua(){let i="sigmoid";return{body:`
  float ${i}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${i}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:i,type:0}}function Mm(){return Et("sqrt")}function Gm(){return Et("tan")}function Um(){let i="tanh";return{body:`
  float ${i}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${i}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:i,type:0}}function Et(i){return{body:`
  float ${i}_(float a) {
    return ${i}(a);
  }
  vec4 ${i}_(vec4 v) {
    return ${i}(v);
  }
  `,name:i,type:0}}var Wm,$e,gf,yf,Tf,vf,la,xf,wf,zm,_f,Of,If,Af,Sf,Pf,fa,Ef,Df,Lf,Cf,Ff,kf,$f,Bf,Rf,Nf,Mf,ca=k(()=>{"use strict";je();me();sr();Ee();fe();Wm=(i,t,n,e)=>{let r=i.session.pack?2:0,o=J(i.session.backend.glContext.version);return{...t,output:{dims:n.dims,type:n.type,textureType:r},shaderSource:`
     ${e.body}
     void main() {
       vec4 v = ${o.texture2D}(A, TexCoords);
       v = ${e.name}_(v);
       ${o.output} = v;
     }
     `,hasMain:!0}},$e=(i,t,n,e)=>{let r=i.session.pack?2:0,o={name:n.name,inputTypes:[r],inputNames:["A"],cacheHint:e};return{...o,get:()=>Wm(i,o,t,n)}},gf=(i,t)=>[i.run($e(i,t[0],Om()),t)],yf=(i,t)=>[i.run($e(i,t[0],Im()),t)],Tf=(i,t)=>[i.run($e(i,t[0],Am()),t)],vf=(i,t)=>[i.run($e(i,t[0],Sm()),t)],la=(i,t,n)=>[i.run($e(i,t[0],aa(n.min,n.max),n.cacheKey),t)],xf=i=>ne({min:i.attributes.getFloat("min",Rr),max:i.attributes.getFloat("max",Nr)}),wf=(i,t)=>{let n=zm(i,t);return la(i,[t[0]],n)},zm=(i,t)=>{if(t.length>=3&&(!i.session.isInitializer(t[1].dataId)||!i.session.isInitializer(t[2].dataId)))throw new Error("dynamic clip attributes are not allowed");let n=t.length>=3?t[1].numberData[0]:Rr,e=t.length>=3?t[2].numberData[0]:Nr;return ne({min:n,max:e})},_f=(i,t)=>[i.run($e(i,t[0],Pm()),t)],Of=(i,t)=>[i.run($e(i,t[0],Em()),t)],If=(i,t,n)=>[i.run($e(i,t[0],Dm(n.alpha),n.cacheKey),t)],Af=i=>ne({alpha:i.attributes.getFloat("alpha",1)}),Sf=(i,t)=>[i.run($e(i,t[0],Lm()),t)],Pf=(i,t)=>[i.run($e(i,t[0],Cm()),t)],fa=(i,t)=>[i.run($e(i,t[0],Fm()),t)],Ef=(i,t,n)=>[i.run($e(i,t[0],km(n.alpha),n.cacheKey),t)],Df=i=>ne({alpha:i.attributes.getFloat("alpha",.01)}),Lf=(i,t)=>[i.run($e(i,t[0],$m()),t)],Cf=(i,t)=>[i.run($e(i,t[0],Bm()),t)],Ff=(i,t)=>[i.run($e(i,t[0],Rm()),t)],kf=(i,t)=>[i.run($e(i,t[0],sa()),t)],$f=(i,t)=>[i.run($e(i,t[0],ua()),t)],Bf=(i,t)=>[i.run($e(i,t[0],Nm()),t)],Rf=(i,t)=>[i.run($e(i,t[0],Mm()),t)],Nf=(i,t)=>[i.run($e(i,t[0],Gm()),t)],Mf=(i,t)=>[i.run($e(i,t[0],Um()),t)]});function Yt(i){let t;switch(i.activation){case"Relu":t=sa();break;case"Sigmoid":t=ua();break;case"Clip":t=aa(i.clipMin,i.clipMax);break;default:return{activationFunction:"",applyActivation:""}}let n=t.name,e=t.body,r=`value = ${n}_(value);`;return{activationFunction:e,applyActivation:r}}var pn,Ur=k(()=>{"use strict";me();ca();pn=i=>{let t=i.getString("activation","");if(t==="Clip"){let[n,e]=i.getFloats("activation_params",[Rr,Nr]);return{activation:t,clipMax:e,clipMin:n,activationCacheKey:`${t}:${n},${e}`}}return{activation:t,activationCacheKey:t}}});var Hm,jm,Gf,Uf=k(()=>{"use strict";_t();Ee();fe();zo();Ur();Hm=(i,t)=>({name:"GroupedConv",inputNames:i?["X","W","Bias"]:["X","W"],inputTypes:i?[0,0,0]:[0,0],cacheHint:t}),jm=(i,t,n,e)=>{let o=t.length>2?"value += getBias(output_channel);":"",s=t[0].dims.slice(),a=t[1].dims.slice(),u=a[0]/e.group;ye.verbose("GroupedConv",`autpPad:${e.autoPad}, dilations:${e.dilations}, group:${e.group}, kernelShape:${e.kernelShape}, pads:${e.pads}, strides:${e.strides}`);let l=dn(s,a,e.dilations,e.pads,e.strides),c=J(i.session.backend.glContext.version),{activationFunction:b,applyActivation:y}=Yt(e),w=`
  const ivec2 strides = ivec2(${e.strides[0]}, ${e.strides[1]});
  const ivec2 pads = ivec2(${e.pads[0]}, ${e.pads[1]});
  ${b}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${u};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${a[1]}; wInChannel++) {
      int input_channel = group_id * ${a[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${a[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${e.dilations[0]};

        if (xHeight < 0 || xHeight >= ${s[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${a[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${e.dilations[1]};
          if (xWidth < 0 || xWidth >= ${s[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${o}
    ${y}
    ${c.output} = vec4(value, .0, .0, .0);
  }
`;return{...n,output:{dims:l,type:t[0].type,textureType:0},shaderSource:w,hasMain:!0}},Gf=(i,t,n)=>{let e=Hm(t.length>2,n.cacheKey);return{...e,get:()=>jm(i,t,e,n)}}});var qm,Ym,Wf,zf=k(()=>{"use strict";Ee();fe();Gr();qm=i=>({name:"Im2Col (packed)",inputNames:["A"],inputTypes:[2],cacheHint:i}),Ym=(i,t,n,e,r,o)=>{let s=n.dims,a=e.dims,u=2,l=3,c=r.length,b=[a[1]*a[2]*a[3],r[2]*r[3]],y=a[2]*a[3],w=qt(),A=J(i.session.backend.glContext.version),O="";for(let $=0;$<=1;$++)for(let F=0;F<=1;F++)O+=`
            blockIndex = rc.x + ${F};
            pos = rc.y + ${$};

            if(blockIndex < ${b[1]} && pos < ${b[0]}) {
              offsetY = int(blockIndex / (${r[c-1]})) * ${o.strides[0]} -
                ${o.pads[0]};
              d0 = offsetY + ${o.dilations[0]} * (imod(pos, ${y}) / ${a[2]});

              if(d0 < ${s[u]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${r[c-1]}) * ${o.strides[1]} -
                  ${o.pads[1]};
                d1 = offsetX + ${o.dilations[1]} * imod(imod(pos, ${y}), ${a[2]});

                if(d1 < ${s[l]} && d1 >= 0) {

                  ch = int(float(pos)/ ${y}.);
                    innerDims = vec2(d0, d1);
                    result[${$*2+F}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;let C=`
      ${w}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${O}
          ${A.output} = result;
      }
            `;return{...t,output:{dims:b,type:n.type,textureType:2},shaderSource:C,hasMain:!0}},Wf=(i,t,n,e,r)=>{let o=qm(r.cacheKey);return{...o,get:()=>Ym(i,o,t,n,e,r)}}});function Km(i,t,n){let e=t[0].dims,r=t[1].dims,o=st.calcShape(e,r,!0);if(!o)throw new Error("Can't use matmul on the given tensors");let s=ut(o.length),a=Mt(),{activationFunction:u,applyActivation:l}=Yt(n),c=t.length>2,b=c?"value += getBiasForMatmul();":"",y=c?`${da(s,a,t[2].dims,o,!1)}`:"",w=o.length,A=e.length,O=r.length,C=e[e.length-1],$=`
    ${u}
    ${y}
    float process(int indices[${w}]) {
        int a[${A}];
        int b[${O}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${C}; ++k) {
            a[${A-1}] = k;
            b[${O-2}] = k;
            value += _A(a) * _B(b);
        }
        ${b}
        ${l}
        return value;
    }`;return{...i,output:{dims:o,type:t[0].type,textureType:0},shaderSource:$}}function pa(i,t){let n=Xm(i.length>2,t.activationCacheKey);return{...n,get:()=>Km(n,i,t)}}function da(i,t,n,e,r){let o="",s=n.length,a=e.length,u=a-s;a<2&&s>0?o="coords":o=n.map((O,C)=>`coords.${t[C+u]}`).join(", ");let c=st.getBroadcastDims(n,e).map(O=>`coords.${t[O+u]} = 0;`).join(`
`),y=q.size(n)===1,w="vec4(outputValue.xx, outputValue.yy)";return y&&(w="vec4(outputValue.x)"),r?`
vec4 getBiasForMatmul() {
  ${i} coords = getOutputCoords();
  ${c}
  vec4 outputValue = getBias(${o});
  return ${w};
}`:`
float getBiasForMatmul() {
  ${i} coords = getOutputCoords();
  ${c}
  return getBias(coords.x);
}`}var Vf,Hf,Xm,Jm,Vo=k(()=>{"use strict";me();fe();jt();Ur();ha();Vf=(i,t,n)=>(Jm(t),i.session.pack?[i.run(Ho(i,t,n),t)]:[i.run(pa(t,n),t)]),Hf=i=>pn(i.attributes),Xm=(i,t)=>({name:"MatMul",inputNames:i?["A","B","Bias"]:["A","B"],inputTypes:i?[0,0,0]:[0,0],cacheHint:t});Jm=i=>{if(!i||i.length!==2)throw new Error("MatMul requires 2 inputs.");if(i[0].dims[i[0].dims.length-1]!==i[1].dims[i[1].dims.length-2])throw new Error("shared dimension does not match.");if(i[0].type!=="float32"&&i[0].type!=="float64"||i[1].type!=="float32"&&i[1].type!=="float64")throw new Error("inputs should be float type");if(i[0].type!==i[1].type)throw new Error("inputs types should match")}});function eb(i,t,n,e){let r=[],o=[],s=n[0].dims,a=n[1].dims,u=s.length,l=a.length,c=e.length,b=c-u,y=c-l;r=s.map((G,ee)=>`coords.${t[ee+b]}`),r[u-1]="i*2",r.join(", "),o=a.map((G,ee)=>`coords.${t[ee+y]}`),o[l-2]="i*2",o.join(", ");let w=st.getBroadcastDims(s,e),A=st.getBroadcastDims(a,e),O=w.map(G=>`coords.${t[G+b]} = 0;`).join(`
`),C=A.map(G=>`coords.${t[G+y]} = 0;`).join(`
`),$=`int lastDim = coords.${t[c-1]};
  coords.${t[c-1]} = coords.${t[c-2]};
  coords.${t[c-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${i} coords = getOutputCoords();
  ${$}
  ${O}
  vec4 outputValue = getA(${r});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${i} coords = getOutputCoords();
  ${$}
  ${C}
  vec4 outputValue = getB(${o});
  return outputValue;
}`}function tb(i,t){let n="";for(let e=0;e<t-2;e++)n+=`rc.${i[e]}, `;return n+=`rc.${i[t-2]}, i*2`,n}function rb(i,t){let n="";for(let e=0;e<t-2;e++)n+=`rc.${i[e]}, `;return n+=`i*2, rc.${i[t-1]}`,n}var Zm,Qm,Ho,ha=k(()=>{"use strict";me();Ee();fe();jt();Ur();Vo();Zm=(i,t)=>({name:"MatMul (packed)",inputNames:i?["A","B","Bias"]:["A","B"],inputTypes:i?[2,2,2]:[2,2],cacheHint:t}),Qm=(i,t,n,e)=>{let r=n.length>2,o=r?"value += getBiasForMatmul();":"",s=n[0].dims,a=n[1].dims,u=st.calcShape(s,a,!0),l=!q.areEqual(n[0].dims,n[1].dims);if(!u)throw new Error("Can't use matmul on the given tensors");let c=s[s.length-1],b=Math.ceil(c/2),y=s.length,w=a.length,A=J(i.session.backend.glContext.version),O=ut(u.length),C=u.length,$=Mt(),{activationFunction:F,applyActivation:G}=Yt(e),ee=r?`${da(O,$,n[2].dims,u,!0)}`:"",z=l?`${eb(O,$,n,u)}`:"",ve=l?"getAAtOutCoordsMatmul(i)":`getA(${tb($,y)})`,Ie=l?"getBAtOutCoordsMatmul(i)":`getB(${rb($,w)})`,se=l?"":`${O} rc =
          getOutputCoords(); int lastDim = rc.${$[C-1]}; rc.${$[C-1]} =
          rc.${$[C-2]}; rc.${$[C-2]} = lastDim;
      `,Re=`
            ${z}
            ${ee}
            ${F}
            void main() {
              ${se}

              vec4 value = vec4(0);
              for (int i = 0; i < ${b}; i++) {
                vec4 a = ${ve};
                vec4 b = ${Ie};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${o}
              ${G}
              ${A.output} = value;
            }`;return{...t,output:{dims:u,type:n[0].type,textureType:2},shaderSource:Re,hasMain:!0}},Ho=(i,t,n)=>{let e=Zm(t.length>2,n.activationCacheKey);return{...e,get:()=>Qm(i,e,t,n)}}});var jf,qf=k(()=>{"use strict";zo();zf();ha();jf=(i,t,n)=>{let e=t[0].dims,r=t[1].dims,o=dn(e,r,n.dilations,n.pads,n.strides),s=i.run(Wf(i,t[0],t[1],o,n),[t[0]]),a=i.reshapePacked(t[1],[r[0],r[1]*r[2]*r[3]]),u=t.length===3?[a,s,t[2]]:[a,s],l=i.run(Ho(i,u,n),u);return i.reshapePacked(l,o)}});var nb,ob,Yf,ma,ba=k(()=>{"use strict";fe();nb=i=>({name:"Im2Col",inputNames:["X"],inputTypes:[0],cacheHint:i}),ob=(i,t,n,e,r,o)=>{let s=n.dims,a=e.dims,u=r.length,l=ma(s,a,r,4),c=`
        const int XC = ${s[1]};
        const int XH = ${s[2]};
        const int XW = ${s[3]};
        const int KH = ${o.kernelShape[0]};
        const int KW = ${o.kernelShape[1]};
        const int dilationH = ${o.dilations[0]};
        const int dilationW = ${o.dilations[1]};
        const int strideH = ${o.strides[0]};
        const int strideW = ${o.strides[1]};
        const int padH = ${o.pads[0]};
        const int padW = ${o.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${u}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${s.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return{...t,output:{dims:l,type:n.type,textureType:4},shaderSource:c}},Yf=(i,t,n,e,r)=>{let o=nb(r.cacheKey);return{...o,get:()=>ob(i,o,t,n,e,r)}},ma=(i,t,n,e=4)=>[n[0],n[2],n[3],Math.ceil(i[1]*t[2]*t[3]/e)]});var ib,ab,Xf,Kf=k(()=>{"use strict";me();Ee();fe();Ur();ba();ib=(i,t)=>({name:"ConvDotProduct",inputNames:i?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:i?[0,4,0]:[0,4],cacheKey:t.activationCacheKey}),ab=(i,t,n,e,r)=>{let o=n[0].dims,s=n[1].dims,a=[s[0],Math.ceil(o[1]*s[2]*s[3]/4)],u=ma(o,s,e),[l,c]=i.calculateTextureWidthAndHeight(a,4),b=q.computeStrides(u),[y,w]=i.calculateTextureWidthAndHeight(u,4),A=e.length,O=n.length<3?"0.0":"_B(b)",C=Math.ceil(o[1]*s[2]*s[3]/4),{activationFunction:$,applyActivation:F}=Yt(r),G=J(i.session.backend.glContext.version),ee=`
${$}
float process(int indices[${A}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${b[0]} + im2col[1] * ${b[1]} + im2col[2] * ${b[2]};
  int kernelOffset = indices[1] * ${a[1]};
  float value = ${O};
  for (int i = 0; i < ${C}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${y}, ${w});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${l}, ${c});
    value += dot(${G.texture2D}(Im2Col, im2colCoords), ${G.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${F}
  return value;
}`;return{...t,output:{dims:e,type:n[0].type,textureType:0},shaderSource:ee}},Xf=(i,t,n,e)=>{let r=ib(t.length>2,e);return{...r,get:()=>ab(i,r,t,n,e)}}});var dn,ga,sb,ub,lb,fb,ya,cb,zo=k(()=>{"use strict";je();me();Uf();qf();Kf();Ur();ba();Vo();dn=(i,t,n,e,r)=>{let o=i[0],s=i.slice(2),a=s.length,u=t[0],c=t.slice(2).map((A,O)=>A+(A-1)*(n[O]-1)),y=s.map((A,O)=>A+e[O]+e[O+a]).map((A,O)=>Math.floor((A-c[O]+r[O])/r[O]));return[o,u].concat(...y)},ga=(i,t,n)=>(cb(t,n),sb(i,t,n)),sb=(i,t,n)=>{let e=fb(n,t),r=i.session.pack,o=e.kernelShape[0]===1&&e.kernelShape[1]===1;return e.group>1?[i.run(Gf(i,t,e),t)]:o&&r?[ub(i,t,e)]:r&&t[0].dims.length===4&&t[0].dims[0]===1&&!o?[jf(i,t,e)]:[lb(i,t,e)]},ub=(i,t,n)=>{let e=t[0].dims,r=t[1].dims,o=dn(e,r,n.dilations,n.pads,n.strides),s=i.reshapeUnpacked(t[0],[e[1],e[2]*e[3]]),a=i.reshapeUnpacked(t[1],[r[0],r[1]]),u=t.length>2?[a,s,t[2]]:[a,s],l=i.run(pa(u,n),u);return i.reshapeUnpacked(l,o)},lb=(i,t,n)=>{let e=t[0].dims,r=t[1].dims,o=dn(e,r,n.dilations,n.pads,n.strides),s=i.run(Yf(i,t[0],t[1],o,n),[t[0]]),a=t.length===3?[s,t[1],t[2]]:[s,t[1]];return i.run(Xf(i,t,o,n),a)},fb=(i,t)=>{let n=i.kernelShape.slice();if(i.kernelShape.length===0)for(let o=2;o<t[1].dims.length;++o)n.push(t[1].dims[o]);let e=i.pads.slice();Br.adjustPadsBasedOnAutoPad(t[0].dims,i.strides,i.dilations,n,e,i.autoPad);let r=Object.assign({},i);return Object.assign(r,{kernelShape:n,pads:e,cacheKey:i.cacheKey}),r},ya=i=>{let t=i.attributes,n=pn(t),e=t.getString("auto_pad","NOTSET"),r=t.getInts("dilations",[1,1]),o=t.getInt("group",1),s=t.getInts("kernel_shape",[]),a=t.getInts("pads",[0,0,0,0]),u=t.getInts("strides",[1,1]);return ne({autoPad:e,dilations:r,group:o,kernelShape:s,pads:a,strides:u,...n})},cb=(i,t)=>{if(!i||i.length!==2&&i.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(i[0].dims.length!==4||i[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");let n=i[0].dims[1],e=i[1].dims[1]*t.group;if(n!==e)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(i.length===3&&(i[2].dims.length!==1||i[1].dims[0]!==i[2].dims[0]))throw new Error("invalid bias");let r=i[0].dims.length-2;if(t.dilations.length!==r)throw new Error(`dilations should be ${r}D`);if(t.strides.length!==r)throw new Error(`strides should be ${r}D`);if(t.pads.length!==r*2)throw new Error(`pads should be ${r*2}D`);if(t.kernelShape.length!==0&&t.kernelShape.length!==i[1].dims.length-2)throw new Error("invalid kernel shape");if(i[0].type!=="float32"||i[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(i.length===3&&i[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}});var pb,db,hb,Jf,mb,bb,gb,yb,Tb,vb,Zf,xb,Qf=k(()=>{"use strict";je();Ee();fe();Ur();pb=(i,t,n,e,r,o)=>(i-1)*t+n+(e-1)*r+1-o,db=(i,t,n,e,r)=>{let o=Math.floor(i/2);t==="SAME_UPPER"?(n[e]=o,n[r]=i-o):t==="SAME_LOWER"&&(n[e]=i-o,n[r]=o)},hb=(i,t,n,e,r,o,s,a)=>{let u=i.length-2,l=a.length===0;for(let c=0;c<u;++c){let b=l?i[c+2]*o[c]:a[c],y=pb(i[c+2],o[c],r[c],t[c],n[c],b);db(y,e,r,c,c+u),l&&a.push(o[c]*(i[c+2]-1)+s[c]+(t[c]-1)*n[c]+1-r[c]-r[c+u])}},Jf=(i,t,n)=>(xb(t,n),mb(i,t,n)),mb=(i,t,n)=>{let e=vb(n,t);return[Tb(i,t,e)]},bb=(i,t)=>({name:"ConvTranspose",inputNames:i?["X","W","B"]:["X","W"],inputTypes:i?[0,0,0]:[0,0],cacheHint:t}),gb=(i,t,n,e)=>{let o=t.length>2?"getB(output_channel)":"0.0",s=t[0].dims,a=t[1].dims,u=a[1],l=a[0]/e.group,c=[t[0].dims[0],t[1].dims[1]*e.group,...e.outputShape],b=J(i.session.backend.glContext.version),{activationFunction:y,applyActivation:w}=Yt(e),A=`
  const ivec2 strides = ivec2(${e.strides[0]}, ${e.strides[1]});
  const ivec2 pads = ivec2(${e.pads[0]}, ${e.pads[1]});
  ${y}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${u};
    int wOutChannel = output_channel - group_id * ${u};

    float value = ${o};
    for (int inChannelOffset = 0; inChannelOffset < ${l}; inChannelOffset++) {
      int input_channel = group_id * ${l} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${a[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${a[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${e.dilations[0]}, wHOff * ${e.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${s[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${s[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${w}
    ${b.output} = vec4(value, .0, .0, .0);
  }
`;return{...n,output:{dims:c,type:t[0].type,textureType:0},shaderSource:A,hasMain:!0}},yb=(i,t,n)=>{let e=bb(t.length>2,n.cacheKey);return{...e,get:()=>gb(i,t,e,n)}},Tb=(i,t,n)=>i.run(yb(i,t,n),t),vb=(i,t)=>{let n=i.kernelShape.slice();if(i.kernelShape.length===0)for(let a=2;a<t[1].dims.length;++a)n.push(t[1].dims[a]);let e=i.pads.slice(),r=i.outputShape.slice(),o=t[0].dims;hb(o,n,i.dilations,i.autoPad,e,i.strides,i.outputPadding,r);let s=Object.assign({},i);return Object.assign(s,{kernelShape:n,pads:e,outputShape:r,cacheKey:i.cacheKey}),s},Zf=i=>{let t=i.attributes,n=pn(t),e=t.getString("auto_pad","NOTSET"),r=t.getInts("dilations",[1,1]),o=t.getInt("group",1),s=t.getInts("kernel_shape",[]),a=t.getInts("output_padding",[0,0]),u=t.getInts("output_shape",[]),l=t.getInts("pads",[0,0,0,0]),c=t.getInts("strides",[1,1]);return ne({autoPad:e,dilations:r,group:o,kernelShape:s,outputPadding:a,outputShape:u,pads:l,strides:c,...n})},xb=(i,t)=>{if(!i||i.length!==2&&i.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(i[0].dims.length!==4||i[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");let n=i[0].dims[1],e=i[1].dims[0];if(n!==e)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let r=i[1].dims[1]*t.group;if(i.length===3&&(i[2].dims.length!==1||i[2].dims[0]!==r))throw new Error("invalid bias");let o=i[0].dims.length-2;if(t.dilations.length!==o)throw new Error(`dilations should be ${o}D`);if(t.strides.length!==o)throw new Error(`strides should be ${o}D`);if(t.pads.length!==o*2)throw new Error(`pads should be ${o*2}D`);if(t.outputPadding.length!==o)throw new Error(`output_padding should be ${o}D`);if(t.kernelShape.length!==0&&t.kernelShape.length!==i[1].dims.length-2)throw new Error("invalid kernel shape");if(t.outputShape.length!==0&&t.outputShape.length!==i[0].dims.length-2)throw new Error("invalid output shape");if(i[0].type!=="float32"||i[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(i.length===3&&i[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}});var ec,Wr,tc,wb,rc,_b,Ob,Ib,jo=k(()=>{"use strict";je();me();fe();ec={name:"Transpose",inputNames:["A"],inputTypes:[0]},Wr=(i,t,n)=>(Ib(t),[i.run({...ec,cacheHint:n.cacheKey,get:()=>wb(i,t[0],n.perm)},t)]),tc=i=>ne({perm:i.attributes.getInts("perm",[])}),wb=(i,t,n)=>{let e=t.dims;n=rc(e,n);let r=_b(e,n),o=e.length,s=`
      ${Ob("perm",n,o)}
      float process(int indices[${o}]) {
        int a[${o}];
        perm(a, indices);
        return _A(a);
      }`;return{...ec,output:{dims:r,type:t.type,textureType:0},shaderSource:s}},rc=(i,t)=>(t&&t.length!==i.length&&(t=[...i.keys()].reverse()),t),_b=(i,t)=>(t=rc(i,t),q.sortBasedOnPerm(i,t)),Ob=(i,t,n)=>{let e=[];e.push(`void ${i}(out int a[${n}], int src[${n}]) {`);for(let r=0;r<n;++r)e.push(`	a[${t[r]}]=src[${r}];`);return e.push("	}"),e.join(`
`)},Ib=i=>{if(!i||i.length!==1)throw new Error("Transpose requires 1 input.");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("input should be float tensor")}});var nc,oc,Ab,ic=k(()=>{"use strict";jo();nc=(i,t,n)=>{Ab(t);let e=n.blocksize,r=e*e,o=n.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],s=n.mode==="DCR"?[t[0].dims[0],e,e,t[0].dims[1]/r,t[0].dims[2],t[0].dims[3]]:[t[0].dims[0],t[0].dims[1]/r,e,e,t[0].dims[2],t[0].dims[3]],a=i.reshapeUnpacked(t[0],s),u={perm:o,cacheKey:`${o}`},[l]=Wr(i,[a],u),c=[t[0].dims[0],t[0].dims[1]/r,t[0].dims[2]*e,t[0].dims[3]*e];return[i.reshapeUnpacked(l,c)]},oc=i=>{let t=i.attributes.getInt("blocksize");if(t<1)throw new Error(`blocksize must be >= 1, but got : ${t} for DepthToSpace`);let n=i.attributes.getString("mode","DCR");if(n!=="DCR"&&n!=="CRD")throw new Error(`unrecognized mode: ${n} for DepthToSpace`);return{mode:n,blocksize:t}},Ab=i=>{if(i.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${i.length}`);if(i[0].type==="string"||i[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}});var ac,sc,Sb,uc=k(()=>{"use strict";me();ac=(i,t,n)=>{Sb(t,n);let e=q.flattenShape(t[0].dims,n);return[i.reshapeUnpacked(t[0],e)]},sc=i=>i.attributes.getInt("axis",1),Sb=(i,t)=>{if(!i||i.length!==1)throw new Error("Flatten requires 1 input.");let n=i[0].dims.length;if(n===0)throw new Error("scalar tensor is not supported.");if(t<-n||t>n)throw new Error("Invalid axis");if(i[0].type==="string")throw new Error("string tensor is not supported.")}});var wr,jn=k(()=>{"use strict";wr=["float32","float64","int32","int16","int8","uint16","uint32","uint8"]});var lc,fc,Pb,Eb,Db,Lb,cc=k(()=>{"use strict";je();jn();me();fe();lc=(i,t,n)=>(Lb(t,n.axis),[i.run(Db(i,t,n),t)]),fc=i=>ne({axis:i.attributes.getInt("axis",0)}),Pb={name:"Gather",inputNames:["A","B"],inputTypes:[0,0]},Eb=(i,t,n,e)=>{let r=n[0].dims.slice(),o=n[1].dims.slice(),s=new Array(r.length+o.length-1);e=q.normalizeAxis(e,r.length);let a=[];for(let y=0;y<s.length;y++)y<e?(s[y]=r[y],a.push(`inputIdx[${y}] = outputIdx[${y}];`)):y<e+o.length?(s[y]=o[y-e],a.push(`indexDataIdx[${y-e}] = outputIdx[${y}];`)):(s[y]=r[y-o.length+1],a.push(`inputIdx[${y-o.length+1}] = outputIdx[${y}];`));let u=s.length||1,l=r.length,c=o.length||1,b=`
      float process(int outputIdx[${u}]) {
        int inputIdx[${l}];
        int indexDataIdx[${c}];
        indexDataIdx[0] = 0;
        ${a.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${e}] = idx < 0 ? idx + ${r[e]} : idx;
        return _A(inputIdx);
      }`;return{...t,output:{dims:s,type:n[0].type,textureType:0},shaderSource:b}},Db=(i,t,n)=>{let e={...Pb,cacheHint:n.cacheKey};return{...e,get:()=>Eb(i,e,t,n.axis)}},Lb=(i,t)=>{if(!i||i.length!==2)throw new Error("Gather requires 2 inputs.");let n=i[0].dims.length;if(n<1)throw new Error("Invalid input shape.");if(t<-n||t>n-1)throw new Error("Invalid axis.");if(wr.indexOf(i[0].type)===-1)throw new Error("Invaid input type.");if(i[1].type!=="int32"&&i[1].type!=="int16")throw new Error("Invaid input type.")}});var Ta,pc,dc,hc,Cb,Fb,kb,mc=k(()=>{"use strict";je();me();fe();Ta=(i,t,n)=>(kb(t,n),[i.run(Cb(t,n),t)]),pc=(i,t)=>{let n=i.attributes.getInt("transA",0)!==0,e=i.attributes.getInt("transB",0)!==0,r=i.attributes.getFloat("alpha",1),o=i.attributes.getFloat("beta",1);return ne({transA:n,transB:e,alpha:r,beta:o,isOptionalC:t})},dc=i=>pc(i,!1),hc=i=>pc(i,!0),Cb=(i,t)=>{let n={name:"Gemm",inputNames:i.length===3?["A","B","C"]:["A","B"],inputTypes:i.length===3?[0,0,0]:[0,0],key:t.cacheKey};return{...n,get:()=>Fb(n,i,t)}},Fb=(i,t,n)=>{let e=t[0].dims.slice(),r=t[1].dims.slice(),[o,s]=$o.getShapeOfGemmResult(e,n.transA,r,n.transB,t.length===3?t[2].dims:void 0),a=[o,s];if(!a)throw new Error("Can't use gemm on the given tensors");let u=e[e.length-1],l="";n.transA&&(u=e[0]),n.transA&&n.transB?l="value += _A_T(a) * _B_T(b);":n.transA&&!n.transB?l="value += _A_T(a) * _B(b);":!n.transA&&n.transB?l="value += _A(a) * _B_T(b);":!n.transA&&!n.transB&&(l="value += _A(a) * _B(b);");let c=a.length,b=t.length===3?`int c[${t[2].dims.length}];`:"",y=t.length===3?"bcastIndices_C(indices, c);":"",w=t.length===3?"value += beta * _C(c);":"",A=`
      float process(int indices[${c}]) {
          int a[${c}];
          int b[${c}];
          ${b}

          copyVec(indices, a);
          copyVec(indices, b);
          ${y}

          float value = 0.0;
          for (int k=0; k<${u}; ++k) {
              a[${c-1}] = k;
              b[${c-2}] = k;
              ${l}
          }

          value = value * alpha;
          ${w}
          return value;
      }`;return{...i,output:{dims:a,type:t[0].type,textureType:0},variables:[{name:"alpha",type:"float",data:n.alpha},{name:"beta",type:"float",data:n.beta}],shaderSource:A}},kb=(i,t)=>{if(!i)throw new Error("Input is missing");if(t.isOptionalC&&(i.length<2||i.length>3))throw new Error("Invaid input shape.");if(!t.isOptionalC&&i.length!==3)throw new Error("Gemm requires 3 inputs");if(i.length===3&&i[2].dims.length!==1&&i[2].dims.length!==2)throw new Error("Invalid input shape of C");if(i[0].type!=="float32"&&i[0].type!=="float64"||i[1].type!=="float32"&&i[1].type!=="float64"||i.length===3&&i[2].type!=="float32"&&i[2].type!=="float64")throw new Error("Invalid input type.");if(i[0].type!==i[1].type||i.length===3&&i[0].type!==i[2].type)throw new Error("Input types are mismatched")}});var bc,gc,$b,Bb,Rb,Nb,Mb,yc=k(()=>{"use strict";je();fe();bc=(i,t,n)=>(Mb(t),[i.run(Rb(i,t,n),t)]),gc=i=>{let t=i.attributes.getFloat("scale"),n=i.attributes.getFloats("bias");return ne({scale:t,bias:n})},$b={name:"ImageScaler",inputNames:["X"],inputTypes:[0]},Bb=(i,t,n,e)=>{let r=n[0].dims.slice(),o=r.length,a=`
      ${Nb(e.bias.length)}
      float process(int indices[${o}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return{...t,output:{dims:r,type:n[0].type,textureType:0},variables:[{name:"bias",type:"float",arrayLength:e.bias.length,data:e.bias},{name:"scale",type:"float",data:e.scale}],shaderSource:a}},Rb=(i,t,n)=>{let e={...$b,cacheHint:n.cacheKey};return{...e,get:()=>Bb(i,e,t,n)}},Nb=i=>{let t=[`float getBias(float bias[${i}], int channel) {`];for(let n=0;n<i;++n)n===0?t.push(`	if (channel == ${n}) { return bias[${n}]; }`):n===i-1?t.push(`	else { return bias[${n}]; }`):t.push(`	else if (channel == ${n}) { return bias[${n}]; }`);return t.push("	}"),t.join(`
`)},Mb=i=>{if(!i||i.length!==1)throw new Error("ImageScaler requires 1 input.");if(i[0].dims.length!==4)throw new Error("Invalid input shape.");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type.")}});var vc,xc,Tc,Gb,Ub,Wb,zb,Vb,Hb,wc=k(()=>{"use strict";Ee();fe();vc=(i,t,n)=>{Hb(t);let e=i.run(Ub(t[0]),t);return[i.run(Vb(i,t[0],n,e.dims),[t[0],e,t[1],t[2]])]},xc=i=>i.attributes.getFloat("epsilon",1e-5),Tc={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[0]},Gb=(i,t)=>{let n=t.dims.slice(),e=n[1],r=n[2]*n[3],o=[n[0],e],s=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${n[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${n[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${r});
        temp = 0.0;
        for(int a2=0; a2<${n[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${n[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${r});

        return v;
      }`;return{...i,output:{dims:o,type:t.type,textureType:4},shaderSource:s}},Ub=i=>({...Tc,get:()=>Gb(Tc,i)}),Wb={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[0,4,0,0]},zb=(i,t,n,e,r)=>{let o=J(i.session.backend.glContext.version),[s,a]=i.calculateTextureWidthAndHeight(r,4),[u,l]=[s/4,a],c=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${u}, ${l});
        return ${o.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return{...t,output:{dims:n.dims,type:n.type,textureType:0},variables:[{name:"epsilon",type:"float",data:e}],shaderSource:c}},Vb=(i,t,n,e)=>{let r={...Wb,cacheHint:`${n}`};return{...r,get:()=>zb(i,r,t,n,e)}},Hb=i=>{if(!i||i.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");let t=i[0],n=i[1],e=i[2];if(t.dims.length<3||n.dims.length!==1||e.dims.length!==1)throw new Error("Invalid input shape.");if(n.dims[0]!==t.dims[1]||e.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if(t.type!=="float32"&&t.type!=="float64"||n.type!=="float32"&&n.type!=="float64"||e.type!=="float32"&&e.type!=="float64")throw new Error("Invalid input type.");if(i[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}});function jb(i,t){let n=i[0].dims[1],e=i[0].dims.length,r=-Math.floor((t.size-1)/2),o=Math.ceil((t.size-1)/2),s=`float(${t.alpha}) / float(${t.size})`,a=`float(${t.bias})`,u=`float(${t.beta})`,l=`
    float process(int indices[${e}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${r}; i <= ${o}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${n}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(${a} + ${s} * square_sum, ${u});
    }`;return{...Ic,cacheHint:t.cacheKey,output:{dims:i[0].dims,type:i[0].type,textureType:0},shaderSource:l}}function qb(i,t){return{...Ic,cacheHint:t.cacheKey,get:()=>jb(i,t)}}var _c,Oc,Ic,Yb,Ac=k(()=>{"use strict";je();fe();_c=(i,t,n)=>(Yb(t),[i.run(qb(t,n),t)]),Oc=i=>{let t=i.attributes.getFloat("alpha",1e-4),n=i.attributes.getFloat("beta",.75),e=i.attributes.getFloat("bias",1),r=i.attributes.getInt("size");return ne({alpha:t,beta:n,bias:e,size:r})},Ic={name:"LRN",inputNames:["X"],inputTypes:[0]};Yb=i=>{if(!i||i.length!==1)throw new Error("LRN requires 1 input.");if(i[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(i[0].type!=="float32")throw new Error("input should be float type")}});var Xb,va,Sc,Pc,Ec,Kb,Jb,Zb,Qb,eg,tg,rg,ng,Dc=k(()=>{"use strict";je();me();Ee();fe();Xb={name:"Pad",inputNames:["A"],inputTypes:[0]},va=(i,t,n)=>(Zb(t),[i.run({...Xb,cacheHint:n.cacheKey,get:()=>Jb(i,t[0],n)},t)]),Sc=i=>{let t=i.attributes.getString("mode","constant"),n=i.attributes.getFloat("value",0),e=i.attributes.getInts("pads");return ne({mode:t,value:n,pads:e})},Pc=(i,t,n)=>{Qb(t);let e=Kb(i,t,n);return va(i,[t[0]],e)},Ec=i=>i.attributes.getString("mode","constant"),Kb=(i,t,n)=>{if(!i.session.isInitializer(t[1].dataId)||t.length>=3&&!i.session.isInitializer(t[2].dataId))throw new Error("dynamic pad attributes are not allowed");let e=Array.from(t[1].integerData),r=t.length>=3?t[2].floatData[0]:0;return ne({mode:n,pads:e,value:r})},Jb=(i,t,n)=>{let e=q.padShape(t.dims.slice(),n.pads),r=e.length,s=`
      ${eg(i,t,n)}
      float process(int[${r}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[0],output:{dims:e,type:t.type,textureType:0},shaderSource:s}},Zb=i=>{if(!i||i.length!==1)throw new Error("Pad requires 1 input");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type.")},Qb=i=>{if(!i||i.length!==2&&i.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(i[1].type!=="int32")throw new Error("Invalid input type.");if(i.length>=3&&i[2].type==="string")throw new Error("Invalid input type.")},eg=(i,t,n)=>{let e=J(i.session.backend.glContext.version),[r,o]=i.calculateTextureWidthAndHeight(t.dims,0),s=q.computeStrides(t.dims);switch(n.mode){case"constant":return tg(e,t.dims,s,r,o,n.pads,n.value);case"reflect":return rg(e,t.dims,s,r,o,n.pads);case"edge":return ng(e,t.dims,s,r,o,n.pads);default:throw new Error("Invalid mode")}},tg=(i,t,n,e,r,o,s)=>{let a=t.length,u="";for(let l=a-1;l>=0;--l)u+=`
        k = m[${l}] - ${o[l]};
        if (k < 0)  return constant;
        if (k >= ${t[l]}) return constant;
        offset += k * ${n[l]};
        `;return`
      float padA(int m[${a}]) {
        const float constant = float(${s});
        int offset = 0;
        int k = 0;
        ${u}
        vec2 coords = offsetToCoords(offset, ${e}, ${r});
        float value = getColorAsFloat(${i.texture2D}(A, coords));
        return value;
      }
      `},rg=(i,t,n,e,r,o)=>{let s=t.length,a="";for(let u=s-1;u>=0;--u)a+=`
        k = m[${u}] - ${o[u]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(t[u]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${t[u]}) { k = _2n_1 - k; }
        }
        offset += k * ${n[u]};
        `;return`
      float padA(int m[${s}]) {
        int offset = 0;
        int k = 0;
        ${a}
        vec2 coords = offsetToCoords(offset, ${e}, ${r});
        float value = getColorAsFloat(${i.texture2D}(A, coords));
        return value;
      }
      `},ng=(i,t,n,e,r,o)=>{let s=t.length,a="";for(let u=s-1;u>=0;--u)a+=`
        k = m[${u}] - ${o[u]};
        if (k < 0)  k = 0;
        if (k >= ${t[u]}) k = ${t[u]-1};
        offset += k * ${n[u]};
      `;return`
      float padA(int m[${s}]) {
        int offset = 0;
        int k = 0;
        ${a}
        vec2 coords = offsetToCoords(offset, ${e}, ${r});
        float value = getColorAsFloat(${i.texture2D}(A, coords));
        return value;
      }
      `}});var Cc,Fc,kc,$c,Bc,Rc,Nc,Mc,Gc,og,Lc,Uc,Yo,Wc,qo,ig,zc=k(()=>{"use strict";je();me();fe();Cc=(i,t,n)=>{Yo(t);let e={name:"AveragePool",inputNames:["X"],inputTypes:[0],cacheHint:n.cacheKey};return[i.run({...e,get:()=>kc(t,e,!1,n)},t)]},Fc=i=>{let t=i.attributes.getString("auto_pad","NOTSET"),n=i.attributes.getInt("ceil_mode",0),e=i.attributes.getInt("count_include_pad",0)!==0,r=i.attributes.getInts("kernel_shape"),o=i.attributes.getInts("strides",[]),s=i.attributes.getInts("pads",[]);if(n!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return ne({autoPad:t,ceilMode:n,countIncludePad:e,kernelShape:r,strides:o,pads:s})},kc=(i,t,n,e)=>{let[r,o]=Gc(i,e,n),s=q.size(r.kernelShape),a="value += _X(x);",u="";r.countIncludePad?u+=`value /= float(${s});`:u+=`value /= float(${s} - pad);`;let c=`
        ${Wc(i[0].dims,r,a,u,"0.0")}
      `;return{...t,output:{dims:o,type:i[0].type,textureType:0},shaderSource:c}},$c=(i,t,n)=>{Yo(t);let e={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[0],cacheHint:`${n.countIncludePad}`};return[i.run({...e,get:()=>kc(t,e,!0,n)},t)]},Bc=i=>{let t=i.attributes.getInt("count_include_pad",0)!==0;return ne({autoPad:"",ceilMode:0,countIncludePad:t,kernelShape:[],strides:[],pads:[]})},Rc=(i,t,n)=>{Yo(t);let e={name:"MaxPool",inputNames:["X"],inputTypes:[0],cacheHint:n.cacheKey};return[i.run({...e,get:()=>Mc(t,e,!1,n)},t)]},Nc=i=>{let t=i.attributes.getString("auto_pad","NOTSET"),n=i.attributes.getInt("ceil_mode",0),e=i.attributes.getInts("kernel_shape"),r=i.attributes.getInts("strides",[]),o=i.attributes.getInts("pads",[]),s=i.attributes.getInt("storage_order",0),a=i.attributes.getInts("dilations",[]);if(s!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(n!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return ne({autoPad:t,ceilMode:n,countIncludePad:!1,kernelShape:e,strides:r,pads:o,storageOrder:s,dilations:a})},Mc=(i,t,n,e)=>{let[r,o]=Gc(i,e,n),s=`
      value = max(_X(x), value);
    `,a="",l=`
      ${Wc(i[0].dims,r,s,a,"-1e5")}
    `;return{...t,output:{dims:o,type:i[0].type,textureType:0},shaderSource:l}},Gc=(i,t,n)=>{let e=i[0].dims.slice(),r=Object.hasOwnProperty.call(t,"dilations"),o=t.kernelShape.slice(),s=t.strides.slice(),a=r?t.dilations.slice():[],u=t.pads.slice();Br.adjustPoolAttributes(n,e,o,s,a,u);let l=Br.computePoolOutputShape(n,e,s,a,o,u,t.autoPad),c=Object.assign({},t);return r?Object.assign(c,{kernelShape:o,strides:s,pads:u,dilations:a,cacheKey:t.cacheKey}):Object.assign(c,{kernelShape:o,strides:s,pads:u,cacheKey:t.cacheKey}),[c,l]},og={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},Lc={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[0]},Uc=(i,t)=>(Yo(t),[i.run({...Lc,get:()=>Mc(t,Lc,!0,og)},t)]),Yo=i=>{if(!i||i.length!==1)throw new Error("Pool ops requires 1 input.");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type.")},Wc=(i,t,n,e,r)=>{let o=i.length;if(t.kernelShape.length<=2){let s=t.kernelShape[t.kernelShape.length-1],a=t.strides[t.strides.length-1],u=t.pads[t.pads.length/2-1],l=t.pads[t.pads.length-1],c=i[o-1],b="",y="",w="";if(u+l!==0?b=`
          for (int i = 0; i < ${s}; i++) {
            x[${o} - 1] = indices[${o} - 1] * ${a} - ${u} + i;
            if (x[${o} - 1] < 0 || x[${o} - 1] >= ${c}) {
              pad++;
              continue;
            }
            ${n}
          }`:b=`
          for (int i = 0; i < ${s}; i++) {
            x[${o} - 1] = indices[${o} - 1] * ${a} - ${u} + i;
            ${n}
          }`,t.kernelShape.length===2){let O=t.kernelShape[t.kernelShape.length-2],C=t.strides[t.strides.length-2],$=t.pads[t.pads.length/2-2],F=t.pads[t.pads.length-2],G=i[o-2];$+F!==0?y=`
            for (int j = 0; j < ${O}; j++) {
              x[${o} - 2] = indices[${o} - 2] * ${C} - ${$} + j;
              if (x[${o} - 2] < 0 || x[${o} - 2] >= ${G}) {
                pad+= ${s};
                continue;
              }
          `:y=`
            for (int j = 0; j < ${O}; j++) {
              x[${o} - 2] = indices[${o} - 2] * ${C} - ${$} + j;
            `,w=`
          }
        `}return`
        float process(int indices[${o}]) {
          int x[${o}];
          copyVec(indices, x);

          float value = ${r};
          int pad = 0;
          ${y}
          ${b}
          ${w}
          ${e}
          return value;
        }
      `}else{let s=q.size(t.kernelShape),a=q.computeStrides(t.kernelShape),u=a.length,l=t.pads.length,c=ig(u),b=qo(i,"inputDims"),y=qo(t.pads,"pads"),w=qo(a,"kernelStrides"),A=qo(t.strides,"strides"),O=t.pads.reduce((F,G)=>F+G),C="";return O?C=`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${n}
          }`:C=`
          }
          ${n}
        `,`
        ${c}
        float process(int indices[${o}]) {
          int x[${o}];
          copyVec(indices, x);
          int offset[${u}];
          int pads[${l}];
          int inputDims[${o}];
          int kernelStrides[${u}];
          int strides[${u}];
          ${y}
          ${b}
          ${A}
          ${w}

          float value = ${r};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${s}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${o} - ${u}; j < ${o}; j++) {
              x[j] = indices[j] * strides[j - ${o} + ${u}]
                + offset[j - ${o} + ${u}] - pads[j - 2];
              ${C}
          }
          ${e}

          return value;
        }
      `}},qo=(i,t)=>{let n="";for(let e=0;e<i.length;e++)n+=`
      ${t}[${e}] = ${i[e]};
    `;return n},ig=i=>`
  void offsetToIndices(int offset, int[${i}] strides, out int[${i}] indices) {
    if (${i} == 0) {
      return;
    }
    for (int i = 0; i < ${i} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${i} - 1] = offset;
  }`});var zr,_r,ag,sg,Vc,Hc,jc,qc,Yc,Xc,Kc,Jc=k(()=>{"use strict";je();jn();me();fe();zr=(i,t,n,e,r)=>{sg(t);let o={name:e,inputNames:["A"],inputTypes:[0]};return[i.run({...o,cacheHint:n.cacheKey,get:()=>ag(i,t,n,e,r,o)},t)]},_r=i=>{let t=i.attributes.getInts("axes",[]),n=i.attributes.getInt("keepdims",1)===1;return ne({axes:t,keepDims:n})},ag=(i,t,n,e,r,o)=>{let s=[],a=t[0].dims.length||1,u=[],l=q.normalizeAxes(n.axes,t[0].dims.length),c=r(t,l),b=c[1];for(let A=0;A<t[0].dims.length;A++)l.indexOf(A)>=0||l.length===0?(n.keepDims&&s.push(1),b=`
          for(int j${A} = 0; j${A} < ${t[0].dims[A]}; j${A}++) {
            inputIdx[${A}] = j${A};
            ${b}
          }`):(u.push(`inputIdx[${A}] = outputIdx[${s.length}];`),s.push(t[0].dims[A]));let w=`
      float process(int outputIdx[${s.length||1}]) {
        float value;                 // final result
        int inputIdx[${a}];      // addressing input data
        ${u.join(`
`)}
        ${c[0]}       // init ops for reduce max/min
        ${b}
        ${c[2]}       // final computation for reduce mean
        return value;
      }`;return{...o,output:{dims:s,type:t[0].type,textureType:0},shaderSource:w}},sg=i=>{if(!i||i.length!==1)throw new Error("Reduce op requires 1 input.");if(wr.indexOf(i[0].type)===-1)throw new Error("Invalid input type.")},Vc=(i,t,n)=>zr(i,t,n,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),Hc=(i,t,n)=>zr(i,t,n,"ReduceMean",(r,o)=>{let s=1;for(let a=0;a<r[0].dims.length;a++)(o.indexOf(a)>=0||o.length===0)&&(s*=r[0].dims[a]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${s}.;`]}),jc=(i,t,n)=>zr(i,t,n,"ReduceMax",(r,o)=>{let s=[];for(let a=0;a<r[0].dims.length;a++)(o.indexOf(a)>=0||o.length===0)&&s.push(`inputIdx[${a}] = 0;`);return[`${s.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),qc=(i,t,n)=>zr(i,t,n,"ReduceMin",(r,o)=>{let s=[];for(let a=0;a<r[0].dims.length;a++)(o.indexOf(a)>=0||o.length===0)&&s.push(`inputIdx[${a}] = 0;`);return[`${s.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),Yc=(i,t,n)=>zr(i,t,n,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),Xc=(i,t,n)=>zr(i,t,n,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),Kc=(i,t,n)=>zr(i,t,n,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])});var Zc,Qc=k(()=>{"use strict";me();Zc=(i,t)=>{let n=q.calculateReshapedDims(t[0].dims,t[1].integerData);return i.session.pack?[i.reshapePacked(t[0],n)]:[i.reshapeUnpacked(t[0],n)]}});var ep,xa,tp,rp,qn,ug,wa,Xo,_a=k(()=>{"use strict";je();Ee();fe();ep={name:"Upsample",inputNames:["X"],inputTypes:[0]},xa=(i,t,n)=>(wa(t,n),[i.run({...ep,cacheHint:n.cacheKey,get:()=>ug(i,t,n)},t)]),tp=i=>qn(i,7),rp=i=>qn(i,9),qn=(i,t)=>{let n=t>=10,e=i.attributes.getString("mode","nearest");if(e!=="nearest"&&e!=="linear"&&(t<11||e!=="cubic"))throw new Error(`unrecognized mode: ${e}`);let r=[];t<9&&(r=i.attributes.getFloats("scales"),Xo(r,e,n));let o=i.attributes.getFloat("extrapolation_value",0),s=t>10?i.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(s)===-1)throw new Error(`coordinate_transform_mode '${s}' is not supported`);let a=s==="tf_crop_and_resize",u=a,l=e==="nearest"&&t>=11?i.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(l)===-1)throw new Error(`nearest_mode '${l}' is not supported`);let c=i.attributes.getFloat("cubic_coeff_a",-.75),b=i.attributes.getInt("exclude_outside",0)!==0;if(b&&e!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");let y=t<11?!0:e==="nearest"&&s==="asymmetric"&&l==="floor",w=0,A=0,O=0;return t>10?i.inputs.length>2?(w=1,A=2,O=3):(A=1,O=2):t===9&&(A=1),ne({opset:t,isResize:n,mode:e,scales:r,extrapolationValue:o,coordinateTransformMode:s,useExtrapolation:u,needRoiInput:a,nearestMode:l,cubicCoefficientA:c,excludeOutside:b,useNearest2xOptimization:y,roiInputIdx:w,scalesInputIdx:A,sizesInputIdx:O})},ug=(i,t,n)=>{let e=J(i.session.backend.glContext.version),[r,o]=i.calculateTextureWidthAndHeight(t[0].dims,0),s=t[0].dims.map((O,C)=>Math.floor(O*n.scales[C])),[a,u]=i.calculateTextureWidthAndHeight(s,0),l=s.length,c=new Array(l),b=new Array(l),y=`
      int output_pitches[${l}];
      int input_pitches[${l}];
      `;for(let O=l-1;O>=0;O--)c[O]=O===l-1?1:c[O+1]*s[O+1],b[O]=O===l-1?1:b[O+1]*t[0].dims[O+1],y+=`
        output_pitches[${O}] = ${c[O]};
        input_pitches[${O}] = ${b[O]};
        `;let w=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${r}, ${o});
        float value = getColorAsFloat(${e.texture2D}(X, coords));
        return value;
      }
      `,A=n.mode==="nearest"?`
    ${w}
    float process(int indices[${l}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${a}, ${u});

      ${y}

      int d, m;
      for (int dim = 0; dim < ${l}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:l===4?`
    ${w}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${a}, ${u});

      ${y}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${t[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${w}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${a}, ${u});

      ${y}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${t[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return{...ep,output:{dims:s,type:t[0].type,textureType:0},shaderSource:A,variables:[{name:"scales",type:"int",arrayLength:n.scales.length,data:n.scales.map(O=>Math.ceil(O))}]}},wa=(i,t)=>{if(!i||t.opset<9&&i.length!==1||t.opset>=9&&t.opset<11&&i.length!==2||t.opset>=11&&i.length<2)throw new Error("invalid inputs.");if(t.scales.length>0&&i[0].dims.length!==t.scales.length)throw new Error("Invalid input shape.");if(i[0].type==="string")throw new Error("Invalid input tensor types.")},Xo=(i,t,n)=>{if(n){for(let e of i)if(e<=0)throw new Error("Scale value should be greater than 0.")}else for(let e of i)if(e<1)throw new Error("Scale value should be greater than or equal to 1.");if((t==="linear"||t==="cubic")&&i.length!==2&&(i.length!==4||i[0]!==1||i[1]!==1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${n?"Resize":"Upsample"} opeartor.`)}});var Oa,Ia,np,op,lg,fg,cg,pg,ip=k(()=>{"use strict";Ee();fe();jt();Gr();_a();Oa={name:"Resize",inputNames:["A"],inputTypes:[2]},Ia=(i,t,n)=>(wa(t,n),[i.run({...Oa,cacheHint:n.cacheKey,get:()=>lg(i,t,n)},t)]),np=i=>qn(i,10),op=i=>qn(i,11),lg=(i,t,n)=>{let e=J(i.session.backend.glContext.version),[r,o]=fg(t,n);if(r.every(G=>G===1)&&n.coordinateTransformMode!=="tf_crop_and_resize")return{...Oa,output:{dims:o,type:t[0].type,textureType:2},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${e.texture2D}(X, TexCoords);
                    ${e.output} = v;
                }`};let a=o.length;if(a<2)throw new Error(`output dimension should be at least 2, but got ${a}`);let u=o[a-2],l=o[a-1],c=t[0].dims;if(a!==c.length)throw new Error(`output dimension should match input ${c.length}, but got ${a}`);let b=c[a-2],y=c[a-1],w=r[a-2],A=r[a-1],O="";if(n.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${n.mode}'`);switch(n.coordinateTransformMode){case"asymmetric":O=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":O=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":O=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${l}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${u}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${l}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${u}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":O=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${l}.0 - 1.0, ${u}.0 - 1.0, ${l}.0 - 1.0,
                            ${u}.0 - 1.0);
                        vec4 original = vec4(${y}.0 - 1.0, ${b}.0 - 1.0, ${y}.0 - 1.0,
                            ${b}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${n.coordinateTransformMode}'`)}let C=ut(a),$=qt(),F=`
            const vec2 inputWH = vec2(${b}.0, ${y}.0);
            const vec4 scaleWHWH = vec4(float(${w}), float(${A}), float(${w}), float(${A}));
            ${$}
            ${O}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${C} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${u-1};
                bool hasNextCol = rc.z < ${l-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${e.output} = vec4(newValue);
            }
        `;return{...Oa,output:{dims:o,type:t[0].type,textureType:2},hasMain:!0,shaderSource:F}},fg=(i,t)=>{let e=i[0].dims,r=t.scales,o;if(r.length===0){let a=i[t.scalesInputIdx];if(a&&a.size!==0){if(i[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");r=cg(a,t.mode,t.isResize)}else{let u=i[t.sizesInputIdx];if(!u||u.size===0)throw new Error("Either scales or sizes MUST be provided as input.");o=Array.from(u.integerData),r=pg(o,e,t.mode,t.isResize)}}else if(i[t.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");let s=o||e.map((a,u)=>Math.floor(a*r[u]));return[r,s]},cg=(i,t,n)=>{let e=Array.from(i.floatData);return Xo(e,t,n),e},pg=(i,t,n,e)=>{let r=t.length,o=new Array(r);for(let s=0,a=r;s<a;s++)if(t[s]===0){if(i[s]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");o[s]=1}else o[s]=i[s]/t[s];return Xo(o,n,e),o}});var ap,dg,sp=k(()=>{"use strict";Mr();ap=(i,t)=>(dg(t),[new Me([t[0].dims.length],"int32",void 0,void 0,new Int32Array(t[0].dims))]),dg=i=>{if(!i||i.length!==1)throw new Error("Shape requires 1 input.")}});var Aa,up,lp,fp,hg,cp,mg,bg,pp=k(()=>{"use strict";je();jn();me();fe();Aa={name:"Slice",inputNames:["A"],inputTypes:[0]},up=(i,t,n)=>(hg(t),[i.run({...Aa,cacheHint:n.cacheKey,get:()=>fp(i,t[0],n)},t)]),lp=i=>{let t=i.attributes.getInts("starts"),n=i.attributes.getInts("ends"),e=i.attributes.getInts("axes",[]);return ne({starts:t,ends:n,axes:e})},fp=(i,t,n)=>{let e=n.axes.length===0?t.dims.slice(0).map((b,y)=>y):n.axes,r=q.normalizeAxes(e,t.dims.length),o=n.starts.map((b,y)=>b>t.dims[r[y]]-1?t.dims[r[y]]:q.normalizeAxis(b,t.dims[r[y]])),s=n.ends.map((b,y)=>b>t.dims[r[y]]-1?t.dims[r[y]]:q.normalizeAxis(b,t.dims[r[y]])),a=t.dims.slice(),u=[];for(let b=0;b<r.length;b++)a[r[b]]=s[b]-o[b],o[b]>0&&u.push(`outputIdx[${r[b]}] += ${o[b]};`);let c=`
      float process(int outputIdx[${a.length}]) {
        ${u.join(`
      `)}
        return _A(outputIdx);
      }`;return{...Aa,output:{dims:a,type:t.type,textureType:0},shaderSource:c}},hg=i=>{if(!i||i.length!==1)throw new Error("Slice requires 1 input.");if(wr.indexOf(i[0].type)===-1)throw new Error("Invalid input type.")},cp=(i,t)=>{bg(t);let n=mg(i,t);return[i.run({...Aa,cacheHint:n.cacheKey,get:()=>fp(i,t[0],n)},[t[0]])]},mg=(i,t)=>{if(!i.session.isInitializer(t[1].dataId)||!i.session.isInitializer(t[2].dataId)||t.length>=4&&!i.session.isInitializer(t[3].dataId)||t.length>=5&&!i.session.isInitializer(t[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(t.length>=5&&t[4].integerData.some(s=>s!==1))throw new Error("currently non-1 steps is not supported for Slice");let n=Array.from(t[1].integerData),e=Array.from(t[2].integerData),r=t.length>=4?Array.from(t[3].integerData):[],o=`${r};${n};${e}`;return{starts:n,ends:e,axes:r,cacheKey:o}},bg=i=>{if(!i||i.length<3||i.length>5)throw new Error("Invalid input number.");if(i[1].type!=="int32"||i[1].dims.length!==1)throw new Error("Invalid input type.");if(i[2].type!=="int32"||i[2].dims.length!==1)throw new Error("Invalid input type.");if(i.length>=4&&(i[3].type!=="int32"||i[3].dims.length!==1))throw new Error("Invalid input type.");if(i.length>=5&&(i[4].type!=="int32"||i[4].dims.length!==1))throw new Error("Invalid input type.")}});var dp,hp,mp,bp,gp,yp,Tp,vp,gg,yg,Tg,xp,wp=k(()=>{"use strict";je();me();Ee();fe();jo();dp={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[0]},hp={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[0,0]},mp={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[0,0,0]},bp=(i,t,n)=>{xp(t);let e=t[0].dims.slice(),r=q.normalizeAxis(n.axis,e.length),o=q.sizeToDimension(e,r),s=q.sizeFromDimension(e,r);return vp(i,t,n,o,s)},gp=i=>ne({axis:i.attributes.getInt("axis",1)}),yp=i=>ne({axis:i.attributes.getInt("axis",-1)}),Tp=(i,t,n)=>{xp(t);let e=t[0].dims.slice(),r=q.normalizeAxis(n.axis,e.length),o=e.length,s=r!==o-1,a=[],u=[],l=[],c;s&&(u=Array.from({length:o}).map((A,O)=>O),u[r]=o-1,u[o-1]=r,u.map(A=>a.push(e[A])),c=ne({perm:u}),l=Wr(i,t,c));let b=s?q.sizeToDimension(a,o-1):q.sizeToDimension(e,o-1),y=s?q.sizeFromDimension(a,o-1):q.sizeFromDimension(e,o-1),w=vp(i,s?l:t,n,b,y);return s?Wr(i,w,c):w},vp=(i,t,n,e,r)=>{let o=gg(i,t[0],e,r,[e]),s=i.run({...dp,cacheHint:n.cacheKey,get:()=>o},t),a=yg(i,t[0],e,r,o.output.dims,[e]),u=i.run({...hp,cacheHint:n.cacheKey,get:()=>a},[t[0],s]),l=Tg(i,t[0],e,r,o.output.dims,a.output.dims);return[i.run({...mp,cacheHint:n.cacheKey,get:()=>l},[t[0],s,u])]},gg=(i,t,n,e,r)=>{let[o,s]=i.calculateTextureWidthAndHeight(t.dims,0),a=r.length;if(n<1||e<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(r.length!==1)throw new Error("Dimensionality of the output should be 1");if(r[0]!==n)throw new Error("Shape of the output should be equal to logical row count");let u=J(i.session.backend.glContext.version),l=`
      float process(int[${a}] indices) {
        int logical_row_start_offset = indices[0] * ${e};

        float max = getColorAsFloat(${u.texture2D}(A, offsetToCoords(logical_row_start_offset, ${o},
        ${s} )));
        for(int i=1; i<${e}; ++i)
        {
          float current = getColorAsFloat(${u.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${o}, ${s})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return{...dp,output:{dims:r,type:t.type,textureType:0},shaderSource:l}},yg=(i,t,n,e,r,o)=>{let[s,a]=i.calculateTextureWidthAndHeight(t.dims,0),u=o.length;if(n<1||e<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(o.length!==1)throw new Error("Dimensionality of the output should be 1");if(o[0]!==n)throw new Error("Shape of the output should be equal to logical row count");if(r.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(r[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");let l=J(i.session.backend.glContext.version),c=`
      float process(int[${u}] indices) {
        int logical_row_start_offset = indices[0] * ${e};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${e}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${l.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${s}, ${a}))) - max);
        }

        return norm_factor;
      }`;return{...hp,output:{dims:o,type:t.type,textureType:0},shaderSource:c}},Tg=(i,t,n,e,r,o)=>{let[s,a]=i.calculateTextureWidthAndHeight(t.dims,0),u=t.dims.length;if(n<1||e<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(r.length!==1||o.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(r[0]!==n||o[0]!==n)throw new Error("Shape of the intermediate results should be equal to logical row count");let l=`
      float process(int[${u}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${s}, ${a});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${e};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return{...mp,output:{dims:t.dims,type:t.type,textureType:0},shaderSource:l}},xp=i=>{if(!i||i.length!==1)throw new Error("Softmax requires 1 input.");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type")}});var _p,Op,Ip,vg,xg,wg,Ap=k(()=>{"use strict";je();me();fe();_p={name:"Split",inputNames:["A"],inputTypes:[0]},Op=(i,t,n)=>{wg(t);let e=q.normalizeAxis(n.axis,t[0].dims.length),r=vg(i,t,e,n),o=[];for(let s=0;s<r;++s)o.push(i.run({..._p,cacheHint:`${n.cacheKey};${s}`,get:()=>xg(i,t[0],n,e,s)},t));return o},Ip=i=>{let t=i.attributes.getInt("axis",0),n=i.attributes.getInts("split",[]),e=i.outputs.length;return ne({axis:t,split:n,numOutputs:e})},vg=(i,t,n,e)=>{let[,r]=Gn.splitShape(t[0].dims,n,e.split,e.numOutputs);return r.length},xg=(i,t,n,e,r)=>{let[o,s]=Gn.splitShape(t.dims,e,n.split,n.numOutputs),a=s[r],u=o[r],c=`
      float process(int indices[${u.length}]) {
        indices[${e}] += ${a};
        return _A(indices);
      }
    `;return{..._p,cacheHint:`${n.cacheKey}:${r}`,output:{dims:u,type:t.type,textureType:0},shaderSource:c}},wg=i=>{if(!i||i.length!==1)throw new Error("Split requires one input.");if(i[0].type!=="int8"&&i[0].type!=="uint8"&&i[0].type!=="int16"&&i[0].type!=="uint16"&&i[0].type!=="int32"&&i[0].type!=="uint32"&&i[0].type!=="float32"&&i[0].type!=="float64"&&i[0].type!=="bool")throw new Error("Invalid input type.")}});var Sa,Sp,Pp,_g,Og,Ep=k(()=>{"use strict";me();Sa=(i,t,n)=>{_g(t);let e=q.squeezeShape(t[0].dims,n);return[i.reshapeUnpacked(t[0],e)]},Sp=(i,t)=>(Og(t),Sa(i,[t[0]],Array.from(t[1].integerData))),Pp=i=>i.attributes.getInts("axes"),_g=i=>{if(!i||i.length!==1)throw new Error("Squeeze requires 1 input.");if(i[0].type==="string")throw new Error("invalid input tensor types.")},Og=i=>{if(!i||i.length!==2)throw new Error("Squeeze requires 2 inputs.");if(i[1].type!=="int32")throw new Error("Invalid input type.")}});var Dp,Ig,Ag,Lp=k(()=>{"use strict";Ee();fe();Dp=(i,t)=>{Ag(t);let n={name:"Sum",inputNames:t.map((r,o)=>`X${o}`),inputTypes:new Array(t.length).fill(0)};return[i.run({...n,get:()=>Ig(i,t,n)},t)]},Ig=(i,t,n)=>{let e=J(i.session.backend.glContext.version),r=t[0].dims.slice(),s=`
      void main() {
        vec4 result = ${t.map((a,u)=>`${e.texture2D}(X${u},TexCoords)`).join(" + ")};
        ${e.output} = result;
      }
    `;return{...n,output:{dims:r,type:t[0].type,textureType:0},hasMain:!0,shaderSource:s}},Ag=i=>{if(!i||i.length===0)throw new Error("Sum requires inputs.");let t=i[0].dims.length;for(let n=1;n<i.length;n++){if(t!==i[n].dims.length)throw new Error("Input shapes are mismatched.");for(let e=0;e<t;e++)if(i[0].dims[e]!==i[n].dims[e])throw new Error("Input shapes are not matched.")}if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type.");for(let n=1;n<i.length;n++)if(i[0].type!==i[n].type)throw new Error("Input types are not matched.")}});var Cp,Sg,Pg,Fp=k(()=>{"use strict";jn();fe();Cp=(i,t)=>{Pg(t);let n={name:"Tile",inputNames:["A"],inputTypes:[0]};return[i.run({...n,get:()=>Sg(i,t,n)},t)]},Sg=(i,t,n)=>{let e=t[0].dims.slice(),r=new Array(e.length),o=[];for(let u=0;u<e.length;u++)r[u]=e[u]*t[1].numberData[u],o.push(`inputIdx[${u}] = int(mod(float(outputIdx[${u}]), ${e[u]}.));`);let s=r.length,a=`
      float process(int outputIdx[${s}]) {
        int inputIdx[${s}];
        ${o.join(`
`)}
        return _A(inputIdx);
      }
    `;return{...n,output:{dims:r,type:t[0].type,textureType:0},shaderSource:a}},Pg=i=>{if(!i||i.length!==2)throw new Error("Tile requires 2 input.");if(i[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(i[1].dims[0]!==i[0].dims.length)throw new Error("Invalid input shape.");if(wr.indexOf(i[0].type)===-1)throw new Error("Invalid input type.");if(i[1].type!=="int32"&&i[1].type!=="int16")throw new Error("Invalid repeat type.")}});var Pa,kp,$p,Eg,Dg,Bp=k(()=>{"use strict";me();Pa=(i,t,n)=>{Eg(t);let e=q.unsqueezeShape(t[0].dims,n);return[i.reshapeUnpacked(t[0],e)]},kp=(i,t)=>(Dg(t),Pa(i,[t[0]],Array.from(t[1].integerData))),$p=i=>i.attributes.getInts("axes"),Eg=i=>{if(!i||i.length!==1)throw new Error("Unsqueeze requires 1 input.");if(i[0].type==="string")throw new Error("invalid input tensor types.")},Dg=i=>{if(!i||i.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(i[1].type!=="int32")throw new Error("Invalid input type.")}});var Rp,Np=k(()=>{"use strict";ql();sf();ff();bf();zo();Qf();ic();uc();cc();mc();yc();wc();Ac();Vo();Dc();zc();Jc();Qc();ip();sp();pp();wp();Ap();Ep();Lp();Fp();jo();ca();Bp();_a();Rp=[["Abs","","6+",gf],["Acos","","7+",yf],["Add","","7+",Yl],["And","","7+",Xl],["Asin","","7+",Tf],["Atan","","7+",vf],["AveragePool","","7+",Cc,Fc],["BatchNormalization","","7+",Hl,jl],["Cast","","6+",uf,lf],["Ceil","","6+",_f],["Clip","","6-10",la,xf],["Clip","","11+",wf],["Concat","","4+",df,mf],["Conv","","1+",ga,ya],["ConvTranspose","","1+",Jf,Zf],["Cos","","7+",Of],["Div","","7+",Kl],["Dropout","","7+",fa],["DepthToSpace","","1+",nc,oc],["Equal","","7+",Jl],["Elu","","6+",If,Af],["Exp","","6+",Sf],["Flatten","","1+",ac,sc],["Floor","","6+",Pf],["FusedConv","com.microsoft","1+",ga,ya],["Gather","","1+",lc,fc],["Gemm","","7-10",Ta,dc],["Gemm","","11+",Ta,hc],["GlobalAveragePool","","1+",$c,Bc],["GlobalMaxPool","","1+",Uc],["Greater","","7+",Zl],["Identity","","1+",fa],["ImageScaler","","1+",bc,gc],["InstanceNormalization","","6+",vc,xc],["LeakyRelu","","6+",Ef,Df],["Less","","7+",Ql],["LRN","","1+",_c,Oc],["Log","","6+",Lf],["MatMul","","1+",Vf,Hf],["MaxPool","","1+",Rc,Nc],["Mul","","7+",ef],["Neg","","6+",Cf],["Not","","1+",Ff],["Or","","7+",tf],["Pad","","2-10",va,Sc],["Pad","","11+",Pc,Ec],["Pow","","7+",rf],["PRelu","","7+",nf],["ReduceLogSum","","1+",Xc,_r],["ReduceMax","","1+",jc,_r],["ReduceMean","","1+",Hc,_r],["ReduceMin","","1+",qc,_r],["ReduceProd","","1+",Yc,_r],["ReduceSum","","1-12",Vc,_r],["ReduceSumSquare","","1+",Kc,_r],["Relu","","6+",kf],["Reshape","","5+",Zc],["Resize","","10",Ia,np],["Resize","","11+",Ia,op],["Shape","","1+",ap],["Sigmoid","","6+",$f],["Sin","","7+",Bf],["Slice","","10+",cp],["Slice","","1-9",up,lp],["Softmax","","1-12",bp,gp],["Softmax","","13+",Tp,yp],["Split","","2-12",Op,Ip],["Sqrt","","6+",Rf],["Squeeze","","1-12",Sa,Pp],["Squeeze","","13+",Sp],["Sub","","7+",of],["Sum","","6+",Dp],["Tan","","7+",Nf],["Tanh","","6+",Mf],["Tile","","6+",Cp],["Transpose","","1+",Wr,tc],["Upsample","","7-8",xa,tp],["Upsample","","9",xa,rp],["Unsqueeze","","1-12",Pa,$p],["Unsqueeze","","13+",kp],["Xor","","7+",af]]});function Gp(i){let t={},n;for(;(n=Mp.exec(i))!==null;){let e=n[3].split(",").map(r=>{let o=r.trim().split(" ");return o&&o.length===2?{type:o[0],name:o[1]}:null}).filter(r=>r!==null);t[n[2]]={params:e,body:n[4]}}for(let e in t){let r=Lg.replace("__FUNC__",e),o=new RegExp(r,"gm");for(;(n=o.exec(i))!==null;){let s=n[1],a=n[2],u=n[3].split(","),l=s?`${s} ${a};`:"",c=t[e].body,b="";t[e].params.forEach((w,A)=>{w&&(b+=`${w.type} ${w.name} = ${u[A]};
`)}),c=`${b}
 ${c}`,c=c.replace("return",`${a} = `);let y=`
      ${l}
      {
        ${c}
      }
      `;i=i.replace(n[0],y)}}return i=i.replace(Mp,""),i}var Mp,Lg,Up=k(()=>{"use strict";Mp=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm,Lg="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;"});function hn(i,t){let n=[],e=[],r=t!=null&&Array.isArray(t)&&t.length===0,o=t==null||r?null:Cg(t,i).sort(),s=0;for(let a=0;a<i.length;++a){if(o!=null){if(o[s]===a&&i[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${i[a]}' is not 1`);(o[s]==null||o[s]>a)&&i[a]===1&&(n.push(i[a]),e.push(a)),o[s]<=a&&s++}i[a]!==1&&(n.push(i[a]),e.push(a))}return{newShape:n,keptDims:e}}function Cg(i,t){let n=t.length;return i=i==null?t.map((e,r)=>r):[].concat(i),un(i.every(e=>e>=-n&&e<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${i}`),un(i.every(Fg),()=>`All values in axis param must be integers but got axis ${i}`),i.map(e=>e<0?n+e:e)}function Fg(i){return i%1===0}function kg(i){if(i.length===0)return 1;let t=i[0];for(let n=1;n<i.length;n++)t*=i[n];return t}function Wp(i){let t=Math.ceil(Math.sqrt(i));return[t,Math.ceil(i/t)]}var Ko,Ea=k(()=>{"use strict";_t();me();Ko=class{constructor(t){this.maxTextureSize=t}computeTextureWH(t,n){let e=this.computeTexture(t,n);return n&&n.isPacked&&(e[0]/=2,e[1]/=2),n&&n.reverseWH?[e[1],e[0]]:e}computeTexture(t,n){let e=n&&n.isPacked;if(t.length===0)return e?[2,2]:[1,1];let r=this.maxTextureSize;if(n&&n.breakAxis!==void 0){let a=n.breakAxis>=t.length?1:t.slice(n.breakAxis).reduce((l,c)=>l*c),u=n.breakAxis<=0?1:t.slice(0,n.breakAxis).reduce((l,c)=>l*c);if(a>r||u>r)ye.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${t}, breakAxis:${n.breakAxis}`);else return[a,u]}let o=t.slice(0);e&&(r=r*2,o=o.map((a,u)=>u>=o.length-2?o[u]%2===0?o[u]:o[u]+1:o[u]),o.length===1&&(o=[2,o[0]])),o.length!==2&&(o=hn(o).newShape);let s=kg(o);return o.length<=1&&s<=r?[1,s]:o.length===2&&o[0]<=r&&o[1]<=r?o:o.length===3&&o[0]*o[1]<=r&&o[2]<=r?[o[0]*o[1],o[2]]:o.length===3&&o[0]<=r&&o[1]*o[2]<=r?[o[0],o[1]*o[2]]:o.length===4&&o[0]*o[1]*o[2]<=r&&o[3]<=r?[o[0]*o[1]*o[2],o[3]]:o.length===4&&o[0]<=r&&o[1]*o[2]*o[3]<=r?[o[0],o[1]*o[2]*o[3]]:e?Wp(s/4).map(a=>a*2):Wp(s)}}});var Jo,zp=k(()=>{"use strict";me();sr();Ee();Ea();jt();Jo=class extends St{constructor(n){super(n)}getFunctions(){return{...this.offsetToCoords(),...this.coordsToOffset(),...this.toVec(),...this.valueFrom(),...this.getCommonUtilFuncs(),...this.getInputsSamplingSnippets(),...this.getOutputSamplingSnippet()}}getCustomTypes(){return{}}offsetToCoords(){let n="offsetToCoords";return{offsetToCoords:new V(`
      vec2 ${n}(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){let n="coordsToOffset";return{coordsToOffset:new V(`
      int ${n}(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){let n=this.context.outputTextureLayout;return n.isPacked?this.getPackedOutputSamplingSnippet(n):this.getUnpackedOutputSamplingSnippet(n)}getPackedOutputSamplingSnippet(n){let e=n.unpackedShape,r=[n.width,n.height],o={},s="getOutputCoords";switch(e.length){case 0:o[s]=this.getOutputScalarCoords();break;case 1:o[s]=this.getOutputPacked1DCoords(e,r);break;case 2:o[s]=this.getOutputPacked2DCoords(e,r);break;case 3:o[s]=this.getOutputPacked3DCoords(e,r);break;default:o[s]=this.getOutputPackedNDCoords(e,r)}let u=`
      void setOutput(vec4 val) {
        ${J(this.context.glContext.version).output} = val;
      }
    `,l="floatTextureSetRGBA";return o[l]=new V(u),o}getUnpackedOutputSamplingSnippet(n){let e=n.unpackedShape,r=[n.width,n.height],o={},s="getOutputCoords";switch(e.length){case 0:o[s]=this.getOutputScalarCoords();break;case 1:o[s]=this.getOutputUnpacked1DCoords(e,r);break;case 2:o[s]=this.getOutputUnpacked2DCoords(e,r);break;case 3:o[s]=this.getOutputUnpacked3DCoords(e,r);break;case 4:o[s]=this.getOutputUnpacked4DCoords(e,r);break;case 5:o[s]=this.getOutputUnpacked5DCoords(e,r);break;case 6:o[s]=this.getOutputUnpacked6DCoords(e,r);break;default:throw new Error(`Unsupported output dimensionality: ${e.length}`)}let u=`
        void setOutput(float val) {
          ${J(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `,l="floatTextureSetR";return o[l]=new V(u),o}getOutputScalarCoords(){return new V(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(n,e){let r=e,o="";return r[0]===1?(o=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${r[1]}.0);
          }
        `,new V(o)):r[1]===1?(o=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${r[0]}.0);
          }
        `,new V(o)):(o=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${r[0]}, ${r[1]}));
          return 2 * (resTexRC.y * ${r[0]} + resTexRC.x);
        }
      `,new V(o))}getOutputPacked2DCoords(n,e){let r="";if($r.arraysEqual(n,e))return r=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${e[0]}, ${e[1]}));
        }
      `,new V(r);let o=e,s=Math.ceil(n[1]/2);return r=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${o[0]}, ${o[1]}));

          int index = resTexRC.y * ${o[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${s}) * 2;
          int c = 2 * (index / ${s});

          return ivec2(r, c);
        }
      `,new V(r)}getOutputPacked3DCoords(n,e){let r=[e[0],e[1]],o=Math.ceil(n[2]/2),s=o*Math.ceil(n[1]/2),a=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${r[0]}, ${r[1]}));
          int index = resTexRC.y * ${r[0]} + resTexRC.x;

          int b = index / ${s};
          index -= b * ${s};

          // reverse r and c order for packed texture
          int r = imod(index, ${o}) * 2;
          int c = 2 * (index / ${o});

          return ivec3(b, r, c);
        }
      `;return new V(a)}getOutputPackedNDCoords(n,e){let r=[e[0],e[1]],o=Math.ceil(n[n.length-1]/2),s=o*Math.ceil(n[n.length-2]/2),a=s,u="",l="b, r, c";for(let b=2;b<n.length-1;b++)a*=n[n.length-b-1],u=`
      int b${b} = index / ${a};
      index -= b${b} * ${a};
    `+u,l=`b${b}, `+l;let c=`
      ivec${n.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${r[0]}, ${r[1]}));
        int index = resTexRC.y * ${r[0]} + resTexRC.x;

        ${u}

        int b = index / ${s};
        index -= b * ${s};

        // reverse r and c order for packed texture
        int r = imod(index, ${o}) * 2;
        int c = 2 * (index / ${o});

        return ivec${n.length}(${l});
      }
    `;return new V(c)}getOutputUnpacked1DCoords(n,e){let r=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${e[0]}, ${e[1]}));
          return resTexRC.y * ${e[0]} + resTexRC.x;
        }
      `;return new V(r)}getOutputUnpacked2DCoords(n,e){let r=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${e[0]}, ${e[1]}));
          int index = resTexRC.y * ${e[0]} + resTexRC.x;
          int r = index / ${n[1]};
          int c = index - r * ${n[1]};
          return ivec2(r, c);
        }
      `;return new V(r)}getOutputUnpacked3DCoords(n,e){let r="",o=n.length,s=null;o<2&&(s=[]),s=new Array(o-1),s[o-2]=n[o-1];for(let l=o-3;l>=0;--l)s[l]=s[l+1]*n[l+1];let a=["r","c","d"],u=s.map((l,c)=>{let b=`int ${a[c]} = index / ${l}`,y=c===s.length-1?`int ${a[c+1]} = index - ${a[c]} * ${l}`:`index -= ${a[c]} * ${l}`;return`${b}; ${y};`}).join("");return r=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${e[0]}, ${e[1]}));
          int index = resTexRC.y * ${e[0]} + resTexRC.x;
          ${u}
          return ivec3(r, c, d);
        }
      `,new V(r)}getOutputUnpacked4DCoords(n,e){let r="",o=n.length,s=null;o<2&&(s=[]),s=new Array(o-1),s[o-2]=n[o-1];for(let l=o-3;l>=0;--l)s[l]=s[l+1]*n[l+1];let a=["r","c","d","d2"],u=s.map((l,c)=>{let b=`int ${a[c]} = index / ${l}`,y=c===s.length-1?`int ${a[c+1]} = index - ${a[c]} * ${l}`:`index -= ${a[c]} * ${l}`;return`${b}; ${y};`}).join("");return r=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${e[0]}, ${e[1]}));
          int index = resTexRC.y * ${e[0]} + resTexRC.x;
          ${u}
          return ivec4(r, c, d, d2);
        }
      `,new V(r)}getOutputUnpacked5DCoords(n,e){let r="",o=n.length,s=null;o<2&&(s=[]),s=new Array(o-1),s[o-2]=n[o-1];for(let l=o-3;l>=0;--l)s[l]=s[l+1]*n[l+1];let a=["r","c","d","d2","d3"],u=s.map((l,c)=>{let b=`int ${a[c]} = index / ${l}`,y=c===s.length-1?`int ${a[c+1]} = index - ${a[c]} * ${l}`:`index -= ${a[c]} * ${l}`;return`${b}; ${y};`}).join("");return r=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${e[0]}, ${e[1]}));
          int index = resTexRC.y * ${e[0]} + resTexRC.x;
          ${u}
          return ivec5(r, c, d, d2, d3);
        }
      `,new V(r)}getOutputUnpacked6DCoords(n,e){let r="",o=n.length,s=null;o<2&&(s=[]),s=new Array(o-1),s[o-2]=n[o-1];for(let l=o-3;l>=0;--l)s[l]=s[l+1]*n[l+1];let a=["r","c","d","d2","d3","d4"],u=s.map((l,c)=>{let b=`int ${a[c]} = index / ${l}`,y=c===s.length-1?`int ${a[c+1]} = index - ${a[c]} * ${l}`:`index -= ${a[c]} * ${l}`;return`${b}; ${y};`}).join("");return r=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${e[0]}, ${e[1]}));
         int index = resTexRC.y * ${e[0]} + resTexRC.x;
         ${u}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new V(r)}getCommonUtilFuncs(){let n={},e="uvFromFlat";n[e]=new V(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),e="packedUVfrom1D",n[e]=new V(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),e="packedUVfrom2D",n[e]=new V(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),e="packedUVfrom3D",n[e]=new V(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),e="sampleTexture";let r=J(this.context.glContext.version);return n[e]=new V(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${r.texture2D}(textureSampler, uv).r;
        }`),n}getInputsSamplingSnippets(){let n={},e=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((r,o)=>{let s=this.context.inputTextureLayouts[o],a=Bo(r);s.isPacked?n[a]=this.getPackedSamplerFromInput(a,r,s):n[a]=this.getUnpackedSamplerFromInput(a,r,s);let u=El(r);s.unpackedShape.length<=e.unpackedShape.length&&(s.isPacked?n[u]=this.getPackedSamplerAtOutputCoords(u,s,e,r):n[u]=this.getUnpackedSamplerAtOutputCoords(u,s,e,r))}),n}getPackedSamplerAtOutputCoords(n,e,r,o){let s=e.unpackedShape,a=r.unpackedShape,l=Bo(o),c=s.length,b=a.length,y=st.getBroadcastDims(s,a),w=ut(b),A=b-c,O,C=Mt();c===0?O="":b<2&&y.length>=1?O="coords = 0;":O=y.map(Re=>`coords.${C[Re+A]} = 0;`).join(`
`);let $="";b<2&&c>0?$="coords":$=s.map((Re,lt)=>`coords.${C[lt+A]}`).join(", ");let F="return outputValue;",ee=q.size(s)===1,ve=q.size(a)===1;if(c===1&&!ee&&!ve)F=`
        return vec4(outputValue.xy, outputValue.xy);
      `;else if(ee&&!ve)b===1?F=`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:F=`
          return vec4(outputValue.x);
        `;else if(y.length){let Re=c-2,lt=c-1;y.indexOf(Re)>-1&&y.indexOf(lt)>-1?F="return vec4(outputValue.x);":y.indexOf(Re)>-1?F="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":y.indexOf(lt)>-1&&(F="return vec4(outputValue.xx, outputValue.zz);")}let Ie=`
        int lastDim = coords.${C[b-1]};
        coords.${C[b-1]} = coords.${C[b-2]};
        coords.${C[b-2]} = lastDim;
      `,se=`
      vec4 ${n}() {
        ${w} coords = getOutputCoords();
        ${Ie}
        ${O}
        vec4 outputValue = ${l}(${$});
        ${F}
      }
    `;return new V(se,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(n,e,r,o){let s=[r.width,r.height],a=[e.width,e.height],u=e.unpackedShape.length,l=r.unpackedShape.length,c=e.unpackedShape,b=r.unpackedShape,y=Bo(o);if(u===l&&$r.arraysEqual(a,s)){let ee=`
          float ${n}() {
            return sampleTexture(${o}, TexCoords);
          }
        `;return new V(ee,["coordinates.sampleTexture"])}let w=ut(l),A=st.getBroadcastDims(c,b),O=l-u,C,$=Mt();u===0?C="":l<2&&A.length>=1?C="coords = 0;":C=A.map(ee=>`coords.${$[ee+O]} = 0;`).join(`
`);let F="";l<2&&u>0?F="coords":F=e.unpackedShape.map((ee,z)=>`coords.${$[z+O]}`).join(", ");let G=`
        float ${n}() {
          ${w} coords = getOutputCoords();
          ${C}
          return ${y}(${F});
        }
      `;return new V(G,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(n,e,r){switch(r.unpackedShape.length){case 0:return this.getPackedSamplerScalar(n,e);case 1:return this.getPackedSampler1D(n,e,r);case 2:return this.getPackedSampler2D(n,e,r);case 3:return this.getPackedSampler3D(n,e,r);default:return this.getPackedSamplerND(n,e,r)}}getUnpackedSamplerFromInput(n,e,r){let o=r.unpackedShape;switch(o.length){case 0:return this.getUnpackedSamplerScalar(n,e,r);case 1:return this.getUnpackedSampler1D(n,e,r);case 2:return this.getUnpackedSampler2D(n,e,r);case 3:return this.getUnpackedSampler3D(n,e,r);case 4:return this.getUnpackedSampler4D(n,e,r);case 5:return this.getUnpackedSampler5D(n,e,r);case 6:return this.getUnpackedSampler6D(n,e,r);default:throw new Error(`Unsupported dimension ${o.length}-D`)}}getPackedSamplerScalar(n,e){let r=J(this.context.glContext.version),o=`
          vec4 ${n}() {
            return ${r.texture2D}(${e}, halfCR);
          }
        `;return new V(o)}getPackedSampler1D(n,e,r){let o=[r.width,r.height],s=[o[1],o[0]],a=J(this.context.glContext.version),l=`vec4 ${n}(int index) {
      vec2 uv = packedUVfrom1D(
      ${s[0]}, ${s[1]}, index);
      return ${a.texture2D}(${e}, uv);
    }`;return new V(l,["coordinates.packedUVfrom1D"])}getPackedSampler2D(n,e,r){let o=r.unpackedShape,s=[r.width,r.height],a=J(this.context.glContext.version),u=s[0],l=s[1];if(s!=null&&$r.arraysEqual(o,s)){let A=`vec4 ${n}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${l}.0, ${u}.0);
        return ${a.texture2D}(${e}, uv);
      }`;return new V(A)}let c=s,b=Math.ceil(o[1]/2),w=`vec4 ${n}(int row, int col) {
      vec2 uv = packedUVfrom2D(${c[1]}, ${c[0]}, ${b}, row, col);
      return ${a.texture2D}(${e}, uv);
    }`;return new V(w,["coordinates.packedUVfrom2D"])}getPackedSampler3D(n,e,r){let o=r.unpackedShape,s=[r.width,r.height],a=[s[0],s[1]],u=J(this.context.glContext.version);if(o[0]===1){let O=o.slice(1),C=[1,2],$=ln(o,O),F=["b","row","col"],G=JSON.parse(JSON.stringify(r));G.unpackedShape=$;let ee=this.getPackedSamplerFromInput(n,e,G),ve=`${ee.routineBody}
      vec4 ${n}(int b, int row, int col) {
        return ${n}(${fn(F,C)});
      } `;return new V(ve,ee.dependencies)}let l=a[0],c=a[1],b=Math.ceil(o[2]/2),y=b*Math.ceil(o[1]/2),A=`vec4 ${n}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${c}, ${l}, ${y}, ${b}, b, row, col);
      return ${u.texture2D}(${e}, uv);}`;return new V(A,["coordinates.packedUVfrom3D"])}getPackedSamplerND(n,e,r){let o=r.unpackedShape,s=o.length,a=[r.width,r.height],u=J(this.context.glContext.version),l=[a[0],a[1]],c=l[1],b=l[0],y=Math.ceil(o[s-1]/2),w=y*Math.ceil(o[s-2]/2),A="int b, int row, int col",O=`b * ${w} + (row / 2) * ${y} + (col / 2)`;for(let F=2;F<s-1;F++)A=`int b${F}, `+A,w*=o[s-F-1],O=`b${F} * ${w} + `+O;let $=`vec4 ${n}(${A}) {
      int index = ${O};
      int texR = index / ${b};
      int texC = index - texR * ${b};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${b}, ${c});
      return ${u.texture2D}(${e}, uv);
    }`;return new V($)}getUnpackedSamplerScalar(n,e,r){let[o,s]=[r.width,r.height];if(o===1&&s===1){let u=`
          float ${n}() {
            return sampleTexture(${e}, halfCR);
          }
        `;return new V(u,["coordinates.sampleTexture"])}let a=`
        float ${n}() {
          int offset_${e} = coordsToOffset(TexCoords, ${o}, ${s});
          vec2 uv = uvFromFlat(${o}, ${s}, offset_${e});
          return sampleTexture(${e}, uv);
        }
      `;return new V(a,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(n,e,r){let o=r.width,s=r.height;if(s===1&&o===1){let u=`
        float ${n}(int index) {
          return sampleTexture(${e}, halfCR);
        }
      `;return new V(u,["coordinates.sampleTexture"])}if(s===1){let u=`
          float ${n}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${o}.0, 0.5);
            return sampleTexture(${e}, uv);
          }
        `;return new V(u,["coordinates.sampleTexture"])}if(o===1){let u=`
          float ${n}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${s}.0);
            return sampleTexture(${e}, uv);
          }
        `;return new V(u,["coordinates.sampleTexture"])}let a=`
        float ${n}(int index) {
          vec2 uv = uvFromFlat(${o}, ${s}, index);
          return sampleTexture(${e}, uv);
        }
      `;return new V(a,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(n,e,r){let o=r.unpackedShape,s=[r.height,r.width];if(s!=null&&$r.arraysEqual(o,s)){let w=s[1],A=s[0],O=`
          float ${n}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${w}.0, ${A}.0);
            return sampleTexture(${e}, uv);
          }
        `;return new V(O,["coordinates.sampleTexture"])}let{newShape:a,keptDims:u}=hn(o),l=a;if(l.length<o.length){let w=ln(o,l),A=JSON.parse(JSON.stringify(r));A.unpackedShape=w;let O=["col","row"],C=`
          ${this.getUnpackedSamplerFromInput(n,e,A).routineBody}
          float ${n}(int row, int col) {
            return ${n}(${fn(O,u)});
          }
        `;return new V(C,["coordinates.sampleTexture"])}let c=s[1],b=s[0];if(b===1){let w=`
          float ${n}(int row, int col) {
            int offset_${e} = coordsToOffset(TexCoords, ${c}, ${b});
            float index = dot(vec3(row, col, offset_${e}), vec3(${o[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${c}.0);
            return sampleTexture(${e}, uv);
          }
        `;return new V(w,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(c===1){let w=`
          float ${n}(int row, int col) {
            int offset_${e} = coordsToOffset(TexCoords, ${c}, ${b});
            float index = dot(vec3(row, col, offset_${e}), vec3(${o[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${b}.0, 0.5);
            return sampleTexture(${e}, uv);
          }
        `;return new V(w,["coordinates.sampleTexture","coordinates.coordsToOffset"])}let y=`
        float ${n}(int row, int col) {
          int index = col * ${o[1]} + row;
          vec2 uv = uvFromFlat(${c}, ${b}, index);
          return sampleTexture(${e}, uv);
        }
      `;return new V(y,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(n,e,r){let o=r.unpackedShape,s=o[1]*o[2],a=o[2],{newShape:u,keptDims:l}=hn(o),c=u;if(c.length<o.length){let A=ln(o,c),O=["batch","col","row"],C=JSON.parse(JSON.stringify(r));C.unpackedShape=A;let $=this.getUnpackedSamplerFromInput(n,e,C),F=l.reverse(),G=`
          ${$.routineBody}
          float ${n}(int batch, int row, int col) {
            return ${n}(${fn(O,F)});
          }
        `;return new V(G,$.dependencies)}let b=r.width,y=r.height,w=`
          float ${n}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${s} + col * ${a} + row;
            vec2 uv = uvFromFlat(${b}, ${y}, index);
            return sampleTexture(${e}, uv);
          }
      `;return new V(w,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(n,e,r){let o=r.unpackedShape,s=o[3],a=o[2]*s,u=o[1]*a,l=r.width,c=r.height,b=`
        float ${n}(int row, int col, int depth, int depth2) {
          int index = row * ${u} + col * ${a} +
              depth2 * ${s} + depth;
          vec2 uv = uvFromFlat(${l}, ${c}, index);
          return sampleTexture(${e}, uv);
        }
      `;return new V(b,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(n,e,r){let o=r.unpackedShape,s=o[4],a=o[3]*s,u=o[2]*a,l=o[1]*u,{newShape:c,keptDims:b}=hn(o);if(c.length<o.length){let O=ln(o,c),C=["row","col","depth","depth2","depth3"],$=JSON.parse(JSON.stringify(r));$.unpackedShape=O;let F=`
          ${this.getUnpackedSamplerFromInput(n,e,$).routineBody}
          float ${n}(int row, int col, int depth, int depth2, int depth3) {
            return ${n}(${fn(C,b)});
          }
        `;return new V(F,["coordinates.sampleTexture","coordinates.uvFromFlat"])}let y=r.width,w=r.height,A=`
        float ${n}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${l} + col * ${u} + depth * ${a} +
          depth3 * ${s} + depth2;
          vec2 uv = uvFromFlat(${y}, ${w}, index);
          return sampleTexture(${e}, uv);
        }
      `;return new V(A,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(n,e,r){let o=r.unpackedShape,s=o[5],a=o[4]*s,u=o[3]*a,l=o[2]*u,c=o[1]*l,{newShape:b,keptDims:y}=hn(o);if(b.length<o.length){let C=ln(o,b),$=["row","col","depth","depth2","depth3","depth4"],F=JSON.parse(JSON.stringify(r));F.unpackedShape=C;let G=`
            ${this.getUnpackedSamplerFromInput(n,e,F).routineBody}
            float ${n}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${n}(${fn($,y)});
            }
          `;return new V(G,["coordinates.sampleTexture","coordinates.uvFromFlat"])}let w=r.width,A=r.height,O=`
          float ${n}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${c} + col * ${l} + depth * ${u} +
            depth2 * ${a} + depth3 * ${s} + depth4;
            vec2 uv = uvFromFlat(${w}, ${A}, index);
            return sampleTexture(${e}, uv);
          }
        `;return new V(O,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){let n=this.context.outputTextureLayout,e=n.shape.length,r=n.strides,o=n.width,s=n.height,a=[];for(let l=0;l<e-1;++l)a.push(`
        c[${l}] = offset / ${r[l]};`),a.push(`
        offset -= c[${l}] * ${r[l]};`);a.push(`
        c[${e-1}] = offset;`);let u=`
      void toVec(vec2 texCoords, out int c[${e}]) {
        int offset = coordsToOffset(texCoords, ${o}, ${s});
        ${a.join("")}
      }
      void toVec(int offset, out int c[${e}]) {
        ${a.join("")}
      }
    `;return{toVec:new V(u,["coordinates.coordsToOffset"])}}valueFrom(){let n={};return this.context.programInfo.inputNames.forEach((e,r)=>{let o=this.context.inputTextureLayouts[r],a=(o.unpackedShape.length>0?o.unpackedShape:o.shape).length,u=`_${e}`;n[u]=new V(this.getValueFromSingle(e,a,o.width,o.height,!1),[`shapeUtils.indicesToOffset${u}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),u=u+"_T",n[u]=new V(this.getValueFromSingle(e,a,o.width,o.height,!0),[`shapeUtils.indicesToOffset${u}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),n}getValueFromSingle(n,e,r,o,s){let a=`_${n}`;s&&(a=a+"_T");let u=J(this.context.glContext.version);return`
        float ${a}(int m[${e}]) {
          int offset = indicesToOffset${a}(m);
          vec2 coords = offsetToCoords(offset, ${r}, ${o});
          float value = getColorAsFloat(${u.texture2D}(${n}, coords));
          return value;
        }
        `}getPackedValueFrom(n,e,r,o,s){let a=`_${n}_Pack`;s&&(a=a+"_T");let u=J(this.context.glContext.version);return`
        vec4 ${a}(int m[${e}]) {
          int offset = indicesToOffset_${n}(m);
          vec2 coords = offsetToCoords(offset, ${r}, ${o});
          return ${u.texture2D}(${n}, coords);
        }
        `}}});var Zo,Vp=k(()=>{"use strict";sr();Zo=class i extends St{constructor(t){super(t)}getFunctions(){return{...this.encodeFloat32(),...this.decodeFloat32()}}getCustomTypes(){return{}}encodeFloat32(){return{encode:new V(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new V(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){let t=i.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new V(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${t}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){let t=i.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new V(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${t}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){let t=new ArrayBuffer(4),n=new Uint32Array(t),e=new Uint8Array(t);if(n[0]=3735928559,e[0]===239)return!0;if(e[0]===222)return!1;throw new Error("unknown endianness")}}});var Qo,Hp=k(()=>{"use strict";sr();Ee();Qo=class extends St{constructor(t){super(t)}getFunctions(){return{...this.setFragColor(),...this.getColorAsFloat()}}getCustomTypes(){return{}}setFragColor(){let t=J(this.context.glContext.version);return{setFragColor:new V(`
        void setFragColor(float value) {
            ${t.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new V(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}});var ei,jp=k(()=>{"use strict";sr();ei=class i extends St{constructor(t){super(t)}getFunctions(){return{...this.bcastIndex(),...this.bcastMatmulIndex(),...this.offsetToIndices(),...this.indicesToOffset(),...this.incrementIndices()}}getCustomTypes(){return{}}bcastIndex(){let t=this.context.outputTextureLayout.shape.length,n={};return this.context.programInfo.inputNames.forEach((e,r)=>{let o=this.context.inputTextureLayouts[r].unpackedShape;if(o.length<=t){let s=o.length,a=t-s,u=`bcastIndices_${e}`,l="";for(let b=0;b<s;++b)l+=`
          realIndices[${b}] = int( mod(float(bcastedIndices[${a+b}]), ${o[b]}.0) );
          `;let c=`
        void ${u} (int bcastedIndices[${t}], out int realIndices[${s}]) {
          ${l}
        }
        `;n[u]=new V(c)}}),n}bcastMatmulIndex(){let t=this.context.outputTextureLayout.shape.length,n={};return this.context.programInfo.inputNames.forEach((e,r)=>{let o=this.context.inputTextureLayouts[r].shape;if(!(o.length<2||o.length>t)){let s=o.length,a=t-s,u=`bcastMatmulIndices_${e}`,l="";for(let b=0;b<s-2;++b)l+=`
          realIndices[${b}] = int( mod(float(bcastedIndices[${a+b}]), ${o[b]}.0) );
          `;let c=`
        void ${u}(int bcastedIndices[${t}], out int realIndices[${s}]) {
          ${l}
          realIndices[${s-1}] = bcastedIndices[${t-1}];
          realIndices[${s-2}] = bcastedIndices[${t-2}];
        }
        `;n[u]=new V(c)}}),n}indicesToOffset(){let t={};return this.context.programInfo.inputNames.forEach((n,e)=>{let r=this.context.inputTextureLayouts[e].shape,o=this.context.inputTextureLayouts[e].strides,s=r.length,a=`indicesToOffset_${n}`;t[a]=new V(i.indexToOffsetSingle(a,s,o)),a=`indicesToOffset_${n}_T`,t[a]=new V(i.indexToOffsetSingle(a,s,o.slice().reverse()))}),t}static indexToOffsetSingle(t,n,e){let r="";for(let o=n-1;o>=0;--o)r+=`
        offset += indices[${o}] * ${e[o]};
        `;return`
      int ${t}(int indices[${n}]) {
        int offset = 0;
        ${r}
        return offset;
      }
      `}offsetToIndices(){let t={};return this.context.programInfo.inputNames.forEach((n,e)=>{let r=this.context.inputTextureLayouts[e].shape,o=this.context.inputTextureLayouts[e].strides,s=r.length,a=`offsetToIndices_${n}`;t[a]=new V(i.offsetToIndicesSingle(a,s,o)),a=`offsetToIndices_${n}_T`,t[a]=new V(i.offsetToIndicesSingle(a,s,o.slice().reverse()))}),t}static offsetToIndicesSingle(t,n,e){let r=[];for(let o=0;o<n-1;++o)r.push(`
      indices[${o}] = offset / ${e[o]};`),r.push(`
        offset -= indices[${o}] * ${e[o]};`);return r.push(`
      indices[${n-1}] = offset;`),`
      void ${t}(int offset, out int indices[${n}]) {
        ${r.join("")}
      }
      `}incrementIndices(){let t={};return this.context.programInfo.inputNames.forEach((n,e)=>{let r=this.context.inputTextureLayouts[e].shape,o=r.length,s=`incrementIndices_${n}`,a="";for(let l=0;l<o;++l)a+=`
        shape[${l}] = ${r[l]};`;let u=`
        void ${s}(int axis, out int indices[${o}]) {
          int shape[${o}];
          ${a};
          for(int i = ${o} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;t[s]=new V(u)}),t}}});var ti,qp=k(()=>{"use strict";sr();ti=class extends St{constructor(t){super(t)}getCustomTypes(){return{}}getFunctions(){return{...this.binaryVecFunctions(),...this.copyVec(),...this.setVecItem(),...this.getVecItem()}}binaryVecFunctions(){let n=this.context.outputTextureLayout.shape.length,e={add:"+=",sub:"-=",mul:"*=",div:"/="},r={};for(let o in e){let s=`${o}Vec`,a="";for(let l=0;l<n;++l)a+=`
          dest[${l}] ${e[o]} src[${l}];
          `;let u=`
        void ${s}(int src[${n}], out int dest[${n}]) {
          ${a}
        }
        `;r[s]=new V(u)}return r}copyVec(){let n=this.context.outputTextureLayout.shape.length,e="";for(let o=0;o<n;++o)e+=`
        dest[${o}] = src[${o}];
        `;let r=`
      void copyVec(int src[${n}], out int dest[${n}]) {
        ${e}
      }
      `;return{copyVec:new V(r)}}setVecItem(){let n=this.context.outputTextureLayout.shape.length,e=`
        if(index < 0)
            index =${n} + index;
        if (index == 0)
            m[0] = value;
        `;for(let o=1;o<n-1;++o)e+=`
        else if (index == ${o})
            m[${o}] = value;
            `;e+=`
        else
            m[${n-1}] = value;
        `;let r=`
      void setVecItem(out int m[${n}], int index, int value) {
        ${e}
      }
        `;return{setVecItem:new V(r)}}getVecItem(){let n=this.context.outputTextureLayout.shape.length,e=`
        if(index < 0)
            index = ${n} + index;
        if (index == 0)
            return m[0];
      `;for(let o=1;o<n-1;++o)e+=`
        else if (index == ${o})
            return m[${o}];
      `;e+=`
        else
            return m[${n-1}];
        `;let r=`
      int getVecItem(int m[${n}], int index) {
        ${e}
      }
    `;return{getVecItem:new V(r)}}}});var Da,Yp=k(()=>{"use strict";zp();Vp();Hp();jp();qp();Da={encoding:Zo,fragcolor:Qo,vec:ti,shapeUtils:ei,coordinates:Jo}});var ri,Xp=k(()=>{"use strict";sr();Up();Yp();Ee();ri=class{constructor(t,n,e,r){this.libs={};this.glslLibRoutineDependencyGraph={};this.context=new Go(t,n,e,r),Object.keys(Da).forEach(s=>{let a=new Da[s](this.context);this.libs[s]=a});let o=this.glslLibRoutineDependencyGraph;for(let s in this.libs){let u=this.libs[s].getFunctions();for(let l in u){let c=s+"."+l,b;o[c]?(b=o[c],b.routineBody=u[l].routineBody):(b=new Hn(c,u[l].routineBody),o[c]=b);let y=u[l].dependencies;if(y)for(let w=0;w<y.length;++w)if(o[y[w]])b.addDependency(o[y[w]]);else{let A=new Hn(y[w]);o[y[w]]=A,b.addDependency(A)}}}}preprocess(){let t=this.context.programInfo,n=t.shaderSource;return this.context.programInfo.hasMain||(n=`${n}
      ${Pl(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),n=Gp(n),`${Sl(this.context.glContext.version)}
    ${this.getUniforms(t.inputNames,t.variables)}
    ${this.getImports(n)}
    ${n}`}getImports(t){let n=this.selectGlslLibRoutinesToBeIncluded(t);if(n.length===0)return"";let e="";for(let r=0;r<n.length;++r)if(n[r].routineBody)e+=n[r].routineBody+`
`;else throw new Error(`Missing body for the Glsl Library routine: ${n[r].name}`);return e}selectGlslLibRoutinesToBeIncluded(t){let n=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(e=>{let r=e.split(".")[1];t.indexOf(r)!==-1&&n.push(this.glslLibRoutineDependencyGraph[e])}),Uo.returnOrderedNodes(n)}getUniforms(t,n){let e=[];if(t)for(let r of t)e.push(`uniform sampler2D ${r};`);if(n)for(let r of n)e.push(`uniform ${r.type} ${r.name}${r.arrayLength?`[${r.arrayLength}]`:""};`);return e.join(`
`)}}});var ni,Kp=k(()=>{"use strict";zt();_t();Xp();Ee();ni=class{constructor(t,n,e){this.profiler=t;this.glContext=n;this.textureLayoutStrategy=e;this.repo=new Map,this.attributesBound=!1}getArtifact(t){return this.repo.get(t)}setArtifact(t,n){this.repo.set(t,n)}run(t,n,e){this.profiler.event("op",`ProgramManager.run ${t.programInfo.name??"unknown kernel"}`,()=>{let r=this.glContext.gl,o=t.program;r.useProgram(o);try{this.bindOutput(e),this.attributesBound||this.bindAttributes(t.attribLocations),this.bindUniforms(t.uniformLocations,t.programInfo.variables??[],n)}catch(s){throw ye.error("ProgramManager",t.programInfo.shaderSource),s}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(t=>this.glContext.deleteProgram(t.program))}build(t,n,e){return this.profiler.event("backend","ProgramManager.build",()=>{let r=new ri(this.glContext,t,n,e),o=r.preprocess(),s=this.compile(o);return{programInfo:t,program:s,uniformLocations:this.getUniformLocations(s,r.context.programInfo.inputNames,r.context.programInfo.variables),attribLocations:this.getAttribLocations(s)}})}compile(t){if(!this.vertexShader){ye.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");let r=Al(this.glContext.version);this.vertexShader=this.glContext.compileShader(r,this.glContext.gl.VERTEX_SHADER)}ie.debug&&ye.verbose("ProrgramManager",`FragShader:
${t}
`);let n=this.glContext.compileShader(t,this.glContext.gl.FRAGMENT_SHADER),e=this.glContext.createProgram(this.vertexShader,n);return this.glContext.deleteShader(n),e}bindOutput(t){let n=t.width,e=t.height;ye.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${n}/${e}, shape=${t.shape}, type=${t.tensor.type}`),this.glContext.attachFramebuffer(t.texture,n,e)}bindAttributes(t){let n=t.position,e=t.textureCoord;this.glContext.setVertexAttributes(n,e),this.attributesBound=!0}bindUniforms(t,n,e){let r=this.glContext.gl,o=0;for(let{name:s,type:a,location:u,arrayLength:l}of t){let c=n.find(b=>b.name===s)?.data;if(a!=="sampler2D"&&!c)throw new Error(`variable '${s}' does not have data defined in program info`);switch(a){case"sampler2D":this.bindTexture(e[o],u,o),o++;break;case"float":l?r.uniform1fv(u,c):r.uniform1f(u,c);break;case"int":l?r.uniform1iv(u,c):r.uniform1i(u,c);break;default:throw new Error(`Uniform not implemented: ${a}`)}}}bindTexture(t,n,e){this.glContext.bindTextureToUniform(t.texture,e,n)}getAttribLocations(t){return{position:this.getAttribLocation(t,"position"),textureCoord:this.getAttribLocation(t,"textureCoord")}}getUniformLocations(t,n,e){let r=[];if(n)for(let o of n)r.push({name:o,type:"sampler2D",location:this.getUniformLocation(t,o)});if(e)for(let o of e)r.push({...o,location:this.getUniformLocation(t,o.name)});return r}getUniformLocation(t,n){let r=this.glContext.gl.getUniformLocation(t,n);if(r===null)throw new Error(`Uniform ${n} not found.`);return r}getAttribLocation(t,n){return this.glContext.gl.getAttribLocation(t,n)}}});var oi,Jp=k(()=>{"use strict";_t();zn();oi=class{constructor(t,n,e,r){this.glContext=t;this.layoutStrategy=n;this.profiler=e;this.config=r;this.pendingRead=new Map;r.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(t,n,e,r){let o=this.toEncoderType(t),s=this.glContext.getEncoder(o,n.channels||1,r);if(n.isPacked&&r===1)throw new Error("not implemented");let a=n.width,u=n.height,l,c;if(this.config.reuseTextures){l=`${a}x${u}_${s.format}_${s.internalFormat}_${s.textureType}`,c=this.inUseTextures.get(l),c||(c=[],this.inUseTextures.set(l,c));let y=this.idleTextures.get(l);if(y&&y.length>0){let w=y.pop();return c.push(w),r===1&&this.glContext.updateTexture(w,a,u,s,this.toTextureData(t,e)),w}}ye.verbose("TextureManager",`Creating new texture of size ${n.width}x${n.height}`);let b=this.glContext.allocateTexture(a,u,s,this.toTextureData(t,e));return this.config.reuseTextures&&(c.push(b),this.textureLookup.set(b,l)),b}readTexture(t,n,e){return e||(e=1),this.profiler.event("backend","TextureManager.readTexture",()=>{let r=t.shape.reduce((s,a)=>s*a)*e,o=this.glContext.readTexture(t.texture,t.width,t.height,r,this.toEncoderType(n),e);return this.toTensorData(n,o)})}async readTextureAsync(t,n,e){let r=t.tensor.dataId;if(e||(e=1),this.pendingRead.has(r)){let o=this.pendingRead.get(r);return new Promise(s=>o?.push(s))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(r,[]);let o=t.shape.reduce((l,c)=>l*c)*e;await this.glContext.createAndWaitForFence();let s=this.glContext.readTexture(t.texture,t.width,t.height,o,this.toEncoderType(n),e),a=this.toTensorData(n,s),u=this.pendingRead.get(r);return this.pendingRead.delete(r),u?.forEach(l=>l(a)),a})}readUint8TextureAsFloat(t){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{let n=t.shape.reduce((r,o)=>r*o),e=this.glContext.readTexture(t.texture,t.width,t.height,n*4,"byte",4);return new Float32Array(e.buffer,e.byteOffset,n)})}releaseTexture(t,n){let e;if(this.config.reuseTextures&&(e=this.textureLookup.get(t.texture),e)){n&&this.textureLookup.delete(e);let r=this.inUseTextures.get(e);if(r){let o=r.indexOf(t.texture);if(o!==-1){r.splice(o,1);let s=this.idleTextures.get(e);s||(s=[],this.idleTextures.set(e,s)),s.push(t.texture)}}}(!e||n)&&(ye.verbose("TextureManager",`Deleting texture of size ${t.width}x${t.height}`),this.glContext.deleteTexture(t.texture))}toTensorData(t,n){switch(t){case"int16":return n instanceof Int16Array?n:Int16Array.from(n);case"int32":return n instanceof Int32Array?n:Int32Array.from(n);case"int8":return n instanceof Int8Array?n:Int8Array.from(n);case"uint16":return n instanceof Uint16Array?n:Uint16Array.from(n);case"uint32":return n instanceof Uint32Array?n:Uint32Array.from(n);case"uint8":case"bool":return n instanceof Uint8Array?n:Uint8Array.from(n);case"float32":return n instanceof Float32Array?n:Float32Array.from(n);case"float64":return n instanceof Float64Array?n:Float64Array.from(n);default:throw new Error(`TensorData type ${t} is not supported`)}}toTextureData(t,n){if(n)return n instanceof Float32Array?n:new Float32Array(n)}toEncoderType(t){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}});var ii,Zp=k(()=>{"use strict";_t();pu();zl();Np();Kp();Ea();Jp();ii=class{constructor(t,n){this.backend=t;this.context=n;this.layoutStrategy=new Ko(t.glContext.maxTextureSize),this.programManager=new ni(this.context.profiler,t.glContext,this.layoutStrategy),this.textureManager=new oi(t.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:t.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=t.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new Mo(this)}onGraphInitialized(t){let n=t.getValues().filter(e=>e.from===-1&&e.tensor).map(e=>e.tensor.dataId);this.initializers=new Set(n)}isInitializer(t){return this.initializers?this.initializers.has(t):!1}addInitializer(t){this.initializers.add(t)}getTextureData(t,n){return n?this.packedTextureDataCache.get(t):this.unpackedTextureDataCache.get(t)}setTextureData(t,n,e=!1){ye.verbose("WebGLSessionHandler","Storing Texture data in cache"),e?this.packedTextureDataCache.set(t,n):this.unpackedTextureDataCache.set(t,n)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(t=>this.textureManager.releaseTexture(t,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(t=>this.textureManager.releaseTexture(t,!0)),this.unpackedTextureDataCache=new Map}resolve(t,n,e){let r=cu(t,n,Rp);return{impl:r.opImpl,context:r.opInit?r.opInit(t,e):t}}}});function $g(i){let t=0;for(;t<i.length&&i[t]();++t);return t-1}var Yn,Qp=k(()=>{"use strict";zt();zn();zn();jt();Yn=class{constructor(t,n){this.frameBufferBound=!1;this.itemsToPoll=[];this.gl=t,this.version=n,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(t,n,e,r){let o=this.gl,s=o.createTexture();o.bindTexture(o.TEXTURE_2D,s),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);let a=r?e.encode(r,t*n):null;return o.texImage2D(o.TEXTURE_2D,0,e.internalFormat,t,n,0,e.format,e.textureType,a),this.checkError(),s}updateTexture(t,n,e,r,o){let s=this.gl;s.bindTexture(s.TEXTURE_2D,t);let a=r.encode(o,n*e);s.texSubImage2D(s.TEXTURE_2D,0,0,0,n,e,r.format,r.textureType,a),this.checkError()}attachFramebuffer(t,n,e){let r=this.gl;r.bindTexture(r.TEXTURE_2D,t),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),this.checkError(),r.viewport(0,0,n,e),r.scissor(0,0,n,e)}readTexture(t,n,e,r,o,s){let a=this.gl;s||(s=1),this.frameBufferBound||this.attachFramebuffer(t,n,e);let u=this.getEncoder(o,s),l=u.allocate(n*e);return a.bindTexture(a.TEXTURE_2D,t),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,t,0),a.readPixels(0,0,n,e,a.RGBA,u.textureType,l),this.checkError(),u.decode(l,r)}isFramebufferReady(){return!0}getActiveTexture(){let t=this.gl;return`TEXTURE${t.getParameter(this.gl.ACTIVE_TEXTURE)-t.TEXTURE0}`}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(t,n){let e=this.gl;e.vertexAttribPointer(t,3,e.FLOAT,!1,20,0),e.enableVertexAttribArray(t),n!==-1&&(e.vertexAttribPointer(n,2,e.FLOAT,!1,20,12),e.enableVertexAttribArray(n)),this.checkError()}createProgram(t,n){let e=this.gl,r=e.createProgram();return e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),r}compileShader(t,n){let e=this.gl,r=e.createShader(n);if(!r)throw new Error(`createShader() returned null with type ${n}`);if(e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${e.getShaderInfoLog(r)}
Shader source:
${t}`);return r}deleteShader(t){this.gl.deleteShader(t)}bindTextureToUniform(t,n,e){let r=this.gl;r.activeTexture(r.TEXTURE0+n),this.checkError(),r.bindTexture(r.TEXTURE_2D,t),this.checkError(),r.uniform1i(e,n),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(ie.debug){let t=this.gl,n=t.getError(),e="";switch(n){case t.NO_ERROR:return;case t.INVALID_ENUM:e="INVALID_ENUM";break;case t.INVALID_VALUE:e="INVALID_VALUE";break;case t.INVALID_OPERATION:e="INVALID_OPERATION";break;case t.INVALID_FRAMEBUFFER_OPERATION:e="INVALID_FRAMEBUFFER_OPERATION";break;case t.OUT_OF_MEMORY:e="OUT_OF_MEMORY";break;case t.CONTEXT_LOST_WEBGL:e="CONTEXT_LOST_WEBGL";break;default:e=`Unknown WebGL Error: ${n.toString(16)}`}throw new Error(e)}}deleteTexture(t){this.gl.deleteTexture(t)}deleteProgram(t){this.gl.deleteProgram(t)}getEncoder(t,n,e=0){if(this.version===2)return new Ro(this.gl,n);switch(t){case"float":return e===1||this.isRenderFloat32Supported?new Wn(this.gl,n):new Wn(this.gl,n,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new No(this.gl,n);default:throw new Error(`Invalid dataType: ${t}`)}}clearActiveTextures(){let t=this.gl;for(let n=0;n<this.maxTextureImageUnits;++n)t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,null)}dispose(){if(this.disposed)return;let t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteFramebuffer(this.framebuffer),t.bindBuffer(t.ARRAY_BUFFER,null),t.deleteBuffer(this.vertexbuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){let t=this.gl,n=t.createBuffer();if(!n)throw new Error("createBuffer() returned null");let e=this.createDefaultGeometry();return t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),this.checkError(),n}createFramebuffer(){let t=this.gl.createFramebuffer();if(!t)throw new Error("createFramebuffer returned null");return t}queryVitalParameters(){let t=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){let t=this.gl,n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n);let e=this.version===2?t.RGBA32F:t.RGBA;t.texImage2D(t.TEXTURE_2D,0,e,1,1,0,t.RGBA,t.FLOAT,null);let r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);let o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(r),o}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){let t=this.gl,n,e,r,o,s;try{n=t.createTexture(),e=t.createFramebuffer(),t.bindTexture(t.TEXTURE_2D,n);let a=this.version===2?t.RGBA32F:t.RGBA;return t.texImage2D(t.TEXTURE_2D,0,a,1,1,0,t.RGBA,t.FLOAT,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),t.enable(t.BLEND),r=t.createShader(t.VERTEX_SHADER),!r||(t.shaderSource(r,"void main(){}"),t.compileShader(r),o=t.createShader(t.FRAGMENT_SHADER),!o)||(t.shaderSource(o,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),t.compileShader(o),s=t.createProgram(),!s)?!1:(t.attachShader(s,r),t.attachShader(s,o),t.linkProgram(s),t.useProgram(s),t.drawArrays(t.POINTS,0,1),t.getError()===t.NO_ERROR)}finally{t.disable(t.BLEND),s&&t.deleteProgram(s),r&&t.deleteShader(r),o&&t.deleteShader(o),e&&(t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteFramebuffer(e)),n&&(t.bindTexture(t.TEXTURE_2D,null),t.deleteTexture(n))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let t=this.gl,n=this.disjointTimerQueryWebgl2Extension,e=t.createQuery();return t.beginQuery(n.TIME_ELAPSED_EXT,e),e}else throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let t=this.gl,n=this.disjointTimerQueryWebgl2Extension;t.endQuery(n.TIME_ELAPSED_EXT);return}else throw new Error("WebGL1 profiling currently not supported")}isTimerResultAvailable(t){let n=!1,e=!1;if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let r=this.gl,o=this.disjointTimerQueryWebgl2Extension;n=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE),e=r.getParameter(o.GPU_DISJOINT_EXT)}else throw new Error("WebGL1 profiling currently not supported");return n&&!e}getTimerResult(t){let n=0;if(this.version===2){let e=this.gl;n=e.getQueryParameter(t,e.QUERY_RESULT),e.deleteQuery(t)}else throw new Error("WebGL1 profiling currently not supported");return n/1e6}async waitForQueryAndGetTime(t){return await ta(()=>this.isTimerResultAvailable(t)),this.getTimerResult(t)}async createAndWaitForFence(){let t=this.createFence(this.gl);return this.pollFence(t)}createFence(t){let n,e=t,r=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return t.flush(),r===null?n=()=>!0:n=()=>{let o=e.clientWaitSync(r,0,0);return o===e.ALREADY_SIGNALED||o===e.CONDITION_SATISFIED},{query:r,isFencePassed:n}}async pollFence(t){return new Promise(n=>{this.addItemToPoll(()=>t.isFencePassed(),()=>n())})}pollItems(){let t=$g(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=t;++n){let{resolveFn:e}=this.itemsToPoll[n];e()}this.itemsToPoll=this.itemsToPoll.slice(t+1)}async addItemToPoll(t,n){this.itemsToPoll.push({isDoneFn:t,resolveFn:n}),!(this.itemsToPoll.length>1)&&await ta(()=>(this.pollItems(),this.itemsToPoll.length===0))}}});function La(i){let t;if((!i||i==="webgl2")&&"webgl2"in mn?t=mn.webgl2:(!i||i==="webgl")&&"webgl"in mn&&(t=mn.webgl),!t)try{let e=Rg();t=ed(e,i)}catch{let r=Bg();t=ed(r,i)}i=i||t.version===1?"webgl":"webgl2";let n=t.gl;return mn[i]=t,n.isContextLost()?(delete mn[i],La(i)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),t)}function ed(i,t){let n={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1},e,r=n;if((!t||t==="webgl2")&&(e=i.getContext("webgl2",r),e))try{return new Yn(e,2)}catch(o){ye.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${o}`)}if((!t||t==="webgl")&&(e=i.getContext("webgl",r)||i.getContext("experimental-webgl",r),e))try{return new Yn(e,1)}catch(o){ye.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${o}`)}throw new Error("WebGL is not supported")}function Bg(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");let i=document.createElement("canvas");return i.width=1,i.height=1,i}function Rg(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}var mn,td=k(()=>{"use strict";_t();Qp();mn={}});var ai,rd=k(()=>{"use strict";zt();_t();Zp();td();ai=class{get contextId(){return ie.webgl.contextId}set contextId(t){ie.webgl.contextId=t}get matmulMaxBatchSize(){return ie.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(t){ie.webgl.matmulMaxBatchSize=t}get textureCacheMode(){return ie.webgl.textureCacheMode}set textureCacheMode(t){ie.webgl.textureCacheMode=t}get pack(){return ie.webgl.pack}set pack(t){ie.webgl.pack=t}get async(){return ie.webgl.async}set async(t){ie.webgl.async=t}initialize(){try{return this.glContext=La(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),ye.setWithEnv(ie),ie.webgl.context||Object.defineProperty(ie.webgl,"context",{value:this.glContext.gl}),ye.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(t){return ye.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${t}`),!1}}createSessionHandler(t){return new ii(this,t)}dispose(){this.glContext.dispose()}}});async function Ca(i){if(i){let t=typeof i=="string"?[i]:i;for(let n of t){let e=nd.get(n);if(e)return e;let r=await Mg(n);if(r)return r}}else return Ca(["webgl"]);throw new Error("no available backend to use")}async function Mg(i){let t=Ng;if(typeof t[i]<"u"&&Gg(t[i])){let n=t[i],e=n.initialize();if(typeof e=="object"&&"then"in e&&(e=await e),e)return nd.set(i,n),n}}function Gg(i){let t=i;return"initialize"in t&&typeof t.initialize=="function"&&"createSessionHandler"in t&&typeof t.createSessionHandler=="function"&&"dispose"in t&&typeof t.dispose=="function"}var nd,Ng,od=k(()=>{"use strict";rd();nd=new Map,Ng={webgl:new ai}});var Fa,si,id=k(()=>{"use strict";_t();Fa=class{constructor(t,n){this.op=t;this.node=n}},si=class{constructor(t,n,e){this.graph=t;this.profiler=e;this.initialize(n)}initialize(t){this.profiler.event("session","ExecutionPlan.initialize",()=>{let n=this.graph.getNodes();if(n.length!==t.length)throw new Error("The size of nodes and OPs do not match.");this._ops=t.map((e,r)=>new Fa(e,n[r])),this.reset(),this._starter=[],this._ops.forEach((e,r)=>{let o=!0;for(let s of e.node.inputs)if(!this._values[s]&&this.graph.getInputIndices().indexOf(s)===-1){o=!1;break}o&&this._starter.push(r)})})}reset(){this._values=this.graph.getValues().map(t=>t.tensor)}async execute(t,n){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();let e=t.createInferenceHandler(),r=this.graph.getInputIndices();if(n.length!==r.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${n.length} expected: ${r.length}`);n.forEach((c,b)=>{let y=r[b];this._values[y]=c});let o=this._starter.slice(0),s=this.graph.getValues(),a=this.graph.getNodes(),u=0;for(;u<o.length;){let c=o[u++],b=this._ops[c],y=b.node.inputs.map(C=>this._values[C]);if(y.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${b.node}`);let w=y;ye.verbose("ExecPlan",`Runing op:${b.node.name} (${w.map((C,$)=>`'${b.node.inputs[$]}': ${C.type}[${C.dims.join(",")}]`).join(", ")})`);let A=await this.profiler.event("node",b.node.name,async()=>b.op.impl(e,w,b.op.context));if(A.length!==b.node.outputs.length)throw new Error("the size of output does not match model definition.");A.forEach((C,$)=>{let F=b.node.outputs[$];if(this._values[F])throw new Error(`output [${F}] already has value: op:${b.node.name}`);this._values[F]=C});let O=new Set;A.forEach((C,$)=>{let F=b.node.outputs[$];for(let G of s[F].to){let ee=a[G],z=!0;for(let ve of ee.inputs)if(!this._values[ve]){z=!1;break}z&&O.add(G)}}),o.push(...O)}let l=[];for(let c=0;c<this.graph.getOutputIndices().length;c++){let b=this.graph.getOutputIndices()[c],y=this._values[b];if(y===void 0)throw new Error(`required output [${b}] does not have value`);b===0?await y.getData():y.data,l.push(y)}return ye.verbose("ExecPlan","disposing of inferenceHandler"),e.dispose(),l})}}});var le,Dt,Xn,ad=k(()=>{"use strict";Bn();le=rn(sn());Mr();me();Dt=Y.experimental.fbs,Xn=class i{constructor(t){if(this._attributes=new Map,t!=null){for(let n of t)n instanceof le.onnx.AttributeProto?this._attributes.set(n.name,[i.getValue(n),i.getType(n)]):n instanceof Dt.Attribute&&this._attributes.set(n.name(),[i.getValue(n),i.getType(n)]);if(this._attributes.size<t.length)throw new Error("duplicated attribute names")}}set(t,n,e){this._attributes.set(t,[e,n])}delete(t){this._attributes.delete(t)}getFloat(t,n){return this.get(t,"float",n)}getInt(t,n){return this.get(t,"int",n)}getString(t,n){return this.get(t,"string",n)}getTensor(t,n){return this.get(t,"tensor",n)}getFloats(t,n){return this.get(t,"floats",n)}getInts(t,n){return this.get(t,"ints",n)}getStrings(t,n){return this.get(t,"strings",n)}getTensors(t,n){return this.get(t,"tensors",n)}get(t,n,e){let r=this._attributes.get(t);if(r===void 0){if(e!==void 0)return e;throw new Error(`required attribute not found: ${t}`)}if(r[1]!==n)throw new Error(`type mismatch: expected ${n} but got ${r[1]}`);return r[0]}static getType(t){let n=t instanceof le.onnx.AttributeProto?t.type:t.type();switch(n){case le.onnx.AttributeProto.AttributeType.FLOAT:return"float";case le.onnx.AttributeProto.AttributeType.INT:return"int";case le.onnx.AttributeProto.AttributeType.STRING:return"string";case le.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case le.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case le.onnx.AttributeProto.AttributeType.INTS:return"ints";case le.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case le.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${le.onnx.AttributeProto.AttributeType[n]}`)}}static getValue(t){let n=t instanceof le.onnx.AttributeProto?t.type:t.type();if(n===le.onnx.AttributeProto.AttributeType.GRAPH||n===le.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");let e=this.getValueNoCheck(t);if(n===le.onnx.AttributeProto.AttributeType.INT&&mt.isLong(e))return mt.longToNumber(e);if(n===le.onnx.AttributeProto.AttributeType.INTS){let r=e,o=new Array(r.length);for(let s=0;s<r.length;s++){let a=r[s];o[s]=mt.longToNumber(a)}return o}if(n===le.onnx.AttributeProto.AttributeType.TENSOR)return t instanceof le.onnx.AttributeProto?Me.fromProto(e):Me.fromOrtTensor(e);if(n===le.onnx.AttributeProto.AttributeType.TENSORS){if(t instanceof le.onnx.AttributeProto)return e.map(o=>Me.fromProto(o));if(t instanceof Dt.Attribute)return e.map(o=>Me.fromOrtTensor(o))}return n===le.onnx.AttributeProto.AttributeType.STRING&&t instanceof le.onnx.AttributeProto?Un(e):n===le.onnx.AttributeProto.AttributeType.STRINGS&&t instanceof le.onnx.AttributeProto?e.map(Un):e}static getValueNoCheck(t){return t instanceof le.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(t):this.getValueNoCheckFromOrtFormat(t)}static getValueNoCheckFromOnnxFormat(t){switch(t.type){case le.onnx.AttributeProto.AttributeType.FLOAT:return t.f;case le.onnx.AttributeProto.AttributeType.INT:return t.i;case le.onnx.AttributeProto.AttributeType.STRING:return t.s;case le.onnx.AttributeProto.AttributeType.TENSOR:return t.t;case le.onnx.AttributeProto.AttributeType.GRAPH:return t.g;case le.onnx.AttributeProto.AttributeType.FLOATS:return t.floats;case le.onnx.AttributeProto.AttributeType.INTS:return t.ints;case le.onnx.AttributeProto.AttributeType.STRINGS:return t.strings;case le.onnx.AttributeProto.AttributeType.TENSORS:return t.tensors;case le.onnx.AttributeProto.AttributeType.GRAPHS:return t.graphs;default:throw new Error(`unsupported attribute type: ${le.onnx.AttributeProto.AttributeType[t.type]}`)}}static getValueNoCheckFromOrtFormat(t){switch(t.type()){case Dt.AttributeType.FLOAT:return t.f();case Dt.AttributeType.INT:return t.i();case Dt.AttributeType.STRING:return t.s();case Dt.AttributeType.TENSOR:return t.t();case Dt.AttributeType.GRAPH:return t.g();case Dt.AttributeType.FLOATS:return t.floatsArray();case Dt.AttributeType.INTS:{let n=[];for(let e=0;e<t.intsLength();e++)n.push(t.ints(e));return n}case Dt.AttributeType.STRINGS:{let n=[];for(let e=0;e<t.stringsLength();e++)n.push(t.strings(e));return n}case Dt.AttributeType.TENSORS:{let n=[];for(let e=0;e<t.tensorsLength();e++)n.push(t.tensors(e));return n}default:throw new Error(`unsupported attribute type: ${Dt.AttributeType[t.type()]}`)}}}});var $a,ui,Ba,Xt,li,ka,sd=k(()=>{"use strict";ad();Bn();$a=rn(sn());Mr();me();ui=Y.experimental.fbs,Ba={from:(i,t)=>new ka(i,t)},Xt=class{constructor(t){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,t&&(this.type=Je.tensorValueTypeFromProto(t.type.tensorType))}get from(){return this._from}get to(){return this._to}},li=class{constructor(t,n){t instanceof $a.onnx.NodeProto?(this.name=t.name,this.opType=t.opType,this.attributes=new Xn(t.attribute)):t instanceof ui.Node&&(this.name=n??t.name(),this.opType=t.opType(),this.attributes=new Xn(Je.tensorAttributesFromORTFormat(t))),this.inputs=[],this.outputs=[],this.executeNode=!0}},ka=class{constructor(t,n){if(!t)throw new TypeError("graph is empty");this.buildGraph(t),this.transformGraph(n),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(t){if(t instanceof $a.onnx.GraphProto)this.buildGraphFromOnnxFormat(t);else if(t instanceof ui.Graph)this.buildGraphFromOrtFormat(t);else throw new TypeError("Graph type is not supported.")}buildGraphFromOnnxFormat(t){let n=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let e=new Map;if(!t.input)throw new Error("missing information in graph: input");let r=[];for(let o of t.input){if(n.has(o.name))throw new Error(`duplicated input name: ${o.name}`);let s=this._allData.push(new Xt(o))-1;n.set(o.name,s),r.push(o.name)}if(!t.initializer)throw new Error("missing information in graph: initializer");for(let o of t.initializer){let s=n.get(o.name);if(s===void 0){let a=new Xt;a.type={shape:{dims:Je.tensorDimsFromProto(o.dims)},tensorType:Je.tensorDataTypeFromProto(o.dataType)},s=this._allData.push(a)-1,n.set(o.name,s)}this._allData[s]._from=-1,this._allData[s].tensor=Me.fromProto(o)}for(let o=0;o<this._allData.length;o++)this._allData[o].tensor||(this._allInputIndices.push(o),this._allInputNames.push(r[o]));if(!t.output)throw new Error("missing information in graph: output");for(let o of t.output){if(n.has(o.name))throw new Error(`duplicated output name: ${o.name}`);let s=this._allData.push(new Xt(o))-1;n.set(o.name,s),this._allOutputIndices.push(s),this._allOutputNames.push(o.name)}if(!t.node)throw new Error("missing information in graph: node");for(let o of t.node){if(!o.name)for(let a=0;;a++){let u=`unnamed_${o.opType}_${a}`;if(!e.has(u)){o.name=u;break}}if(e.has(o.name))throw new Error(`duplicated node name: ${o.name}`);let s=this._nodes.push(new li(o))-1;e.set(o.name,s)}for(let o=0;o<this._nodes.length;o++){let s=this._nodes[o],a=t.node[o];if(!a.output)throw new Error(`missing output for node: ${a.name}`);for(let u of a.output){let l=n.get(u);if(typeof l>"u"&&(l=this._allData.push(new Xt)-1,n.set(u,l)),s.outputs.push(l),this._allData[l]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${l}`);if(this._allData[l]._from=o,a.opType==="Constant"){if(!a.attribute||a.attribute.length!==1||!a.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!a.output||a.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");s.outputs.pop(),s.executeNode=!1,this._allData[l]._from=-1,this._allData[l].tensor=Me.fromProto(a.attribute[0].t)}}}for(let o=0;o<this._nodes.length;o++){let s=this._nodes[o],a=t.node[o];if(!a.input)throw new Error(`missing input for node: ${a.name}`);for(let u of a.input){let l=n.get(u);if(typeof l>"u"){if(u===""&&(a.input.length===3||a.input.length===4)&&a.opType==="Resize")continue;throw new Error(`unrecognized input '${u}' for node: ${a.name}`)}s.inputs.push(l),this._allData[l]._to.push(o)}}return!0}buildGraphFromOrtFormat(t){let n=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let e=new Map,r=[];for(let o=0;o<t.inputsLength();o++){let s=t.inputs(o);if(n.has(s))throw new Error(`duplicated input name: ${s}`);for(let a=0;a<t.nodeArgsLength();a++)if(t.nodeArgs(a)?.name()===s){let u=new Xt;if(t.nodeArgs(a)?.type()?.valueType()!==ui.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");let c=t.nodeArgs(a).type().value(new ui.TensorTypeAndShape),b=Je.tensorDataTypeFromProto(c.elemType()),y=c.shape(),w=[];for(let O=0;O<y.dimLength();O++)w.push(mt.longToNumber(y.dim(O).value().dimValue()));u.type={shape:{dims:w},tensorType:b};let A=this._allData.push(u)-1;n.set(s,A),r.push(s)}}for(let o=0;o<t.initializersLength();o++){let s=t.initializers(o),a=n.get(s.name());if(a===void 0){let u=new Xt,l=Je.tensorDimsFromORTFormat(s),c=Je.tensorDataTypeFromProto(s.dataType());u.type={shape:{dims:l},tensorType:c},a=this._allData.push(u)-1,n.set(s.name(),a)}this._allData[a]._from=-1,this._allData[a].tensor=Me.fromOrtTensor(s)}for(let o=0;o<this._allData.length;o++)this._allData[o].tensor||(this._allInputIndices.push(o),this._allInputNames.push(r[o]));for(let o=0;o<t.outputsLength();o++){let s=t.outputs(o);if(n.has(s))throw new Error(`duplicated output name: ${s}`);let a=this._allData.push(new Xt)-1;n.set(s,a),this._allOutputIndices.push(a),this._allOutputNames.push(s)}if(!t.nodes)throw new Error("missing information in graph: node");for(let o=0;o<t.nodesLength();o++){let s=t.nodes(o),a=s.name();if(!a)for(let l=0;a=`unnamed_${s.opType()}_${l}`,!!e.has(a);l++);if(e.has(a))throw new Error(`duplicated node name: ${a}`);let u=this._nodes.push(new li(s,a))-1;e.set(a,u)}for(let o=0;o<this._nodes.length;o++){let s=this._nodes[o],a=t.nodes(o);if(a==null)throw new Error(`No node exists at index ${o}`);if(a?.outputsLength()===0)throw new Error(`missing output for node: ${a.name}`);for(let u=0;u<a?.outputsLength();u++){let l=a?.outputs(u),c=n.get(l);if(typeof c>"u"&&(c=this._allData.push(new Xt)-1,n.set(l,c)),s.outputs.push(c),this._allData[c]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${c}`);if(this._allData[c]._from=o,a.opType()==="Constant"){if(a.attributesLength()!==1||!a.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(a.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");s.outputs.pop(),s.executeNode=!1,this._allData[c]._from=-1,this._allData[c].tensor=Me.fromOrtTensor(a.attributes(0).t())}}}for(let o=0;o<this._nodes.length;o++){let s=this._nodes[o],a=t.nodes(o);if(a.inputsLength()===0)throw new Error(`missing input for node: ${a.name}`);for(let u=0;u<a.inputsLength();u++){let l=a.inputs(u),c=n.get(l);if(typeof c>"u")throw new Error(`unrecognized input '${l}' for node: ${a.name()}`);s.inputs.push(c),this._allData[c]._to.push(o)}}}checkIsAcyclic(){let t=new Set;this._allInputIndices.forEach(r=>{this._allData[r]._to.forEach(s=>{t.add(s)})});let n=Array.from(t),e=new Array(this._nodes.length).fill("white");for(;n.length>0;){let r=n.pop();e[r]==="gray"?e[r]="black":(n.push(r),e[r]="gray",this._nodes[r].outputs.forEach(o=>{let s=this._allData[o];if(typeof s.tensor<"u")throw new Error("node outputs should not be initialized");if(s._from!==r)throw new Error("from property of the Value object doesn't match index of Node being processed");s._to.forEach(a=>{if(e[a]==="gray")throw new Error("model graph is cyclic");e[a]==="white"&&n.push(a)})}))}}transformGraph(t){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),t&&t.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let t=0,n=new Array(this._nodes.length,0),e=0;for(let r=0;r<this._nodes.length;r++)n[r]=e,this._nodes[r].executeNode?(e!==r&&(this._nodes[e]=this._nodes[r]),e++):this._nodes[r].outputs.forEach(o=>{this._allData[o]._from=-2});this._nodes.splice(e,this._nodes.length-e);for(let r=0;r<this._allData.length;r++){let o=this._allData[r];o._from!==void 0&&o._from!==-1&&o._from!==-2&&(o._from=n[o._from]);for(let s=0;s<o._to.length;s++)if(o._to[s]>=0)o._to[s]=n[o._to[s]];else throw new Error("Trying to update a removed node")}t=0;for(let r=0;r<this._allData.length;r++){if(this._allData[r].from===-2&&this._allOutputIndices.indexOf(r+t)===-1){t++,this._allData.splice(r,1),r--;continue}if(t>0){let o=-1;this._allData[r].from!==void 0&&this._allData[r].from!==-1?(o=this._nodes[this._allData[r].from].outputs.indexOf(r+t),o!==-1&&(this._nodes[this._allData[r].from].outputs[o]=r)):(o=this._allInputIndices.indexOf(r+t),o!==-1&&(this._allInputIndices[o]=r)),this._allData[r].to.forEach(s=>{o=this._nodes[s].inputs.indexOf(r+t),o!==-1&&(this._nodes[s].inputs[o]=r)}),this._allData[r].to.length===0&&(o=this._allOutputIndices.indexOf(r+t),o!==-1&&(this._allOutputIndices[o]=r))}}}deleteNode(t){let n=this._nodes[t];if(n.outputs.length>1){for(let a=1;a<n.outputs.length;a++)if(this._allData[n.outputs[a]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}n.executeNode=!1;let e=n.inputs[0],r=n.outputs[0],o=this._allData[r].to;for(let a=0;a<n.inputs.length;a++){let u=this._allData[n.inputs[a]].to.indexOf(t);if(u===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[n.inputs[a]].to.splice(u,1)}this._allData[r]._to=[];let s=this._allOutputIndices.indexOf(r);if(s!==-1&&(this._allOutputIndices[s]=e),o&&o.length>0)for(let a of o){let u=this._nodes[a].inputs.indexOf(r);if(u===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[a].inputs[u]=e,this._allData[e].to.push(a)}}removeAllDropoutNodes(){let t=0;for(let n of this._nodes){if(n.opType==="Dropout"){if(n.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(n.outputs.length!==1&&n.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(n.outputs.length===2&&this._allData[n.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(t)}t++}}removeAllIdentityNodes(){let t=0;for(let n of this._nodes)n.opType==="Identity"&&this.deleteNode(t),t++}isActivation(t){switch(t.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(let t of this._nodes)if(t.opType==="Conv"){let n=this._allData[t.outputs[0]]._to;if(n.length===1&&this.isActivation(this._nodes[n[0]])){let e=this._nodes[n[0]];if(e.opType==="Clip")if(e.inputs.length===1)try{t.attributes.set("activation_params","floats",[e.attributes.getFloat("min"),e.attributes.getFloat("max")])}catch{t.attributes.set("activation_params","floats",[Rr,Nr])}else if(e.inputs.length>=3&&this._allData[e.inputs[1]].tensor!==void 0&&this._allData[e.inputs[2]].tensor!==void 0)t.attributes.set("activation_params","floats",[this._allData[e.inputs[1]].tensor.floatData[0],this._allData[e.inputs[2]].tensor.floatData[0]]);else continue;t.attributes.set("activation","string",e.opType),this.deleteNode(n[0])}}}}});var ud,Ug,fi,ld=k(()=>{"use strict";Do();sd();Bn();ud=rn(sn());me();Ug=Y.experimental.fbs,fi=class{constructor(){}load(t,n,e){if(!e)try{this.loadFromOnnxFormat(t,n);return}catch(r){if(e!==void 0)throw r}this.loadFromOrtFormat(t,n)}loadFromOnnxFormat(t,n){let e=ud.onnx.ModelProto.decode(t);if(mt.longToNumber(e.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=e.opsetImport.map(o=>({domain:o.domain,version:mt.longToNumber(o.version)})),this._graph=Ba.from(e.graph,n)}loadFromOrtFormat(t,n){let e=new I.ByteBuffer(t),r=Ug.InferenceSession.getRootAsInferenceSession(e).model();if(mt.longToNumber(r.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let s=0;s<r.opsetImportLength();s++){let a=r.opsetImport(s);this._opsets.push({domain:a?.domain(),version:mt.longToNumber(a.version())})}this._graph=Ba.from(r.graph(),n)}get graph(){return this._graph}get opsets(){return this._opsets}}});var ci,fd=k(()=>{"use strict";od();id();_t();ld();ci=class{constructor(t={}){this._initialized=!1,this.backendHint=t.backendHint,this.profiler=Po.create(t.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(t,n,e){await this.profiler.event("session","Session.loadModel",async()=>{let r=await Ca(this.backendHint);if(this.sessionHandler=r.createSessionHandler(this.context),this._model=new fi,typeof t=="string"){let o=t.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){let s=await(void 0)(t);this.initialize(s,o)}else{let a=await(await fetch(t)).arrayBuffer();this.initialize(new Uint8Array(a),o)}}else if(ArrayBuffer.isView(t))this.initialize(t);else{let o=new Uint8Array(t,n||0,e||t.byteLength);this.initialize(o)}})}initialize(t,n){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{let e=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(t,e,n),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new si(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(t){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{let n=this.normalizeAndValidateInputs(t),e=await this._executionPlan.execute(this.sessionHandler,n);return this.createOutput(e)})}normalizeAndValidateInputs(t){let n=this._model.graph.getInputNames();if(Array.isArray(t)){if(t.length!==n.length)throw new Error(`incorrect input array length: expected ${n.length} but got ${t.length}`)}else{if(t.size!==n.length)throw new Error(`incorrect input map size: expected ${n.length} but got ${t.size}`);let e=new Array(t.size),r=0;for(let o=0;o<n.length;++o){let s=t.get(n[o]);if(!s)throw new Error(`missing input tensor for: '${name}'`);e[r++]=s}t=e}if(!this.context.graphInputTypes||this.context.graphInputTypes.length===0||!this.context.graphInputDims||this.context.graphInputDims.length===0){let e=this._model.graph.getInputIndices(),r=this._model.graph.getValues(),o=new Array(e.length);for(let s=0;s<e.length;++s){let a=r[e[s]];o[s]=a.type.shape.dims,this.context.graphInputTypes.push(a.type.tensorType),this.context.graphInputDims.push(t[s].dims)}this.validateInputTensorDims(o,t,!0)}else this.validateInputTensorDims(this.context.graphInputDims,t,!1);return this.validateInputTensorTypes(this.context.graphInputTypes,t),t}validateInputTensorTypes(t,n){for(let e=0;e<n.length;e++){let r=t[e],o=n[e].type;if(r!==o)throw new Error(`input tensor[${e}] check failed: expected type '${r}' but got ${o}`)}}validateInputTensorDims(t,n,e){for(let r=0;r<n.length;r++){let o=t[r],s=n[r].dims;if(!this.compareTensorDims(o,s,e))throw new Error(`input tensor[${r}] check failed: expected shape '[${o.join(",")}]' but got [${s.join(",")}]`)}}compareTensorDims(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==n[r]&&(!e||t[r]!==0))return!1;return!0}createOutput(t){let n=this._model.graph.getOutputNames();if(t.length!==n.length)throw new Error("expected number of outputs do not match number of generated outputs");let e=new Map;for(let r=0;r<n.length;++r)e.set(n[r],t[r]);return e}initializeOps(t){let n=t.getNodes();this._ops=new Array(n.length);for(let e=0;e<n.length;e++)this._ops[e]=this.sessionHandler.resolve(n[e],this._model.opsets,t)}}});var pi,cd=k(()=>{"use strict";zt();Mr();pi=class{constructor(t){this.session=t;this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(t,n,e){let r=new Map;for(let a in t)if(Object.hasOwnProperty.call(t,a)){let u=t[a];r.set(a,new Me(u.dims,u.type,void 0,void 0,u.data))}let o=await this.session.run(r),s={};return o.forEach((a,u)=>{s[u]=new wt(a.type,a.data,a.dims)}),s}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}});var pd={};tn(pd,{onnxjsBackend:()=>zg});var Ra,zg,dd=k(()=>{"use strict";fd();cd();Ra=class{async init(){}async createInferenceSessionHandler(t,n){let e=new ci(n);return typeof t=="string"?await e.loadModel(t):await e.loadModel(t),new pi(e)}},zg=new Ra});var Na={};tn(Na,{readFile:()=>Vg});var Vg,Ma=k(()=>{Vg=void 0});var Ga={};tn(Ga,{join:()=>Hg});var Hg,Ua=k(()=>{Hg=void 0});var bd=xe((md,Wa)=>{"use strict";var hd=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(t={}){var n=t,e,r;n.ready=new Promise((p,h)=>{e=p,r=h});var o=Object.assign({},n),s="./this.program",a=typeof window=="object",u=typeof importScripts=="function",l=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",c="",b,y,w;if(l){var A=(Ma(),br(Na)),O=(Ua(),br(Ga));c=u?O.dirname(c)+"/":__dirname+"/",b=(p,h)=>(p=p.startsWith("file://")?new URL(p):O.normalize(p),A.readFileSync(p,h?void 0:"utf8")),w=p=>(p=b(p,!0),p.buffer||(p=new Uint8Array(p)),p),y=(p,h,T,_=!0)=>{p=p.startsWith("file://")?new URL(p):O.normalize(p),A.readFile(p,_?void 0:"utf8",(P,R)=>{P?T(P):h(_?R.buffer:R)})},!n.thisProgram&&1<process.argv.length&&(s=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(a||u)&&(u?c=self.location.href:typeof document<"u"&&document.currentScript&&(c=document.currentScript.src),i&&(c=i),c.indexOf("blob:")!==0?c=c.substr(0,c.replace(/[?#].*/,"").lastIndexOf("/")+1):c="",b=p=>{var h=new XMLHttpRequest;return h.open("GET",p,!1),h.send(null),h.responseText},u&&(w=p=>{var h=new XMLHttpRequest;return h.open("GET",p,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),y=(p,h,T)=>{var _=new XMLHttpRequest;_.open("GET",p,!0),_.responseType="arraybuffer",_.onload=()=>{_.status==200||_.status==0&&_.response?h(_.response):T()},_.onerror=T,_.send(null)});var C=n.print||console.log.bind(console),$=n.printErr||console.error.bind(console);Object.assign(n,o),o=null,n.thisProgram&&(s=n.thisProgram);var F;n.wasmBinary&&(F=n.wasmBinary);var G=n.noExitRuntime||!0;typeof WebAssembly!="object"&&ur("no native wasm support detected");var ee,z,ve=!1,Ie,se,Re,lt,B,be,Ce,ue,Lt,Ae;function X(){var p=ee.buffer;n.HEAP8=Ie=new Int8Array(p),n.HEAP16=Re=new Int16Array(p),n.HEAP32=B=new Int32Array(p),n.HEAPU8=se=new Uint8Array(p),n.HEAPU16=lt=new Uint16Array(p),n.HEAPU32=be=new Uint32Array(p),n.HEAPF32=Ce=new Float32Array(p),n.HEAPF64=Ae=new Float64Array(p),n.HEAP64=ue=new BigInt64Array(p),n.HEAPU64=Lt=new BigUint64Array(p)}var Gt=[],Ne=[],Ue=[];function bt(){var p=n.preRun.shift();Gt.unshift(p)}var Qe=0,Kt=null,Ct=null;function ur(p){throw n.onAbort&&n.onAbort(p),p="Aborted("+p+")",$(p),ve=!0,p=new WebAssembly.RuntimeError(p+". Build with -sASSERTIONS for more info."),r(p),p}function Ft(p){return p.startsWith("data:application/octet-stream;base64,")}var et;if(et="ort-wasm.wasm",!Ft(et)){var gt=et;et=n.locateFile?n.locateFile(gt,c):c+gt}function We(p){if(p==et&&F)return new Uint8Array(F);if(w)return w(p);throw"both async and sync fetching of the wasm failed"}function Ve(p){if(!F&&(a||u)){if(typeof fetch=="function"&&!p.startsWith("file://"))return fetch(p,{credentials:"same-origin"}).then(h=>{if(!h.ok)throw"failed to load wasm binary file at '"+p+"'";return h.arrayBuffer()}).catch(()=>We(p));if(y)return new Promise((h,T)=>{y(p,_=>h(new Uint8Array(_)),T)})}return Promise.resolve().then(()=>We(p))}function qe(p,h,T){return Ve(p).then(_=>WebAssembly.instantiate(_,h)).then(_=>_).then(T,_=>{$("failed to asynchronously prepare wasm: "+_),ur(_)})}function Jt(p,h){var T=et;return F||typeof WebAssembly.instantiateStreaming!="function"||Ft(T)||T.startsWith("file://")||l||typeof fetch!="function"?qe(T,p,h):fetch(T,{credentials:"same-origin"}).then(_=>WebAssembly.instantiateStreaming(_,p).then(h,function(P){return $("wasm streaming compile failed: "+P),$("falling back to ArrayBuffer instantiation"),qe(T,p,h)}))}var lr=p=>{for(;0<p.length;)p.shift()(n)};function gn(p){this.Va=p-24,this.fb=function(h){be[this.Va+4>>2]=h},this.eb=function(h){be[this.Va+8>>2]=h},this.Za=function(h,T){this.$a(),this.fb(h),this.eb(T)},this.$a=function(){be[this.Va+16>>2]=0}}var Hr=0,Zn=0,yn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ut=(p,h,T)=>{var _=h+T;for(T=h;p[T]&&!(T>=_);)++T;if(16<T-h&&p.buffer&&yn)return yn.decode(p.subarray(h,T));for(_="";h<T;){var P=p[h++];if(P&128){var R=p[h++]&63;if((P&224)==192)_+=String.fromCharCode((P&31)<<6|R);else{var j=p[h++]&63;P=(P&240)==224?(P&15)<<12|R<<6|j:(P&7)<<18|R<<12|j<<6|p[h++]&63,65536>P?_+=String.fromCharCode(P):(P-=65536,_+=String.fromCharCode(55296|P>>10,56320|P&1023))}}else _+=String.fromCharCode(P)}return _},vt=p=>{for(var h=0,T=0;T<p.length;++T){var _=p.charCodeAt(T);127>=_?h++:2047>=_?h+=2:55296<=_&&57343>=_?(h+=4,++T):h+=3}return h},fr=(p,h,T,_)=>{if(!(0<_))return 0;var P=T;_=T+_-1;for(var R=0;R<p.length;++R){var j=p.charCodeAt(R);if(55296<=j&&57343>=j){var H=p.charCodeAt(++R);j=65536+((j&1023)<<10)|H&1023}if(127>=j){if(T>=_)break;h[T++]=j}else{if(2047>=j){if(T+1>=_)break;h[T++]=192|j>>6}else{if(65535>=j){if(T+2>=_)break;h[T++]=224|j>>12}else{if(T+3>=_)break;h[T++]=240|j>>18,h[T++]=128|j>>12&63}h[T++]=128|j>>6&63}h[T++]=128|j&63}}return h[T]=0,T-P};function cr(p){if(p===null)return"null";var h=typeof p;return h==="object"||h==="array"||h==="function"?p.toString():""+p}var Tn=void 0;function ft(p){for(var h="";se[p];)h+=Tn[se[p++]];return h}var Zt={},jr={},pr={},vn=void 0;function Qt(p){throw new vn(p)}function Qn(p,h,T={}){var _=h.name;if(p||Qt(`type "${_}" must have a positive integer typeid pointer`),jr.hasOwnProperty(p)){if(T.gb)return;Qt(`Cannot register type '${_}' twice`)}jr[p]=h,delete pr[p],Zt.hasOwnProperty(p)&&(h=Zt[p],delete Zt[p],h.forEach(P=>P()))}function kt(p,h,T={}){if(!("argPackAdvance"in h))throw new TypeError("registerType registeredInstance requires argPackAdvance");Qn(p,h,T)}function Ir(p,h,T){switch(h){case 0:return T?function(_){return Ie[_]}:function(_){return se[_]};case 1:return T?function(_){return Re[_>>1]}:function(_){return lt[_>>1]};case 2:return T?function(_){return B[_>>2]}:function(_){return be[_>>2]};case 3:return T?function(_){return ue[_>>3]}:function(_){return Lt[_>>3]};default:throw new TypeError("Unknown integer type: "+p)}}function dr(p){switch(p){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${p}`)}}function xn(){this.Sa=[void 0],this.bb=[]}var tt=new xn;function qr(p){p>=tt.Va&&--tt.get(p).cb===0&&tt.$a(p)}var Ye=p=>(p||Qt("Cannot use deleted val. handle = "+p),tt.get(p).value),Xe=p=>{switch(p){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return tt.Za({cb:1,value:p})}};function Yr(p){return this.fromWireType(B[p>>2])}function wn(p,h){switch(h){case 2:return function(T){return this.fromWireType(Ce[T>>2])};case 3:return function(T){return this.fromWireType(Ae[T>>3])};default:throw new TypeError("Unknown float type: "+p)}}var Z=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Xr=(p,h)=>{for(var T=p>>1,_=T+h/2;!(T>=_)&&lt[T];)++T;if(T<<=1,32<T-p&&Z)return Z.decode(se.subarray(p,T));for(T="",_=0;!(_>=h/2);++_){var P=Re[p+2*_>>1];if(P==0)break;T+=String.fromCharCode(P)}return T},eo=(p,h,T)=>{if(T===void 0&&(T=2147483647),2>T)return 0;T-=2;var _=h;T=T<2*p.length?T/2:p.length;for(var P=0;P<T;++P)Re[h>>1]=p.charCodeAt(P),h+=2;return Re[h>>1]=0,h-_},Kr=p=>2*p.length,vi=(p,h)=>{for(var T=0,_="";!(T>=h/4);){var P=B[p+4*T>>2];if(P==0)break;++T,65536<=P?(P-=65536,_+=String.fromCharCode(55296|P>>10,56320|P&1023)):_+=String.fromCharCode(P)}return _},to=(p,h,T)=>{if(T===void 0&&(T=2147483647),4>T)return 0;var _=h;T=_+T-4;for(var P=0;P<p.length;++P){var R=p.charCodeAt(P);if(55296<=R&&57343>=R){var j=p.charCodeAt(++P);R=65536+((R&1023)<<10)|j&1023}if(B[h>>2]=R,h+=4,h+4>T)break}return B[h>>2]=0,h-_},xi=p=>{for(var h=0,T=0;T<p.length;++T){var _=p.charCodeAt(T);55296<=_&&57343>=_&&++T,h+=4}return h};function Ar(p,h){var T=jr[p];if(T===void 0){p=nt(p);var _=ft(p);xt(p),Qt(h+" has unknown type "+_)}return T}var ro={};function Sr(p){var h=ro[p];return h===void 0?ft(p):h}var Pr=[];function Er(){return typeof globalThis=="object"?globalThis:Function("return this")()}function no(p){var h=Pr.length;return Pr.push(p),h}function _n(p,h){for(var T=Array(p),_=0;_<p;++_)T[_]=Ar(be[h+4*_>>2],"parameter "+_);return T}function On(p){if(p===void 0)return"_unknown";p=p.replace(/[^a-zA-Z0-9_]/g,"$");var h=p.charCodeAt(0);return 48<=h&&57>=h?`_${p}`:p}var In=[];function oo(p,h){return p=On(p),{[p]:function(){return h.apply(this,arguments)}}[p]}function io(p){var h=Function;if(!(h instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof h} which is not a function`);var T=oo(h.name||"unknownFunctionName",function(){});return T.prototype=h.prototype,T=new T,p=h.apply(T,p),p instanceof Object?p:T}function ao(p){for(var h="",T=0;T<p;++T)h+=(T!==0?", ":"")+"arg"+T;var _="return function emval_allocator_"+p+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(T=0;T<p;++T)_+="var argType"+T+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], 'parameter "+T+`');
var arg`+T+" = argType"+T+`.readValueFromPointer(args);
args += argType`+T+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",_+("var obj = new constructor("+h+`);
return valueToHandle(obj);
}
`))(Ar,n,Xe,()=>be)}var An={};function hr(p){return-9007199254740992>p||9007199254740992<p?NaN:Number(p)}var er=p=>p%4===0&&(p%100!==0||p%400===0),Sn=[0,31,60,91,121,152,182,213,244,274,305,335],Pn=[0,31,59,90,120,151,181,212,243,273,304,334],En=p=>{var h=vt(p)+1,T=tr(h);return T&&fr(p,se,T,h),T},Jr={},Dn=()=>{if(!rt){var p={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s||"./this.program"},h;for(h in Jr)Jr[h]===void 0?delete p[h]:p[h]=Jr[h];var T=[];for(h in p)T.push(`${h}=${p[h]}`);rt=T}return rt},rt,Ln=[null,[],[]],Zr=[31,29,31,30,31,30,31,31,30,31,30,31],so=[31,28,31,30,31,30,31,31,30,31,30,31];function uo(p){var h=Array(vt(p)+1);return fr(p,h,0,h.length),h}for(var Wt=(p,h,T,_)=>{function P(D,ce,Se){for(D=typeof D=="number"?D.toString():D||"";D.length<ce;)D=Se[0]+D;return D}function R(D,ce){return P(D,ce,"0")}function j(D,ce){function Se(Cn){return 0>Cn?-1:0<Cn?1:0}var rr;return(rr=Se(D.getFullYear()-ce.getFullYear()))===0&&(rr=Se(D.getMonth()-ce.getMonth()))===0&&(rr=Se(D.getDate()-ce.getDate())),rr}function H(D){switch(D.getDay()){case 0:return new Date(D.getFullYear()-1,11,29);case 1:return D;case 2:return new Date(D.getFullYear(),0,3);case 3:return new Date(D.getFullYear(),0,2);case 4:return new Date(D.getFullYear(),0,1);case 5:return new Date(D.getFullYear()-1,11,31);case 6:return new Date(D.getFullYear()-1,11,30)}}function Q(D){var ce=D.Ta;for(D=new Date(new Date(D.Ua+1900,0,1).getTime());0<ce;){var Se=D.getMonth(),rr=(er(D.getFullYear())?Zr:so)[Se];if(ce>rr-D.getDate())ce-=rr-D.getDate()+1,D.setDate(1),11>Se?D.setMonth(Se+1):(D.setMonth(0),D.setFullYear(D.getFullYear()+1));else{D.setDate(D.getDate()+ce);break}}return Se=new Date(D.getFullYear()+1,0,4),ce=H(new Date(D.getFullYear(),0,4)),Se=H(Se),0>=j(ce,D)?0>=j(Se,D)?D.getFullYear()+1:D.getFullYear():D.getFullYear()-1}var te=B[_+40>>2];_={kb:B[_>>2],jb:B[_+4>>2],Xa:B[_+8>>2],ab:B[_+12>>2],Ya:B[_+16>>2],Ua:B[_+20>>2],Oa:B[_+24>>2],Ta:B[_+28>>2],mb:B[_+32>>2],ib:B[_+36>>2],lb:te&&te?Ut(se,te):""},T=T?Ut(se,T):"",te={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Te in te)T=T.replace(new RegExp(Te,"g"),te[Te]);var it="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),pt="January February March April May June July August September October November December".split(" ");te={"%a":D=>it[D.Oa].substring(0,3),"%A":D=>it[D.Oa],"%b":D=>pt[D.Ya].substring(0,3),"%B":D=>pt[D.Ya],"%C":D=>R((D.Ua+1900)/100|0,2),"%d":D=>R(D.ab,2),"%e":D=>P(D.ab,2," "),"%g":D=>Q(D).toString().substring(2),"%G":D=>Q(D),"%H":D=>R(D.Xa,2),"%I":D=>(D=D.Xa,D==0?D=12:12<D&&(D-=12),R(D,2)),"%j":D=>{for(var ce=0,Se=0;Se<=D.Ya-1;ce+=(er(D.Ua+1900)?Zr:so)[Se++]);return R(D.ab+ce,3)},"%m":D=>R(D.Ya+1,2),"%M":D=>R(D.jb,2),"%n":()=>`
`,"%p":D=>0<=D.Xa&&12>D.Xa?"AM":"PM","%S":D=>R(D.kb,2),"%t":()=>"	","%u":D=>D.Oa||7,"%U":D=>R(Math.floor((D.Ta+7-D.Oa)/7),2),"%V":D=>{var ce=Math.floor((D.Ta+7-(D.Oa+6)%7)/7);if(2>=(D.Oa+371-D.Ta-2)%7&&ce++,ce)ce==53&&(Se=(D.Oa+371-D.Ta)%7,Se==4||Se==3&&er(D.Ua)||(ce=1));else{ce=52;var Se=(D.Oa+7-D.Ta-1)%7;(Se==4||Se==5&&er(D.Ua%400-1))&&ce++}return R(ce,2)},"%w":D=>D.Oa,"%W":D=>R(Math.floor((D.Ta+7-(D.Oa+6)%7)/7),2),"%y":D=>(D.Ua+1900).toString().substring(2),"%Y":D=>D.Ua+1900,"%z":D=>{D=D.ib;var ce=0<=D;return D=Math.abs(D)/60,(ce?"+":"-")+("0000"+(D/60*100+D%60)).slice(-4)},"%Z":D=>D.lb,"%%":()=>"%"},T=T.replace(/%%/g,"\0\0");for(Te in te)T.includes(Te)&&(T=T.replace(new RegExp(Te,"g"),te[Te](_)));return T=T.replace(/\0\0/g,"%"),Te=uo(T),Te.length>h?0:(Ie.set(Te,p),Te.length-1)},lo=Array(256),ct=0;256>ct;++ct)lo[ct]=String.fromCharCode(ct);Tn=lo,vn=n.BindingError=class extends Error{constructor(p){super(p),this.name="BindingError"}},n.InternalError=class extends Error{constructor(p){super(p),this.name="InternalError"}},Object.assign(xn.prototype,{get(p){return this.Sa[p]},has(p){return this.Sa[p]!==void 0},Za(p){var h=this.bb.pop()||this.Sa.length;return this.Sa[h]=p,h},$a(p){this.Sa[p]=void 0,this.bb.push(p)}}),tt.Sa.push({value:void 0},{value:null},{value:!0},{value:!1}),tt.Va=tt.Sa.length,n.count_emval_handles=function(){for(var p=0,h=tt.Va;h<tt.Sa.length;++h)tt.Sa[h]!==void 0&&++p;return p};var fo={a:function(p,h,T){throw new gn(p).Za(h,T),Hr=p,Zn++,Hr},v:function(){return 0},ba:()=>{},N:()=>{},P:()=>{},H:function(){return 0},$:()=>{},V:()=>{},_:()=>{},A:function(){},O:()=>{},L:()=>{},aa:()=>{},M:()=>{},D:function(p,h,T,_,P){h=ft(h),T=dr(T);var R=h.indexOf("u")!=-1;R&&(P=(1n<<64n)-1n),kt(p,{name:h,fromWireType:function(j){return j},toWireType:function(j,H){if(typeof H!="bigint"&&typeof H!="number")throw new TypeError(`Cannot convert "${cr(H)}" to ${this.name}`);if(H<_||H>P)throw new TypeError(`Passing a number "${cr(H)}" from JS side to C/C++ side to an argument of type "${h}", which is outside the valid range [${_}, ${P}]!`);return H},argPackAdvance:8,readValueFromPointer:Ir(h,T,!R),Wa:null})},ea:function(p,h,T,_,P){var R=dr(T);h=ft(h),kt(p,{name:h,fromWireType:function(j){return!!j},toWireType:function(j,H){return H?_:P},argPackAdvance:8,readValueFromPointer:function(j){if(T===1)var H=Ie;else if(T===2)H=Re;else if(T===4)H=B;else throw new TypeError("Unknown boolean type size: "+h);return this.fromWireType(H[j>>R])},Wa:null})},da:function(p,h){h=ft(h),kt(p,{name:h,fromWireType:function(T){var _=Ye(T);return qr(T),_},toWireType:function(T,_){return Xe(_)},argPackAdvance:8,readValueFromPointer:Yr,Wa:null})},C:function(p,h,T){T=dr(T),h=ft(h),kt(p,{name:h,fromWireType:function(_){return _},toWireType:function(_,P){return P},argPackAdvance:8,readValueFromPointer:wn(h,T),Wa:null})},p:function(p,h,T,_,P){h=ft(h),P===-1&&(P=4294967295),P=dr(T);var R=H=>H;if(_===0){var j=32-8*T;R=H=>H<<j>>>j}T=h.includes("unsigned")?function(H,Q){return Q>>>0}:function(H,Q){return Q},kt(p,{name:h,fromWireType:R,toWireType:T,argPackAdvance:8,readValueFromPointer:Ir(h,P,_!==0),Wa:null})},l:function(p,h,T){function _(R){R>>=2;var j=be;return new P(j.buffer,j[R+1],j[R])}var P=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][h];T=ft(T),kt(p,{name:T,fromWireType:_,argPackAdvance:8,readValueFromPointer:_},{gb:!0})},E:function(p,h){h=ft(h);var T=h==="std::string";kt(p,{name:h,fromWireType:function(_){var P=be[_>>2],R=_+4;if(T)for(var j=R,H=0;H<=P;++H){var Q=R+H;if(H==P||se[Q]==0){if(j=j?Ut(se,j,Q-j):"",te===void 0)var te=j;else te+=String.fromCharCode(0),te+=j;j=Q+1}}else{for(te=Array(P),H=0;H<P;++H)te[H]=String.fromCharCode(se[R+H]);te=te.join("")}return xt(_),te},toWireType:function(_,P){P instanceof ArrayBuffer&&(P=new Uint8Array(P));var R=typeof P=="string";R||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int8Array||Qt("Cannot pass non-string to std::string");var j=T&&R?vt(P):P.length,H=tr(4+j+1),Q=H+4;if(be[H>>2]=j,T&&R)fr(P,se,Q,j+1);else if(R)for(R=0;R<j;++R){var te=P.charCodeAt(R);255<te&&(xt(Q),Qt("String has UTF-16 code units that do not fit in 8 bits")),se[Q+R]=te}else for(R=0;R<j;++R)se[Q+R]=P[R];return _!==null&&_.push(xt,H),H},argPackAdvance:8,readValueFromPointer:Yr,Wa:function(_){xt(_)}})},x:function(p,h,T){if(T=ft(T),h===2)var _=Xr,P=eo,R=Kr,j=()=>lt,H=1;else h===4&&(_=vi,P=to,R=xi,j=()=>be,H=2);kt(p,{name:T,fromWireType:function(Q){for(var te=be[Q>>2],Te=j(),it,pt=Q+4,D=0;D<=te;++D){var ce=Q+4+D*h;(D==te||Te[ce>>H]==0)&&(pt=_(pt,ce-pt),it===void 0?it=pt:(it+=String.fromCharCode(0),it+=pt),pt=ce+h)}return xt(Q),it},toWireType:function(Q,te){typeof te!="string"&&Qt(`Cannot pass non-string to C++ string type ${T}`);var Te=R(te),it=tr(4+Te+h);return be[it>>2]=Te>>H,P(te,it+4,Te+h),Q!==null&&Q.push(xt,it),it},argPackAdvance:8,readValueFromPointer:Yr,Wa:function(Q){xt(Q)}})},fa:function(p,h){h=ft(h),kt(p,{hb:!0,name:h,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},ca:()=>!0,o:function(p,h,T){p=Ye(p),h=Ar(h,"emval::as");var _=[],P=Xe(_);return be[T>>2]=P,h.toWireType(_,p)},h:function(p,h,T,_,P){p=Pr[p],h=Ye(h),T=Sr(T);var R=[];return be[_>>2]=Xe(R),p(h,T,R,P)},r:function(p,h,T,_){p=Pr[p],h=Ye(h),T=Sr(T),p(h,T,null,_)},b:qr,F:function(p,h){return p=Ye(p),h=Ye(h),p==h},u:function(p){return p===0?Xe(Er()):(p=Sr(p),Xe(Er()[p]))},g:function(p,h){var T=_n(p,h),_=T[0];h=_.name+"_$"+T.slice(1).map(function(Te){return Te.name}).join("_")+"$";var P=In[h];if(P!==void 0)return P;P=["retType"];for(var R=[_],j="",H=0;H<p-1;++H)j+=(H!==0?", ":"")+"arg"+H,P.push("argType"+H),R.push(T[1+H]);var Q="return function "+On("methodCaller_"+h)+`(handle, name, destructors, args) {
`,te=0;for(H=0;H<p-1;++H)Q+="    var arg"+H+" = argType"+H+".readValueFromPointer(args"+(te?"+"+te:"")+`);
`,te+=T[H+1].argPackAdvance;for(Q+="    var rv = handle[name]("+j+`);
`,H=0;H<p-1;++H)T[H+1].deleteObject&&(Q+="    argType"+H+".deleteObject(arg"+H+`);
`);return _.hb||(Q+=`    return retType.toWireType(destructors, rv);
`),P.push(Q+`};
`),p=io(P).apply(null,R),P=no(p),In[h]=P},q:function(p,h){return p=Ye(p),h=Ye(h),Xe(p[h])},c:function(p){4<p&&(tt.get(p).cb+=1)},G:function(p,h,T,_){p=Ye(p);var P=An[h];return P||(P=ao(h),An[h]=P),P(p,T,_)},s:function(){return Xe([])},k:function(p){p=Ye(p);for(var h=Array(p.length),T=0;T<p.length;T++)h[T]=p[T];return Xe(h)},d:function(p){return Xe(Sr(p))},j:function(){return Xe({})},f:function(p){for(var h=Ye(p);h.length;){var T=h.pop();h.pop()(T)}qr(p)},i:function(p,h,T){p=Ye(p),h=Ye(h),T=Ye(T),p[h]=T},e:function(p,h){return p=Ar(p,"_emval_take_value"),p=p.readValueFromPointer(h),Xe(p)},S:function(p,h){p=hr(p),h=hr(h),p=new Date(1e3*p),B[h>>2]=p.getUTCSeconds(),B[h+4>>2]=p.getUTCMinutes(),B[h+8>>2]=p.getUTCHours(),B[h+12>>2]=p.getUTCDate(),B[h+16>>2]=p.getUTCMonth(),B[h+20>>2]=p.getUTCFullYear()-1900,B[h+24>>2]=p.getUTCDay(),B[h+28>>2]=(p.getTime()-Date.UTC(p.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},T:function(p,h){p=hr(p),h=hr(h),p=new Date(1e3*p),B[h>>2]=p.getSeconds(),B[h+4>>2]=p.getMinutes(),B[h+8>>2]=p.getHours(),B[h+12>>2]=p.getDate(),B[h+16>>2]=p.getMonth(),B[h+20>>2]=p.getFullYear()-1900,B[h+24>>2]=p.getDay(),B[h+28>>2]=(er(p.getFullYear())?Sn:Pn)[p.getMonth()]+p.getDate()-1|0,B[h+36>>2]=-(60*p.getTimezoneOffset());var T=new Date(p.getFullYear(),6,1).getTimezoneOffset(),_=new Date(p.getFullYear(),0,1).getTimezoneOffset();B[h+32>>2]=(T!=_&&p.getTimezoneOffset()==Math.min(_,T))|0},U:function(p){p=hr(p);var h=new Date(B[p+20>>2]+1900,B[p+16>>2],B[p+12>>2],B[p+8>>2],B[p+4>>2],B[p>>2],0),T=B[p+32>>2],_=h.getTimezoneOffset(),P=new Date(h.getFullYear(),6,1).getTimezoneOffset(),R=new Date(h.getFullYear(),0,1).getTimezoneOffset(),j=Math.min(R,P);return 0>T?B[p+32>>2]=+(P!=R&&j==_):0<T!=(j==_)&&(P=Math.max(R,P),h.setTime(h.getTime()+6e4*((0<T?j:P)-_))),B[p+24>>2]=h.getDay(),B[p+28>>2]=(er(h.getFullYear())?Sn:Pn)[h.getMonth()]+h.getDate()-1|0,B[p>>2]=h.getSeconds(),B[p+4>>2]=h.getMinutes(),B[p+8>>2]=h.getHours(),B[p+12>>2]=h.getDate(),B[p+16>>2]=h.getMonth(),B[p+20>>2]=h.getYear(),BigInt(h.getTime()/1e3)},Q:function(){return-52},R:function(){},J:(p,h,T)=>{function _(Q){return(Q=Q.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Q[1]:"GMT"}var P=new Date().getFullYear(),R=new Date(P,0,1),j=new Date(P,6,1);P=R.getTimezoneOffset();var H=j.getTimezoneOffset();be[p>>2]=60*Math.max(P,H),B[h>>2]=+(P!=H),p=_(R),h=_(j),p=En(p),h=En(h),H<P?(be[T>>2]=p,be[T+4>>2]=h):(be[T>>2]=h,be[T+4>>2]=p)},t:()=>{ur("")},B:function(){return Date.now()},K:()=>2147483648,n:()=>performance.now(),Z:(p,h,T)=>se.copyWithin(p,h,h+T),I:p=>{var h=se.length;if(p>>>=0,2147483648<p)return!1;for(var T=1;4>=T;T*=2){var _=h*(1+.2/T);_=Math.min(_,p+100663296);var P=Math;_=Math.max(p,_);e:{P=P.min.call(P,2147483648,_+(65536-_%65536)%65536)-ee.buffer.byteLength+65535>>>16;try{ee.grow(P),X();var R=1;break e}catch{}R=void 0}if(R)return!0}return!1},X:(p,h)=>{var T=0;return Dn().forEach(function(_,P){var R=h+T;for(P=be[p+4*P>>2]=R,R=0;R<_.length;++R)Ie[P++>>0]=_.charCodeAt(R);Ie[P>>0]=0,T+=_.length+1}),0},Y:(p,h)=>{var T=Dn();be[p>>2]=T.length;var _=0;return T.forEach(function(P){_+=P.length+1}),be[h>>2]=_,0},w:()=>52,z:()=>52,W:function(){return 70},y:(p,h,T,_)=>{for(var P=0,R=0;R<T;R++){var j=be[h>>2],H=be[h+4>>2];h+=8;for(var Q=0;Q<H;Q++){var te=se[j+Q],Te=Ln[p];te===0||te===10?((p===1?C:$)(Ut(Te,0)),Te.length=0):Te.push(te)}P+=H}return be[_>>2]=P,0},ga:Wt,m:(p,h,T,_)=>Wt(p,h,T,_)};(function(){function p(T){if(z=T=T.exports,ee=z.ha,X(),Ne.unshift(z.ia),Qe--,n.monitorRunDependencies&&n.monitorRunDependencies(Qe),Qe==0&&(Kt!==null&&(clearInterval(Kt),Kt=null),Ct)){var _=Ct;Ct=null,_()}return T}var h={a:fo};if(Qe++,n.monitorRunDependencies&&n.monitorRunDependencies(Qe),n.instantiateWasm)try{return n.instantiateWasm(h,p)}catch(T){$("Module.instantiateWasm callback failed with error: "+T),r(T)}return Jt(h,function(T){p(T.instance)}).catch(r),{}})(),n._OrtInit=(p,h)=>(n._OrtInit=z.ja)(p,h),n._OrtGetLastError=(p,h)=>(n._OrtGetLastError=z.ka)(p,h),n._OrtCreateSessionOptions=(p,h,T,_,P,R,j,H,Q,te)=>(n._OrtCreateSessionOptions=z.la)(p,h,T,_,P,R,j,H,Q,te),n._OrtAppendExecutionProvider=(p,h)=>(n._OrtAppendExecutionProvider=z.ma)(p,h),n._OrtAddFreeDimensionOverride=(p,h,T)=>(n._OrtAddFreeDimensionOverride=z.na)(p,h,T),n._OrtAddSessionConfigEntry=(p,h,T)=>(n._OrtAddSessionConfigEntry=z.oa)(p,h,T),n._OrtReleaseSessionOptions=p=>(n._OrtReleaseSessionOptions=z.pa)(p),n._OrtCreateSession=(p,h,T)=>(n._OrtCreateSession=z.qa)(p,h,T),n._OrtReleaseSession=p=>(n._OrtReleaseSession=z.ra)(p),n._OrtGetInputOutputCount=(p,h,T)=>(n._OrtGetInputOutputCount=z.sa)(p,h,T),n._OrtGetInputName=(p,h)=>(n._OrtGetInputName=z.ta)(p,h),n._OrtGetOutputName=(p,h)=>(n._OrtGetOutputName=z.ua)(p,h),n._OrtFree=p=>(n._OrtFree=z.va)(p),n._OrtCreateTensor=(p,h,T,_,P,R)=>(n._OrtCreateTensor=z.wa)(p,h,T,_,P,R),n._OrtGetTensorData=(p,h,T,_,P)=>(n._OrtGetTensorData=z.xa)(p,h,T,_,P),n._OrtReleaseTensor=p=>(n._OrtReleaseTensor=z.ya)(p),n._OrtCreateRunOptions=(p,h,T,_)=>(n._OrtCreateRunOptions=z.za)(p,h,T,_),n._OrtAddRunConfigEntry=(p,h,T)=>(n._OrtAddRunConfigEntry=z.Aa)(p,h,T),n._OrtReleaseRunOptions=p=>(n._OrtReleaseRunOptions=z.Ba)(p),n._OrtCreateBinding=p=>(n._OrtCreateBinding=z.Ca)(p),n._OrtBindInput=(p,h,T)=>(n._OrtBindInput=z.Da)(p,h,T),n._OrtBindOutput=(p,h,T,_)=>(n._OrtBindOutput=z.Ea)(p,h,T,_),n._OrtClearBoundOutputs=p=>(n._OrtClearBoundOutputs=z.Fa)(p),n._OrtReleaseBinding=p=>(n._OrtReleaseBinding=z.Ga)(p),n._OrtRunWithBinding=(p,h,T,_,P)=>(n._OrtRunWithBinding=z.Ha)(p,h,T,_,P),n._OrtRun=(p,h,T,_,P,R,j,H)=>(n._OrtRun=z.Ia)(p,h,T,_,P,R,j,H),n._OrtEndProfiling=p=>(n._OrtEndProfiling=z.Ja)(p);var tr=n._malloc=p=>(tr=n._malloc=z.Ka)(p),xt=n._free=p=>(xt=n._free=z.La)(p),nt=p=>(nt=z.Ma)(p);n.__embind_initialize_bindings=()=>(n.__embind_initialize_bindings=z.Na)();var Qr=()=>(Qr=z.Pa)(),Ke=p=>(Ke=z.Qa)(p),ot=p=>(ot=z.Ra)(p);n.stackAlloc=ot,n.stackSave=Qr,n.stackRestore=Ke,n.UTF8ToString=(p,h)=>p?Ut(se,p,h):"",n.stringToUTF8=(p,h,T)=>fr(p,se,h,T),n.lengthBytesUTF8=vt;var mr;Ct=function p(){mr||co(),mr||(Ct=p)};function co(){function p(){if(!mr&&(mr=!0,n.calledRun=!0,!ve)){if(lr(Ne),e(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;){var h=n.postRun.shift();Ue.unshift(h)}lr(Ue)}}if(!(0<Qe)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)bt();lr(Gt),0<Qe||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),p()},1)):p())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return co(),t.ready}})();typeof md=="object"&&typeof Wa=="object"?Wa.exports=hd:typeof define=="function"&&define.amd&&define([],()=>hd)});var gd=xe(()=>{});var yd=xe(()=>{});var Td={};tn(Td,{cpus:()=>jg});var jg,vd=k(()=>{jg=void 0});var _d=xe((wd,za)=>{"use strict";var xd=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(t={}){function n(){return Ae.buffer!=bt.buffer&&qe(),bt}function e(){return Ae.buffer!=bt.buffer&&qe(),Qe}function r(){return Ae.buffer!=bt.buffer&&qe(),Kt}function o(){return Ae.buffer!=bt.buffer&&qe(),Ct}function s(){return Ae.buffer!=bt.buffer&&qe(),ur}function a(){return Ae.buffer!=bt.buffer&&qe(),Ft}function u(){return Ae.buffer!=bt.buffer&&qe(),Ve}var l=t,c,b;l.ready=new Promise((f,d)=>{c=f,b=d});var y=Object.assign({},l),w="./this.program",A=(f,d)=>{throw d},O=typeof window=="object",C=typeof importScripts=="function",$=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",F=l.ENVIRONMENT_IS_PTHREAD||!1,G="";function ee(f){return l.locateFile?l.locateFile(f,G):G+f}var z,ve,Ie;if($){var se=(Ma(),br(Na)),Re=(Ua(),br(Ga));G=C?Re.dirname(G)+"/":__dirname+"/",z=(d,m)=>(d=d.startsWith("file://")?new URL(d):Re.normalize(d),se.readFileSync(d,m?void 0:"utf8")),Ie=d=>(d=z(d,!0),d.buffer||(d=new Uint8Array(d)),d),ve=(d,m,v,S=!0)=>{d=d.startsWith("file://")?new URL(d):Re.normalize(d),se.readFile(d,S?void 0:"utf8",(E,N)=>{E?v(E):m(S?N.buffer:N)})},!l.thisProgram&&1<process.argv.length&&(w=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),A=(d,m)=>{throw process.exitCode=d,m},l.inspect=()=>"[Emscripten Module object]";let f;try{f=gd()}catch(d){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),d}global.Worker=f.Worker}else(O||C)&&(C?G=self.location.href:typeof document<"u"&&document.currentScript&&(G=document.currentScript.src),typeof i<"u"&&i&&(G=i),G.indexOf("blob:")!==0?G=G.substr(0,G.replace(/[?#].*/,"").lastIndexOf("/")+1):G="",$||(z=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.send(null),d.responseText},C&&(Ie=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),ve=(f,d,m)=>{var v=new XMLHttpRequest;v.open("GET",f,!0),v.responseType="arraybuffer",v.onload=()=>{v.status==200||v.status==0&&v.response?d(v.response):m()},v.onerror=m,v.send(null)}));$&&typeof performance>"u"&&(global.performance=yd().performance);var lt=console.log.bind(console),B=console.error.bind(console);$&&(lt=(...f)=>se.writeSync(1,f.join(" ")+`
`),B=(...f)=>se.writeSync(2,f.join(" ")+`
`));var be=l.print||lt,Ce=l.printErr||B;Object.assign(l,y),y=null,l.thisProgram&&(w=l.thisProgram),l.quit&&(A=l.quit);var ue;l.wasmBinary&&(ue=l.wasmBinary);var Lt=l.noExitRuntime||!0;typeof WebAssembly!="object"&&Zt("no native wasm support detected");var Ae,X,Gt,Ne=!1,Ue,bt,Qe,Kt,Ct,ur,Ft,et,gt,We,Ve;function qe(){var f=Ae.buffer;l.HEAP8=bt=new Int8Array(f),l.HEAP16=Kt=new Int16Array(f),l.HEAP32=ur=new Int32Array(f),l.HEAPU8=Qe=new Uint8Array(f),l.HEAPU16=Ct=new Uint16Array(f),l.HEAPU32=Ft=new Uint32Array(f),l.HEAPF32=et=new Float32Array(f),l.HEAPF64=Ve=new Float64Array(f),l.HEAP64=gt=new BigInt64Array(f),l.HEAPU64=We=new BigUint64Array(f)}var Jt=l.INITIAL_MEMORY||16777216;if(5242880<=Jt||Zt("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Jt+"! (STACK_SIZE=5242880)"),F)Ae=l.wasmMemory;else if(l.wasmMemory)Ae=l.wasmMemory;else if(Ae=new WebAssembly.Memory({initial:Jt/65536,maximum:32768,shared:!0}),!(Ae.buffer instanceof SharedArrayBuffer))throw Ce("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),$&&Ce("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");qe(),Jt=Ae.buffer.byteLength;var lr,gn=[],Hr=[],Zn=[],yn=0;function Ut(){return Lt||0<yn}var vt=0,fr=null,cr=null;function Tn(){vt++,l.monitorRunDependencies&&l.monitorRunDependencies(vt)}function ft(){if(vt--,l.monitorRunDependencies&&l.monitorRunDependencies(vt),vt==0&&(fr!==null&&(clearInterval(fr),fr=null),cr)){var f=cr;cr=null,f()}}function Zt(f){throw l.onAbort&&l.onAbort(f),f="Aborted("+f+")",Ce(f),Ne=!0,Ue=1,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),b(f),f}function jr(f){return f.startsWith("data:application/octet-stream;base64,")}var pr;pr="ort-wasm-threaded.wasm",jr(pr)||(pr=ee(pr));function vn(f){if(f==pr&&ue)return new Uint8Array(ue);if(Ie)return Ie(f);throw"both async and sync fetching of the wasm failed"}function Qt(f){if(!ue&&(O||C)){if(typeof fetch=="function"&&!f.startsWith("file://"))return fetch(f,{credentials:"same-origin"}).then(d=>{if(!d.ok)throw"failed to load wasm binary file at '"+f+"'";return d.arrayBuffer()}).catch(()=>vn(f));if(ve)return new Promise((d,m)=>{ve(f,v=>d(new Uint8Array(v)),m)})}return Promise.resolve().then(()=>vn(f))}function Qn(f,d,m){return Qt(f).then(v=>WebAssembly.instantiate(v,d)).then(v=>v).then(m,v=>{Ce("failed to asynchronously prepare wasm: "+v),Zt(v)})}function kt(f,d){var m=pr;return ue||typeof WebAssembly.instantiateStreaming!="function"||jr(m)||m.startsWith("file://")||$||typeof fetch!="function"?Qn(m,f,d):fetch(m,{credentials:"same-origin"}).then(v=>WebAssembly.instantiateStreaming(v,f).then(d,function(S){return Ce("wasm streaming compile failed: "+S),Ce("falling back to ArrayBuffer instantiation"),Qn(m,f,d)}))}function Ir(f){this.name="ExitStatus",this.message=`Program terminated with exit(${f})`,this.status=f}function dr(f){f.terminate(),f.onmessage=()=>{}}function xn(f){(f=Z.kb[f])||Zt(),Z.Qb(f)}function tt(f){var d=Z.Hb();if(!d)return 6;Z.ob.push(d),Z.kb[f.nb]=d,d.nb=f.nb;var m={cmd:"run",start_routine:f.Rb,arg:f.Gb,pthread_ptr:f.nb};return $&&d.unref(),d.postMessage(m,f.Xb),0}var qr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ye=(f,d,m)=>{var v=d+m;for(m=d;f[m]&&!(m>=v);)++m;if(16<m-d&&f.buffer&&qr)return qr.decode(f.buffer instanceof SharedArrayBuffer?f.slice(d,m):f.subarray(d,m));for(v="";d<m;){var S=f[d++];if(S&128){var E=f[d++]&63;if((S&224)==192)v+=String.fromCharCode((S&31)<<6|E);else{var N=f[d++]&63;S=(S&240)==224?(S&15)<<12|E<<6|N:(S&7)<<18|E<<12|N<<6|f[d++]&63,65536>S?v+=String.fromCharCode(S):(S-=65536,v+=String.fromCharCode(55296|S>>10,56320|S&1023))}}else v+=String.fromCharCode(S)}return v},Xe=(f,d)=>f?Ye(e(),f,d):"";function Yr(f){if(F)return Pe(1,1,f);Ue=f,Ut()||(Z.Sb(),l.onExit&&l.onExit(f),Ne=!0),A(f,new Ir(f))}var wn=f=>{if(Ue=f,F)throw eo(f),"unwind";Yr(f)},Z={rb:[],ob:[],Eb:[],kb:{},wb:function(){F?Z.Kb():Z.Jb()},Jb:function(){gn.unshift(()=>{Tn(),Z.Mb(()=>ft())})},Kb:function(){Z.receiveObjectTransfer=Z.Pb,Z.threadInitTLS=Z.Db,Z.setExitStatus=Z.Cb,Lt=!1},Cb:function(f){Ue=f},bc:["$terminateWorker"],Sb:function(){for(var f of Z.ob)dr(f);for(f of Z.rb)dr(f);Z.rb=[],Z.ob=[],Z.kb=[]},Qb:function(f){var d=f.nb;delete Z.kb[d],Z.rb.push(f),Z.ob.splice(Z.ob.indexOf(f),1),f.nb=0,Ii(d)},Pb:function(){},Db:function(){Z.Eb.forEach(f=>f())},Nb:f=>new Promise(d=>{f.onmessage=E=>{E=E.data;var N=E.cmd;if(E.targetThread&&E.targetThread!=ho()){var U=Z.kb[E.ac];U?U.postMessage(E,E.transferList):Ce('Internal error! Worker sent a message "'+N+'" to target pthread '+E.targetThread+", but that thread no longer exists!")}else N==="checkMailbox"?te():N==="spawnThread"?tt(E):N==="cleanupThread"?xn(E.thread):N==="killThread"?(E=E.thread,N=Z.kb[E],delete Z.kb[E],dr(N),Ii(E),Z.ob.splice(Z.ob.indexOf(N),1),N.nb=0):N==="cancelThread"?Z.kb[E.thread].postMessage({cmd:"cancel"}):N==="loaded"?(f.loaded=!0,d(f)):N==="alert"?alert("Thread "+E.threadId+": "+E.text):E.target==="setimmediate"?f.postMessage(E):N==="callHandler"?l[E.handler](...E.args):N&&Ce("worker sent an unknown command "+N)},f.onerror=E=>{throw Ce("worker sent an error! "+E.filename+":"+E.lineno+": "+E.message),E},$&&(f.on("message",function(E){f.onmessage({data:E})}),f.on("error",function(E){f.onerror(E)}));var m=[],v=["onExit","onAbort","print","printErr"],S;for(S of v)l.hasOwnProperty(S)&&m.push(S);f.postMessage({cmd:"load",handlers:m,urlOrBlob:l.mainScriptUrlOrBlob||i,wasmMemory:Ae,wasmModule:Gt})}),Mb:function(f){f()},Fb:function(){var f=ee("ort-wasm-threaded.worker.js");f=new Worker(f),Z.rb.push(f)},Hb:function(){return Z.rb.length==0&&(Z.Fb(),Z.Nb(Z.rb[0])),Z.rb.pop()}};l.PThread=Z;var Xr=f=>{for(;0<f.length;)f.shift()(l)};l.establishStackSpace=function(){var f=ho(),d=s()[f+52>>2];f=s()[f+56>>2],Cs(d,d-f),bo(d)};function eo(f){if(F)return Pe(2,0,f);wn(f)}var Kr=[];l.invokeEntryPoint=function(f,d){var m=Kr[f];m||(f>=Kr.length&&(Kr.length=f+1),Kr[f]=m=lr.get(f)),f=m(d),Ut()?Z.Cb(f):Ai(f)};function vi(f){this.tb=f-24,this.Ob=function(d){a()[this.tb+4>>2]=d},this.yb=function(d){a()[this.tb+8>>2]=d},this.wb=function(d,m){this.xb(),this.Ob(d),this.yb(m)},this.xb=function(){a()[this.tb+16>>2]=0}}var to=0,xi=0;function Ar(f,d,m,v){return F?Pe(3,1,f,d,m,v):ro(f,d,m,v)}function ro(f,d,m,v){if(typeof SharedArrayBuffer>"u")return Ce("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var S=[];return F&&S.length===0?Ar(f,d,m,v):(f={Rb:m,nb:f,Gb:v,Xb:S},F?(f.Zb="spawnThread",postMessage(f,S),0):tt(f))}function Sr(f,d,m){return F?Pe(4,1,f,d,m):0}function Pr(f,d){if(F)return Pe(5,1,f,d)}var Er=f=>{for(var d=0,m=0;m<f.length;++m){var v=f.charCodeAt(m);127>=v?d++:2047>=v?d+=2:55296<=v&&57343>=v?(d+=4,++m):d+=3}return d},no=(f,d,m,v)=>{if(!(0<v))return 0;var S=m;v=m+v-1;for(var E=0;E<f.length;++E){var N=f.charCodeAt(E);if(55296<=N&&57343>=N){var U=f.charCodeAt(++E);N=65536+((N&1023)<<10)|U&1023}if(127>=N){if(m>=v)break;d[m++]=N}else{if(2047>=N){if(m+1>=v)break;d[m++]=192|N>>6}else{if(65535>=N){if(m+2>=v)break;d[m++]=224|N>>12}else{if(m+3>=v)break;d[m++]=240|N>>18,d[m++]=128|N>>12&63}d[m++]=128|N>>6&63}d[m++]=128|N&63}}return d[m]=0,m-S},_n=(f,d,m)=>no(f,e(),d,m);function On(f,d){if(F)return Pe(6,1,f,d)}function In(f,d,m){if(F)return Pe(7,1,f,d,m)}function oo(f,d,m){return F?Pe(8,1,f,d,m):0}function io(f,d){if(F)return Pe(9,1,f,d)}function ao(f,d,m){if(F)return Pe(10,1,f,d,m)}function An(f,d,m,v){if(F)return Pe(11,1,f,d,m,v)}function hr(f,d,m,v){if(F)return Pe(12,1,f,d,m,v)}function er(f,d,m,v){if(F)return Pe(13,1,f,d,m,v)}function Sn(f){if(F)return Pe(14,1,f)}function Pn(f,d){if(F)return Pe(15,1,f,d)}function En(f,d,m){if(F)return Pe(16,1,f,d,m)}function Jr(f){if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f}var Dn=void 0;function rt(f){for(var d="";e()[f];)d+=Dn[e()[f++]];return d}var Ln={},Zr={},so={},uo=void 0;function Wt(f){throw new uo(f)}function lo(f,d,m={}){var v=d.name;if(f||Wt(`type "${v}" must have a positive integer typeid pointer`),Zr.hasOwnProperty(f)){if(m.Ib)return;Wt(`Cannot register type '${v}' twice`)}Zr[f]=d,delete so[f],Ln.hasOwnProperty(f)&&(d=Ln[f],delete Ln[f],d.forEach(S=>S()))}function ct(f,d,m={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");lo(f,d,m)}function fo(f,d,m){switch(d){case 0:return m?function(v){return n()[v]}:function(v){return e()[v]};case 1:return m?function(v){return r()[v>>1]}:function(v){return o()[v>>1]};case 2:return m?function(v){return s()[v>>2]}:function(v){return a()[v>>2]};case 3:return m?function(v){return gt[v>>3]}:function(v){return We[v>>3]};default:throw new TypeError("Unknown integer type: "+f)}}function tr(f){switch(f){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${f}`)}}function xt(){this.mb=[void 0],this.Ab=[]}var nt=new xt;function Qr(f){f>=nt.tb&&--nt.get(f).Bb===0&&nt.yb(f)}var Ke=f=>(f||Wt("Cannot use deleted val. handle = "+f),nt.get(f).value),ot=f=>{switch(f){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return nt.xb({Bb:1,value:f})}};function mr(f){return this.fromWireType(s()[f>>2])}function co(f,d){switch(d){case 2:return function(m){var v=this.fromWireType;return Ae.buffer!=bt.buffer&&qe(),v.call(this,et[m>>2])};case 3:return function(m){return this.fromWireType(u()[m>>3])};default:throw new TypeError("Unknown float type: "+f)}}var p=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,h=(f,d)=>{for(var m=f>>1,v=m+d/2;!(m>=v)&&o()[m];)++m;if(m<<=1,32<m-f&&p)return p.decode(e().slice(f,m));for(m="",v=0;!(v>=d/2);++v){var S=r()[f+2*v>>1];if(S==0)break;m+=String.fromCharCode(S)}return m},T=(f,d,m)=>{if(m===void 0&&(m=2147483647),2>m)return 0;m-=2;var v=d;m=m<2*f.length?m/2:f.length;for(var S=0;S<m;++S){var E=f.charCodeAt(S);r()[d>>1]=E,d+=2}return r()[d>>1]=0,d-v},_=f=>2*f.length,P=(f,d)=>{for(var m=0,v="";!(m>=d/4);){var S=s()[f+4*m>>2];if(S==0)break;++m,65536<=S?(S-=65536,v+=String.fromCharCode(55296|S>>10,56320|S&1023)):v+=String.fromCharCode(S)}return v},R=(f,d,m)=>{if(m===void 0&&(m=2147483647),4>m)return 0;var v=d;m=v+m-4;for(var S=0;S<f.length;++S){var E=f.charCodeAt(S);if(55296<=E&&57343>=E){var N=f.charCodeAt(++S);E=65536+((E&1023)<<10)|N&1023}if(s()[d>>2]=E,d+=4,d+4>m)break}return s()[d>>2]=0,d-v},j=f=>{for(var d=0,m=0;m<f.length;++m){var v=f.charCodeAt(m);55296<=v&&57343>=v&&++m,d+=4}return d},H=f=>{if(!Ne)try{if(f(),!Ut())try{F?Ai(Ue):wn(Ue)}catch(d){d instanceof Ir||d=="unwind"||A(1,d)}}catch(d){d instanceof Ir||d=="unwind"||A(1,d)}};function Q(f){typeof Atomics.Yb=="function"&&(Atomics.Yb(s(),f>>2,f).value.then(te),f+=128,Atomics.store(s(),f>>2,1))}l.__emscripten_thread_mailbox_await=Q;function te(){var f=ho();f&&(Q(f),H(()=>Ls()))}l.checkMailbox=te;function Te(f,d){var m=Zr[f];if(m===void 0){f=Ps(f);var v=rt(f);nr(f),Wt(d+" has unknown type "+v)}return m}var it={};function pt(f){var d=it[f];return d===void 0?rt(f):d}var D=[];function ce(){return typeof globalThis=="object"?globalThis:Function("return this")()}function Se(f){var d=D.length;return D.push(f),d}function rr(f,d){for(var m=Array(f),v=0;v<f;++v)m[v]=Te(a()[d+4*v>>2],"parameter "+v);return m}function Cn(f){if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f}var fs=[];function nh(f,d){return f=Cn(f),{[f]:function(){return d.apply(this,arguments)}}[f]}function oh(f){var d=Function;if(!(d instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof d} which is not a function`);var m=nh(d.name||"unknownFunctionName",function(){});return m.prototype=d.prototype,m=new m,f=d.apply(m,f),f instanceof Object?f:m}function ih(f){for(var d="",m=0;m<f;++m)d+=(m!==0?", ":"")+"arg"+m;var v="return function emval_allocator_"+f+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(m=0;m<f;++m)v+="var argType"+m+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], 'parameter "+m+`');
var arg`+m+" = argType"+m+`.readValueFromPointer(args);
args += argType`+m+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",v+("var obj = new constructor("+d+`);
return valueToHandle(obj);
}
`))(Te,l,ot,()=>a())}var cs={};function Fn(f){return-9007199254740992>f||9007199254740992<f?NaN:Number(f)}var en=f=>f%4===0&&(f%100!==0||f%400===0),ps=[0,31,60,91,121,152,182,213,244,274,305,335],ds=[0,31,59,90,120,151,181,212,243,273,304,334];function hs(f,d,m,v,S,E,N){return F?Pe(17,1,f,d,m,v,S,E,N):-52}function ms(f,d,m,v,S,E){if(F)return Pe(18,1,f,d,m,v,S,E)}var bs=f=>{var d=Er(f)+1,m=mo(d);return m&&_n(f,m,d),m},ah=f=>{var d=Si();return f=f(),bo(d),f};function Pe(f,d){var m=arguments.length-2,v=arguments;return ah(()=>{for(var S=2*m,E=Pi(8*S),N=E>>3,U=0;U<m;U++){var re=v[2+U];typeof re=="bigint"?(gt[N+2*U]=1n,gt[N+2*U+1]=re):(gt[N+2*U]=0n,u()[N+2*U+1]=re)}return Ds(f,S,E,d)})}var wi=[],_i={},gs=()=>{if(!Oi){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:w||"./this.program"},d;for(d in _i)_i[d]===void 0?delete f[d]:f[d]=_i[d];var m=[];for(d in f)m.push(`${d}=${f[d]}`);Oi=m}return Oi},Oi;function ys(f,d){if(F)return Pe(19,1,f,d);var m=0;return gs().forEach(function(v,S){var E=d+m;for(S=a()[f+4*S>>2]=E,E=0;E<v.length;++E)n()[S++>>0]=v.charCodeAt(E);n()[S>>0]=0,m+=v.length+1}),0}function Ts(f,d){if(F)return Pe(20,1,f,d);var m=gs();a()[f>>2]=m.length;var v=0;return m.forEach(function(S){v+=S.length+1}),a()[d>>2]=v,0}function vs(f){return F?Pe(21,1,f):52}function xs(f,d,m,v){return F?Pe(22,1,f,d,m,v):52}function ws(f,d,m,v){return F?Pe(23,1,f,d,m,v):70}var sh=[null,[],[]];function _s(f,d,m,v){if(F)return Pe(24,1,f,d,m,v);for(var S=0,E=0;E<m;E++){var N=a()[d>>2],U=a()[d+4>>2];d+=8;for(var re=0;re<U;re++){var oe=e()[N+re],De=sh[f];oe===0||oe===10?((f===1?be:Ce)(Ye(De,0)),De.length=0):De.push(oe)}S+=U}return a()[v>>2]=S,0}var Os=[31,29,31,30,31,30,31,31,30,31,30,31],Is=[31,28,31,30,31,30,31,31,30,31,30,31];function uh(f){var d=Array(Er(f)+1);return no(f,d,0,d.length),d}var lh=(f,d)=>{n().set(f,d)},As=(f,d,m,v)=>{function S(L,ge,Le){for(L=typeof L=="number"?L.toString():L||"";L.length<ge;)L=Le[0]+L;return L}function E(L,ge){return S(L,ge,"0")}function N(L,ge){function Le(ks){return 0>ks?-1:0<ks?1:0}var Dr;return(Dr=Le(L.getFullYear()-ge.getFullYear()))===0&&(Dr=Le(L.getMonth()-ge.getMonth()))===0&&(Dr=Le(L.getDate()-ge.getDate())),Dr}function U(L){switch(L.getDay()){case 0:return new Date(L.getFullYear()-1,11,29);case 1:return L;case 2:return new Date(L.getFullYear(),0,3);case 3:return new Date(L.getFullYear(),0,2);case 4:return new Date(L.getFullYear(),0,1);case 5:return new Date(L.getFullYear()-1,11,31);case 6:return new Date(L.getFullYear()-1,11,30)}}function re(L){var ge=L.pb;for(L=new Date(new Date(L.qb+1900,0,1).getTime());0<ge;){var Le=L.getMonth(),Dr=(en(L.getFullYear())?Os:Is)[Le];if(ge>Dr-L.getDate())ge-=Dr-L.getDate()+1,L.setDate(1),11>Le?L.setMonth(Le+1):(L.setMonth(0),L.setFullYear(L.getFullYear()+1));else{L.setDate(L.getDate()+ge);break}}return Le=new Date(L.getFullYear()+1,0,4),ge=U(new Date(L.getFullYear(),0,4)),Le=U(Le),0>=N(ge,L)?0>=N(Le,L)?L.getFullYear()+1:L.getFullYear():L.getFullYear()-1}var oe=s()[v+40>>2];v={Vb:s()[v>>2],Ub:s()[v+4>>2],ub:s()[v+8>>2],zb:s()[v+12>>2],vb:s()[v+16>>2],qb:s()[v+20>>2],lb:s()[v+24>>2],pb:s()[v+28>>2],cc:s()[v+32>>2],Tb:s()[v+36>>2],Wb:oe?Xe(oe):""},m=Xe(m),oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var De in oe)m=m.replace(new RegExp(De,"g"),oe[De]);var yt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),or="January February March April May June July August September October November December".split(" ");oe={"%a":L=>yt[L.lb].substring(0,3),"%A":L=>yt[L.lb],"%b":L=>or[L.vb].substring(0,3),"%B":L=>or[L.vb],"%C":L=>E((L.qb+1900)/100|0,2),"%d":L=>E(L.zb,2),"%e":L=>S(L.zb,2," "),"%g":L=>re(L).toString().substring(2),"%G":L=>re(L),"%H":L=>E(L.ub,2),"%I":L=>(L=L.ub,L==0?L=12:12<L&&(L-=12),E(L,2)),"%j":L=>{for(var ge=0,Le=0;Le<=L.vb-1;ge+=(en(L.qb+1900)?Os:Is)[Le++]);return E(L.zb+ge,3)},"%m":L=>E(L.vb+1,2),"%M":L=>E(L.Ub,2),"%n":()=>`
`,"%p":L=>0<=L.ub&&12>L.ub?"AM":"PM","%S":L=>E(L.Vb,2),"%t":()=>"	","%u":L=>L.lb||7,"%U":L=>E(Math.floor((L.pb+7-L.lb)/7),2),"%V":L=>{var ge=Math.floor((L.pb+7-(L.lb+6)%7)/7);if(2>=(L.lb+371-L.pb-2)%7&&ge++,ge)ge==53&&(Le=(L.lb+371-L.pb)%7,Le==4||Le==3&&en(L.qb)||(ge=1));else{ge=52;var Le=(L.lb+7-L.pb-1)%7;(Le==4||Le==5&&en(L.qb%400-1))&&ge++}return E(ge,2)},"%w":L=>L.lb,"%W":L=>E(Math.floor((L.pb+7-(L.lb+6)%7)/7),2),"%y":L=>(L.qb+1900).toString().substring(2),"%Y":L=>L.qb+1900,"%z":L=>{L=L.Tb;var ge=0<=L;return L=Math.abs(L)/60,(ge?"+":"-")+("0000"+(L/60*100+L%60)).slice(-4)},"%Z":L=>L.Wb,"%%":()=>"%"},m=m.replace(/%%/g,"\0\0");for(De in oe)m.includes(De)&&(m=m.replace(new RegExp(De,"g"),oe[De](v)));return m=m.replace(/\0\0/g,"%"),De=uh(m),De.length>d?0:(lh(De,f),De.length-1)};Z.wb();for(var Ss=Array(256),po=0;256>po;++po)Ss[po]=String.fromCharCode(po);Dn=Ss,uo=l.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},l.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(xt.prototype,{get(f){return this.mb[f]},has(f){return this.mb[f]!==void 0},xb(f){var d=this.Ab.pop()||this.mb.length;return this.mb[d]=f,d},yb(f){this.mb[f]=void 0,this.Ab.push(f)}}),nt.mb.push({value:void 0},{value:null},{value:!0},{value:!1}),nt.tb=nt.mb.length,l.count_emval_handles=function(){for(var f=0,d=nt.tb;d<nt.mb.length;++d)nt.mb[d]!==void 0&&++f;return f};var fh=[null,Yr,eo,Ar,Sr,Pr,On,In,oo,io,ao,An,hr,er,Sn,Pn,En,hs,ms,ys,Ts,vs,xs,ws,_s],ch={b:function(f,d,m){throw new vi(f).wb(d,m),to=f,xi++,to},fa:function(f){Es(f,!C,1,!O,131072,!1),Z.Db()},D:function(f){F?postMessage({cmd:"cleanupThread",thread:f}):xn(f)},W:ro,y:Sr,la:Pr,S:On,U:In,L:oo,ja:io,aa:ao,ia:An,F:hr,T:er,Q:Sn,ka:Pn,R:En,I:function(f,d,m,v,S){d=rt(d),m=tr(m);var E=d.indexOf("u")!=-1;E&&(S=(1n<<64n)-1n),ct(f,{name:d,fromWireType:function(N){return N},toWireType:function(N,U){if(typeof U!="bigint"&&typeof U!="number")throw new TypeError(`Cannot convert "${Jr(U)}" to ${this.name}`);if(U<v||U>S)throw new TypeError(`Passing a number "${Jr(U)}" from JS side to C/C++ side to an argument of type "${d}", which is outside the valid range [${v}, ${S}]!`);return U},argPackAdvance:8,readValueFromPointer:fo(d,m,!E),sb:null})},ra:function(f,d,m,v,S){var E=tr(m);d=rt(d),ct(f,{name:d,fromWireType:function(N){return!!N},toWireType:function(N,U){return U?v:S},argPackAdvance:8,readValueFromPointer:function(N){if(m===1)var U=n();else if(m===2)U=r();else if(m===4)U=s();else throw new TypeError("Unknown boolean type size: "+d);return this.fromWireType(U[N>>E])},sb:null})},qa:function(f,d){d=rt(d),ct(f,{name:d,fromWireType:function(m){var v=Ke(m);return Qr(m),v},toWireType:function(m,v){return ot(v)},argPackAdvance:8,readValueFromPointer:mr,sb:null})},H:function(f,d,m){m=tr(m),d=rt(d),ct(f,{name:d,fromWireType:function(v){return v},toWireType:function(v,S){return S},argPackAdvance:8,readValueFromPointer:co(d,m),sb:null})},t:function(f,d,m,v,S){d=rt(d),S===-1&&(S=4294967295),S=tr(m);var E=U=>U;if(v===0){var N=32-8*m;E=U=>U<<N>>>N}m=d.includes("unsigned")?function(U,re){return re>>>0}:function(U,re){return re},ct(f,{name:d,fromWireType:E,toWireType:m,argPackAdvance:8,readValueFromPointer:fo(d,S,v!==0),sb:null})},m:function(f,d,m){function v(E){E>>=2;var N=a();return new S(N.buffer,N[E+1],N[E])}var S=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][d];m=rt(m),ct(f,{name:m,fromWireType:v,argPackAdvance:8,readValueFromPointer:v},{Ib:!0})},J:function(f,d){d=rt(d);var m=d==="std::string";ct(f,{name:d,fromWireType:function(v){var S=a()[v>>2],E=v+4;if(m)for(var N=E,U=0;U<=S;++U){var re=E+U;if(U==S||e()[re]==0){if(N=Xe(N,re-N),oe===void 0)var oe=N;else oe+=String.fromCharCode(0),oe+=N;N=re+1}}else{for(oe=Array(S),U=0;U<S;++U)oe[U]=String.fromCharCode(e()[E+U]);oe=oe.join("")}return nr(v),oe},toWireType:function(v,S){S instanceof ArrayBuffer&&(S=new Uint8Array(S));var E=typeof S=="string";E||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int8Array||Wt("Cannot pass non-string to std::string");var N=m&&E?Er(S):S.length,U=mo(4+N+1),re=U+4;if(a()[U>>2]=N,m&&E)_n(S,re,N+1);else if(E)for(E=0;E<N;++E){var oe=S.charCodeAt(E);255<oe&&(nr(re),Wt("String has UTF-16 code units that do not fit in 8 bits")),e()[re+E]=oe}else for(E=0;E<N;++E)e()[re+E]=S[E];return v!==null&&v.push(nr,U),U},argPackAdvance:8,readValueFromPointer:mr,sb:function(v){nr(v)}})},A:function(f,d,m){if(m=rt(m),d===2)var v=h,S=T,E=_,N=()=>o(),U=1;else d===4&&(v=P,S=R,E=j,N=()=>a(),U=2);ct(f,{name:m,fromWireType:function(re){for(var oe=a()[re>>2],De=N(),yt,or=re+4,L=0;L<=oe;++L){var ge=re+4+L*d;(L==oe||De[ge>>U]==0)&&(or=v(or,ge-or),yt===void 0?yt=or:(yt+=String.fromCharCode(0),yt+=or),or=ge+d)}return nr(re),yt},toWireType:function(re,oe){typeof oe!="string"&&Wt(`Cannot pass non-string to C++ string type ${m}`);var De=E(oe),yt=mo(4+De+d);return a()[yt>>2]=De>>U,S(oe,yt+4,De+d),re!==null&&re.push(nr,yt),yt},argPackAdvance:8,readValueFromPointer:mr,sb:function(re){nr(re)}})},sa:function(f,d){d=rt(d),ct(f,{Lb:!0,name:d,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},oa:()=>!0,O:function(f,d){f==d?setTimeout(()=>te()):F?postMessage({targetThread:f,cmd:"checkMailbox"}):(f=Z.kb[f])&&f.postMessage({cmd:"checkMailbox"})},da:function(){return-1},ea:Q,na:function(f){$&&Z.kb[f].ref()},s:function(f,d,m){f=Ke(f),d=Te(d,"emval::as");var v=[],S=ot(v);return a()[m>>2]=S,d.toWireType(v,f)},i:function(f,d,m,v,S){f=D[f],d=Ke(d),m=pt(m);var E=[];return a()[v>>2]=ot(E),f(d,m,E,S)},u:function(f,d,m,v){f=D[f],d=Ke(d),m=pt(m),f(d,m,null,v)},c:Qr,K:function(f,d){return f=Ke(f),d=Ke(d),f==d},o:function(f){return f===0?ot(ce()):(f=pt(f),ot(ce()[f]))},h:function(f,d){var m=rr(f,d),v=m[0];d=v.name+"_$"+m.slice(1).map(function(De){return De.name}).join("_")+"$";var S=fs[d];if(S!==void 0)return S;S=["retType"];for(var E=[v],N="",U=0;U<f-1;++U)N+=(U!==0?", ":"")+"arg"+U,S.push("argType"+U),E.push(m[1+U]);var re="return function "+Cn("methodCaller_"+d)+`(handle, name, destructors, args) {
`,oe=0;for(U=0;U<f-1;++U)re+="    var arg"+U+" = argType"+U+".readValueFromPointer(args"+(oe?"+"+oe:"")+`);
`,oe+=m[U+1].argPackAdvance;for(re+="    var rv = handle[name]("+N+`);
`,U=0;U<f-1;++U)m[U+1].deleteObject&&(re+="    argType"+U+".deleteObject(arg"+U+`);
`);return v.Lb||(re+=`    return retType.toWireType(destructors, rv);
`),S.push(re+`};
`),f=oh(S).apply(null,E),S=Se(f),fs[d]=S},r:function(f,d){return f=Ke(f),d=Ke(d),ot(f[d])},d:function(f){4<f&&(nt.get(f).Bb+=1)},x:function(f,d,m,v){f=Ke(f);var S=cs[d];return S||(S=ih(d),cs[d]=S),S(f,m,v)},v:function(){return ot([])},l:function(f){f=Ke(f);for(var d=Array(f.length),m=0;m<f.length;m++)d[m]=f[m];return ot(d)},e:function(f){return ot(pt(f))},k:function(){return ot({})},g:function(f){for(var d=Ke(f);d.length;){var m=d.pop();d.pop()(m)}Qr(f)},j:function(f,d,m){f=Ke(f),d=Ke(d),m=Ke(m),f[d]=m},f:function(f,d){return f=Te(f,"_emval_take_value"),f=f.readValueFromPointer(d),ot(f)},Z:function(f,d){f=Fn(f),d=Fn(d),f=new Date(1e3*f),s()[d>>2]=f.getUTCSeconds(),s()[d+4>>2]=f.getUTCMinutes(),s()[d+8>>2]=f.getUTCHours(),s()[d+12>>2]=f.getUTCDate(),s()[d+16>>2]=f.getUTCMonth(),s()[d+20>>2]=f.getUTCFullYear()-1900,s()[d+24>>2]=f.getUTCDay(),f=(f.getTime()-Date.UTC(f.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,s()[d+28>>2]=f},_:function(f,d){f=Fn(f),d=Fn(d),f=new Date(1e3*f),s()[d>>2]=f.getSeconds(),s()[d+4>>2]=f.getMinutes(),s()[d+8>>2]=f.getHours(),s()[d+12>>2]=f.getDate(),s()[d+16>>2]=f.getMonth(),s()[d+20>>2]=f.getFullYear()-1900,s()[d+24>>2]=f.getDay();var m=(en(f.getFullYear())?ps:ds)[f.getMonth()]+f.getDate()-1|0;s()[d+28>>2]=m,s()[d+36>>2]=-(60*f.getTimezoneOffset()),m=new Date(f.getFullYear(),6,1).getTimezoneOffset();var v=new Date(f.getFullYear(),0,1).getTimezoneOffset();f=(m!=v&&f.getTimezoneOffset()==Math.min(v,m))|0,s()[d+32>>2]=f},$:function(f){f=Fn(f);var d=new Date(s()[f+20>>2]+1900,s()[f+16>>2],s()[f+12>>2],s()[f+8>>2],s()[f+4>>2],s()[f>>2],0),m=s()[f+32>>2],v=d.getTimezoneOffset(),S=new Date(d.getFullYear(),6,1).getTimezoneOffset(),E=new Date(d.getFullYear(),0,1).getTimezoneOffset(),N=Math.min(E,S);return 0>m?s()[f+32>>2]=+(S!=E&&N==v):0<m!=(N==v)&&(S=Math.max(E,S),d.setTime(d.getTime()+6e4*((0<m?N:S)-v))),s()[f+24>>2]=d.getDay(),m=(en(d.getFullYear())?ps:ds)[d.getMonth()]+d.getDate()-1|0,s()[f+28>>2]=m,s()[f>>2]=d.getSeconds(),s()[f+4>>2]=d.getMinutes(),s()[f+8>>2]=d.getHours(),s()[f+12>>2]=d.getDate(),s()[f+16>>2]=d.getMonth(),s()[f+20>>2]=d.getYear(),BigInt(d.getTime()/1e3)},X:hs,Y:ms,N:(f,d,m)=>{function v(oe){return(oe=oe.toTimeString().match(/\(([A-Za-z ]+)\)$/))?oe[1]:"GMT"}var S=new Date().getFullYear(),E=new Date(S,0,1),N=new Date(S,6,1);S=E.getTimezoneOffset();var U=N.getTimezoneOffset(),re=Math.max(S,U);a()[f>>2]=60*re,s()[d>>2]=+(S!=U),f=v(E),d=v(N),f=bs(f),d=bs(d),U<S?(a()[m>>2]=f,a()[m+4>>2]=d):(a()[m>>2]=d,a()[m+4>>2]=f)},n:()=>{Zt("")},E:function(){},G:function(){return Date.now()},ma:()=>{throw yn+=1,"unwind"},P:()=>2147483648,q:()=>performance.timeOrigin+performance.now(),w:function(){return $?(vd(),br(Td)).cpus().length:navigator.hardwareConcurrency},ca:function(f,d,m,v){for(Z.$b=d,m/=2,wi.length=m,d=v>>3,v=0;v<m;v++)wi[v]=gt[d+2*v]?gt[d+2*v+1]:u()[d+2*v+1];return fh[f].apply(null,wi)},M:f=>{var d=e().length;if(f>>>=0,f<=d||2147483648<f)return!1;for(var m=1;4>=m;m*=2){var v=d*(1+.2/m);v=Math.min(v,f+100663296);var S=Math;v=Math.max(f,v);e:{S=S.min.call(S,2147483648,v+(65536-v%65536)%65536)-Ae.buffer.byteLength+65535>>>16;try{Ae.grow(S),qe();var E=1;break e}catch{}E=void 0}if(E)return!0}return!1},ga:ys,ha:Ts,V:wn,z:vs,C:xs,ba:ws,B:_s,a:Ae||l.wasmMemory,pa:As,p:(f,d,m,v)=>As(f,d,m,v)};(function(){function f(m,v){return X=m=m.exports,Z.Eb.push(X.Ya),lr=X.$a,Hr.unshift(X.ta),Gt=v,ft(),m}var d={a:ch};if(Tn(),l.instantiateWasm)try{return l.instantiateWasm(d,f)}catch(m){Ce("Module.instantiateWasm callback failed with error: "+m),b(m)}return kt(d,function(m){f(m.instance,m.module)}).catch(b),{}})(),l._OrtInit=(f,d)=>(l._OrtInit=X.ua)(f,d),l._OrtGetLastError=(f,d)=>(l._OrtGetLastError=X.va)(f,d),l._OrtCreateSessionOptions=(f,d,m,v,S,E,N,U,re,oe)=>(l._OrtCreateSessionOptions=X.wa)(f,d,m,v,S,E,N,U,re,oe),l._OrtAppendExecutionProvider=(f,d)=>(l._OrtAppendExecutionProvider=X.xa)(f,d),l._OrtAddFreeDimensionOverride=(f,d,m)=>(l._OrtAddFreeDimensionOverride=X.ya)(f,d,m),l._OrtAddSessionConfigEntry=(f,d,m)=>(l._OrtAddSessionConfigEntry=X.za)(f,d,m),l._OrtReleaseSessionOptions=f=>(l._OrtReleaseSessionOptions=X.Aa)(f),l._OrtCreateSession=(f,d,m)=>(l._OrtCreateSession=X.Ba)(f,d,m),l._OrtReleaseSession=f=>(l._OrtReleaseSession=X.Ca)(f),l._OrtGetInputOutputCount=(f,d,m)=>(l._OrtGetInputOutputCount=X.Da)(f,d,m),l._OrtGetInputName=(f,d)=>(l._OrtGetInputName=X.Ea)(f,d),l._OrtGetOutputName=(f,d)=>(l._OrtGetOutputName=X.Fa)(f,d),l._OrtFree=f=>(l._OrtFree=X.Ga)(f),l._OrtCreateTensor=(f,d,m,v,S,E)=>(l._OrtCreateTensor=X.Ha)(f,d,m,v,S,E),l._OrtGetTensorData=(f,d,m,v,S)=>(l._OrtGetTensorData=X.Ia)(f,d,m,v,S),l._OrtReleaseTensor=f=>(l._OrtReleaseTensor=X.Ja)(f),l._OrtCreateRunOptions=(f,d,m,v)=>(l._OrtCreateRunOptions=X.Ka)(f,d,m,v),l._OrtAddRunConfigEntry=(f,d,m)=>(l._OrtAddRunConfigEntry=X.La)(f,d,m),l._OrtReleaseRunOptions=f=>(l._OrtReleaseRunOptions=X.Ma)(f),l._OrtCreateBinding=f=>(l._OrtCreateBinding=X.Na)(f),l._OrtBindInput=(f,d,m)=>(l._OrtBindInput=X.Oa)(f,d,m),l._OrtBindOutput=(f,d,m,v)=>(l._OrtBindOutput=X.Pa)(f,d,m,v),l._OrtClearBoundOutputs=f=>(l._OrtClearBoundOutputs=X.Qa)(f),l._OrtReleaseBinding=f=>(l._OrtReleaseBinding=X.Ra)(f),l._OrtRunWithBinding=(f,d,m,v,S)=>(l._OrtRunWithBinding=X.Sa)(f,d,m,v,S),l._OrtRun=(f,d,m,v,S,E,N,U)=>(l._OrtRun=X.Ta)(f,d,m,v,S,E,N,U),l._OrtEndProfiling=f=>(l._OrtEndProfiling=X.Ua)(f);var ho=l._pthread_self=()=>(ho=l._pthread_self=X.Va)(),mo=l._malloc=f=>(mo=l._malloc=X.Wa)(f),nr=l._free=f=>(nr=l._free=X.Xa)(f);l.__emscripten_tls_init=()=>(l.__emscripten_tls_init=X.Ya)();var Ps=f=>(Ps=X.Za)(f);l.__embind_initialize_bindings=()=>(l.__embind_initialize_bindings=X._a)();var Es=l.__emscripten_thread_init=(f,d,m,v,S,E)=>(Es=l.__emscripten_thread_init=X.ab)(f,d,m,v,S,E);l.__emscripten_thread_crashed=()=>(l.__emscripten_thread_crashed=X.bb)();var Ds=(f,d,m,v)=>(Ds=X.cb)(f,d,m,v),Ii=f=>(Ii=X.db)(f),Ai=l.__emscripten_thread_exit=f=>(Ai=l.__emscripten_thread_exit=X.eb)(f),Ls=l.__emscripten_check_mailbox=()=>(Ls=l.__emscripten_check_mailbox=X.fb)(),Cs=(f,d)=>(Cs=X.gb)(f,d),Si=()=>(Si=X.hb)(),bo=f=>(bo=X.ib)(f),Pi=f=>(Pi=X.jb)(f);l.keepRuntimeAlive=Ut,l.wasmMemory=Ae,l.stackAlloc=Pi,l.stackSave=Si,l.stackRestore=bo,l.UTF8ToString=Xe,l.stringToUTF8=_n,l.lengthBytesUTF8=Er,l.ExitStatus=Ir,l.PThread=Z;var go;cr=function f(){go||Fs(),go||(cr=f)};function Fs(){function f(){if(!go&&(go=!0,l.calledRun=!0,!Ne)&&(F||Xr(Hr),c(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),!F)){if(l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;){var d=l.postRun.shift();Zn.unshift(d)}Xr(Zn)}}if(!(0<vt))if(F)c(l),F||Xr(Hr),startWorker(l);else{if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)gn.unshift(l.preRun.shift());Xr(gn),0<vt||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),f()},1)):f())}}if(l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);0<l.preInit.length;)l.preInit.pop()();return Fs(),t.ready}})();typeof wd=="object"&&typeof za=="object"?za.exports=xd:typeof define=="function"&&define.amd&&define([],()=>xd)});var Od=xe((VO,qg)=>{qg.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var Yg,Xg,Va,Ha,di,Id,Kg,Jg,Zg,Ad,Ge,bn=k(()=>{"use strict";Yg=bd(),Xg=_d(),Ha=!1,di=!1,Id=!1,Kg=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Jg=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Zg=(i,t)=>t?i?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":i?"ort-wasm-simd.wasm":"ort-wasm.wasm",Ad=async i=>{if(Ha)return Promise.resolve();if(di)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Id)throw new Error("previous call to 'initializeWebAssembly()' failed.");di=!0;let t=i.initTimeout,n=i.numThreads,e=i.simd,r=n>1&&Kg(),o=e&&Jg(),s=i.wasmPaths,a=typeof s=="string"?s:void 0,u=Zg(o,r),l=typeof s=="object"?s[u]:void 0,c=!1,b=[];if(t>0&&b.push(new Promise(y=>{setTimeout(()=>{c=!0,y()},t)})),b.push(new Promise((y,w)=>{let A=r?Xg:Yg,O={locateFile:(C,$)=>r&&C.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Od()],{type:"text/javascript"})):C.endsWith(".wasm")?l||(a??$)+u:$+C};if(r)if(typeof Blob>"u")O.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let C=`var ortWasmThreaded=${A.toString()};`;O.mainScriptUrlOrBlob=new Blob([C],{type:"text/javascript"})}A(O).then(C=>{di=!1,Ha=!0,Va=C,y()},C=>{di=!1,Id=!0,w(C)})})),await Promise.race(b),c)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},Ge=()=>{if(Ha&&Va)return Va;throw new Error("WebAssembly is not initialized yet.")}});var ze,Kn,Be,hi=k(()=>{"use strict";bn();ze=(i,t)=>{let n=Ge(),e=n.lengthBytesUTF8(i)+1,r=n._malloc(e);return n.stringToUTF8(i,r,e),t.push(r),r},Kn=(i,t,n,e)=>{if(typeof i=="object"&&i!==null){if(n.has(i))throw new Error("Circular reference in options");n.add(i)}Object.entries(i).forEach(([r,o])=>{let s=t?t+r:r;if(typeof o=="object")Kn(o,s+".",n,e);else if(typeof o=="string"||typeof o=="number")e(s,o.toString());else if(typeof o=="boolean")e(s,o?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof o}`)})},Be=i=>{let t=Ge(),n=t.stackSave();try{let e=t.stackAlloc(8);t._OrtGetLastError(e,e+4);let r=t.HEAP32[e/4],o=t.HEAPU32[e/4+1],s=o?t.UTF8ToString(o):"";throw new Error(`${i} ERROR_CODE: ${r}, ERROR_MESSAGE: ${s}`)}finally{t.stackRestore(n)}}});var Sd,Pd=k(()=>{"use strict";bn();hi();Sd=i=>{let t=Ge(),n=0,e=[],r=i||{};try{if(i?.logSeverityLevel===void 0)r.logSeverityLevel=2;else if(typeof i.logSeverityLevel!="number"||!Number.isInteger(i.logSeverityLevel)||i.logSeverityLevel<0||i.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${i.logSeverityLevel}`);if(i?.logVerbosityLevel===void 0)r.logVerbosityLevel=0;else if(typeof i.logVerbosityLevel!="number"||!Number.isInteger(i.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${i.logVerbosityLevel}`);i?.terminate===void 0&&(r.terminate=!1);let o=0;return i?.tag!==void 0&&(o=ze(i.tag,e)),n=t._OrtCreateRunOptions(r.logSeverityLevel,r.logVerbosityLevel,!!r.terminate,o),n===0&&Be("Can't create run options."),i?.extra!==void 0&&Kn(i.extra,"",new WeakSet,(s,a)=>{let u=ze(s,e),l=ze(a,e);t._OrtAddRunConfigEntry(n,u,l)!==0&&Be(`Can't set a run config entry: ${s} - ${a}.`)}),[n,e]}catch(o){throw n!==0&&t._OrtReleaseRunOptions(n),e.forEach(s=>t._free(s)),o}}});var Qg,ey,ty,ry,Ed,Dd=k(()=>{"use strict";bn();hi();Qg=i=>{switch(i){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${i}`)}},ey=i=>{switch(i){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${i}`)}},ty=i=>{i.extra||(i.extra={}),i.extra.session||(i.extra.session={});let t=i.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),i.executionProviders&&i.executionProviders.some(n=>(typeof n=="string"?n:n.name)==="webgpu")&&(i.enableMemPattern=!1)},ry=(i,t,n)=>{for(let e of t){let r=typeof e=="string"?e:e.name;switch(r){case"xnnpack":r="XNNPACK";break;case"webnn":if(r="WEBNN",typeof e!="string"){let s=e;if(s?.deviceType){let a=ze("deviceType",n),u=ze(s.deviceType,n);Ge()._OrtAddSessionConfigEntry(i,a,u)!==0&&Be(`Can't set a session config entry: 'deviceType' - ${s.deviceType}.`)}if(s?.powerPreference){let a=ze("powerPreference",n),u=ze(s.powerPreference,n);Ge()._OrtAddSessionConfigEntry(i,a,u)!==0&&Be(`Can't set a session config entry: 'powerPreference' - ${s.powerPreference}.`)}}break;case"webgpu":if(r="JS",typeof e!="string"){let s=e;if(s?.preferredLayout){if(s.preferredLayout!=="NCHW"&&s.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${s.preferredLayout}`);let a=ze("preferredLayout",n),u=ze(s.preferredLayout,n);Ge()._OrtAddSessionConfigEntry(i,a,u)!==0&&Be(`Can't set a session config entry: 'preferredLayout' - ${s.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${r}`)}let o=ze(r,n);Ge()._OrtAppendExecutionProvider(i,o)!==0&&Be(`Can't append execution provider: ${r}.`)}},Ed=i=>{let t=Ge(),n=0,e=[],r=i||{};ty(r);try{let o=Qg(r.graphOptimizationLevel??"all"),s=ey(r.executionMode??"sequential"),a=typeof r.logId=="string"?ze(r.logId,e):0,u=r.logSeverityLevel??2;if(!Number.isInteger(u)||u<0||u>4)throw new Error(`log serverity level is not valid: ${u}`);let l=r.logVerbosityLevel??0;if(!Number.isInteger(l)||l<0||l>4)throw new Error(`log verbosity level is not valid: ${l}`);let c=typeof r.optimizedModelFilePath=="string"?ze(r.optimizedModelFilePath,e):0;if(n=t._OrtCreateSessionOptions(o,!!r.enableCpuMemArena,!!r.enableMemPattern,s,!!r.enableProfiling,0,a,u,l,c),n===0&&Be("Can't create session options."),r.executionProviders&&ry(n,r.executionProviders,e),r.freeDimensionOverrides)for(let[b,y]of Object.entries(r.freeDimensionOverrides)){if(typeof b!="string")throw new Error(`free dimension override name must be a string: ${b}`);if(typeof y!="number"||!Number.isInteger(y)||y<0)throw new Error(`free dimension override value must be a non-negative integer: ${y}`);let w=ze(b,e);t._OrtAddFreeDimensionOverride(n,w,y)!==0&&Be(`Can't set a free dimension override: ${b} - ${y}.`)}return r.extra!==void 0&&Kn(r.extra,"",new WeakSet,(b,y)=>{let w=ze(b,e),A=ze(y,e);t._OrtAddSessionConfigEntry(n,w,A)!==0&&Be(`Can't set a session config entry: ${b} - ${y}.`)}),[n,e]}catch(o){throw n!==0&&t._OrtReleaseSessionOptions(n),e.forEach(s=>t._free(s)),o}}});var ja,Ld,qa,Cd,Fd,mi,kd,Ya=k(()=>{"use strict";ja=i=>{switch(i){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${i}`)}},Ld=i=>{switch(i){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${i}`)}},qa=i=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][i],Cd=i=>{switch(i){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${i}`)}},Fd=i=>{switch(i){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${i}`)}},mi=i=>i==="float32"||i==="int32"||i==="int64"||i==="bool"||i==="float16"||i==="uint32",kd=i=>{switch(i){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${i}`)}}});var ny,oy,Bd,Jn,Xa,Ka,Rd,Nd,$d,Md,Gd,Ud,Wd=k(()=>{"use strict";Pd();Dd();Ya();bn();hi();ny=i=>{let t=Ge(),n=t.stackSave();try{let e=t.stackAlloc(8);return t._OrtGetInputOutputCount(i,e,e+4)!==0&&Be("Can't get session input/output count."),[t.HEAP32[e/4],t.HEAP32[e/4+1]]}finally{t.stackRestore(n)}},oy=(i,t)=>{Ge()._OrtInit(i,t)!==0&&Be("Can't initialize onnxruntime.")},Bd=async i=>{oy(i.wasm.numThreads,Fd(i.logLevel))},Jn=new Map,Xa=i=>{let t=Ge(),n=t._malloc(i.byteLength);if(n===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${i.byteLength}.`);return t.HEAPU8.set(i,n),[n,i.byteLength]},Ka=(i,t)=>{let n=Ge(),e=0,r=0,o=0,s=[],a=[],u=[];try{[r,s]=Ed(t),e=n._OrtCreateSession(i[0],i[1],r),e===0&&Be("Can't create a session.");let[l,c]=ny(e),b=[],y=[],w=[];for(let O=0;O<l;O++){let C=n._OrtGetInputName(e,O);C===0&&Be("Can't get an input name."),a.push(C),b.push(n.UTF8ToString(C))}for(let O=0;O<c;O++){let C=n._OrtGetOutputName(e,O);C===0&&Be("Can't get an output name."),u.push(C);let $=n.UTF8ToString(C);y.push($)}let A=null;return Jn.set(e,[e,a,u,A]),[e,b,y]}catch(l){throw a.forEach(c=>n._OrtFree(c)),u.forEach(c=>n._OrtFree(c)),o!==0&&n._OrtReleaseBinding(o),e!==0&&n._OrtReleaseSession(e),l}finally{n._free(i[0]),r!==0&&n._OrtReleaseSessionOptions(r),s.forEach(l=>n._free(l))}},Rd=(i,t)=>{let n=Xa(i);return Ka(n,t)},Nd=i=>{let t=Ge(),n=Jn.get(i);if(!n)throw new Error(`cannot release session. invalid session id: ${i}`);let[e,r,o,s]=n;s&&t._OrtReleaseBinding(s.handle),t.jsepUnregisterBuffers?.(i),r.forEach(a=>t._OrtFree(a)),o.forEach(a=>t._OrtFree(a)),t._OrtReleaseSession(e),Jn.delete(i)},$d=(i,t,n,e,r)=>{if(!i){t.push(0);return}let o=Ge(),s=i[0],a=i[1],u=i[3],l,c;if(s==="string"&&u==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(u==="gpu-buffer"){let w=i[2].gpuBuffer,A=qa(ja(s));c=a.reduce((O,C)=>O*C,1)*A,l=o.jsepRegisterBuffer(e,r,w,c)}else{let w=i[2];if(Array.isArray(w)){c=4*w.length,l=o._malloc(c),n.push(l);let A=l/4;for(let O=0;O<w.length;O++){if(typeof w[O]!="string")throw new TypeError(`tensor data at index ${O} is not a string`);o.HEAPU32[A++]=ze(w[O],n)}}else c=w.byteLength,l=o._malloc(c),n.push(l),o.HEAPU8.set(new Uint8Array(w.buffer,w.byteOffset,c),l)}let b=o.stackSave(),y=o.stackAlloc(4*a.length);try{let w=y/4;a.forEach(O=>o.HEAP32[w++]=O);let A=o._OrtCreateTensor(ja(s),l,c,y,a.length,kd(u));A===0&&Be(`Can't create tensor for input/output. session=${e}, index=${r}.`),t.push(A)}finally{o.stackRestore(b)}},Md=async(i,t,n,e,r,o)=>{let s=Ge(),a=Jn.get(i);if(!a)throw new Error(`cannot run inference. invalid session id: ${i}`);let[u,l,c,b]=a,y=t.length,w=e.length,A=0,O=[],C=[],$=[],F=[],G=s.stackSave(),ee=s.stackAlloc(y*4),z=s.stackAlloc(y*4),ve=s.stackAlloc(w*4),Ie=s.stackAlloc(w*4);try{[A,O]=Sd(o);for(let ue=0;ue<y;ue++)$d(n[ue],C,F,i,t[ue]);for(let ue=0;ue<w;ue++)$d(r[ue],$,F,i,y+e[ue]);let se=ee/4,Re=z/4,lt=ve/4,B=Ie/4;for(let ue=0;ue<y;ue++)s.HEAPU32[se++]=C[ue],s.HEAPU32[Re++]=l[t[ue]];for(let ue=0;ue<w;ue++)s.HEAPU32[lt++]=$[ue],s.HEAPU32[B++]=c[e[ue]];let be;be=await s._OrtRun(u,z,ee,y,Ie,w,ve,A),be!==0&&Be("failed to call OrtRun().");let Ce=[];for(let ue=0;ue<w;ue++){let Lt=s.HEAPU32[ve/4+ue];if(Lt===$[ue]){Ce.push(r[ue]);continue}let Ae=s.stackSave(),X=s.stackAlloc(4*4),Gt=!1,Ne,Ue=0;try{s._OrtGetTensorData(Lt,X,X+4,X+8,X+12)!==0&&Be(`Can't access output tensor data on index ${ue}.`);let Qe=X/4,Kt=s.HEAPU32[Qe++];Ue=s.HEAPU32[Qe++];let Ct=s.HEAPU32[Qe++],ur=s.HEAPU32[Qe++],Ft=[];for(let We=0;We<ur;We++)Ft.push(s.HEAPU32[Ct/4+We]);s._OrtFree(Ct);let et=Ft.reduce((We,Ve)=>We*Ve,1);Ne=Ld(Kt);let gt=b?.outputPreferredLocations[e[ue]];if(Ne==="string"){if(gt==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let We=[],Ve=Ue/4;for(let qe=0;qe<et;qe++){let Jt=s.HEAPU32[Ve++],lr=qe===et-1?void 0:s.HEAPU32[Ve]-Jt;We.push(s.UTF8ToString(Jt,lr))}Ce.push([Ne,Ft,We,"cpu"])}else if(gt==="gpu-buffer"&&et>0){let We=s.jsepGetBuffer(Ue),Ve=qa(Kt);if(Ve===void 0||!mi(Ne))throw new Error(`Unsupported data type: ${Ne}`);Gt=!0,Ce.push([Ne,Ft,{gpuBuffer:We,download:s.jsepCreateDownloader(We,et*Ve,Ne),dispose:()=>{s._OrtReleaseTensor(Lt)}},"gpu-buffer"])}else{let We=Cd(Ne),Ve=new We(et);new Uint8Array(Ve.buffer,Ve.byteOffset,Ve.byteLength).set(s.HEAPU8.subarray(Ue,Ue+Ve.byteLength)),Ce.push([Ne,Ft,Ve,"cpu"])}}finally{s.stackRestore(Ae),Ne==="string"&&Ue&&s._free(Ue),Gt||s._OrtReleaseTensor(Lt)}}return b&&s._OrtClearBoundOutputs(b.handle),Ce}finally{s.stackRestore(G),C.forEach(se=>s._OrtReleaseTensor(se)),$.forEach(se=>s._OrtReleaseTensor(se)),F.forEach(se=>s._free(se)),A!==0&&s._OrtReleaseRunOptions(A),O.forEach(se=>s._free(se))}},Gd=i=>{let t=Ge(),n=Jn.get(i);if(!n)throw new Error("invalid session id");let e=n[0],r=t._OrtEndProfiling(e);r===0&&Be("Can't get an profile file name."),t._OrtFree(r)},Ud=i=>{let t=[];for(let n of i){let e=n[2];!Array.isArray(e)&&"buffer"in e&&t.push(e.buffer)}return t}});var zd=xe((sI,ay)=>{ay.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var yt=Object.defineProperty;var Hn=Object.getOwnPropertyDescriptor;var $n=Object.getOwnPropertyNames;var Nn=Object.prototype.hasOwnProperty;var vt=(c,h)=>()=>(c&&(h=c(c=0)),h);var kr=(c,h)=>()=>(h||c((h={exports:{}}).exports,h),h.exports),bt=(c,h)=>{for(var s in h)yt(c,s,{get:h[s],enumerable:!0})},jn=(c,h,s,w)=>{if(h&&typeof h=="object"||typeof h=="function")for(let _ of $n(h))!Nn.call(c,_)&&_!==s&&yt(c,_,{get:()=>h[_],enumerable:!(w=Hn(h,_))||w.enumerable});return c};var Lr=c=>jn(yt({},"__esModule",{value:!0}),c);var wt={};bt(wt,{readFile:()=>zn});var zn,Ot=vt(()=>{zn=void 0});var _t={};bt(_t,{join:()=>Yn});var Yn,Tt=vt(()=>{Yn=void 0});var an=kr((on,At)=>{"use strict";var nn=(()=>{var c=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(c=c||__filename),function(h={}){var s=h,w,_;s.ready=new Promise((r,n)=>{w=r,_=n});var C=Object.assign({},s),d="./this.program",M=typeof window=="object",k=typeof importScripts=="function",u=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",x="",V,H,L;if(u){var q=(Ot(),Lr(wt)),$=(Tt(),Lr(_t));x=k?$.dirname(x)+"/":__dirname+"/",V=(r,n)=>(r=r.startsWith("file://")?new URL(r):$.normalize(r),q.readFileSync(r,n?void 0:"utf8")),L=r=>(r=V(r,!0),r.buffer||(r=new Uint8Array(r)),r),H=(r,n,a,f=!0)=>{r=r.startsWith("file://")?new URL(r):$.normalize(r),q.readFile(r,f?void 0:"utf8",(p,v)=>{p?a(p):n(f?v.buffer:v)})},!s.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),s.inspect=()=>"[Emscripten Module object]"}else(M||k)&&(k?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),c&&(x=c),x.indexOf("blob:")!==0?x=x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):x="",V=r=>{var n=new XMLHttpRequest;return n.open("GET",r,!1),n.send(null),n.responseText},k&&(L=r=>{var n=new XMLHttpRequest;return n.open("GET",r,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),H=(r,n,a)=>{var f=new XMLHttpRequest;f.open("GET",r,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?n(f.response):a()},f.onerror=a,f.send(null)});var z=s.print||console.log.bind(console),J=s.printErr||console.error.bind(console);Object.assign(s,C),C=null,s.thisProgram&&(d=s.thisProgram);var F;s.wasmBinary&&(F=s.wasmBinary);var me=s.noExitRuntime||!0;typeof WebAssembly!="object"&&Ze("no native wasm support detected");var Be,W,We=!1,_e,N,Pe,$e,E,Y,te,B,De,Z;function S(){var r=Be.buffer;s.HEAP8=_e=new Int8Array(r),s.HEAP16=Pe=new Int16Array(r),s.HEAP32=E=new Int32Array(r),s.HEAPU8=N=new Uint8Array(r),s.HEAPU16=$e=new Uint16Array(r),s.HEAPU32=Y=new Uint32Array(r),s.HEAPF32=te=new Float32Array(r),s.HEAPF64=Z=new Float64Array(r),s.HEAP64=B=new BigInt64Array(r),s.HEAPU64=De=new BigUint64Array(r)}var ke=[],oe=[],ie=[];function Se(){var r=s.preRun.shift();ke.unshift(r)}var ge=0,Ne=null,Re=null;function Ze(r){throw s.onAbort&&s.onAbort(r),r="Aborted("+r+")",J(r),We=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),_(r),r}function Ie(r){return r.startsWith("data:application/octet-stream;base64,")}var he;if(he="ort-wasm.wasm",!Ie(he)){var Me=he;he=s.locateFile?s.locateFile(Me,x):x+Me}function se(r){if(r==he&&F)return new Uint8Array(F);if(L)return L(r);throw"both async and sync fetching of the wasm failed"}function fe(r){if(!F&&(M||k)){if(typeof fetch=="function"&&!r.startsWith("file://"))return fetch(r,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at \'"+r+"\'";return n.arrayBuffer()}).catch(()=>se(r));if(H)return new Promise((n,a)=>{H(r,f=>n(new Uint8Array(f)),a)})}return Promise.resolve().then(()=>se(r))}function ce(r,n,a){return fe(r).then(f=>WebAssembly.instantiate(f,n)).then(f=>f).then(a,f=>{J("failed to asynchronously prepare wasm: "+f),Ze(f)})}function je(r,n){var a=he;return F||typeof WebAssembly.instantiateStreaming!="function"||Ie(a)||a.startsWith("file://")||u||typeof fetch!="function"?ce(a,r,n):fetch(a,{credentials:"same-origin"}).then(f=>WebAssembly.instantiateStreaming(f,r).then(n,function(p){return J("wasm streaming compile failed: "+p),J("falling back to ArrayBuffer instantiation"),ce(a,r,n)}))}var Ke=r=>{for(;0<r.length;)r.shift()(s)};function Or(r){this.Va=r-24,this.fb=function(n){Y[this.Va+4>>2]=n},this.eb=function(n){Y[this.Va+8>>2]=n},this.Za=function(n,a){this.$a(),this.fb(n),this.eb(a)},this.$a=function(){Y[this.Va+16>>2]=0}}var lr=0,Nr=0,_r=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Le=(r,n,a)=>{var f=n+a;for(a=n;r[a]&&!(a>=f);)++a;if(16<a-n&&r.buffer&&_r)return _r.decode(r.subarray(n,a));for(f="";n<a;){var p=r[n++];if(p&128){var v=r[n++]&63;if((p&224)==192)f+=String.fromCharCode((p&31)<<6|v);else{var A=r[n++]&63;p=(p&240)==224?(p&15)<<12|v<<6|A:(p&7)<<18|v<<12|A<<6|r[n++]&63,65536>p?f+=String.fromCharCode(p):(p-=65536,f+=String.fromCharCode(55296|p>>10,56320|p&1023))}}else f+=String.fromCharCode(p)}return f},Fe=r=>{for(var n=0,a=0;a<r.length;++a){var f=r.charCodeAt(a);127>=f?n++:2047>=f?n+=2:55296<=f&&57343>=f?(n+=4,++a):n+=3}return n},Qe=(r,n,a,f)=>{if(!(0<f))return 0;var p=a;f=a+f-1;for(var v=0;v<r.length;++v){var A=r.charCodeAt(v);if(55296<=A&&57343>=A){var T=r.charCodeAt(++v);A=65536+((A&1023)<<10)|T&1023}if(127>=A){if(a>=f)break;n[a++]=A}else{if(2047>=A){if(a+1>=f)break;n[a++]=192|A>>6}else{if(65535>=A){if(a+2>=f)break;n[a++]=224|A>>12}else{if(a+3>=f)break;n[a++]=240|A>>18,n[a++]=128|A>>12&63}n[a++]=128|A>>6&63}n[a++]=128|A&63}}return n[a]=0,a-p};function er(r){if(r===null)return"null";var n=typeof r;return n==="object"||n==="array"||n==="function"?r.toString():""+r}var Tr=void 0;function Te(r){for(var n="";N[r];)n+=Tr[N[r++]];return n}var ze={},dr={},rr={},Ar=void 0;function Ye(r){throw new Ar(r)}function jr(r,n,a={}){var f=n.name;if(r||Ye(`type "${f}" must have a positive integer typeid pointer`),dr.hasOwnProperty(r)){if(a.gb)return;Ye(`Cannot register type \'${f}\' twice`)}dr[r]=n,delete rr[r],ze.hasOwnProperty(r)&&(n=ze[r],delete ze[r],n.forEach(p=>p()))}function xe(r,n,a={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");jr(r,n,a)}function ar(r,n,a){switch(n){case 0:return a?function(f){return _e[f]}:function(f){return N[f]};case 1:return a?function(f){return Pe[f>>1]}:function(f){return $e[f>>1]};case 2:return a?function(f){return E[f>>2]}:function(f){return Y[f>>2]};case 3:return a?function(f){return B[f>>3]}:function(f){return De[f>>3]};default:throw new TypeError("Unknown integer type: "+r)}}function tr(r){switch(r){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${r}`)}}function Er(){this.Sa=[void 0],this.bb=[]}var ye=new Er;function pr(r){r>=ye.Va&&--ye.get(r).cb===0&&ye.$a(r)}var le=r=>(r||Ye("Cannot use deleted val. handle = "+r),ye.get(r).value),de=r=>{switch(r){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ye.Za({cb:1,value:r})}};function mr(r){return this.fromWireType(E[r>>2])}function Sr(r,n){switch(n){case 2:return function(a){return this.fromWireType(te[a>>2])};case 3:return function(a){return this.fromWireType(Z[a>>3])};default:throw new TypeError("Unknown float type: "+r)}}var P=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,gr=(r,n)=>{for(var a=r>>1,f=a+n/2;!(a>=f)&&$e[a];)++a;if(a<<=1,32<a-r&&P)return P.decode(N.subarray(r,a));for(a="",f=0;!(f>=n/2);++f){var p=Pe[r+2*f>>1];if(p==0)break;a+=String.fromCharCode(p)}return a},zr=(r,n,a)=>{if(a===void 0&&(a=2147483647),2>a)return 0;a-=2;var f=n;a=a<2*r.length?a/2:r.length;for(var p=0;p<a;++p)Pe[n>>1]=r.charCodeAt(p),n+=2;return Pe[n>>1]=0,n-f},hr=r=>2*r.length,ut=(r,n)=>{for(var a=0,f="";!(a>=n/4);){var p=E[r+4*a>>2];if(p==0)break;++a,65536<=p?(p-=65536,f+=String.fromCharCode(55296|p>>10,56320|p&1023)):f+=String.fromCharCode(p)}return f},Yr=(r,n,a)=>{if(a===void 0&&(a=2147483647),4>a)return 0;var f=n;a=f+a-4;for(var p=0;p<r.length;++p){var v=r.charCodeAt(p);if(55296<=v&&57343>=v){var A=r.charCodeAt(++p);v=65536+((v&1023)<<10)|A&1023}if(E[n>>2]=v,n+=4,n+4>a)break}return E[n>>2]=0,n-f},ft=r=>{for(var n=0,a=0;a<r.length;++a){var f=r.charCodeAt(a);55296<=f&&57343>=f&&++a,n+=4}return n};function ir(r,n){var a=dr[r];if(a===void 0){r=be(r);var f=Te(r);Ue(r),Ye(n+" has unknown type "+f)}return a}var Gr={};function sr(r){var n=Gr[r];return n===void 0?Te(r):n}var ur=[];function fr(){return typeof globalThis=="object"?globalThis:Function("return this")()}function Vr(r){var n=ur.length;return ur.push(r),n}function Mr(r,n){for(var a=Array(r),f=0;f<r;++f)a[f]=ir(Y[n+4*f>>2],"parameter "+f);return a}function Cr(r){if(r===void 0)return"_unknown";r=r.replace(/[^a-zA-Z0-9_]/g,"$");var n=r.charCodeAt(0);return 48<=n&&57>=n?`_${r}`:r}var Pr=[];function qr(r,n){return r=Cr(r),{[r]:function(){return n.apply(this,arguments)}}[r]}function Jr(r){var n=Function;if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var a=qr(n.name||"unknownFunctionName",function(){});return a.prototype=n.prototype,a=new a,r=n.apply(a,r),r instanceof Object?r:a}function Xr(r){for(var n="",a=0;a<r;++a)n+=(a!==0?", ":"")+"arg"+a;var f="return function emval_allocator_"+r+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(a=0;a<r;++a)f+="var argType"+a+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], \'parameter "+a+`\');\nvar arg`+a+" = argType"+a+`.readValueFromPointer(args);\nargs += argType`+a+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",f+("var obj = new constructor("+n+`);\nreturn valueToHandle(obj);\n}\n`))(ir,s,de,()=>Y)}var Fr={};function nr(r){return-9007199254740992>r||9007199254740992<r?NaN:Number(r)}var Ge=r=>r%4===0&&(r%100!==0||r%400===0),Ur=[0,31,60,91,121,152,182,213,244,274,305,335],Wr=[0,31,59,90,120,151,181,212,243,273,304,334],Dr=r=>{var n=Fe(r)+1,a=Ve(n);return a&&Qe(r,N,a,n),a},yr={},Rr=()=>{if(!ve){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},n;for(n in yr)yr[n]===void 0?delete r[n]:r[n]=yr[n];var a=[];for(n in r)a.push(`${n}=${r[n]}`);ve=a}return ve},ve,Ir=[null,[],[]],vr=[31,29,31,30,31,30,31,31,30,31,30,31],Zr=[31,28,31,30,31,30,31,31,30,31,30,31];function Kr(r){var n=Array(Fe(r)+1);return Qe(r,n,0,n.length),n}for(var He=(r,n,a,f)=>{function p(g,j,K){for(g=typeof g=="number"?g.toString():g||"";g.length<j;)g=K[0]+g;return g}function v(g,j){return p(g,j,"0")}function A(g,j){function K(xr){return 0>xr?-1:0<xr?1:0}var qe;return(qe=K(g.getFullYear()-j.getFullYear()))===0&&(qe=K(g.getMonth()-j.getMonth()))===0&&(qe=K(g.getDate()-j.getDate())),qe}function T(g){switch(g.getDay()){case 0:return new Date(g.getFullYear()-1,11,29);case 1:return g;case 2:return new Date(g.getFullYear(),0,3);case 3:return new Date(g.getFullYear(),0,2);case 4:return new Date(g.getFullYear(),0,1);case 5:return new Date(g.getFullYear()-1,11,31);case 6:return new Date(g.getFullYear()-1,11,30)}}function U(g){var j=g.Ta;for(g=new Date(new Date(g.Ua+1900,0,1).getTime());0<j;){var K=g.getMonth(),qe=(Ge(g.getFullYear())?vr:Zr)[K];if(j>qe-g.getDate())j-=qe-g.getDate()+1,g.setDate(1),11>K?g.setMonth(K+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else{g.setDate(g.getDate()+j);break}}return K=new Date(g.getFullYear()+1,0,4),j=T(new Date(g.getFullYear(),0,4)),K=T(K),0>=A(j,g)?0>=A(K,g)?g.getFullYear()+1:g.getFullYear():g.getFullYear()-1}var D=E[f+40>>2];f={kb:E[f>>2],jb:E[f+4>>2],Xa:E[f+8>>2],ab:E[f+12>>2],Ya:E[f+16>>2],Ua:E[f+20>>2],Oa:E[f+24>>2],Ta:E[f+28>>2],mb:E[f+32>>2],ib:E[f+36>>2],lb:D&&D?Le(N,D):""},a=a?Le(N,a):"",D={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var X in D)a=a.replace(new RegExp(X,"g"),D[X]);var Oe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ee="January February March April May June July August September October November December".split(" ");D={"%a":g=>Oe[g.Oa].substring(0,3),"%A":g=>Oe[g.Oa],"%b":g=>Ee[g.Ya].substring(0,3),"%B":g=>Ee[g.Ya],"%C":g=>v((g.Ua+1900)/100|0,2),"%d":g=>v(g.ab,2),"%e":g=>p(g.ab,2," "),"%g":g=>U(g).toString().substring(2),"%G":g=>U(g),"%H":g=>v(g.Xa,2),"%I":g=>(g=g.Xa,g==0?g=12:12<g&&(g-=12),v(g,2)),"%j":g=>{for(var j=0,K=0;K<=g.Ya-1;j+=(Ge(g.Ua+1900)?vr:Zr)[K++]);return v(g.ab+j,3)},"%m":g=>v(g.Ya+1,2),"%M":g=>v(g.jb,2),"%n":()=>`\n`,"%p":g=>0<=g.Xa&&12>g.Xa?"AM":"PM","%S":g=>v(g.kb,2),"%t":()=>"	","%u":g=>g.Oa||7,"%U":g=>v(Math.floor((g.Ta+7-g.Oa)/7),2),"%V":g=>{var j=Math.floor((g.Ta+7-(g.Oa+6)%7)/7);if(2>=(g.Oa+371-g.Ta-2)%7&&j++,j)j==53&&(K=(g.Oa+371-g.Ta)%7,K==4||K==3&&Ge(g.Ua)||(j=1));else{j=52;var K=(g.Oa+7-g.Ta-1)%7;(K==4||K==5&&Ge(g.Ua%400-1))&&j++}return v(j,2)},"%w":g=>g.Oa,"%W":g=>v(Math.floor((g.Ta+7-(g.Oa+6)%7)/7),2),"%y":g=>(g.Ua+1900).toString().substring(2),"%Y":g=>g.Ua+1900,"%z":g=>{g=g.ib;var j=0<=g;return g=Math.abs(g)/60,(j?"+":"-")+("0000"+(g/60*100+g%60)).slice(-4)},"%Z":g=>g.lb,"%%":()=>"%"},a=a.replace(/%%/g,"\\0\\0");for(X in D)a.includes(X)&&(a=a.replace(new RegExp(X,"g"),D[X](f)));return a=a.replace(/\\0\\0/g,"%"),X=Kr(a),X.length>n?0:(_e.set(X,r),X.length-1)},Qr=Array(256),Ae=0;256>Ae;++Ae)Qr[Ae]=String.fromCharCode(Ae);Tr=Qr,Ar=s.BindingError=class extends Error{constructor(r){super(r),this.name="BindingError"}},s.InternalError=class extends Error{constructor(r){super(r),this.name="InternalError"}},Object.assign(Er.prototype,{get(r){return this.Sa[r]},has(r){return this.Sa[r]!==void 0},Za(r){var n=this.bb.pop()||this.Sa.length;return this.Sa[n]=r,n},$a(r){this.Sa[r]=void 0,this.bb.push(r)}}),ye.Sa.push({value:void 0},{value:null},{value:!0},{value:!1}),ye.Va=ye.Sa.length,s.count_emval_handles=function(){for(var r=0,n=ye.Va;n<ye.Sa.length;++n)ye.Sa[n]!==void 0&&++r;return r};var et={a:function(r,n,a){throw new Or(r).Za(n,a),lr=r,Nr++,lr},v:function(){return 0},ba:()=>{},N:()=>{},P:()=>{},H:function(){return 0},$:()=>{},V:()=>{},_:()=>{},A:function(){},O:()=>{},L:()=>{},aa:()=>{},M:()=>{},D:function(r,n,a,f,p){n=Te(n),a=tr(a);var v=n.indexOf("u")!=-1;v&&(p=(1n<<64n)-1n),xe(r,{name:n,fromWireType:function(A){return A},toWireType:function(A,T){if(typeof T!="bigint"&&typeof T!="number")throw new TypeError(`Cannot convert "${er(T)}" to ${this.name}`);if(T<f||T>p)throw new TypeError(`Passing a number "${er(T)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${f}, ${p}]!`);return T},argPackAdvance:8,readValueFromPointer:ar(n,a,!v),Wa:null})},ea:function(r,n,a,f,p){var v=tr(a);n=Te(n),xe(r,{name:n,fromWireType:function(A){return!!A},toWireType:function(A,T){return T?f:p},argPackAdvance:8,readValueFromPointer:function(A){if(a===1)var T=_e;else if(a===2)T=Pe;else if(a===4)T=E;else throw new TypeError("Unknown boolean type size: "+n);return this.fromWireType(T[A>>v])},Wa:null})},da:function(r,n){n=Te(n),xe(r,{name:n,fromWireType:function(a){var f=le(a);return pr(a),f},toWireType:function(a,f){return de(f)},argPackAdvance:8,readValueFromPointer:mr,Wa:null})},C:function(r,n,a){a=tr(a),n=Te(n),xe(r,{name:n,fromWireType:function(f){return f},toWireType:function(f,p){return p},argPackAdvance:8,readValueFromPointer:Sr(n,a),Wa:null})},p:function(r,n,a,f,p){n=Te(n),p===-1&&(p=4294967295),p=tr(a);var v=T=>T;if(f===0){var A=32-8*a;v=T=>T<<A>>>A}a=n.includes("unsigned")?function(T,U){return U>>>0}:function(T,U){return U},xe(r,{name:n,fromWireType:v,toWireType:a,argPackAdvance:8,readValueFromPointer:ar(n,p,f!==0),Wa:null})},l:function(r,n,a){function f(v){v>>=2;var A=Y;return new p(A.buffer,A[v+1],A[v])}var p=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];a=Te(a),xe(r,{name:a,fromWireType:f,argPackAdvance:8,readValueFromPointer:f},{gb:!0})},E:function(r,n){n=Te(n);var a=n==="std::string";xe(r,{name:n,fromWireType:function(f){var p=Y[f>>2],v=f+4;if(a)for(var A=v,T=0;T<=p;++T){var U=v+T;if(T==p||N[U]==0){if(A=A?Le(N,A,U-A):"",D===void 0)var D=A;else D+=String.fromCharCode(0),D+=A;A=U+1}}else{for(D=Array(p),T=0;T<p;++T)D[T]=String.fromCharCode(N[v+T]);D=D.join("")}return Ue(f),D},toWireType:function(f,p){p instanceof ArrayBuffer&&(p=new Uint8Array(p));var v=typeof p=="string";v||p instanceof Uint8Array||p instanceof Uint8ClampedArray||p instanceof Int8Array||Ye("Cannot pass non-string to std::string");var A=a&&v?Fe(p):p.length,T=Ve(4+A+1),U=T+4;if(Y[T>>2]=A,a&&v)Qe(p,N,U,A+1);else if(v)for(v=0;v<A;++v){var D=p.charCodeAt(v);255<D&&(Ue(U),Ye("String has UTF-16 code units that do not fit in 8 bits")),N[U+v]=D}else for(v=0;v<A;++v)N[U+v]=p[v];return f!==null&&f.push(Ue,T),T},argPackAdvance:8,readValueFromPointer:mr,Wa:function(f){Ue(f)}})},x:function(r,n,a){if(a=Te(a),n===2)var f=gr,p=zr,v=hr,A=()=>$e,T=1;else n===4&&(f=ut,p=Yr,v=ft,A=()=>Y,T=2);xe(r,{name:a,fromWireType:function(U){for(var D=Y[U>>2],X=A(),Oe,Ee=U+4,g=0;g<=D;++g){var j=U+4+g*n;(g==D||X[j>>T]==0)&&(Ee=f(Ee,j-Ee),Oe===void 0?Oe=Ee:(Oe+=String.fromCharCode(0),Oe+=Ee),Ee=j+n)}return Ue(U),Oe},toWireType:function(U,D){typeof D!="string"&&Ye(`Cannot pass non-string to C++ string type ${a}`);var X=v(D),Oe=Ve(4+X+n);return Y[Oe>>2]=X>>T,p(D,Oe+4,X+n),U!==null&&U.push(Ue,Oe),Oe},argPackAdvance:8,readValueFromPointer:mr,Wa:function(U){Ue(U)}})},fa:function(r,n){n=Te(n),xe(r,{hb:!0,name:n,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},ca:()=>!0,o:function(r,n,a){r=le(r),n=ir(n,"emval::as");var f=[],p=de(f);return Y[a>>2]=p,n.toWireType(f,r)},h:function(r,n,a,f,p){r=ur[r],n=le(n),a=sr(a);var v=[];return Y[f>>2]=de(v),r(n,a,v,p)},r:function(r,n,a,f){r=ur[r],n=le(n),a=sr(a),r(n,a,null,f)},b:pr,F:function(r,n){return r=le(r),n=le(n),r==n},u:function(r){return r===0?de(fr()):(r=sr(r),de(fr()[r]))},g:function(r,n){var a=Mr(r,n),f=a[0];n=f.name+"_$"+a.slice(1).map(function(X){return X.name}).join("_")+"$";var p=Pr[n];if(p!==void 0)return p;p=["retType"];for(var v=[f],A="",T=0;T<r-1;++T)A+=(T!==0?", ":"")+"arg"+T,p.push("argType"+T),v.push(a[1+T]);var U="return function "+Cr("methodCaller_"+n)+`(handle, name, destructors, args) {\n`,D=0;for(T=0;T<r-1;++T)U+="    var arg"+T+" = argType"+T+".readValueFromPointer(args"+(D?"+"+D:"")+`);\n`,D+=a[T+1].argPackAdvance;for(U+="    var rv = handle[name]("+A+`);\n`,T=0;T<r-1;++T)a[T+1].deleteObject&&(U+="    argType"+T+".deleteObject(arg"+T+`);\n`);return f.hb||(U+=`    return retType.toWireType(destructors, rv);\n`),p.push(U+`};\n`),r=Jr(p).apply(null,v),p=Vr(r),Pr[n]=p},q:function(r,n){return r=le(r),n=le(n),de(r[n])},c:function(r){4<r&&(ye.get(r).cb+=1)},G:function(r,n,a,f){r=le(r);var p=Fr[n];return p||(p=Xr(n),Fr[n]=p),p(r,a,f)},s:function(){return de([])},k:function(r){r=le(r);for(var n=Array(r.length),a=0;a<r.length;a++)n[a]=r[a];return de(n)},d:function(r){return de(sr(r))},j:function(){return de({})},f:function(r){for(var n=le(r);n.length;){var a=n.pop();n.pop()(a)}pr(r)},i:function(r,n,a){r=le(r),n=le(n),a=le(a),r[n]=a},e:function(r,n){return r=ir(r,"_emval_take_value"),r=r.readValueFromPointer(n),de(r)},S:function(r,n){r=nr(r),n=nr(n),r=new Date(1e3*r),E[n>>2]=r.getUTCSeconds(),E[n+4>>2]=r.getUTCMinutes(),E[n+8>>2]=r.getUTCHours(),E[n+12>>2]=r.getUTCDate(),E[n+16>>2]=r.getUTCMonth(),E[n+20>>2]=r.getUTCFullYear()-1900,E[n+24>>2]=r.getUTCDay(),E[n+28>>2]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},T:function(r,n){r=nr(r),n=nr(n),r=new Date(1e3*r),E[n>>2]=r.getSeconds(),E[n+4>>2]=r.getMinutes(),E[n+8>>2]=r.getHours(),E[n+12>>2]=r.getDate(),E[n+16>>2]=r.getMonth(),E[n+20>>2]=r.getFullYear()-1900,E[n+24>>2]=r.getDay(),E[n+28>>2]=(Ge(r.getFullYear())?Ur:Wr)[r.getMonth()]+r.getDate()-1|0,E[n+36>>2]=-(60*r.getTimezoneOffset());var a=new Date(r.getFullYear(),6,1).getTimezoneOffset(),f=new Date(r.getFullYear(),0,1).getTimezoneOffset();E[n+32>>2]=(a!=f&&r.getTimezoneOffset()==Math.min(f,a))|0},U:function(r){r=nr(r);var n=new Date(E[r+20>>2]+1900,E[r+16>>2],E[r+12>>2],E[r+8>>2],E[r+4>>2],E[r>>2],0),a=E[r+32>>2],f=n.getTimezoneOffset(),p=new Date(n.getFullYear(),6,1).getTimezoneOffset(),v=new Date(n.getFullYear(),0,1).getTimezoneOffset(),A=Math.min(v,p);return 0>a?E[r+32>>2]=+(p!=v&&A==f):0<a!=(A==f)&&(p=Math.max(v,p),n.setTime(n.getTime()+6e4*((0<a?A:p)-f))),E[r+24>>2]=n.getDay(),E[r+28>>2]=(Ge(n.getFullYear())?Ur:Wr)[n.getMonth()]+n.getDate()-1|0,E[r>>2]=n.getSeconds(),E[r+4>>2]=n.getMinutes(),E[r+8>>2]=n.getHours(),E[r+12>>2]=n.getDate(),E[r+16>>2]=n.getMonth(),E[r+20>>2]=n.getYear(),BigInt(n.getTime()/1e3)},Q:function(){return-52},R:function(){},J:(r,n,a)=>{function f(U){return(U=U.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?U[1]:"GMT"}var p=new Date().getFullYear(),v=new Date(p,0,1),A=new Date(p,6,1);p=v.getTimezoneOffset();var T=A.getTimezoneOffset();Y[r>>2]=60*Math.max(p,T),E[n>>2]=+(p!=T),r=f(v),n=f(A),r=Dr(r),n=Dr(n),T<p?(Y[a>>2]=r,Y[a+4>>2]=n):(Y[a>>2]=n,Y[a+4>>2]=r)},t:()=>{Ze("")},B:function(){return Date.now()},K:()=>2147483648,n:()=>performance.now(),Z:(r,n,a)=>N.copyWithin(r,n,n+a),I:r=>{var n=N.length;if(r>>>=0,2147483648<r)return!1;for(var a=1;4>=a;a*=2){var f=n*(1+.2/a);f=Math.min(f,r+100663296);var p=Math;f=Math.max(r,f);e:{p=p.min.call(p,2147483648,f+(65536-f%65536)%65536)-Be.buffer.byteLength+65535>>>16;try{Be.grow(p),S();var v=1;break e}catch{}v=void 0}if(v)return!0}return!1},X:(r,n)=>{var a=0;return Rr().forEach(function(f,p){var v=n+a;for(p=Y[r+4*p>>2]=v,v=0;v<f.length;++v)_e[p++>>0]=f.charCodeAt(v);_e[p>>0]=0,a+=f.length+1}),0},Y:(r,n)=>{var a=Rr();Y[r>>2]=a.length;var f=0;return a.forEach(function(p){f+=p.length+1}),Y[n>>2]=f,0},w:()=>52,z:()=>52,W:function(){return 70},y:(r,n,a,f)=>{for(var p=0,v=0;v<a;v++){var A=Y[n>>2],T=Y[n+4>>2];n+=8;for(var U=0;U<T;U++){var D=N[A+U],X=Ir[r];D===0||D===10?((r===1?z:J)(Le(X,0)),X.length=0):X.push(D)}p+=T}return Y[f>>2]=p,0},ga:He,m:(r,n,a,f)=>He(r,n,a,f)};(function(){function r(a){if(W=a=a.exports,Be=W.ha,S(),oe.unshift(W.ia),ge--,s.monitorRunDependencies&&s.monitorRunDependencies(ge),ge==0&&(Ne!==null&&(clearInterval(Ne),Ne=null),Re)){var f=Re;Re=null,f()}return a}var n={a:et};if(ge++,s.monitorRunDependencies&&s.monitorRunDependencies(ge),s.instantiateWasm)try{return s.instantiateWasm(n,r)}catch(a){J("Module.instantiateWasm callback failed with error: "+a),_(a)}return je(n,function(a){r(a.instance)}).catch(_),{}})(),s._OrtInit=(r,n)=>(s._OrtInit=W.ja)(r,n),s._OrtGetLastError=(r,n)=>(s._OrtGetLastError=W.ka)(r,n),s._OrtCreateSessionOptions=(r,n,a,f,p,v,A,T,U,D)=>(s._OrtCreateSessionOptions=W.la)(r,n,a,f,p,v,A,T,U,D),s._OrtAppendExecutionProvider=(r,n)=>(s._OrtAppendExecutionProvider=W.ma)(r,n),s._OrtAddFreeDimensionOverride=(r,n,a)=>(s._OrtAddFreeDimensionOverride=W.na)(r,n,a),s._OrtAddSessionConfigEntry=(r,n,a)=>(s._OrtAddSessionConfigEntry=W.oa)(r,n,a),s._OrtReleaseSessionOptions=r=>(s._OrtReleaseSessionOptions=W.pa)(r),s._OrtCreateSession=(r,n,a)=>(s._OrtCreateSession=W.qa)(r,n,a),s._OrtReleaseSession=r=>(s._OrtReleaseSession=W.ra)(r),s._OrtGetInputOutputCount=(r,n,a)=>(s._OrtGetInputOutputCount=W.sa)(r,n,a),s._OrtGetInputName=(r,n)=>(s._OrtGetInputName=W.ta)(r,n),s._OrtGetOutputName=(r,n)=>(s._OrtGetOutputName=W.ua)(r,n),s._OrtFree=r=>(s._OrtFree=W.va)(r),s._OrtCreateTensor=(r,n,a,f,p,v)=>(s._OrtCreateTensor=W.wa)(r,n,a,f,p,v),s._OrtGetTensorData=(r,n,a,f,p)=>(s._OrtGetTensorData=W.xa)(r,n,a,f,p),s._OrtReleaseTensor=r=>(s._OrtReleaseTensor=W.ya)(r),s._OrtCreateRunOptions=(r,n,a,f)=>(s._OrtCreateRunOptions=W.za)(r,n,a,f),s._OrtAddRunConfigEntry=(r,n,a)=>(s._OrtAddRunConfigEntry=W.Aa)(r,n,a),s._OrtReleaseRunOptions=r=>(s._OrtReleaseRunOptions=W.Ba)(r),s._OrtCreateBinding=r=>(s._OrtCreateBinding=W.Ca)(r),s._OrtBindInput=(r,n,a)=>(s._OrtBindInput=W.Da)(r,n,a),s._OrtBindOutput=(r,n,a,f)=>(s._OrtBindOutput=W.Ea)(r,n,a,f),s._OrtClearBoundOutputs=r=>(s._OrtClearBoundOutputs=W.Fa)(r),s._OrtReleaseBinding=r=>(s._OrtReleaseBinding=W.Ga)(r),s._OrtRunWithBinding=(r,n,a,f,p)=>(s._OrtRunWithBinding=W.Ha)(r,n,a,f,p),s._OrtRun=(r,n,a,f,p,v,A,T)=>(s._OrtRun=W.Ia)(r,n,a,f,p,v,A,T),s._OrtEndProfiling=r=>(s._OrtEndProfiling=W.Ja)(r);var Ve=s._malloc=r=>(Ve=s._malloc=W.Ka)(r),Ue=s._free=r=>(Ue=s._free=W.La)(r),be=r=>(be=W.Ma)(r);s.__embind_initialize_bindings=()=>(s.__embind_initialize_bindings=W.Na)();var br=()=>(br=W.Pa)(),pe=r=>(pe=W.Qa)(r),we=r=>(we=W.Ra)(r);s.stackAlloc=we,s.stackSave=br,s.stackRestore=pe,s.UTF8ToString=(r,n)=>r?Le(N,r,n):"",s.stringToUTF8=(r,n,a)=>Qe(r,N,n,a),s.lengthBytesUTF8=Fe;var or;Re=function r(){or||rt(),or||(Re=r)};function rt(){function r(){if(!or&&(or=!0,s.calledRun=!0,!We)){if(Ke(oe),w(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;){var n=s.postRun.shift();ie.unshift(n)}Ke(ie)}}if(!(0<ge)){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)Se();Ke(ke),0<ge||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),r()},1)):r())}}if(s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return rt(),h.ready}})();typeof on=="object"&&typeof At=="object"?At.exports=nn:typeof define=="function"&&define.amd&&define([],()=>nn)});var sn=kr(()=>{});var un=kr(()=>{});var fn={};bt(fn,{cpus:()=>Gn});var Gn,cn=vt(()=>{Gn=void 0});var pn=kr((dn,Et)=>{"use strict";var ln=(()=>{var c=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(c=c||__filename),function(h={}){function s(){return Z.buffer!=Se.buffer&&ce(),Se}function w(){return Z.buffer!=Se.buffer&&ce(),ge}function _(){return Z.buffer!=Se.buffer&&ce(),Ne}function C(){return Z.buffer!=Se.buffer&&ce(),Re}function d(){return Z.buffer!=Se.buffer&&ce(),Ze}function M(){return Z.buffer!=Se.buffer&&ce(),Ie}function k(){return Z.buffer!=Se.buffer&&ce(),fe}var u=h,x,V;u.ready=new Promise((e,t)=>{x=e,V=t});var H=Object.assign({},u),L="./this.program",q=(e,t)=>{throw t},$=typeof window=="object",z=typeof importScripts=="function",J=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",F=u.ENVIRONMENT_IS_PTHREAD||!1,me="";function Be(e){return u.locateFile?u.locateFile(e,me):me+e}var W,We,_e;if(J){var N=(Ot(),Lr(wt)),Pe=(Tt(),Lr(_t));me=z?Pe.dirname(me)+"/":__dirname+"/",W=(t,o)=>(t=t.startsWith("file://")?new URL(t):Pe.normalize(t),N.readFileSync(t,o?void 0:"utf8")),_e=t=>(t=W(t,!0),t.buffer||(t=new Uint8Array(t)),t),We=(t,o,i,l=!0)=>{t=t.startsWith("file://")?new URL(t):Pe.normalize(t),N.readFile(t,l?void 0:"utf8",(m,b)=>{m?i(m):o(l?b.buffer:b)})},!u.thisProgram&&1<process.argv.length&&(L=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),q=(t,o)=>{throw process.exitCode=t,o},u.inspect=()=>"[Emscripten Module object]";let e;try{e=sn()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else($||z)&&(z?me=self.location.href:typeof document<"u"&&document.currentScript&&(me=document.currentScript.src),typeof c<"u"&&c&&(me=c),me.indexOf("blob:")!==0?me=me.substr(0,me.replace(/[?#].*/,"").lastIndexOf("/")+1):me="",J||(W=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},z&&(_e=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),We=(e,t,o)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?t(i.response):o()},i.onerror=o,i.send(null)}));J&&typeof performance>"u"&&(global.performance=un().performance);var $e=console.log.bind(console),E=console.error.bind(console);J&&($e=(...e)=>N.writeSync(1,e.join(" ")+`\n`),E=(...e)=>N.writeSync(2,e.join(" ")+`\n`));var Y=u.print||$e,te=u.printErr||E;Object.assign(u,H),H=null,u.thisProgram&&(L=u.thisProgram),u.quit&&(q=u.quit);var B;u.wasmBinary&&(B=u.wasmBinary);var De=u.noExitRuntime||!0;typeof WebAssembly!="object"&&ze("no native wasm support detected");var Z,S,ke,oe=!1,ie,Se,ge,Ne,Re,Ze,Ie,he,Me,se,fe;function ce(){var e=Z.buffer;u.HEAP8=Se=new Int8Array(e),u.HEAP16=Ne=new Int16Array(e),u.HEAP32=Ze=new Int32Array(e),u.HEAPU8=ge=new Uint8Array(e),u.HEAPU16=Re=new Uint16Array(e),u.HEAPU32=Ie=new Uint32Array(e),u.HEAPF32=he=new Float32Array(e),u.HEAPF64=fe=new Float64Array(e),u.HEAP64=Me=new BigInt64Array(e),u.HEAPU64=se=new BigUint64Array(e)}var je=u.INITIAL_MEMORY||16777216;if(5242880<=je||ze("INITIAL_MEMORY should be larger than STACK_SIZE, was "+je+"! (STACK_SIZE=5242880)"),F)Z=u.wasmMemory;else if(u.wasmMemory)Z=u.wasmMemory;else if(Z=new WebAssembly.Memory({initial:je/65536,maximum:32768,shared:!0}),!(Z.buffer instanceof SharedArrayBuffer))throw te("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),J&&te("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");ce(),je=Z.buffer.byteLength;var Ke,Or=[],lr=[],Nr=[],_r=0;function Le(){return De||0<_r}var Fe=0,Qe=null,er=null;function Tr(){Fe++,u.monitorRunDependencies&&u.monitorRunDependencies(Fe)}function Te(){if(Fe--,u.monitorRunDependencies&&u.monitorRunDependencies(Fe),Fe==0&&(Qe!==null&&(clearInterval(Qe),Qe=null),er)){var e=er;er=null,e()}}function ze(e){throw u.onAbort&&u.onAbort(e),e="Aborted("+e+")",te(e),oe=!0,ie=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),V(e),e}function dr(e){return e.startsWith("data:application/octet-stream;base64,")}var rr;rr="ort-wasm-threaded.wasm",dr(rr)||(rr=Be(rr));function Ar(e){if(e==rr&&B)return new Uint8Array(B);if(_e)return _e(e);throw"both async and sync fetching of the wasm failed"}function Ye(e){if(!B&&($||z)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>Ar(e));if(We)return new Promise((t,o)=>{We(e,i=>t(new Uint8Array(i)),o)})}return Promise.resolve().then(()=>Ar(e))}function jr(e,t,o){return Ye(e).then(i=>WebAssembly.instantiate(i,t)).then(i=>i).then(o,i=>{te("failed to asynchronously prepare wasm: "+i),ze(i)})}function xe(e,t){var o=rr;return B||typeof WebAssembly.instantiateStreaming!="function"||dr(o)||o.startsWith("file://")||J||typeof fetch!="function"?jr(o,e,t):fetch(o,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,e).then(t,function(l){return te("wasm streaming compile failed: "+l),te("falling back to ArrayBuffer instantiation"),jr(o,e,t)}))}function ar(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function tr(e){e.terminate(),e.onmessage=()=>{}}function Er(e){(e=P.kb[e])||ze(),P.Qb(e)}function ye(e){var t=P.Hb();if(!t)return 6;P.ob.push(t),P.kb[e.nb]=t,t.nb=e.nb;var o={cmd:"run",start_routine:e.Rb,arg:e.Gb,pthread_ptr:e.nb};return J&&t.unref(),t.postMessage(o,e.Xb),0}var pr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,le=(e,t,o)=>{var i=t+o;for(o=t;e[o]&&!(o>=i);)++o;if(16<o-t&&e.buffer&&pr)return pr.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,o):e.subarray(t,o));for(i="";t<o;){var l=e[t++];if(l&128){var m=e[t++]&63;if((l&224)==192)i+=String.fromCharCode((l&31)<<6|m);else{var b=e[t++]&63;l=(l&240)==224?(l&15)<<12|m<<6|b:(l&7)<<18|m<<12|b<<6|e[t++]&63,65536>l?i+=String.fromCharCode(l):(l-=65536,i+=String.fromCharCode(55296|l>>10,56320|l&1023))}}else i+=String.fromCharCode(l)}return i},de=(e,t)=>e?le(w(),e,t):"";function mr(e){if(F)return Q(1,1,e);ie=e,Le()||(P.Sb(),u.onExit&&u.onExit(e),oe=!0),q(e,new ar(e))}var Sr=e=>{if(ie=e,F)throw zr(e),"unwind";mr(e)},P={rb:[],ob:[],Eb:[],kb:{},wb:function(){F?P.Kb():P.Jb()},Jb:function(){Or.unshift(()=>{Tr(),P.Mb(()=>Te())})},Kb:function(){P.receiveObjectTransfer=P.Pb,P.threadInitTLS=P.Db,P.setExitStatus=P.Cb,De=!1},Cb:function(e){ie=e},bc:["$terminateWorker"],Sb:function(){for(var e of P.ob)tr(e);for(e of P.rb)tr(e);P.rb=[],P.ob=[],P.kb=[]},Qb:function(e){var t=e.nb;delete P.kb[t],P.rb.push(e),P.ob.splice(P.ob.indexOf(e),1),e.nb=0,pt(t)},Pb:function(){},Db:function(){P.Eb.forEach(e=>e())},Nb:e=>new Promise(t=>{e.onmessage=m=>{m=m.data;var b=m.cmd;if(m.targetThread&&m.targetThread!=nt()){var O=P.kb[m.ac];O?O.postMessage(m,m.transferList):te(\'Internal error! Worker sent a message "\'+b+\'" to target pthread \'+m.targetThread+", but that thread no longer exists!")}else b==="checkMailbox"?D():b==="spawnThread"?ye(m):b==="cleanupThread"?Er(m.thread):b==="killThread"?(m=m.thread,b=P.kb[m],delete P.kb[m],tr(b),pt(m),P.ob.splice(P.ob.indexOf(b),1),b.nb=0):b==="cancelThread"?P.kb[m.thread].postMessage({cmd:"cancel"}):b==="loaded"?(e.loaded=!0,t(e)):b==="alert"?alert("Thread "+m.threadId+": "+m.text):m.target==="setimmediate"?e.postMessage(m):b==="callHandler"?u[m.handler](...m.args):b&&te("worker sent an unknown command "+b)},e.onerror=m=>{throw te("worker sent an error! "+m.filename+":"+m.lineno+": "+m.message),m},J&&(e.on("message",function(m){e.onmessage({data:m})}),e.on("error",function(m){e.onerror(m)}));var o=[],i=["onExit","onAbort","print","printErr"],l;for(l of i)u.hasOwnProperty(l)&&o.push(l);e.postMessage({cmd:"load",handlers:o,urlOrBlob:u.mainScriptUrlOrBlob||c,wasmMemory:Z,wasmModule:ke})}),Mb:function(e){e()},Fb:function(){var e=Be("ort-wasm-threaded.worker.js");e=new Worker(e),P.rb.push(e)},Hb:function(){return P.rb.length==0&&(P.Fb(),P.Nb(P.rb[0])),P.rb.pop()}};u.PThread=P;var gr=e=>{for(;0<e.length;)e.shift()(u)};u.establishStackSpace=function(){var e=nt(),t=d()[e+52>>2];e=d()[e+56>>2],en(t,t-e),at(t)};function zr(e){if(F)return Q(2,0,e);Sr(e)}var hr=[];u.invokeEntryPoint=function(e,t){var o=hr[e];o||(e>=hr.length&&(hr.length=e+1),hr[e]=o=Ke.get(e)),e=o(t),Le()?P.Cb(e):mt(e)};function ut(e){this.tb=e-24,this.Ob=function(t){M()[this.tb+4>>2]=t},this.yb=function(t){M()[this.tb+8>>2]=t},this.wb=function(t,o){this.xb(),this.Ob(t),this.yb(o)},this.xb=function(){M()[this.tb+16>>2]=0}}var Yr=0,ft=0;function ir(e,t,o,i){return F?Q(3,1,e,t,o,i):Gr(e,t,o,i)}function Gr(e,t,o,i){if(typeof SharedArrayBuffer>"u")return te("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var l=[];return F&&l.length===0?ir(e,t,o,i):(e={Rb:o,nb:e,Gb:i,Xb:l},F?(e.Zb="spawnThread",postMessage(e,l),0):ye(e))}function sr(e,t,o){return F?Q(4,1,e,t,o):0}function ur(e,t){if(F)return Q(5,1,e,t)}var fr=e=>{for(var t=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);127>=i?t++:2047>=i?t+=2:55296<=i&&57343>=i?(t+=4,++o):t+=3}return t},Vr=(e,t,o,i)=>{if(!(0<i))return 0;var l=o;i=o+i-1;for(var m=0;m<e.length;++m){var b=e.charCodeAt(m);if(55296<=b&&57343>=b){var O=e.charCodeAt(++m);b=65536+((b&1023)<<10)|O&1023}if(127>=b){if(o>=i)break;t[o++]=b}else{if(2047>=b){if(o+1>=i)break;t[o++]=192|b>>6}else{if(65535>=b){if(o+2>=i)break;t[o++]=224|b>>12}else{if(o+3>=i)break;t[o++]=240|b>>18,t[o++]=128|b>>12&63}t[o++]=128|b>>6&63}t[o++]=128|b&63}}return t[o]=0,o-l},Mr=(e,t,o)=>Vr(e,w(),t,o);function Cr(e,t){if(F)return Q(6,1,e,t)}function Pr(e,t,o){if(F)return Q(7,1,e,t,o)}function qr(e,t,o){return F?Q(8,1,e,t,o):0}function Jr(e,t){if(F)return Q(9,1,e,t)}function Xr(e,t,o){if(F)return Q(10,1,e,t,o)}function Fr(e,t,o,i){if(F)return Q(11,1,e,t,o,i)}function nr(e,t,o,i){if(F)return Q(12,1,e,t,o,i)}function Ge(e,t,o,i){if(F)return Q(13,1,e,t,o,i)}function Ur(e){if(F)return Q(14,1,e)}function Wr(e,t){if(F)return Q(15,1,e,t)}function Dr(e,t,o){if(F)return Q(16,1,e,t,o)}function yr(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}var Rr=void 0;function ve(e){for(var t="";w()[e];)t+=Rr[w()[e++]];return t}var Ir={},vr={},Zr={},Kr=void 0;function He(e){throw new Kr(e)}function Qr(e,t,o={}){var i=t.name;if(e||He(`type "${i}" must have a positive integer typeid pointer`),vr.hasOwnProperty(e)){if(o.Ib)return;He(`Cannot register type \'${i}\' twice`)}vr[e]=t,delete Zr[e],Ir.hasOwnProperty(e)&&(t=Ir[e],delete Ir[e],t.forEach(l=>l()))}function Ae(e,t,o={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");Qr(e,t,o)}function et(e,t,o){switch(t){case 0:return o?function(i){return s()[i]}:function(i){return w()[i]};case 1:return o?function(i){return _()[i>>1]}:function(i){return C()[i>>1]};case 2:return o?function(i){return d()[i>>2]}:function(i){return M()[i>>2]};case 3:return o?function(i){return Me[i>>3]}:function(i){return se[i>>3]};default:throw new TypeError("Unknown integer type: "+e)}}function Ve(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function Ue(){this.mb=[void 0],this.Ab=[]}var be=new Ue;function br(e){e>=be.tb&&--be.get(e).Bb===0&&be.yb(e)}var pe=e=>(e||He("Cannot use deleted val. handle = "+e),be.get(e).value),we=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return be.xb({Bb:1,value:e})}};function or(e){return this.fromWireType(d()[e>>2])}function rt(e,t){switch(t){case 2:return function(o){var i=this.fromWireType;return Z.buffer!=Se.buffer&&ce(),i.call(this,he[o>>2])};case 3:return function(o){return this.fromWireType(k()[o>>3])};default:throw new TypeError("Unknown float type: "+e)}}var r=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,n=(e,t)=>{for(var o=e>>1,i=o+t/2;!(o>=i)&&C()[o];)++o;if(o<<=1,32<o-e&&r)return r.decode(w().slice(e,o));for(o="",i=0;!(i>=t/2);++i){var l=_()[e+2*i>>1];if(l==0)break;o+=String.fromCharCode(l)}return o},a=(e,t,o)=>{if(o===void 0&&(o=2147483647),2>o)return 0;o-=2;var i=t;o=o<2*e.length?o/2:e.length;for(var l=0;l<o;++l){var m=e.charCodeAt(l);_()[t>>1]=m,t+=2}return _()[t>>1]=0,t-i},f=e=>2*e.length,p=(e,t)=>{for(var o=0,i="";!(o>=t/4);){var l=d()[e+4*o>>2];if(l==0)break;++o,65536<=l?(l-=65536,i+=String.fromCharCode(55296|l>>10,56320|l&1023)):i+=String.fromCharCode(l)}return i},v=(e,t,o)=>{if(o===void 0&&(o=2147483647),4>o)return 0;var i=t;o=i+o-4;for(var l=0;l<e.length;++l){var m=e.charCodeAt(l);if(55296<=m&&57343>=m){var b=e.charCodeAt(++l);m=65536+((m&1023)<<10)|b&1023}if(d()[t>>2]=m,t+=4,t+4>o)break}return d()[t>>2]=0,t-i},A=e=>{for(var t=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);55296<=i&&57343>=i&&++o,t+=4}return t},T=e=>{if(!oe)try{if(e(),!Le())try{F?mt(ie):Sr(ie)}catch(t){t instanceof ar||t=="unwind"||q(1,t)}}catch(t){t instanceof ar||t=="unwind"||q(1,t)}};function U(e){typeof Atomics.Yb=="function"&&(Atomics.Yb(d(),e>>2,e).value.then(D),e+=128,Atomics.store(d(),e>>2,1))}u.__emscripten_thread_mailbox_await=U;function D(){var e=nt();e&&(U(e),T(()=>Qt()))}u.checkMailbox=D;function X(e,t){var o=vr[e];if(o===void 0){e=Xt(e);var i=ve(e);Je(e),He(t+" has unknown type "+i)}return o}var Oe={};function Ee(e){var t=Oe[e];return t===void 0?ve(e):t}var g=[];function j(){return typeof globalThis=="object"?globalThis:Function("return this")()}function K(e){var t=g.length;return g.push(e),t}function qe(e,t){for(var o=Array(e),i=0;i<e;++i)o[i]=X(M()[t+4*i>>2],"parameter "+i);return o}function xr(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e}var Wt=[];function Un(e,t){return e=xr(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function Wn(e){var t=Function;if(!(t instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof t} which is not a function`);var o=Un(t.name||"unknownFunctionName",function(){});return o.prototype=t.prototype,o=new o,e=t.apply(o,e),e instanceof Object?e:o}function Dn(e){for(var t="",o=0;o<e;++o)t+=(o!==0?", ":"")+"arg"+o;var i="return function emval_allocator_"+e+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(o=0;o<e;++o)i+="var argType"+o+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], \'parameter "+o+`\');\nvar arg`+o+" = argType"+o+`.readValueFromPointer(args);\nargs += argType`+o+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",i+("var obj = new constructor("+t+`);\nreturn valueToHandle(obj);\n}\n`))(X,u,we,()=>M())}var Dt={};function Br(e){return-9007199254740992>e||9007199254740992<e?NaN:Number(e)}var wr=e=>e%4===0&&(e%100!==0||e%400===0),Rt=[0,31,60,91,121,152,182,213,244,274,305,335],It=[0,31,59,90,120,151,181,212,243,273,304,334];function xt(e,t,o,i,l,m,b){return F?Q(17,1,e,t,o,i,l,m,b):-52}function Bt(e,t,o,i,l,m){if(F)return Q(18,1,e,t,o,i,l,m)}var kt=e=>{var t=fr(e)+1,o=ot(t);return o&&Mr(e,o,t),o},Rn=e=>{var t=gt();return e=e(),at(t),e};function Q(e,t){var o=arguments.length-2,i=arguments;return Rn(()=>{for(var l=2*o,m=ht(8*l),b=m>>3,O=0;O<o;O++){var R=i[2+O];typeof R=="bigint"?(Me[b+2*O]=1n,Me[b+2*O+1]=R):(Me[b+2*O]=0n,k()[b+2*O+1]=R)}return Kt(e,l,m,t)})}var ct=[],lt={},Lt=()=>{if(!dt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"},t;for(t in lt)lt[t]===void 0?delete e[t]:e[t]=lt[t];var o=[];for(t in e)o.push(`${t}=${e[t]}`);dt=o}return dt},dt;function Ht(e,t){if(F)return Q(19,1,e,t);var o=0;return Lt().forEach(function(i,l){var m=t+o;for(l=M()[e+4*l>>2]=m,m=0;m<i.length;++m)s()[l++>>0]=i.charCodeAt(m);s()[l>>0]=0,o+=i.length+1}),0}function $t(e,t){if(F)return Q(20,1,e,t);var o=Lt();M()[e>>2]=o.length;var i=0;return o.forEach(function(l){i+=l.length+1}),M()[t>>2]=i,0}function Nt(e){return F?Q(21,1,e):52}function jt(e,t,o,i){return F?Q(22,1,e,t,o,i):52}function zt(e,t,o,i){return F?Q(23,1,e,t,o,i):70}var In=[null,[],[]];function Yt(e,t,o,i){if(F)return Q(24,1,e,t,o,i);for(var l=0,m=0;m<o;m++){var b=M()[t>>2],O=M()[t+4>>2];t+=8;for(var R=0;R<O;R++){var I=w()[b+R],ee=In[e];I===0||I===10?((e===1?Y:te)(le(ee,0)),ee.length=0):ee.push(I)}l+=O}return M()[i>>2]=l,0}var Gt=[31,29,31,30,31,30,31,31,30,31,30,31],Vt=[31,28,31,30,31,30,31,31,30,31,30,31];function xn(e){var t=Array(fr(e)+1);return Vr(e,t,0,t.length),t}var Bn=(e,t)=>{s().set(e,t)},qt=(e,t,o,i)=>{function l(y,G,re){for(y=typeof y=="number"?y.toString():y||"";y.length<G;)y=re[0]+y;return y}function m(y,G){return l(y,G,"0")}function b(y,G){function re(tn){return 0>tn?-1:0<tn?1:0}var cr;return(cr=re(y.getFullYear()-G.getFullYear()))===0&&(cr=re(y.getMonth()-G.getMonth()))===0&&(cr=re(y.getDate()-G.getDate())),cr}function O(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function R(y){var G=y.pb;for(y=new Date(new Date(y.qb+1900,0,1).getTime());0<G;){var re=y.getMonth(),cr=(wr(y.getFullYear())?Gt:Vt)[re];if(G>cr-y.getDate())G-=cr-y.getDate()+1,y.setDate(1),11>re?y.setMonth(re+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+G);break}}return re=new Date(y.getFullYear()+1,0,4),G=O(new Date(y.getFullYear(),0,4)),re=O(re),0>=b(G,y)?0>=b(re,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}var I=d()[i+40>>2];i={Vb:d()[i>>2],Ub:d()[i+4>>2],ub:d()[i+8>>2],zb:d()[i+12>>2],vb:d()[i+16>>2],qb:d()[i+20>>2],lb:d()[i+24>>2],pb:d()[i+28>>2],cc:d()[i+32>>2],Tb:d()[i+36>>2],Wb:I?de(I):""},o=de(o),I={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ee in I)o=o.replace(new RegExp(ee,"g"),I[ee]);var Ce="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Xe="January February March April May June July August September October November December".split(" ");I={"%a":y=>Ce[y.lb].substring(0,3),"%A":y=>Ce[y.lb],"%b":y=>Xe[y.vb].substring(0,3),"%B":y=>Xe[y.vb],"%C":y=>m((y.qb+1900)/100|0,2),"%d":y=>m(y.zb,2),"%e":y=>l(y.zb,2," "),"%g":y=>R(y).toString().substring(2),"%G":y=>R(y),"%H":y=>m(y.ub,2),"%I":y=>(y=y.ub,y==0?y=12:12<y&&(y-=12),m(y,2)),"%j":y=>{for(var G=0,re=0;re<=y.vb-1;G+=(wr(y.qb+1900)?Gt:Vt)[re++]);return m(y.zb+G,3)},"%m":y=>m(y.vb+1,2),"%M":y=>m(y.Ub,2),"%n":()=>`\n`,"%p":y=>0<=y.ub&&12>y.ub?"AM":"PM","%S":y=>m(y.Vb,2),"%t":()=>"	","%u":y=>y.lb||7,"%U":y=>m(Math.floor((y.pb+7-y.lb)/7),2),"%V":y=>{var G=Math.floor((y.pb+7-(y.lb+6)%7)/7);if(2>=(y.lb+371-y.pb-2)%7&&G++,G)G==53&&(re=(y.lb+371-y.pb)%7,re==4||re==3&&wr(y.qb)||(G=1));else{G=52;var re=(y.lb+7-y.pb-1)%7;(re==4||re==5&&wr(y.qb%400-1))&&G++}return m(G,2)},"%w":y=>y.lb,"%W":y=>m(Math.floor((y.pb+7-(y.lb+6)%7)/7),2),"%y":y=>(y.qb+1900).toString().substring(2),"%Y":y=>y.qb+1900,"%z":y=>{y=y.Tb;var G=0<=y;return y=Math.abs(y)/60,(G?"+":"-")+("0000"+(y/60*100+y%60)).slice(-4)},"%Z":y=>y.Wb,"%%":()=>"%"},o=o.replace(/%%/g,"\\0\\0");for(ee in I)o.includes(ee)&&(o=o.replace(new RegExp(ee,"g"),I[ee](i)));return o=o.replace(/\\0\\0/g,"%"),ee=xn(o),ee.length>t?0:(Bn(ee,e),ee.length-1)};P.wb();for(var Jt=Array(256),tt=0;256>tt;++tt)Jt[tt]=String.fromCharCode(tt);Rr=Jt,Kr=u.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},u.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Ue.prototype,{get(e){return this.mb[e]},has(e){return this.mb[e]!==void 0},xb(e){var t=this.Ab.pop()||this.mb.length;return this.mb[t]=e,t},yb(e){this.mb[e]=void 0,this.Ab.push(e)}}),be.mb.push({value:void 0},{value:null},{value:!0},{value:!1}),be.tb=be.mb.length,u.count_emval_handles=function(){for(var e=0,t=be.tb;t<be.mb.length;++t)be.mb[t]!==void 0&&++e;return e};var kn=[null,mr,zr,ir,sr,ur,Cr,Pr,qr,Jr,Xr,Fr,nr,Ge,Ur,Wr,Dr,xt,Bt,Ht,$t,Nt,jt,zt,Yt],Ln={b:function(e,t,o){throw new ut(e).wb(t,o),Yr=e,ft++,Yr},fa:function(e){Zt(e,!z,1,!$,131072,!1),P.Db()},D:function(e){F?postMessage({cmd:"cleanupThread",thread:e}):Er(e)},W:Gr,y:sr,la:ur,S:Cr,U:Pr,L:qr,ja:Jr,aa:Xr,ia:Fr,F:nr,T:Ge,Q:Ur,ka:Wr,R:Dr,I:function(e,t,o,i,l){t=ve(t),o=Ve(o);var m=t.indexOf("u")!=-1;m&&(l=(1n<<64n)-1n),Ae(e,{name:t,fromWireType:function(b){return b},toWireType:function(b,O){if(typeof O!="bigint"&&typeof O!="number")throw new TypeError(`Cannot convert "${yr(O)}" to ${this.name}`);if(O<i||O>l)throw new TypeError(`Passing a number "${yr(O)}" from JS side to C/C++ side to an argument of type "${t}", which is outside the valid range [${i}, ${l}]!`);return O},argPackAdvance:8,readValueFromPointer:et(t,o,!m),sb:null})},ra:function(e,t,o,i,l){var m=Ve(o);t=ve(t),Ae(e,{name:t,fromWireType:function(b){return!!b},toWireType:function(b,O){return O?i:l},argPackAdvance:8,readValueFromPointer:function(b){if(o===1)var O=s();else if(o===2)O=_();else if(o===4)O=d();else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(O[b>>m])},sb:null})},qa:function(e,t){t=ve(t),Ae(e,{name:t,fromWireType:function(o){var i=pe(o);return br(o),i},toWireType:function(o,i){return we(i)},argPackAdvance:8,readValueFromPointer:or,sb:null})},H:function(e,t,o){o=Ve(o),t=ve(t),Ae(e,{name:t,fromWireType:function(i){return i},toWireType:function(i,l){return l},argPackAdvance:8,readValueFromPointer:rt(t,o),sb:null})},t:function(e,t,o,i,l){t=ve(t),l===-1&&(l=4294967295),l=Ve(o);var m=O=>O;if(i===0){var b=32-8*o;m=O=>O<<b>>>b}o=t.includes("unsigned")?function(O,R){return R>>>0}:function(O,R){return R},Ae(e,{name:t,fromWireType:m,toWireType:o,argPackAdvance:8,readValueFromPointer:et(t,l,i!==0),sb:null})},m:function(e,t,o){function i(m){m>>=2;var b=M();return new l(b.buffer,b[m+1],b[m])}var l=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];o=ve(o),Ae(e,{name:o,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{Ib:!0})},J:function(e,t){t=ve(t);var o=t==="std::string";Ae(e,{name:t,fromWireType:function(i){var l=M()[i>>2],m=i+4;if(o)for(var b=m,O=0;O<=l;++O){var R=m+O;if(O==l||w()[R]==0){if(b=de(b,R-b),I===void 0)var I=b;else I+=String.fromCharCode(0),I+=b;b=R+1}}else{for(I=Array(l),O=0;O<l;++O)I[O]=String.fromCharCode(w()[m+O]);I=I.join("")}return Je(i),I},toWireType:function(i,l){l instanceof ArrayBuffer&&(l=new Uint8Array(l));var m=typeof l=="string";m||l instanceof Uint8Array||l instanceof Uint8ClampedArray||l instanceof Int8Array||He("Cannot pass non-string to std::string");var b=o&&m?fr(l):l.length,O=ot(4+b+1),R=O+4;if(M()[O>>2]=b,o&&m)Mr(l,R,b+1);else if(m)for(m=0;m<b;++m){var I=l.charCodeAt(m);255<I&&(Je(R),He("String has UTF-16 code units that do not fit in 8 bits")),w()[R+m]=I}else for(m=0;m<b;++m)w()[R+m]=l[m];return i!==null&&i.push(Je,O),O},argPackAdvance:8,readValueFromPointer:or,sb:function(i){Je(i)}})},A:function(e,t,o){if(o=ve(o),t===2)var i=n,l=a,m=f,b=()=>C(),O=1;else t===4&&(i=p,l=v,m=A,b=()=>M(),O=2);Ae(e,{name:o,fromWireType:function(R){for(var I=M()[R>>2],ee=b(),Ce,Xe=R+4,y=0;y<=I;++y){var G=R+4+y*t;(y==I||ee[G>>O]==0)&&(Xe=i(Xe,G-Xe),Ce===void 0?Ce=Xe:(Ce+=String.fromCharCode(0),Ce+=Xe),Xe=G+t)}return Je(R),Ce},toWireType:function(R,I){typeof I!="string"&&He(`Cannot pass non-string to C++ string type ${o}`);var ee=m(I),Ce=ot(4+ee+t);return M()[Ce>>2]=ee>>O,l(I,Ce+4,ee+t),R!==null&&R.push(Je,Ce),Ce},argPackAdvance:8,readValueFromPointer:or,sb:function(R){Je(R)}})},sa:function(e,t){t=ve(t),Ae(e,{Lb:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},oa:()=>!0,O:function(e,t){e==t?setTimeout(()=>D()):F?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=P.kb[e])&&e.postMessage({cmd:"checkMailbox"})},da:function(){return-1},ea:U,na:function(e){J&&P.kb[e].ref()},s:function(e,t,o){e=pe(e),t=X(t,"emval::as");var i=[],l=we(i);return M()[o>>2]=l,t.toWireType(i,e)},i:function(e,t,o,i,l){e=g[e],t=pe(t),o=Ee(o);var m=[];return M()[i>>2]=we(m),e(t,o,m,l)},u:function(e,t,o,i){e=g[e],t=pe(t),o=Ee(o),e(t,o,null,i)},c:br,K:function(e,t){return e=pe(e),t=pe(t),e==t},o:function(e){return e===0?we(j()):(e=Ee(e),we(j()[e]))},h:function(e,t){var o=qe(e,t),i=o[0];t=i.name+"_$"+o.slice(1).map(function(ee){return ee.name}).join("_")+"$";var l=Wt[t];if(l!==void 0)return l;l=["retType"];for(var m=[i],b="",O=0;O<e-1;++O)b+=(O!==0?", ":"")+"arg"+O,l.push("argType"+O),m.push(o[1+O]);var R="return function "+xr("methodCaller_"+t)+`(handle, name, destructors, args) {\n`,I=0;for(O=0;O<e-1;++O)R+="    var arg"+O+" = argType"+O+".readValueFromPointer(args"+(I?"+"+I:"")+`);\n`,I+=o[O+1].argPackAdvance;for(R+="    var rv = handle[name]("+b+`);\n`,O=0;O<e-1;++O)o[O+1].deleteObject&&(R+="    argType"+O+".deleteObject(arg"+O+`);\n`);return i.Lb||(R+=`    return retType.toWireType(destructors, rv);\n`),l.push(R+`};\n`),e=Wn(l).apply(null,m),l=K(e),Wt[t]=l},r:function(e,t){return e=pe(e),t=pe(t),we(e[t])},d:function(e){4<e&&(be.get(e).Bb+=1)},x:function(e,t,o,i){e=pe(e);var l=Dt[t];return l||(l=Dn(t),Dt[t]=l),l(e,o,i)},v:function(){return we([])},l:function(e){e=pe(e);for(var t=Array(e.length),o=0;o<e.length;o++)t[o]=e[o];return we(t)},e:function(e){return we(Ee(e))},k:function(){return we({})},g:function(e){for(var t=pe(e);t.length;){var o=t.pop();t.pop()(o)}br(e)},j:function(e,t,o){e=pe(e),t=pe(t),o=pe(o),e[t]=o},f:function(e,t){return e=X(e,"_emval_take_value"),e=e.readValueFromPointer(t),we(e)},Z:function(e,t){e=Br(e),t=Br(t),e=new Date(1e3*e),d()[t>>2]=e.getUTCSeconds(),d()[t+4>>2]=e.getUTCMinutes(),d()[t+8>>2]=e.getUTCHours(),d()[t+12>>2]=e.getUTCDate(),d()[t+16>>2]=e.getUTCMonth(),d()[t+20>>2]=e.getUTCFullYear()-1900,d()[t+24>>2]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,d()[t+28>>2]=e},_:function(e,t){e=Br(e),t=Br(t),e=new Date(1e3*e),d()[t>>2]=e.getSeconds(),d()[t+4>>2]=e.getMinutes(),d()[t+8>>2]=e.getHours(),d()[t+12>>2]=e.getDate(),d()[t+16>>2]=e.getMonth(),d()[t+20>>2]=e.getFullYear()-1900,d()[t+24>>2]=e.getDay();var o=(wr(e.getFullYear())?Rt:It)[e.getMonth()]+e.getDate()-1|0;d()[t+28>>2]=o,d()[t+36>>2]=-(60*e.getTimezoneOffset()),o=new Date(e.getFullYear(),6,1).getTimezoneOffset();var i=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(o!=i&&e.getTimezoneOffset()==Math.min(i,o))|0,d()[t+32>>2]=e},$:function(e){e=Br(e);var t=new Date(d()[e+20>>2]+1900,d()[e+16>>2],d()[e+12>>2],d()[e+8>>2],d()[e+4>>2],d()[e>>2],0),o=d()[e+32>>2],i=t.getTimezoneOffset(),l=new Date(t.getFullYear(),6,1).getTimezoneOffset(),m=new Date(t.getFullYear(),0,1).getTimezoneOffset(),b=Math.min(m,l);return 0>o?d()[e+32>>2]=+(l!=m&&b==i):0<o!=(b==i)&&(l=Math.max(m,l),t.setTime(t.getTime()+6e4*((0<o?b:l)-i))),d()[e+24>>2]=t.getDay(),o=(wr(t.getFullYear())?Rt:It)[t.getMonth()]+t.getDate()-1|0,d()[e+28>>2]=o,d()[e>>2]=t.getSeconds(),d()[e+4>>2]=t.getMinutes(),d()[e+8>>2]=t.getHours(),d()[e+12>>2]=t.getDate(),d()[e+16>>2]=t.getMonth(),d()[e+20>>2]=t.getYear(),BigInt(t.getTime()/1e3)},X:xt,Y:Bt,N:(e,t,o)=>{function i(I){return(I=I.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?I[1]:"GMT"}var l=new Date().getFullYear(),m=new Date(l,0,1),b=new Date(l,6,1);l=m.getTimezoneOffset();var O=b.getTimezoneOffset(),R=Math.max(l,O);M()[e>>2]=60*R,d()[t>>2]=+(l!=O),e=i(m),t=i(b),e=kt(e),t=kt(t),O<l?(M()[o>>2]=e,M()[o+4>>2]=t):(M()[o>>2]=t,M()[o+4>>2]=e)},n:()=>{ze("")},E:function(){},G:function(){return Date.now()},ma:()=>{throw _r+=1,"unwind"},P:()=>2147483648,q:()=>performance.timeOrigin+performance.now(),w:function(){return J?(cn(),Lr(fn)).cpus().length:navigator.hardwareConcurrency},ca:function(e,t,o,i){for(P.$b=t,o/=2,ct.length=o,t=i>>3,i=0;i<o;i++)ct[i]=Me[t+2*i]?Me[t+2*i+1]:k()[t+2*i+1];return kn[e].apply(null,ct)},M:e=>{var t=w().length;if(e>>>=0,e<=t||2147483648<e)return!1;for(var o=1;4>=o;o*=2){var i=t*(1+.2/o);i=Math.min(i,e+100663296);var l=Math;i=Math.max(e,i);e:{l=l.min.call(l,2147483648,i+(65536-i%65536)%65536)-Z.buffer.byteLength+65535>>>16;try{Z.grow(l),ce();var m=1;break e}catch{}m=void 0}if(m)return!0}return!1},ga:Ht,ha:$t,V:Sr,z:Nt,C:jt,ba:zt,B:Yt,a:Z||u.wasmMemory,pa:qt,p:(e,t,o,i)=>qt(e,t,o,i)};(function(){function e(o,i){return S=o=o.exports,P.Eb.push(S.Ya),Ke=S.$a,lr.unshift(S.ta),ke=i,Te(),o}var t={a:Ln};if(Tr(),u.instantiateWasm)try{return u.instantiateWasm(t,e)}catch(o){te("Module.instantiateWasm callback failed with error: "+o),V(o)}return xe(t,function(o){e(o.instance,o.module)}).catch(V),{}})(),u._OrtInit=(e,t)=>(u._OrtInit=S.ua)(e,t),u._OrtGetLastError=(e,t)=>(u._OrtGetLastError=S.va)(e,t),u._OrtCreateSessionOptions=(e,t,o,i,l,m,b,O,R,I)=>(u._OrtCreateSessionOptions=S.wa)(e,t,o,i,l,m,b,O,R,I),u._OrtAppendExecutionProvider=(e,t)=>(u._OrtAppendExecutionProvider=S.xa)(e,t),u._OrtAddFreeDimensionOverride=(e,t,o)=>(u._OrtAddFreeDimensionOverride=S.ya)(e,t,o),u._OrtAddSessionConfigEntry=(e,t,o)=>(u._OrtAddSessionConfigEntry=S.za)(e,t,o),u._OrtReleaseSessionOptions=e=>(u._OrtReleaseSessionOptions=S.Aa)(e),u._OrtCreateSession=(e,t,o)=>(u._OrtCreateSession=S.Ba)(e,t,o),u._OrtReleaseSession=e=>(u._OrtReleaseSession=S.Ca)(e),u._OrtGetInputOutputCount=(e,t,o)=>(u._OrtGetInputOutputCount=S.Da)(e,t,o),u._OrtGetInputName=(e,t)=>(u._OrtGetInputName=S.Ea)(e,t),u._OrtGetOutputName=(e,t)=>(u._OrtGetOutputName=S.Fa)(e,t),u._OrtFree=e=>(u._OrtFree=S.Ga)(e),u._OrtCreateTensor=(e,t,o,i,l,m)=>(u._OrtCreateTensor=S.Ha)(e,t,o,i,l,m),u._OrtGetTensorData=(e,t,o,i,l)=>(u._OrtGetTensorData=S.Ia)(e,t,o,i,l),u._OrtReleaseTensor=e=>(u._OrtReleaseTensor=S.Ja)(e),u._OrtCreateRunOptions=(e,t,o,i)=>(u._OrtCreateRunOptions=S.Ka)(e,t,o,i),u._OrtAddRunConfigEntry=(e,t,o)=>(u._OrtAddRunConfigEntry=S.La)(e,t,o),u._OrtReleaseRunOptions=e=>(u._OrtReleaseRunOptions=S.Ma)(e),u._OrtCreateBinding=e=>(u._OrtCreateBinding=S.Na)(e),u._OrtBindInput=(e,t,o)=>(u._OrtBindInput=S.Oa)(e,t,o),u._OrtBindOutput=(e,t,o,i)=>(u._OrtBindOutput=S.Pa)(e,t,o,i),u._OrtClearBoundOutputs=e=>(u._OrtClearBoundOutputs=S.Qa)(e),u._OrtReleaseBinding=e=>(u._OrtReleaseBinding=S.Ra)(e),u._OrtRunWithBinding=(e,t,o,i,l)=>(u._OrtRunWithBinding=S.Sa)(e,t,o,i,l),u._OrtRun=(e,t,o,i,l,m,b,O)=>(u._OrtRun=S.Ta)(e,t,o,i,l,m,b,O),u._OrtEndProfiling=e=>(u._OrtEndProfiling=S.Ua)(e);var nt=u._pthread_self=()=>(nt=u._pthread_self=S.Va)(),ot=u._malloc=e=>(ot=u._malloc=S.Wa)(e),Je=u._free=e=>(Je=u._free=S.Xa)(e);u.__emscripten_tls_init=()=>(u.__emscripten_tls_init=S.Ya)();var Xt=e=>(Xt=S.Za)(e);u.__embind_initialize_bindings=()=>(u.__embind_initialize_bindings=S._a)();var Zt=u.__emscripten_thread_init=(e,t,o,i,l,m)=>(Zt=u.__emscripten_thread_init=S.ab)(e,t,o,i,l,m);u.__emscripten_thread_crashed=()=>(u.__emscripten_thread_crashed=S.bb)();var Kt=(e,t,o,i)=>(Kt=S.cb)(e,t,o,i),pt=e=>(pt=S.db)(e),mt=u.__emscripten_thread_exit=e=>(mt=u.__emscripten_thread_exit=S.eb)(e),Qt=u.__emscripten_check_mailbox=()=>(Qt=u.__emscripten_check_mailbox=S.fb)(),en=(e,t)=>(en=S.gb)(e,t),gt=()=>(gt=S.hb)(),at=e=>(at=S.ib)(e),ht=e=>(ht=S.jb)(e);u.keepRuntimeAlive=Le,u.wasmMemory=Z,u.stackAlloc=ht,u.stackSave=gt,u.stackRestore=at,u.UTF8ToString=de,u.stringToUTF8=Mr,u.lengthBytesUTF8=fr,u.ExitStatus=ar,u.PThread=P;var it;er=function e(){it||rn(),it||(er=e)};function rn(){function e(){if(!it&&(it=!0,u.calledRun=!0,!oe)&&(F||gr(lr),x(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!F)){if(u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Nr.unshift(t)}gr(Nr)}}if(!(0<Fe))if(F)x(u),F||gr(lr),startWorker(u);else{if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Or.unshift(u.preRun.shift());gr(Or),0<Fe||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),e()},1)):e())}}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return rn(),h.ready}})();typeof dn=="object"&&typeof Et=="object"?Et.exports=ln:typeof define=="function"&&define.amd&&define([],()=>ln)});var mn=kr((go,Vn)=>{Vn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason??e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err("worker.js received unknown command "+e.data.cmd),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var qn=an(),Jn=pn(),St,Mt=!1,st=!1,gn=!1,Xn=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},Zn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Kn=(c,h)=>h?c?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":c?"ort-wasm-simd.wasm":"ort-wasm.wasm",hn=async c=>{if(Mt)return Promise.resolve();if(st)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(gn)throw new Error("previous call to \'initializeWebAssembly()\' failed.");st=!0;let h=c.initTimeout,s=c.numThreads,w=c.simd,_=s>1&&Xn(),C=w&&Zn(),d=c.wasmPaths,M=typeof d=="string"?d:void 0,k=Kn(C,_),u=typeof d=="object"?d[k]:void 0,x=!1,V=[];if(h>0&&V.push(new Promise(H=>{setTimeout(()=>{x=!0,H()},h)})),V.push(new Promise((H,L)=>{let q=_?Jn:qn,$={locateFile:(z,J)=>_&&z.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([mn()],{type:"text/javascript"})):z.endsWith(".wasm")?u||(M??J)+k:J+z};if(_)if(typeof Blob>"u")$.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let z=`var ortWasmThreaded=${q.toString()};`;$.mainScriptUrlOrBlob=new Blob([z],{type:"text/javascript"})}q($).then(z=>{st=!1,Mt=!0,St=z,H()},z=>{st=!1,gn=!0,L(z)})})),await Promise.race(V),x)throw new Error(`WebAssembly backend initializing failed due to timeout: ${h}ms`)},ae=()=>{if(Mt&&St)return St;throw new Error("WebAssembly is not initialized yet.")};var ue=(c,h)=>{let s=ae(),w=s.lengthBytesUTF8(c)+1,_=s._malloc(w);return s.stringToUTF8(c,_,w),h.push(_),_},Hr=(c,h,s,w)=>{if(typeof c=="object"&&c!==null){if(s.has(c))throw new Error("Circular reference in options");s.add(c)}Object.entries(c).forEach(([_,C])=>{let d=h?h+_:_;if(typeof C=="object")Hr(C,d+".",s,w);else if(typeof C=="string"||typeof C=="number")w(d,C.toString());else if(typeof C=="boolean")w(d,C?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof C}`)})},ne=c=>{let h=ae(),s=h.stackSave();try{let w=h.stackAlloc(8);h._OrtGetLastError(w,w+4);let _=h.HEAP32[w/4],C=h.HEAPU32[w/4+1],d=C?h.UTF8ToString(C):"";throw new Error(`${c} ERROR_CODE: ${_}, ERROR_MESSAGE: ${d}`)}finally{h.stackRestore(s)}};var yn=c=>{let h=ae(),s=0,w=[],_=c||{};try{if(c?.logSeverityLevel===void 0)_.logSeverityLevel=2;else if(typeof c.logSeverityLevel!="number"||!Number.isInteger(c.logSeverityLevel)||c.logSeverityLevel<0||c.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${c.logSeverityLevel}`);if(c?.logVerbosityLevel===void 0)_.logVerbosityLevel=0;else if(typeof c.logVerbosityLevel!="number"||!Number.isInteger(c.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${c.logVerbosityLevel}`);c?.terminate===void 0&&(_.terminate=!1);let C=0;return c?.tag!==void 0&&(C=ue(c.tag,w)),s=h._OrtCreateRunOptions(_.logSeverityLevel,_.logVerbosityLevel,!!_.terminate,C),s===0&&ne("Can\'t create run options."),c?.extra!==void 0&&Hr(c.extra,"",new WeakSet,(d,M)=>{let k=ue(d,w),u=ue(M,w);h._OrtAddRunConfigEntry(s,k,u)!==0&&ne(`Can\'t set a run config entry: ${d} - ${M}.`)}),[s,w]}catch(C){throw s!==0&&h._OrtReleaseRunOptions(s),w.forEach(d=>h._free(d)),C}};var Qn=c=>{switch(c){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${c}`)}},eo=c=>{switch(c){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${c}`)}},ro=c=>{c.extra||(c.extra={}),c.extra.session||(c.extra.session={});let h=c.extra.session;h.use_ort_model_bytes_directly||(h.use_ort_model_bytes_directly="1"),c.executionProviders&&c.executionProviders.some(s=>(typeof s=="string"?s:s.name)==="webgpu")&&(c.enableMemPattern=!1)},to=(c,h,s)=>{for(let w of h){let _=typeof w=="string"?w:w.name;switch(_){case"xnnpack":_="XNNPACK";break;case"webnn":if(_="WEBNN",typeof w!="string"){let d=w;if(d?.deviceType){let M=ue("deviceType",s),k=ue(d.deviceType,s);ae()._OrtAddSessionConfigEntry(c,M,k)!==0&&ne(`Can\'t set a session config entry: \'deviceType\' - ${d.deviceType}.`)}if(d?.powerPreference){let M=ue("powerPreference",s),k=ue(d.powerPreference,s);ae()._OrtAddSessionConfigEntry(c,M,k)!==0&&ne(`Can\'t set a session config entry: \'powerPreference\' - ${d.powerPreference}.`)}}break;case"webgpu":if(_="JS",typeof w!="string"){let d=w;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${d.preferredLayout}`);let M=ue("preferredLayout",s),k=ue(d.preferredLayout,s);ae()._OrtAddSessionConfigEntry(c,M,k)!==0&&ne(`Can\'t set a session config entry: \'preferredLayout\' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${_}`)}let C=ue(_,s);ae()._OrtAppendExecutionProvider(c,C)!==0&&ne(`Can\'t append execution provider: ${_}.`)}},vn=c=>{let h=ae(),s=0,w=[],_=c||{};ro(_);try{let C=Qn(_.graphOptimizationLevel??"all"),d=eo(_.executionMode??"sequential"),M=typeof _.logId=="string"?ue(_.logId,w):0,k=_.logSeverityLevel??2;if(!Number.isInteger(k)||k<0||k>4)throw new Error(`log serverity level is not valid: ${k}`);let u=_.logVerbosityLevel??0;if(!Number.isInteger(u)||u<0||u>4)throw new Error(`log verbosity level is not valid: ${u}`);let x=typeof _.optimizedModelFilePath=="string"?ue(_.optimizedModelFilePath,w):0;if(s=h._OrtCreateSessionOptions(C,!!_.enableCpuMemArena,!!_.enableMemPattern,d,!!_.enableProfiling,0,M,k,u,x),s===0&&ne("Can\'t create session options."),_.executionProviders&&to(s,_.executionProviders,w),_.freeDimensionOverrides)for(let[V,H]of Object.entries(_.freeDimensionOverrides)){if(typeof V!="string")throw new Error(`free dimension override name must be a string: ${V}`);if(typeof H!="number"||!Number.isInteger(H)||H<0)throw new Error(`free dimension override value must be a non-negative integer: ${H}`);let L=ue(V,w);h._OrtAddFreeDimensionOverride(s,L,H)!==0&&ne(`Can\'t set a free dimension override: ${V} - ${H}.`)}return _.extra!==void 0&&Hr(_.extra,"",new WeakSet,(V,H)=>{let L=ue(V,w),q=ue(H,w);h._OrtAddSessionConfigEntry(s,L,q)!==0&&ne(`Can\'t set a session config entry: ${V} - ${H}.`)}),[s,w]}catch(C){throw s!==0&&h._OrtReleaseSessionOptions(s),w.forEach(d=>h._free(d)),C}};var Ct=c=>{switch(c){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${c}`)}},bn=c=>{switch(c){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${c}`)}},Pt=c=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][c],wn=c=>{switch(c){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${c}`)}},On=c=>{switch(c){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${c}`)}},_n=c=>c==="float32"||c==="int32"||c==="int64"||c==="bool"||c==="float16"||c==="uint32",Tn=c=>{switch(c){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${c}`)}};var no=c=>{let h=ae(),s=h.stackSave();try{let w=h.stackAlloc(8);return h._OrtGetInputOutputCount(c,w,w+4)!==0&&ne("Can\'t get session input/output count."),[h.HEAP32[w/4],h.HEAP32[w/4+1]]}finally{h.stackRestore(s)}},oo=(c,h)=>{ae()._OrtInit(c,h)!==0&&ne("Can\'t initialize onnxruntime.")},En=async c=>{oo(c.wasm.numThreads,On(c.logLevel))},$r=new Map,Ft=c=>{let h=ae(),s=h._malloc(c.byteLength);if(s===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${c.byteLength}.`);return h.HEAPU8.set(c,s),[s,c.byteLength]},Ut=(c,h)=>{let s=ae(),w=0,_=0,C=0,d=[],M=[],k=[];try{[_,d]=vn(h),w=s._OrtCreateSession(c[0],c[1],_),w===0&&ne("Can\'t create a session.");let[u,x]=no(w),V=[],H=[],L=[];for(let $=0;$<u;$++){let z=s._OrtGetInputName(w,$);z===0&&ne("Can\'t get an input name."),M.push(z),V.push(s.UTF8ToString(z))}for(let $=0;$<x;$++){let z=s._OrtGetOutputName(w,$);z===0&&ne("Can\'t get an output name."),k.push(z);let J=s.UTF8ToString(z);H.push(J)}let q=null;return $r.set(w,[w,M,k,q]),[w,V,H]}catch(u){throw M.forEach(x=>s._OrtFree(x)),k.forEach(x=>s._OrtFree(x)),C!==0&&s._OrtReleaseBinding(C),w!==0&&s._OrtReleaseSession(w),u}finally{s._free(c[0]),_!==0&&s._OrtReleaseSessionOptions(_),d.forEach(u=>s._free(u))}},Sn=(c,h)=>{let s=Ft(c);return Ut(s,h)},Mn=c=>{let h=ae(),s=$r.get(c);if(!s)throw new Error(`cannot release session. invalid session id: ${c}`);let[w,_,C,d]=s;d&&h._OrtReleaseBinding(d.handle),h.jsepUnregisterBuffers?.(c),_.forEach(M=>h._OrtFree(M)),C.forEach(M=>h._OrtFree(M)),h._OrtReleaseSession(w),$r.delete(c)},An=(c,h,s,w,_)=>{if(!c){h.push(0);return}let C=ae(),d=c[0],M=c[1],k=c[3],u,x;if(d==="string"&&k==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(k==="gpu-buffer"){let L=c[2].gpuBuffer,q=Pt(Ct(d));x=M.reduce(($,z)=>$*z,1)*q,u=C.jsepRegisterBuffer(w,_,L,x)}else{let L=c[2];if(Array.isArray(L)){x=4*L.length,u=C._malloc(x),s.push(u);let q=u/4;for(let $=0;$<L.length;$++){if(typeof L[$]!="string")throw new TypeError(`tensor data at index ${$} is not a string`);C.HEAPU32[q++]=ue(L[$],s)}}else x=L.byteLength,u=C._malloc(x),s.push(u),C.HEAPU8.set(new Uint8Array(L.buffer,L.byteOffset,x),u)}let V=C.stackSave(),H=C.stackAlloc(4*M.length);try{let L=H/4;M.forEach($=>C.HEAP32[L++]=$);let q=C._OrtCreateTensor(Ct(d),u,x,H,M.length,Tn(k));q===0&&ne(`Can\'t create tensor for input/output. session=${w}, index=${_}.`),h.push(q)}finally{C.stackRestore(V)}},Cn=async(c,h,s,w,_,C)=>{let d=ae(),M=$r.get(c);if(!M)throw new Error(`cannot run inference. invalid session id: ${c}`);let[k,u,x,V]=M,H=h.length,L=w.length,q=0,$=[],z=[],J=[],F=[],me=d.stackSave(),Be=d.stackAlloc(H*4),W=d.stackAlloc(H*4),We=d.stackAlloc(L*4),_e=d.stackAlloc(L*4);try{[q,$]=yn(C);for(let B=0;B<H;B++)An(s[B],z,F,c,h[B]);for(let B=0;B<L;B++)An(_[B],J,F,c,H+w[B]);let N=Be/4,Pe=W/4,$e=We/4,E=_e/4;for(let B=0;B<H;B++)d.HEAPU32[N++]=z[B],d.HEAPU32[Pe++]=u[h[B]];for(let B=0;B<L;B++)d.HEAPU32[$e++]=J[B],d.HEAPU32[E++]=x[w[B]];let Y;Y=await d._OrtRun(k,W,Be,H,_e,L,We,q),Y!==0&&ne("failed to call OrtRun().");let te=[];for(let B=0;B<L;B++){let De=d.HEAPU32[We/4+B];if(De===J[B]){te.push(_[B]);continue}let Z=d.stackSave(),S=d.stackAlloc(4*4),ke=!1,oe,ie=0;try{d._OrtGetTensorData(De,S,S+4,S+8,S+12)!==0&&ne(`Can\'t access output tensor data on index ${B}.`);let ge=S/4,Ne=d.HEAPU32[ge++];ie=d.HEAPU32[ge++];let Re=d.HEAPU32[ge++],Ze=d.HEAPU32[ge++],Ie=[];for(let se=0;se<Ze;se++)Ie.push(d.HEAPU32[Re/4+se]);d._OrtFree(Re);let he=Ie.reduce((se,fe)=>se*fe,1);oe=bn(Ne);let Me=V?.outputPreferredLocations[w[B]];if(oe==="string"){if(Me==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let se=[],fe=ie/4;for(let ce=0;ce<he;ce++){let je=d.HEAPU32[fe++],Ke=ce===he-1?void 0:d.HEAPU32[fe]-je;se.push(d.UTF8ToString(je,Ke))}te.push([oe,Ie,se,"cpu"])}else if(Me==="gpu-buffer"&&he>0){let se=d.jsepGetBuffer(ie),fe=Pt(Ne);if(fe===void 0||!_n(oe))throw new Error(`Unsupported data type: ${oe}`);ke=!0,te.push([oe,Ie,{gpuBuffer:se,download:d.jsepCreateDownloader(se,he*fe,oe),dispose:()=>{d._OrtReleaseTensor(De)}},"gpu-buffer"])}else{let se=wn(oe),fe=new se(he);new Uint8Array(fe.buffer,fe.byteOffset,fe.byteLength).set(d.HEAPU8.subarray(ie,ie+fe.byteLength)),te.push([oe,Ie,fe,"cpu"])}}finally{d.stackRestore(Z),oe==="string"&&ie&&d._free(ie),ke||d._OrtReleaseTensor(De)}}return V&&d._OrtClearBoundOutputs(V.handle),te}finally{d.stackRestore(me),z.forEach(N=>d._OrtReleaseTensor(N)),J.forEach(N=>d._OrtReleaseTensor(N)),F.forEach(N=>d._free(N)),q!==0&&d._OrtReleaseRunOptions(q),$.forEach(N=>d._free(N))}},Pn=c=>{let h=ae(),s=$r.get(c);if(!s)throw new Error("invalid session id");let w=s[0],_=h._OrtEndProfiling(w);_===0&&ne("Can\'t get an profile file name."),h._OrtFree(_)},Fn=c=>{let h=[];for(let s of c){let w=s[2];!Array.isArray(w)&&"buffer"in w&&h.push(w.buffer)}return h};self.onmessage=c=>{switch(c.data.type){case"init-wasm":try{hn(c.data.in).then(()=>postMessage({type:"init-wasm"}),h=>postMessage({type:"init-wasm",err:h}))}catch(h){postMessage({type:"init-wasm",err:h})}break;case"init-ort":try{En(c.data.in).then(()=>postMessage({type:"init-ort"}),h=>postMessage({type:"init-ort",err:h}))}catch(h){postMessage({type:"init-ort",err:h})}break;case"create_allocate":try{let{model:h}=c.data.in,s=Ft(h);postMessage({type:"create_allocate",out:s})}catch(h){postMessage({type:"create_allocate",err:h})}break;case"create_finalize":try{let{modeldata:h,options:s}=c.data.in,w=Ut(h,s);postMessage({type:"create_finalize",out:w})}catch(h){postMessage({type:"create_finalize",err:h})}break;case"create":try{let{model:h,options:s}=c.data.in,w=Sn(h,s);postMessage({type:"create",out:w})}catch(h){postMessage({type:"create",err:h})}break;case"release":try{let h=c.data.in;Mn(h),postMessage({type:"release"})}catch(h){postMessage({type:"release",err:h})}break;case"run":try{let{sessionId:h,inputIndices:s,inputs:w,outputIndices:_,options:C}=c.data.in;Cn(h,s,w,_,C).then(d=>{postMessage({type:"run",out:d},Fn(d))},d=>{postMessage({type:"run",err:d})})}catch(h){postMessage({type:"run",err:h})}break;case"end-profiling":try{let h=c.data.in;Pn(h),postMessage({type:"end-profiling"})}catch(h){postMessage({type:"end-profiling",err:h})}break;default:}};})();\n'});var Or,Tt,gi,is,as,Ja,Za,Qa,es,ts,rs,ns,os,Vr,sy,bi,Vd,Hd,jd,qd,ss,Yd,Xd,Kd,us=k(()=>{"use strict";zt();Wd();bn();Or=()=>!!ie.wasm.proxy&&typeof document<"u",gi=!1,is=!1,as=!1,Qa=[],es=[],ts=[],rs=[],ns=[],os=[],Vr=()=>{if(gi||!is||as||!Tt)throw new Error("worker not ready")},sy=i=>{switch(i.data.type){case"init-wasm":gi=!1,i.data.err?(as=!0,Ja[1](i.data.err)):(is=!0,Ja[0]());break;case"init-ort":i.data.err?Za[1](i.data.err):Za[0]();break;case"create_allocate":i.data.err?Qa.shift()[1](i.data.err):Qa.shift()[0](i.data.out);break;case"create_finalize":i.data.err?es.shift()[1](i.data.err):es.shift()[0](i.data.out);break;case"create":i.data.err?ts.shift()[1](i.data.err):ts.shift()[0](i.data.out);break;case"release":i.data.err?rs.shift()[1](i.data.err):rs.shift()[0]();break;case"run":i.data.err?ns.shift()[1](i.data.err):ns.shift()[0](i.data.out);break;case"end-profiling":i.data.err?os.shift()[1](i.data.err):os.shift()[0]();break;default:}},bi=typeof document<"u"?document?.currentScript?.src:void 0,Vd=async()=>{if(Or()){if(is)return;if(gi)throw new Error("multiple calls to 'initWasm()' detected.");if(as)throw new Error("previous call to 'initWasm()' failed.");return gi=!0,ie.wasm.wasmPaths===void 0&&bi&&bi.indexOf("blob:")!==0&&(ie.wasm.wasmPaths=bi.substr(0,+bi.lastIndexOf("/")+1)),new Promise((i,t)=>{Tt?.terminate();let n=URL.createObjectURL(new Blob([zd()],{type:"text/javascript"}));Tt=new Worker(n,{name:"ort-wasm-proxy-worker"}),Tt.onerror=r=>t(r),Tt.onmessage=sy,URL.revokeObjectURL(n),Ja=[i,t];let e={type:"init-wasm",in:ie.wasm};Tt.postMessage(e)})}else return Ad(ie.wasm)},Hd=async i=>{if(Or())return Vr(),new Promise((t,n)=>{Za=[t,n];let e={type:"init-ort",in:i};Tt.postMessage(e)});await Bd(i)},jd=async i=>Or()?(Vr(),new Promise((t,n)=>{Qa.push([t,n]);let e={type:"create_allocate",in:{model:i}};Tt.postMessage(e,[i.buffer])})):Xa(i),qd=async(i,t)=>Or()?(Vr(),new Promise((n,e)=>{es.push([n,e]);let r={type:"create_finalize",in:{modeldata:i,options:t}};Tt.postMessage(r)})):Ka(i,t),ss=async(i,t)=>{if(Or()){if(t?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return Vr(),new Promise((n,e)=>{ts.push([n,e]);let r={type:"create",in:{model:i,options:t}};Tt.postMessage(r,[i.buffer])})}else return Rd(i,t)},Yd=async i=>{if(Or())return Vr(),new Promise((t,n)=>{rs.push([t,n]);let e={type:"release",in:i};Tt.postMessage(e)});Nd(i)},Xd=async(i,t,n,e,r,o)=>{if(Or()){if(n.some(s=>s[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(r.some(s=>s))throw new Error("pre-allocated output tensor is not supported for proxy.");return Vr(),new Promise((s,a)=>{ns.push([s,a]);let u=n,l={type:"run",in:{sessionId:i,inputIndices:t,inputs:u,outputIndices:e,options:o}};Tt.postMessage(l,Ud(u))})}else return Md(i,t,n,e,r,o)},Kd=async i=>{if(Or())return Vr(),new Promise((t,n)=>{os.push([t,n]);let e={type:"end-profiling",in:i};Tt.postMessage(e)});Gd(i)}});var Jd,yi,Zd,uy,Ti,Qd=k(()=>{"use strict";zt();us();Ya();Zd=(i,t)=>{switch(i.location){case"cpu":return[i.type,i.dims,i.data,"cpu"];case"gpu-buffer":return[i.type,i.dims,{gpuBuffer:i.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${i.location} for ${t()}`)}},uy=i=>{switch(i[3]){case"cpu":return new wt(i[0],i[2],i[1]);case"gpu-buffer":{let t=i[0];if(!mi(t))throw new Error(`not supported data type: ${t} for deserializing GPU tensor`);let{gpuBuffer:n,download:e,dispose:r}=i[2];return wt.fromGpuBuffer(n,{dataType:t,dims:i[1],download:e,dispose:r})}default:throw new Error(`invalid data location: ${i[3]}`)}},Ti=class{async createSessionAllocate(t){let n=await fetch(t);if(n.status!==200)throw new Error(`failed to load model: ${t}`);let e=await n.arrayBuffer();return jd(new Uint8Array(e))}async loadModel(t,n){if(Jd||(yi||(yi=Hd(ie)),await yi,yi=void 0,Jd=!0),typeof t=="string")if(typeof process<"u"&&process.versions&&process.versions.node){let e=await(void 0)(t);[this.sessionId,this.inputNames,this.outputNames]=await ss(e,n)}else{let e=await this.createSessionAllocate(t);[this.sessionId,this.inputNames,this.outputNames]=await qd(e,n)}else[this.sessionId,this.inputNames,this.outputNames]=await ss(t,n)}async dispose(){return Yd(this.sessionId)}async run(t,n,e){let r=[],o=[];Object.entries(t).forEach(y=>{let w=y[0],A=y[1],O=this.inputNames.indexOf(w);if(O===-1)throw new Error(`invalid input '${w}'`);r.push(A),o.push(O)});let s=[],a=[];Object.entries(n).forEach(y=>{let w=y[0],A=y[1],O=this.outputNames.indexOf(w);if(O===-1)throw new Error(`invalid output '${w}'`);s.push(A),a.push(O)});let u=r.map((y,w)=>Zd(y,()=>`input "${this.inputNames[o[w]]}"`)),l=s.map((y,w)=>y?Zd(y,()=>`output "${this.outputNames[a[w]]}"`):null),c=await Xd(this.sessionId,o,u,a,l,e),b={};for(let y=0;y<c.length;y++)b[this.outputNames[a[y]]]=s[y]??uy(c[y]);return b}startProfiling(){}endProfiling(){Kd(this.sessionId)}}});var th={};tn(th,{initializeFlags:()=>eh,wasmBackend:()=>ly});var eh,ls,ly,rh=k(()=>{"use strict";zt();us();Qd();eh=()=>{if((typeof ie.wasm.initTimeout!="number"||ie.wasm.initTimeout<0)&&(ie.wasm.initTimeout=0),typeof ie.wasm.simd!="boolean"&&(ie.wasm.simd=!0),typeof ie.wasm.proxy!="boolean"&&(ie.wasm.proxy=!1),typeof ie.wasm.numThreads!="number"||!Number.isInteger(ie.wasm.numThreads)||ie.wasm.numThreads<=0){let i=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;ie.wasm.numThreads=Math.min(4,Math.ceil((i||1)/2))}},ls=class{async init(){eh(),await Vd()}async createInferenceSessionHandler(t,n){let e=new Ti;return await e.loadModel(t,n),Promise.resolve(e)}},ly=new ls});var fy={};tn(fy,{InferenceSession:()=>gh,Tensor:()=>wt,TrainingSession:()=>yh,env:()=>ie,registerBackend:()=>gr});zt();zt();var uu="1.17.0";{let i=(dd(),br(pd)).onnxjsBackend;gr("webgl",i,-10)}{let i=(rh(),br(th)).wasmBackend;gr("cpu",i,10),gr("wasm",i,10),gr("xnnpack",i,9),gr("webnn",i,9)}Object.defineProperty(ie.versions,"web",{value:uu,enumerable:!0});return br(fy);})();
/*! Bundled license information:

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
//# sourceMappingURL=ort.min.js.map

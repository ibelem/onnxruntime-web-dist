/*!
 * ONNX Runtime Web v1.17.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
var Bg=Object.create;var Oi=Object.defineProperty;var Ng=Object.getOwnPropertyDescriptor;var Mg=Object.getOwnPropertyNames;var Rg=Object.getPrototypeOf,Gg=Object.prototype.hasOwnProperty;var it=(i,e)=>()=>(i&&(e=i(i=0)),e);var qt=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),ho=(i,e)=>{for(var o in e)Oi(i,o,{get:e[o],enumerable:!0})},Ic=(i,e,o,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Mg(e))!Gg.call(i,r)&&r!==o&&Oi(i,r,{get:()=>e[r],enumerable:!(t=Ng(e,r))||t.enumerable});return i};var Dn=(i,e,o)=>(o=i!=null?Bg(Rg(i)):{},Ic(e||!i||!i.__esModule?Oi(o,"default",{value:i,enumerable:!0}):o,i)),Kr=i=>Ic(Oi({},"__esModule",{value:!0}),i);var Ii,Xr,Jr,Ac,zu=it(()=>{"use strict";Ii=new Map,Xr=[],Jr=(i,e,o)=>{if(e&&typeof e.init=="function"&&typeof e.createInferenceSessionHandler=="function"){let t=Ii.get(i);if(t===void 0)Ii.set(i,{backend:e,priority:o});else{if(t.priority>o)return;if(t.priority===o&&t.backend!==e)throw new Error(`cannot register backend "${i}" using priority ${o}`)}if(o>=0){let r=Xr.indexOf(i);r!==-1&&Xr.splice(r,1);for(let n=0;n<Xr.length;n++)if(Ii.get(Xr[n]).priority<=o){Xr.splice(n,0,i);return}Xr.push(i)}return}throw new TypeError("not a valid backend")},Ac=async i=>{let e=i.length===0?Xr:i,o=[];for(let t of e){let r=Ii.get(t);if(r){if(r.initialized)return r.backend;if(r.aborted)continue;let n=!!r.initPromise;try{return n||(r.initPromise=r.backend.init()),await r.initPromise,r.initialized=!0,r.backend}catch(s){n||o.push({name:t,err:s}),r.aborted=!0}finally{delete r.initPromise}}}throw new Error(`no available backend found. ERR: ${o.map(t=>`[${t.name}] ${t.err}`).join(", ")}`)}});var Sc=it(()=>{"use strict";zu()});var Pc,Ec=it(()=>{"use strict";Pc="1.17.0"});var Dc,Hu,kc=it(()=>{"use strict";Ec();Dc="warning",Hu={wasm:{},webgl:{},webgpu:{},versions:{common:Pc},set logLevel(i){if(i!==void 0){if(typeof i!="string"||["verbose","info","warning","error","fatal"].indexOf(i)===-1)throw new Error(`Unsupported logging level: ${i}`);Dc=i}},get logLevel(){return Dc}};Object.defineProperty(Hu,"logLevel",{enumerable:!0})});var Dt,Lc=it(()=>{"use strict";kc();Dt=Hu});var Cc,Fc,$c=it(()=>{"use strict";Cc=(i,e)=>{let o=document.createElement("canvas");o.width=i.dims[3],o.height=i.dims[2];let t=o.getContext("2d");if(t!=null){let r,n;e?.tensorLayout!==void 0&&e.tensorLayout==="NHWC"?(r=i.dims[2],n=i.dims[3]):(r=i.dims[3],n=i.dims[2]);let s=e?.format!==void 0?e.format:"RGB",a=e?.norm,u,c;a===void 0||a.mean===void 0?u=[255,255,255,255]:typeof a.mean=="number"?u=[a.mean,a.mean,a.mean,a.mean]:(u=[a.mean[0],a.mean[1],a.mean[2],0],a.mean[3]!==void 0&&(u[3]=a.mean[3])),a===void 0||a.bias===void 0?c=[0,0,0,0]:typeof a.bias=="number"?c=[a.bias,a.bias,a.bias,a.bias]:(c=[a.bias[0],a.bias[1],a.bias[2],0],a.bias[3]!==void 0&&(c[3]=a.bias[3]));let w=n*r,S=0,E=w,N=w*2,Z=-1;s==="RGBA"?(S=0,E=w,N=w*2,Z=w*3):s==="RGB"?(S=0,E=w,N=w*2):s==="RBG"&&(S=0,N=w,E=w*2);for(let H=0;H<n;H++)for(let nt=0;nt<r;nt++){let at=(i.data[S++]-c[0])*u[0],ot=(i.data[E++]-c[1])*u[1],ft=(i.data[N++]-c[2])*u[2],xt=Z===-1?255:(i.data[Z++]-c[3])*u[3];t.fillStyle="rgba("+at+","+ot+","+ft+","+xt+")",t.fillRect(nt,H,1,1)}return o.toDataURL()}else throw new Error("Can not access image data")},Fc=(i,e)=>{let o=document.createElement("canvas").getContext("2d"),t;if(o!=null){let r,n,s;e?.tensorLayout!==void 0&&e.tensorLayout==="NHWC"?(r=i.dims[2],n=i.dims[1],s=i.dims[3]):(r=i.dims[3],n=i.dims[2],s=i.dims[1]);let a=e!==void 0&&e.format!==void 0?e.format:"RGB",u=e?.norm,c,w;u===void 0||u.mean===void 0?c=[255,255,255,255]:typeof u.mean=="number"?c=[u.mean,u.mean,u.mean,u.mean]:(c=[u.mean[0],u.mean[1],u.mean[2],255],u.mean[3]!==void 0&&(c[3]=u.mean[3])),u===void 0||u.bias===void 0?w=[0,0,0,0]:typeof u.bias=="number"?w=[u.bias,u.bias,u.bias,u.bias]:(w=[u.bias[0],u.bias[1],u.bias[2],0],u.bias[3]!==void 0&&(w[3]=u.bias[3]));let S=n*r;if(e!==void 0&&(e.format!==void 0&&s===4&&e.format!=="RGBA"||s===3&&e.format!=="RGB"&&e.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let E=4,N=0,Z=1,H=2,nt=3,at=0,ot=S,ft=S*2,xt=-1;a==="RGBA"?(at=0,ot=S,ft=S*2,xt=S*3):a==="RGB"?(at=0,ot=S,ft=S*2):a==="RBG"&&(at=0,ft=S,ot=S*2),t=o.createImageData(r,n);for(let yt=0;yt<n*r;N+=E,Z+=E,H+=E,nt+=E,yt++)t.data[N]=(i.data[at++]-w[0])*c[0],t.data[Z]=(i.data[ot++]-w[1])*c[1],t.data[H]=(i.data[ft++]-w[2])*c[2],t.data[nt]=xt===-1?255:(i.data[xt++]-w[3])*c[3]}else throw new Error("Can not access image data");return t}});var Vu,Bc,Nc,Mc,Rc,Gc=it(()=>{"use strict";Ai();Vu=(i,e)=>{if(i===void 0)throw new Error("Image buffer must be defined");if(e.height===void 0||e.width===void 0)throw new Error("Image height and width must be defined");if(e.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:o,width:t}=e,r=e.norm??{mean:255,bias:0},n,s;typeof r.mean=="number"?n=[r.mean,r.mean,r.mean,r.mean]:n=[r.mean[0],r.mean[1],r.mean[2],r.mean[3]??255],typeof r.bias=="number"?s=[r.bias,r.bias,r.bias,r.bias]:s=[r.bias[0],r.bias[1],r.bias[2],r.bias[3]??0];let a=e.format!==void 0?e.format:"RGBA",u=e.tensorFormat!==void 0&&e.tensorFormat!==void 0?e.tensorFormat:"RGB",c=o*t,w=u==="RGBA"?new Float32Array(c*4):new Float32Array(c*3),S=4,E=0,N=1,Z=2,H=3,nt=0,at=c,ot=c*2,ft=-1;a==="RGB"&&(S=3,E=0,N=1,Z=2,H=-1),u==="RGBA"?ft=c*3:u==="RBG"?(nt=0,ot=c,at=c*2):u==="BGR"&&(ot=0,at=c,nt=c*2);for(let yt=0;yt<c;yt++,E+=S,Z+=S,N+=S,H+=S)w[nt++]=(i[E]+s[0])/n[0],w[at++]=(i[N]+s[1])/n[1],w[ot++]=(i[Z]+s[2])/n[2],ft!==-1&&H!==-1&&(w[ft++]=(i[H]+s[3])/n[3]);return u==="RGBA"?new Pe("float32",w,[1,4,o,t]):new Pe("float32",w,[1,3,o,t])},Bc=async(i,e)=>{let o=typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement,t=typeof ImageData<"u"&&i instanceof ImageData,r=typeof ImageBitmap<"u"&&i instanceof ImageBitmap,n=typeof i=="string",s,a=e??{};if(o){let u=document.createElement("canvas");u.width=i.width,u.height=i.height;let c=u.getContext("2d");if(c!=null){let w=i.height,S=i.width;if(e!==void 0&&e.resizedHeight!==void 0&&e.resizedWidth!==void 0&&(w=e.resizedHeight,S=e.resizedWidth),e!==void 0){if(a=e,e.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");a.tensorFormat="RGBA",a.height=w,a.width=S}else a.tensorFormat="RGBA",a.height=w,a.width=S;c.drawImage(i,0,0),s=c.getImageData(0,0,S,w).data}else throw new Error("Can not access image data")}else if(t){let u,c;if(e!==void 0&&e.resizedWidth!==void 0&&e.resizedHeight!==void 0?(u=e.resizedHeight,c=e.resizedWidth):(u=i.height,c=i.width),e!==void 0&&(a=e),a.format="RGBA",a.height=u,a.width=c,e!==void 0){let w=document.createElement("canvas");w.width=c,w.height=u;let S=w.getContext("2d");if(S!=null)S.putImageData(i,0,0),s=S.getImageData(0,0,c,u).data;else throw new Error("Can not access image data")}else s=i.data}else if(r){if(e===void 0)throw new Error("Please provide image config with format for Imagebitmap");let u=document.createElement("canvas");u.width=i.width,u.height=i.height;let c=u.getContext("2d");if(c!=null){let w=i.height,S=i.width;return c.drawImage(i,0,0,S,w),s=c.getImageData(0,0,S,w).data,a.height=w,a.width=S,Vu(s,a)}else throw new Error("Can not access image data")}else{if(n)return new Promise((u,c)=>{let w=document.createElement("canvas"),S=w.getContext("2d");if(!i||!S)return c();let E=new Image;E.crossOrigin="Anonymous",E.src=i,E.onload=()=>{w.width=E.width,w.height=E.height,S.drawImage(E,0,0,w.width,w.height);let N=S.getImageData(0,0,w.width,w.height);a.height=w.height,a.width=w.width,u(Vu(N.data,a))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(s!==void 0)return Vu(s,a);throw new Error("Input data provided is not supported - aborted tensor creation")},Nc=(i,e)=>{let{width:o,height:t,download:r,dispose:n}=e,s=[1,t,o,4];return new Pe({location:"texture",type:"float32",texture:i,dims:s,download:r,dispose:n})},Mc=(i,e)=>{let{dataType:o,dims:t,download:r,dispose:n}=e;return new Pe({location:"gpu-buffer",type:o??"float32",gpuBuffer:i,dims:t,download:r,dispose:n})},Rc=(i,e,o)=>new Pe({location:"cpu-pinned",type:i,data:e,dims:o??[e.length]})});var mo,Si,Uc,Wc,zc=it(()=>{"use strict";mo=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),Si=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),Uc=!1,Wc=()=>{if(!Uc){Uc=!0;let i=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",e=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";i&&(mo.set("int64",BigInt64Array),Si.set(BigInt64Array,"int64")),e&&(mo.set("uint64",BigUint64Array),Si.set(BigUint64Array,"uint64"))}}});var Hc,Vc,jc=it(()=>{"use strict";Ai();Hc=i=>{let e=1;for(let o=0;o<i.length;o++){let t=i[o];if(typeof t!="number"||!Number.isSafeInteger(t))throw new TypeError(`dims[${o}] must be an integer, got: ${t}`);if(t<0)throw new RangeError(`dims[${o}] must be a non-negative integer, got: ${t}`);e*=t}return e},Vc=(i,e)=>{switch(i.location){case"cpu":return new Pe(i.type,i.data,e);case"cpu-pinned":return new Pe({location:"cpu-pinned",data:i.data,type:i.type,dims:e});case"texture":return new Pe({location:"texture",texture:i.texture,type:i.type,dims:e});case"gpu-buffer":return new Pe({location:"gpu-buffer",gpuBuffer:i.gpuBuffer,type:i.type,dims:e});default:throw new Error(`tensorReshape: tensor location ${i.location} is not supported`)}}});var Pe,Ai=it(()=>{"use strict";$c();Gc();zc();jc();Pe=class{constructor(e,o,t){Wc();let r,n;if(typeof e=="object"&&"location"in e)switch(this.dataLocation=e.location,r=e.type,n=e.dims,e.location){case"cpu-pinned":{let a=mo.get(r);if(!a)throw new TypeError(`unsupported type "${r}" to create tensor from pinned buffer`);if(!(e.data instanceof a))throw new TypeError(`buffer should be of type ${a.name}`);this.cpuData=e.data;break}case"texture":{if(r!=="float32")throw new TypeError(`unsupported type "${r}" to create tensor from texture`);this.gpuTextureData=e.texture,this.downloader=e.download,this.disposer=e.dispose;break}case"gpu-buffer":{if(r!=="float32"&&r!=="float16"&&r!=="int32"&&r!=="int64"&&r!=="uint32"&&r!=="bool")throw new TypeError(`unsupported type "${r}" to create tensor from gpu buffer`);this.gpuBufferData=e.gpuBuffer,this.downloader=e.download,this.disposer=e.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let a,u;if(typeof e=="string")if(r=e,u=t,e==="string"){if(!Array.isArray(o))throw new TypeError("A string tensor's data must be a string array.");a=o}else{let c=mo.get(e);if(c===void 0)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(o)){if(e==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");e==="uint64"||e==="int64"?a=c.from(o,BigInt):a=c.from(o)}else if(o instanceof c)a=o;else throw new TypeError(`A ${r} tensor's data must be type of ${c}`)}else if(u=o,Array.isArray(e)){if(e.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let c=typeof e[0];if(c==="string")r="string",a=e;else if(c==="boolean")r="bool",a=Uint8Array.from(e);else throw new TypeError(`Invalid element type of data array: ${c}.`)}else{let c=Si.get(e.constructor);if(c===void 0)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);r=c,a=e}if(u===void 0)u=[a.length];else if(!Array.isArray(u))throw new TypeError("A tensor's dims must be a number array");n=u,this.cpuData=a,this.dataLocation="cpu"}let s=Hc(n);if(this.cpuData&&s!==this.cpuData.length)throw new Error(`Tensor's size(${s}) does not match data length(${this.cpuData.length}).`);this.type=r,this.dims=n,this.size=s}static async fromImage(e,o){return Bc(e,o)}static fromTexture(e,o){return Nc(e,o)}static fromGpuBuffer(e,o){return Mc(e,o)}static fromPinnedBuffer(e,o,t){return Rc(e,o,t)}toDataURL(e){return Cc(this,e)}toImageData(e){return Fc(this,e)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(e){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let o=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=o,e&&this.disposer&&(this.disposer(),this.disposer=void 0),o}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(e){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return Vc(this,e)}}});var rr,ju=it(()=>{"use strict";Ai();rr=Pe});var Pi,qc=it(()=>{"use strict";zu();ju();Pi=class i{constructor(e){this.handler=e}async run(e,o,t){let r={},n={};if(typeof e!="object"||e===null||e instanceof rr||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let s=!0;if(typeof o=="object"){if(o===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(o instanceof rr)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(o)){if(o.length===0)throw new TypeError("'fetches' cannot be an empty array.");s=!1;for(let c of o){if(typeof c!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(c)===-1)throw new RangeError(`'fetches' contains invalid output name: ${c}.`);r[c]=null}if(typeof t=="object"&&t!==null)n=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else{let c=!1,w=Object.getOwnPropertyNames(o);for(let S of this.outputNames)if(w.indexOf(S)!==-1){let E=o[S];(E===null||E instanceof rr)&&(c=!0,s=!1,r[S]=E)}if(c){if(typeof t=="object"&&t!==null)n=t;else if(typeof t<"u")throw new TypeError("'options' must be an object.")}else n=o}}else if(typeof o<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let c of this.inputNames)if(typeof e[c]>"u")throw new Error(`input '${c}' is missing in 'feeds'.`);if(s)for(let c of this.outputNames)r[c]=null;let a=await this.handler.run(e,r,n),u={};for(let c in a)if(Object.hasOwnProperty.call(a,c)){let w=a[c];w instanceof rr?u[c]=w:u[c]=new rr(w.type,w.data,w.dims)}return u}async release(){return this.handler.dispose()}static async create(e,o,t,r){let n,s={};if(typeof e=="string"){if(n=e,typeof o=="object"&&o!==null)s=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(n=e,typeof o=="object"&&o!==null)s=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer){let S=e,E=0,N=e.byteLength;if(typeof o=="object"&&o!==null)s=o;else if(typeof o=="number"){if(E=o,!Number.isSafeInteger(E))throw new RangeError("'byteOffset' must be an integer.");if(E<0||E>=S.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${S.byteLength}).`);if(N=e.byteLength-E,typeof t=="number"){if(N=t,!Number.isSafeInteger(N))throw new RangeError("'byteLength' must be an integer.");if(N<=0||E+N>S.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${S.byteLength-E}].`);if(typeof r=="object"&&r!==null)s=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(typeof t<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof o<"u")throw new TypeError("'options' must be an object.");n=new Uint8Array(S,E,N)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let u=(s.executionProviders||[]).map(S=>typeof S=="string"?S:S.name),w=await(await Ac(u)).createInferenceSessionHandler(n,s);return new i(w)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var oT,Yc=it(()=>{"use strict";qc();oT=Pi});var Kc=it(()=>{"use strict"});var Ei,Xc=it(()=>{"use strict";Ei=class{constructor(e){this.handler=e}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}static async create(e,o){throw new Error("Method not implemented")}async loadParametersBuffer(e,o){throw new Error("Method not implemented.")}async getContiguousParameters(e){throw new Error("Method not implemented.")}async runTrainStep(e,o,t){throw new Error("Method not implemented.")}async release(){return this.handler.dispose()}}});var uT,Jc=it(()=>{"use strict";Xc();uT=Ei});var dr=it(()=>{"use strict";Sc();Lc();Yc();ju();Kc();Jc()});function Fr(i,e,o,t){if(e===void 0)return Wg(i);if(o===void 0)Di(i,e,1);else if(typeof o=="number"&&t===void 0)Di(i,e,o);else if(typeof o=="string"&&t===void 0)Di(i,o,1,e);else if(typeof o=="string"&&typeof t=="number")Di(i,o,t,e);else throw new TypeError("input is valid")}function Wg(i){return{verbose:Fr.verbose.bind(null,i),info:Fr.info.bind(null,i),warning:Fr.warning.bind(null,i),error:Fr.error.bind(null,i),fatal:Fr.fatal.bind(null,i)}}function Di(i,e,o,t){let r=yo[t||""]||yo[""];Qc[i]<Qc[r.minimalSeverity]||(r.logDateTime&&(e=`${new Date().toISOString()}|${e}`),r.logSourceLocation,Ug[r.provider].log(i,e,t))}var qu,Yu,Qc,Ug,tl,yo,Ut,Li,Ci,Fi,ki,We=it(()=>{"use strict";qu=class{log(e,o,t){}},Yu=class{log(e,o,t){console.log(`${this.color(e)} ${t?"\x1B[35m"+t+"\x1B[0m ":""}${o}`)}color(e){switch(e){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${e}`)}}},Qc={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},Ug={none:new qu,console:new Yu},tl={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1},yo={"":tl};(u=>{function i(c,w){u("verbose",c,w)}u.verbose=i;function e(c,w){u("info",c,w)}u.info=e;function o(c,w){u("warning",c,w)}u.warning=o;function t(c,w){u("error",c,w)}u.error=t;function r(c,w){u("fatal",c,w)}u.fatal=r;function n(c){yo={},s("",c||{})}u.reset=n;function s(c,w){if(c==="*")n(w);else{let S=yo[c]||tl;yo[c]={provider:w.provider||S.provider,minimalSeverity:w.minimalSeverity||S.minimalSeverity,logDateTime:w.logDateTime===void 0?S.logDateTime:w.logDateTime,logSourceLocation:w.logSourceLocation===void 0?S.logSourceLocation:w.logSourceLocation}}}u.set=s;function a(c){let w={};c.logLevel&&(w.minimalSeverity=c.logLevel),s("",w)}u.setWithEnv=a})(Fr||={});Ut=Fr,Li=class{constructor(e,o,t,r,n,s){this.category=e;this.name=o;this.startTime=t;this.endCallback=r;this.timer=n;this.ctx=s}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}},Ci=class{constructor(e,o,t,r){this.category=e;this.name=o;this.startTime=t;this.endTime=r}},Fi=class{constructor(e,o,t){this._started=!1;this._flushPointer=0;this._started=!1,this._maxNumberEvents=e===void 0?1e4:e,this._flushBatchSize=o===void 0?10:o,this._flushIntervalInMilliseconds=t===void 0?5e3:t}static create(e){return e===void 0?new this:new this(e.maxNumberEvents,e.flushBatchSize,e.flushIntervalInMilliseconds)}start(){this._started=!0,this._timingEvents=[],this._flushTime=ki(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(e,o,t,r){let n=this._started?this.begin(e,o,r):void 0,s=!1,a=t();if(a&&typeof a.then=="function")return s=!0,new Promise((u,c)=>{a.then(async w=>{n&&await n.end(),u(w)},async w=>{n&&await n.end(),c(w)})});if(!s&&n){let u=n.end();if(u&&typeof u.then=="function")return new Promise((c,w)=>{u.then(()=>{c(a)},S=>{w(S)})})}return a}begin(e,o,t){if(!this._started)throw new Error("profiler is not started yet");if(t===void 0){let r=ki();return this.flush(r),new Li(e,o,r,n=>this.endSync(n))}else{let r=t.beginTimer();return new Li(e,o,0,async n=>this.end(n),r,t)}}async end(e){let o=await e.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Ci(e.category,e.name,e.startTime,o)),this.flush(o))}endSync(e){let o=ki();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new Ci(e.category,e.name,e.startTime,o)),this.flush(o))}logOneEvent(e){Ut.verbose(`Profiler.${e.category}`,`${(e.endTime-e.startTime).toFixed(2)}ms on event '${e.name}' at ${e.endTime.toFixed(2)}`)}flush(e){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||e-this._flushTime>=this._flushIntervalInMilliseconds){for(let o=this._flushPointer;this._flushPointer<o+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=ki()}}get started(){return this._started}},ki=typeof performance<"u"&&performance.now?()=>performance.now():Date.now});function el(i,e,o){for(let t of o){let r=t[0],n=t[1],s=t[2],a=t[3],u=t[4];if(i.opType===r){for(let c of e)if((c.domain===n||c.domain==="ai.onnx"&&n==="")&&zg(c.version,s))return{opImpl:a,opInit:u}}}throw new TypeError(`cannot resolve operator '${i.opType}' with opsets: ${e.map(t=>`${t.domain||"ai.onnx"} v${t.version}`).join(", ")}`)}function zg(i,e){if(e.endsWith("+")){let o=Number.parseInt(e.substring(0,e.length-1),10);return!isNaN(o)&&o<=i}else if(e.split("-").length===2){let o=e.split("-"),t=Number.parseInt(o[0],10),r=Number.parseInt(o[1],10);return!isNaN(t)&&!isNaN(r)&&t<=i&&i<=r}else return Number.parseInt(e,10)===i}var rl=it(()=>{"use strict"});var nl=qt(Ku=>{"use strict";Ku.__esModule=!0;var Hg=function(){function i(e){if(!e)throw new TypeError("Invalid argument; `value` has no value.");this.value=i.EMPTY,e&&i.isGuid(e)&&(this.value=e)}return i.isGuid=function(e){var o=e.toString();return e&&(e instanceof i||i.validator.test(o))},i.create=function(){return new i([i.gen(2),i.gen(1),i.gen(1),i.gen(1),i.gen(3)].join("-"))},i.createEmpty=function(){return new i("emptyguid")},i.parse=function(e){return new i(e)},i.raw=function(){return[i.gen(2),i.gen(1),i.gen(1),i.gen(1),i.gen(3)].join("-")},i.gen=function(e){for(var o="",t=0;t<e;t++)o+=((1+Math.random())*65536|0).toString(16).substring(1);return o},i.prototype.equals=function(e){return i.isGuid(e)&&this.value===e.toString()},i.prototype.isEmpty=function(){return this.value===i.EMPTY},i.prototype.toString=function(){return this.value},i.prototype.toJSON=function(){return{value:this.value}},i.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),i.EMPTY="00000000-0000-0000-0000-000000000000",i}();Ku.Guid=Hg});function Yt(i,e,o){this.low=i|0,this.high=e|0,this.unsigned=!!o}function _e(i){return(i&&i.__isLong__)===!0}function ol(i){var e=Math.clz32(i&-i);return i?31-e:e}function Zr(i,e){var o,t,r;return e?(i>>>=0,(r=0<=i&&i<256)&&(t=al[i],t)?t:(o=Rt(i,0,!0),r&&(al[i]=o),o)):(i|=0,(r=-128<=i&&i<128)&&(t=il[i],t)?t:(o=Rt(i,i<0?-1:0,!1),r&&(il[i]=o),o))}function He(i,e){if(isNaN(i))return e?Or:nr;if(e){if(i<0)return Or;if(i>=cl)return pl}else{if(i<=-ul)return $e;if(i+1>=ul)return dl}return i<0?He(-i,e).neg():Rt(i%Ln|0,i/Ln|0,e)}function Rt(i,e,o){return new Yt(i,e,o)}function Ju(i,e,o){if(i.length===0)throw Error("empty string");if(typeof e=="number"?(o=e,e=!1):e=!!e,i==="NaN"||i==="Infinity"||i==="+Infinity"||i==="-Infinity")return e?Or:nr;if(o=o||10,o<2||36<o)throw RangeError("radix");var t;if((t=i.indexOf("-"))>0)throw Error("interior hyphen");if(t===0)return Ju(i.substring(1),e,o).neg();for(var r=He($i(o,8)),n=nr,s=0;s<i.length;s+=8){var a=Math.min(8,i.length-s),u=parseInt(i.substring(s,s+a),o);if(a<8){var c=He($i(o,a));n=n.mul(c).add(He(u))}else n=n.mul(r),n=n.add(He(u))}return n.unsigned=e,n}function or(i,e){return typeof i=="number"?He(i,e):typeof i=="string"?Ju(i,e):Rt(i.low,i.high,typeof e=="boolean"?e:i.unsigned)}var ze,il,al,$i,sl,Vg,Ln,cl,ul,fl,nr,Or,kn,ll,Xu,dl,pl,$e,ut,Ir,Zu=it(()=>{ze=null;try{ze=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}Yt.prototype.__isLong__;Object.defineProperty(Yt.prototype,"__isLong__",{value:!0});Yt.isLong=_e;il={},al={};Yt.fromInt=Zr;Yt.fromNumber=He;Yt.fromBits=Rt;$i=Math.pow;Yt.fromString=Ju;Yt.fromValue=or;sl=65536,Vg=1<<24,Ln=sl*sl,cl=Ln*Ln,ul=cl/2,fl=Zr(Vg),nr=Zr(0);Yt.ZERO=nr;Or=Zr(0,!0);Yt.UZERO=Or;kn=Zr(1);Yt.ONE=kn;ll=Zr(1,!0);Yt.UONE=ll;Xu=Zr(-1);Yt.NEG_ONE=Xu;dl=Rt(-1,2147483647,!1);Yt.MAX_VALUE=dl;pl=Rt(-1,-1,!0);Yt.MAX_UNSIGNED_VALUE=pl;$e=Rt(0,-2147483648,!1);Yt.MIN_VALUE=$e;ut=Yt.prototype;ut.toInt=function(){return this.unsigned?this.low>>>0:this.low};ut.toNumber=function(){return this.unsigned?(this.high>>>0)*Ln+(this.low>>>0):this.high*Ln+(this.low>>>0)};ut.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq($e)){var o=He(e),t=this.div(o),r=t.mul(o).sub(this);return t.toString(e)+r.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var n=He($i(e,6),this.unsigned),s=this,a="";;){var u=s.div(n),c=s.sub(u.mul(n)).toInt()>>>0,w=c.toString(e);if(s=u,s.isZero())return w+a;for(;w.length<6;)w="0"+w;a=""+w+a}};ut.getHighBits=function(){return this.high};ut.getHighBitsUnsigned=function(){return this.high>>>0};ut.getLowBits=function(){return this.low};ut.getLowBitsUnsigned=function(){return this.low>>>0};ut.getNumBitsAbs=function(){if(this.isNegative())return this.eq($e)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,o=31;o>0&&!(e&1<<o);o--);return this.high!=0?o+33:o+1};ut.isZero=function(){return this.high===0&&this.low===0};ut.eqz=ut.isZero;ut.isNegative=function(){return!this.unsigned&&this.high<0};ut.isPositive=function(){return this.unsigned||this.high>=0};ut.isOdd=function(){return(this.low&1)===1};ut.isEven=function(){return(this.low&1)===0};ut.equals=function(e){return _e(e)||(e=or(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};ut.eq=ut.equals;ut.notEquals=function(e){return!this.eq(e)};ut.neq=ut.notEquals;ut.ne=ut.notEquals;ut.lessThan=function(e){return this.comp(e)<0};ut.lt=ut.lessThan;ut.lessThanOrEqual=function(e){return this.comp(e)<=0};ut.lte=ut.lessThanOrEqual;ut.le=ut.lessThanOrEqual;ut.greaterThan=function(e){return this.comp(e)>0};ut.gt=ut.greaterThan;ut.greaterThanOrEqual=function(e){return this.comp(e)>=0};ut.gte=ut.greaterThanOrEqual;ut.ge=ut.greaterThanOrEqual;ut.compare=function(e){if(_e(e)||(e=or(e)),this.eq(e))return 0;var o=this.isNegative(),t=e.isNegative();return o&&!t?-1:!o&&t?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};ut.comp=ut.compare;ut.negate=function(){return!this.unsigned&&this.eq($e)?$e:this.not().add(kn)};ut.neg=ut.negate;ut.add=function(e){_e(e)||(e=or(e));var o=this.high>>>16,t=this.high&65535,r=this.low>>>16,n=this.low&65535,s=e.high>>>16,a=e.high&65535,u=e.low>>>16,c=e.low&65535,w=0,S=0,E=0,N=0;return N+=n+c,E+=N>>>16,N&=65535,E+=r+u,S+=E>>>16,E&=65535,S+=t+a,w+=S>>>16,S&=65535,w+=o+s,w&=65535,Rt(E<<16|N,w<<16|S,this.unsigned)};ut.subtract=function(e){return _e(e)||(e=or(e)),this.add(e.neg())};ut.sub=ut.subtract;ut.multiply=function(e){if(this.isZero())return this;if(_e(e)||(e=or(e)),ze){var o=ze.mul(this.low,this.high,e.low,e.high);return Rt(o,ze.get_high(),this.unsigned)}if(e.isZero())return this.unsigned?Or:nr;if(this.eq($e))return e.isOdd()?$e:nr;if(e.eq($e))return this.isOdd()?$e:nr;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(fl)&&e.lt(fl))return He(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=this.high&65535,n=this.low>>>16,s=this.low&65535,a=e.high>>>16,u=e.high&65535,c=e.low>>>16,w=e.low&65535,S=0,E=0,N=0,Z=0;return Z+=s*w,N+=Z>>>16,Z&=65535,N+=n*w,E+=N>>>16,N&=65535,N+=s*c,E+=N>>>16,N&=65535,E+=r*w,S+=E>>>16,E&=65535,E+=n*c,S+=E>>>16,E&=65535,E+=s*u,S+=E>>>16,E&=65535,S+=t*w+r*c+n*u+s*a,S&=65535,Rt(N<<16|Z,S<<16|E,this.unsigned)};ut.mul=ut.multiply;ut.divide=function(e){if(_e(e)||(e=or(e)),e.isZero())throw Error("division by zero");if(ze){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var o=(this.unsigned?ze.div_u:ze.div_s)(this.low,this.high,e.low,e.high);return Rt(o,ze.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Or:nr;var t,r,n;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Or;if(e.gt(this.shru(1)))return ll;n=Or}else{if(this.eq($e)){if(e.eq(kn)||e.eq(Xu))return $e;if(e.eq($e))return kn;var s=this.shr(1);return t=s.div(e).shl(1),t.eq(nr)?e.isNegative()?kn:Xu:(r=this.sub(e.mul(t)),n=t.add(r.div(e)),n)}else if(e.eq($e))return this.unsigned?Or:nr;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=nr}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),u=a<=48?1:$i(2,a-48),c=He(t),w=c.mul(e);w.isNegative()||w.gt(r);)t-=u,c=He(t,this.unsigned),w=c.mul(e);c.isZero()&&(c=kn),n=n.add(c),r=r.sub(w)}return n};ut.div=ut.divide;ut.modulo=function(e){if(_e(e)||(e=or(e)),ze){var o=(this.unsigned?ze.rem_u:ze.rem_s)(this.low,this.high,e.low,e.high);return Rt(o,ze.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};ut.mod=ut.modulo;ut.rem=ut.modulo;ut.not=function(){return Rt(~this.low,~this.high,this.unsigned)};ut.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};ut.clz=ut.countLeadingZeros;ut.countTrailingZeros=function(){return this.low?ol(this.low):ol(this.high)+32};ut.ctz=ut.countTrailingZeros;ut.and=function(e){return _e(e)||(e=or(e)),Rt(this.low&e.low,this.high&e.high,this.unsigned)};ut.or=function(e){return _e(e)||(e=or(e)),Rt(this.low|e.low,this.high|e.high,this.unsigned)};ut.xor=function(e){return _e(e)||(e=or(e)),Rt(this.low^e.low,this.high^e.high,this.unsigned)};ut.shiftLeft=function(e){return _e(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Rt(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Rt(0,this.low<<e-32,this.unsigned)};ut.shl=ut.shiftLeft;ut.shiftRight=function(e){return _e(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Rt(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Rt(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};ut.shr=ut.shiftRight;ut.shiftRightUnsigned=function(e){return _e(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Rt(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?Rt(this.high,0,this.unsigned):Rt(this.high>>>e-32,0,this.unsigned)};ut.shru=ut.shiftRightUnsigned;ut.shr_u=ut.shiftRightUnsigned;ut.rotateLeft=function(e){var o;return _e(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Rt(this.high,this.low,this.unsigned):e<32?(o=32-e,Rt(this.low<<e|this.high>>>o,this.high<<e|this.low>>>o,this.unsigned)):(e-=32,o=32-e,Rt(this.high<<e|this.low>>>o,this.low<<e|this.high>>>o,this.unsigned))};ut.rotl=ut.rotateLeft;ut.rotateRight=function(e){var o;return _e(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?Rt(this.high,this.low,this.unsigned):e<32?(o=32-e,Rt(this.high<<o|this.low>>>e,this.low<<o|this.high>>>e,this.unsigned)):(e-=32,o=32-e,Rt(this.low<<o|this.high>>>e,this.high<<o|this.low>>>e,this.unsigned))};ut.rotr=ut.rotateRight;ut.toSigned=function(){return this.unsigned?Rt(this.low,this.high,!1):this};ut.toUnsigned=function(){return this.unsigned?this:Rt(this.low,this.high,!0)};ut.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};ut.toBytesLE=function(){var e=this.high,o=this.low;return[o&255,o>>>8&255,o>>>16&255,o>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};ut.toBytesBE=function(){var e=this.high,o=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,o>>>24,o>>>16&255,o>>>8&255,o&255]};Yt.fromBytes=function(e,o,t){return t?Yt.fromBytesLE(e,o):Yt.fromBytesBE(e,o)};Yt.fromBytesLE=function(e,o){return new Yt(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,o)};Yt.fromBytesBE=function(e,o){return new Yt(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],o)};Ir=Yt});var q,Bi=it(()=>{q={};q.Offset;q.Table;q.SIZEOF_SHORT=2;q.SIZEOF_INT=4;q.FILE_IDENTIFIER_LENGTH=4;q.SIZE_PREFIX_LENGTH=4;q.Encoding={UTF8_BYTES:1,UTF16_STRING:2};q.int32=new Int32Array(2);q.float32=new Float32Array(q.int32.buffer);q.float64=new Float64Array(q.int32.buffer);q.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;q.Long=function(i,e){this.low=i|0,this.high=e|0};q.Long.create=function(i,e){return i==0&&e==0?q.Long.ZERO:new q.Long(i,e)};q.Long.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296};q.Long.prototype.equals=function(i){return this.low==i.low&&this.high==i.high};q.Long.ZERO=new q.Long(0,0);q.Builder=function(i){if(i)var e=i;else var e=1024;this.bb=q.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};q.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};q.Builder.prototype.forceDefaults=function(i){this.force_defaults=i};q.Builder.prototype.dataBuffer=function(){return this.bb};q.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())};q.Builder.prototype.prep=function(i,e){i>this.minalign&&(this.minalign=i);for(var o=~(this.bb.capacity()-this.space+e)+1&i-1;this.space<o+i+e;){var t=this.bb.capacity();this.bb=q.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(o)};q.Builder.prototype.pad=function(i){for(var e=0;e<i;e++)this.bb.writeInt8(--this.space,0)};q.Builder.prototype.writeInt8=function(i){this.bb.writeInt8(this.space-=1,i)};q.Builder.prototype.writeInt16=function(i){this.bb.writeInt16(this.space-=2,i)};q.Builder.prototype.writeInt32=function(i){this.bb.writeInt32(this.space-=4,i)};q.Builder.prototype.writeInt64=function(i){this.bb.writeInt64(this.space-=8,i)};q.Builder.prototype.writeFloat32=function(i){this.bb.writeFloat32(this.space-=4,i)};q.Builder.prototype.writeFloat64=function(i){this.bb.writeFloat64(this.space-=8,i)};q.Builder.prototype.addInt8=function(i){this.prep(1,0),this.writeInt8(i)};q.Builder.prototype.addInt16=function(i){this.prep(2,0),this.writeInt16(i)};q.Builder.prototype.addInt32=function(i){this.prep(4,0),this.writeInt32(i)};q.Builder.prototype.addInt64=function(i){this.prep(8,0),this.writeInt64(i)};q.Builder.prototype.addFloat32=function(i){this.prep(4,0),this.writeFloat32(i)};q.Builder.prototype.addFloat64=function(i){this.prep(8,0),this.writeFloat64(i)};q.Builder.prototype.addFieldInt8=function(i,e,o){(this.force_defaults||e!=o)&&(this.addInt8(e),this.slot(i))};q.Builder.prototype.addFieldInt16=function(i,e,o){(this.force_defaults||e!=o)&&(this.addInt16(e),this.slot(i))};q.Builder.prototype.addFieldInt32=function(i,e,o){(this.force_defaults||e!=o)&&(this.addInt32(e),this.slot(i))};q.Builder.prototype.addFieldInt64=function(i,e,o){(this.force_defaults||!e.equals(o))&&(this.addInt64(e),this.slot(i))};q.Builder.prototype.addFieldFloat32=function(i,e,o){(this.force_defaults||e!=o)&&(this.addFloat32(e),this.slot(i))};q.Builder.prototype.addFieldFloat64=function(i,e,o){(this.force_defaults||e!=o)&&(this.addFloat64(e),this.slot(i))};q.Builder.prototype.addFieldOffset=function(i,e,o){(this.force_defaults||e!=o)&&(this.addOffset(e),this.slot(i))};q.Builder.prototype.addFieldStruct=function(i,e,o){e!=o&&(this.nested(e),this.slot(i))};q.Builder.prototype.nested=function(i){if(i!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")};q.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")};q.Builder.prototype.slot=function(i){this.vtable[i]=this.offset()};q.Builder.prototype.offset=function(){return this.bb.capacity()-this.space};q.Builder.growByteBuffer=function(i){var e=i.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var o=e<<1,t=q.ByteBuffer.allocate(o);return t.setPosition(o-e),t.bytes().set(i.bytes(),o-e),t};q.Builder.prototype.addOffset=function(i){this.prep(q.SIZEOF_INT,0),this.writeInt32(this.offset()-i+q.SIZEOF_INT)};q.Builder.prototype.startObject=function(i){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=i;for(var e=0;e<i;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()};q.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var i=this.offset(),e=this.vtable_in_use-1;e>=0&&this.vtable[e]==0;e--);for(var o=e+1;e>=0;e--)this.addInt16(this.vtable[e]!=0?i-this.vtable[e]:0);var t=2;this.addInt16(i-this.object_start);var r=(o+t)*q.SIZEOF_SHORT;this.addInt16(r);var n=0,s=this.space;t:for(e=0;e<this.vtables.length;e++){var a=this.bb.capacity()-this.vtables[e];if(r==this.bb.readInt16(a)){for(var u=q.SIZEOF_SHORT;u<r;u+=q.SIZEOF_SHORT)if(this.bb.readInt16(s+u)!=this.bb.readInt16(a+u))continue t;n=this.vtables[e];break}}return n?(this.space=this.bb.capacity()-i,this.bb.writeInt32(this.space,n-i)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-i,this.offset()-i)),this.isNested=!1,i};q.Builder.prototype.finish=function(i,e,o){var t=o?q.SIZE_PREFIX_LENGTH:0;if(e){var r=e;if(this.prep(this.minalign,q.SIZEOF_INT+q.FILE_IDENTIFIER_LENGTH+t),r.length!=q.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+q.FILE_IDENTIFIER_LENGTH);for(var n=q.FILE_IDENTIFIER_LENGTH-1;n>=0;n--)this.writeInt8(r.charCodeAt(n))}this.prep(this.minalign,q.SIZEOF_INT+t),this.addOffset(i),t&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)};q.Builder.prototype.finishSizePrefixed=function(i,e){this.finish(i,e,!0)};q.Builder.prototype.requiredField=function(i,e){var o=this.bb.capacity()-i,t=o-this.bb.readInt32(o),r=this.bb.readInt16(t+e)!=0;if(!r)throw new Error("FlatBuffers: field "+e+" must be set")};q.Builder.prototype.startVector=function(i,e,o){this.notNested(),this.vector_num_elems=e,this.prep(q.SIZEOF_INT,i*e),this.prep(o,i*e)};q.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()};q.Builder.prototype.createString=function(i){if(i instanceof Uint8Array)var e=i;else for(var e=[],o=0;o<i.length;){var t,r=i.charCodeAt(o++);if(r<55296||r>=56320)t=r;else{var n=i.charCodeAt(o++);t=(r<<10)+n+(65536-56623104-56320)}t<128?e.push(t):(t<2048?e.push(t>>6&31|192):(t<65536?e.push(t>>12&15|224):e.push(t>>18&7|240,t>>12&63|128),e.push(t>>6&63|128)),e.push(t&63|128))}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(var o=0,s=this.space,a=this.bb.bytes();o<e.length;o++)a[s++]=e[o];return this.endVector()};q.Builder.prototype.createLong=function(i,e){return q.Long.create(i,e)};q.ByteBuffer=function(i){this.bytes_=i,this.position_=0};q.ByteBuffer.allocate=function(i){return new q.ByteBuffer(new Uint8Array(i))};q.ByteBuffer.prototype.clear=function(){this.position_=0};q.ByteBuffer.prototype.bytes=function(){return this.bytes_};q.ByteBuffer.prototype.position=function(){return this.position_};q.ByteBuffer.prototype.setPosition=function(i){this.position_=i};q.ByteBuffer.prototype.capacity=function(){return this.bytes_.length};q.ByteBuffer.prototype.readInt8=function(i){return this.readUint8(i)<<24>>24};q.ByteBuffer.prototype.readUint8=function(i){return this.bytes_[i]};q.ByteBuffer.prototype.readInt16=function(i){return this.readUint16(i)<<16>>16};q.ByteBuffer.prototype.readUint16=function(i){return this.bytes_[i]|this.bytes_[i+1]<<8};q.ByteBuffer.prototype.readInt32=function(i){return this.bytes_[i]|this.bytes_[i+1]<<8|this.bytes_[i+2]<<16|this.bytes_[i+3]<<24};q.ByteBuffer.prototype.readUint32=function(i){return this.readInt32(i)>>>0};q.ByteBuffer.prototype.readInt64=function(i){return new q.Long(this.readInt32(i),this.readInt32(i+4))};q.ByteBuffer.prototype.readUint64=function(i){return new q.Long(this.readUint32(i),this.readUint32(i+4))};q.ByteBuffer.prototype.readFloat32=function(i){return q.int32[0]=this.readInt32(i),q.float32[0]};q.ByteBuffer.prototype.readFloat64=function(i){return q.int32[q.isLittleEndian?0:1]=this.readInt32(i),q.int32[q.isLittleEndian?1:0]=this.readInt32(i+4),q.float64[0]};q.ByteBuffer.prototype.writeInt8=function(i,e){this.bytes_[i]=e};q.ByteBuffer.prototype.writeUint8=function(i,e){this.bytes_[i]=e};q.ByteBuffer.prototype.writeInt16=function(i,e){this.bytes_[i]=e,this.bytes_[i+1]=e>>8};q.ByteBuffer.prototype.writeUint16=function(i,e){this.bytes_[i]=e,this.bytes_[i+1]=e>>8};q.ByteBuffer.prototype.writeInt32=function(i,e){this.bytes_[i]=e,this.bytes_[i+1]=e>>8,this.bytes_[i+2]=e>>16,this.bytes_[i+3]=e>>24};q.ByteBuffer.prototype.writeUint32=function(i,e){this.bytes_[i]=e,this.bytes_[i+1]=e>>8,this.bytes_[i+2]=e>>16,this.bytes_[i+3]=e>>24};q.ByteBuffer.prototype.writeInt64=function(i,e){this.writeInt32(i,e.low),this.writeInt32(i+4,e.high)};q.ByteBuffer.prototype.writeUint64=function(i,e){this.writeUint32(i,e.low),this.writeUint32(i+4,e.high)};q.ByteBuffer.prototype.writeFloat32=function(i,e){q.float32[0]=e,this.writeInt32(i,q.int32[0])};q.ByteBuffer.prototype.writeFloat64=function(i,e){q.float64[0]=e,this.writeInt32(i,q.int32[q.isLittleEndian?0:1]),this.writeInt32(i+4,q.int32[q.isLittleEndian?1:0])};q.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+q.SIZEOF_INT+q.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var i="",e=0;e<q.FILE_IDENTIFIER_LENGTH;e++)i+=String.fromCharCode(this.readInt8(this.position_+q.SIZEOF_INT+e));return i};q.ByteBuffer.prototype.__offset=function(i,e){var o=i-this.readInt32(i);return e<this.readInt16(o)?this.readInt16(o+e):0};q.ByteBuffer.prototype.__union=function(i,e){return i.bb_pos=e+this.readInt32(e),i.bb=this,i};q.ByteBuffer.prototype.__string=function(i,e){i+=this.readInt32(i);var o=this.readInt32(i),t="",r=0;if(i+=q.SIZEOF_INT,e===q.Encoding.UTF8_BYTES)return this.bytes_.subarray(i,i+o);for(;r<o;){var n,s=this.readUint8(i+r++);if(s<192)n=s;else{var a=this.readUint8(i+r++);if(s<224)n=(s&31)<<6|a&63;else{var u=this.readUint8(i+r++);if(s<240)n=(s&15)<<12|(a&63)<<6|u&63;else{var c=this.readUint8(i+r++);n=(s&7)<<18|(a&63)<<12|(u&63)<<6|c&63}}}n<65536?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1024-1)+56320))}return t};q.ByteBuffer.prototype.__indirect=function(i){return i+this.readInt32(i)};q.ByteBuffer.prototype.__vector=function(i){return i+this.readInt32(i)+q.SIZEOF_INT};q.ByteBuffer.prototype.__vector_len=function(i){return this.readInt32(i+this.readInt32(i))};q.ByteBuffer.prototype.__has_identifier=function(i){if(i.length!=q.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+q.FILE_IDENTIFIER_LENGTH);for(var e=0;e<q.FILE_IDENTIFIER_LENGTH;e++)if(i.charCodeAt(e)!=this.readInt8(this.position_+q.SIZEOF_INT+e))return!1;return!0};q.ByteBuffer.prototype.createLong=function(i,e){return q.Long.create(i,e)}});var bt,go=it(()=>{"use strict";Bi();(e=>{let i;(t=>{let o;(n=>{let r;(ft=>(ft[ft.UNDEFINED=0]="UNDEFINED",ft[ft.FLOAT=1]="FLOAT",ft[ft.INT=2]="INT",ft[ft.STRING=3]="STRING",ft[ft.TENSOR=4]="TENSOR",ft[ft.GRAPH=5]="GRAPH",ft[ft.FLOATS=6]="FLOATS",ft[ft.INTS=7]="INTS",ft[ft.STRINGS=8]="STRINGS",ft[ft.TENSORS=9]="TENSORS",ft[ft.GRAPHS=10]="GRAPHS",ft[ft.SPARSE_TENSOR=11]="SPARSE_TENSOR",ft[ft.SPARSE_TENSORS=12]="SPARSE_TENSORS"))(r=n.AttributeType||={})})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{let r;(c=>(c[c.UNKNOWN=0]="UNKNOWN",c[c.VALUE=1]="VALUE",c[c.PARAM=2]="PARAM"))(r=n.DimensionValueType||={})})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{let r;(_t=>(_t[_t.UNDEFINED=0]="UNDEFINED",_t[_t.FLOAT=1]="FLOAT",_t[_t.UINT8=2]="UINT8",_t[_t.INT8=3]="INT8",_t[_t.UINT16=4]="UINT16",_t[_t.INT16=5]="INT16",_t[_t.INT32=6]="INT32",_t[_t.INT64=7]="INT64",_t[_t.STRING=8]="STRING",_t[_t.BOOL=9]="BOOL",_t[_t.FLOAT16=10]="FLOAT16",_t[_t.DOUBLE=11]="DOUBLE",_t[_t.UINT32=12]="UINT32",_t[_t.UINT64=13]="UINT64",_t[_t.COMPLEX64=14]="COMPLEX64",_t[_t.COMPLEX128=15]="COMPLEX128",_t[_t.BFLOAT16=16]="BFLOAT16",_t[_t.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",_t[_t.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",_t[_t.FLOAT8E5M2=19]="FLOAT8E5M2",_t[_t.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"))(r=n.TensorDataType||={})})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{let r;(u=>(u[u.Primitive=0]="Primitive",u[u.Fused=1]="Fused"))(r=n.NodeType||={})})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{let r;(w=>(w[w.NONE=0]="NONE",w[w.tensor_type=1]="tensor_type",w[w.sequence_type=2]="sequence_type",w[w.map_type=3]="map_type"))(r=n.TypeInfoValue||={})})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsShape(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsShape(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}dim(a,u){let c=this.bb.__offset(this.bb_pos,4);return c?(u||new e.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}dimLength(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0}static startShape(a){a.startObject(1)}static addDim(a,u){a.addFieldOffset(0,u,0)}static createDimVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startDimVector(a,u){a.startVector(4,u,4)}static endShape(a){return a.endObject()}static createShape(a,u){return r.startShape(a),r.addDim(a,u),r.endShape(a)}}n.Shape=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsDimension(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsDimension(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}value(a){let u=this.bb.__offset(this.bb_pos,4);return u?(a||new e.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}denotation(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}static startDimension(a){a.startObject(2)}static addValue(a,u){a.addFieldOffset(0,u,0)}static addDenotation(a,u){a.addFieldOffset(1,u,0)}static endDimension(a){return a.endObject()}static createDimension(a,u,c){return r.startDimension(a),r.addValue(a,u),r.addDenotation(a,c),r.endDimension(a)}}n.Dimension=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsDimensionValue(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsDimensionValue(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}dimType(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):0}dimValue(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}dimParam(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__string(this.bb_pos+u,a):null}static startDimensionValue(a){a.startObject(3)}static addDimType(a,u){a.addFieldInt8(0,u,0)}static addDimValue(a,u){a.addFieldInt64(1,u,a.createLong(0,0))}static addDimParam(a,u){a.addFieldOffset(2,u,0)}static endDimensionValue(a){return a.endObject()}static createDimensionValue(a,u,c,w){return r.startDimensionValue(a),r.addDimType(a,u),r.addDimValue(a,c),r.addDimParam(a,w),r.endDimensionValue(a)}}n.DimensionValue=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsTensorTypeAndShape(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsTensorTypeAndShape(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}elemType(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0}shape(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new e.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startTensorTypeAndShape(a){a.startObject(2)}static addElemType(a,u){a.addFieldInt32(0,u,0)}static addShape(a,u){a.addFieldOffset(1,u,0)}static endTensorTypeAndShape(a){return a.endObject()}static createTensorTypeAndShape(a,u,c){return r.startTensorTypeAndShape(a),r.addElemType(a,u),r.addShape(a,c),r.endTensorTypeAndShape(a)}}n.TensorTypeAndShape=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsMapType(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsMapType(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}keyType(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0}valueType(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startMapType(a){a.startObject(2)}static addKeyType(a,u){a.addFieldInt32(0,u,0)}static addValueType(a,u){a.addFieldOffset(1,u,0)}static endMapType(a){return a.endObject()}static createMapType(a,u,c){return r.startMapType(a),r.addKeyType(a,u),r.addValueType(a,c),r.endMapType(a)}}n.MapType=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsSequenceType(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsSequenceType(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}elemType(a){let u=this.bb.__offset(this.bb_pos,4);return u?(a||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startSequenceType(a){a.startObject(1)}static addElemType(a,u){a.addFieldOffset(0,u,0)}static endSequenceType(a){return a.endObject()}static createSequenceType(a,u){return r.startSequenceType(a),r.addElemType(a,u),r.endSequenceType(a)}}n.SequenceType=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(a,u,c,w){return a.prep(4,12),a.writeInt32(w),a.writeInt32(c),a.writeInt32(u),a.offset()}}n.EdgeEnd=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsNodeEdge(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsNodeEdge(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}nodeIndex(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readUint32(this.bb_pos+a):0}inputEdges(a,u){let c=this.bb.__offset(this.bb_pos,6);return c?(u||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+c)+a*12,this.bb):null}inputEdgesLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}outputEdges(a,u){let c=this.bb.__offset(this.bb_pos,8);return c?(u||new e.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+c)+a*12,this.bb):null}outputEdgesLength(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0}static startNodeEdge(a){a.startObject(3)}static addNodeIndex(a,u){a.addFieldInt32(0,u,0)}static addInputEdges(a,u){a.addFieldOffset(1,u,0)}static startInputEdgesVector(a,u){a.startVector(12,u,4)}static addOutputEdges(a,u){a.addFieldOffset(2,u,0)}static startOutputEdgesVector(a,u){a.startVector(12,u,4)}static endNodeEdge(a){return a.endObject()}static createNodeEdge(a,u,c,w){return r.startNodeEdge(a),r.addNodeIndex(a,u),r.addInputEdges(a,c),r.addOutputEdges(a,w),r.endNodeEdge(a)}}n.NodeEdge=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsNode(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsNode(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}name(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}docString(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}domain(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__string(this.bb_pos+u,a):null}sinceVersion(){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0}index(){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readUint32(this.bb_pos+a):0}opType(a){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__string(this.bb_pos+u,a):null}type(){let a=this.bb.__offset(this.bb_pos,16);return a?this.bb.readInt32(this.bb_pos+a):0}executionProviderType(a){let u=this.bb.__offset(this.bb_pos,18);return u?this.bb.__string(this.bb_pos+u,a):null}inputs(a,u){let c=this.bb.__offset(this.bb_pos,20);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}inputsLength(){let a=this.bb.__offset(this.bb_pos,20);return a?this.bb.__vector_len(this.bb_pos+a):0}outputs(a,u){let c=this.bb.__offset(this.bb_pos,22);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}outputsLength(){let a=this.bb.__offset(this.bb_pos,22);return a?this.bb.__vector_len(this.bb_pos+a):0}attributes(a,u){let c=this.bb.__offset(this.bb_pos,24);return c?(u||new e.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}attributesLength(){let a=this.bb.__offset(this.bb_pos,24);return a?this.bb.__vector_len(this.bb_pos+a):0}inputArgCounts(a){let u=this.bb.__offset(this.bb_pos,26);return u?this.bb.readInt32(this.bb.__vector(this.bb_pos+u)+a*4):0}inputArgCountsLength(){let a=this.bb.__offset(this.bb_pos,26);return a?this.bb.__vector_len(this.bb_pos+a):0}inputArgCountsArray(){let a=this.bb.__offset(this.bb_pos,26);return a?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null}implicitInputs(a,u){let c=this.bb.__offset(this.bb_pos,28);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}implicitInputsLength(){let a=this.bb.__offset(this.bb_pos,28);return a?this.bb.__vector_len(this.bb_pos+a):0}static startNode(a){a.startObject(13)}static addName(a,u){a.addFieldOffset(0,u,0)}static addDocString(a,u){a.addFieldOffset(1,u,0)}static addDomain(a,u){a.addFieldOffset(2,u,0)}static addSinceVersion(a,u){a.addFieldInt32(3,u,0)}static addIndex(a,u){a.addFieldInt32(4,u,0)}static addOpType(a,u){a.addFieldOffset(5,u,0)}static addType(a,u){a.addFieldInt32(6,u,0)}static addExecutionProviderType(a,u){a.addFieldOffset(7,u,0)}static addInputs(a,u){a.addFieldOffset(8,u,0)}static createInputsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startInputsVector(a,u){a.startVector(4,u,4)}static addOutputs(a,u){a.addFieldOffset(9,u,0)}static createOutputsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startOutputsVector(a,u){a.startVector(4,u,4)}static addAttributes(a,u){a.addFieldOffset(10,u,0)}static createAttributesVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startAttributesVector(a,u){a.startVector(4,u,4)}static addInputArgCounts(a,u){a.addFieldOffset(11,u,0)}static createInputArgCountsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addInt32(u[c]);return a.endVector()}static startInputArgCountsVector(a,u){a.startVector(4,u,4)}static addImplicitInputs(a,u){a.addFieldOffset(12,u,0)}static createImplicitInputsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startImplicitInputsVector(a,u){a.startVector(4,u,4)}static endNode(a){return a.endObject()}static createNode(a,u,c,w,S,E,N,Z,H,nt,at,ot,ft,xt){return r.startNode(a),r.addName(a,u),r.addDocString(a,c),r.addDomain(a,w),r.addSinceVersion(a,S),r.addIndex(a,E),r.addOpType(a,N),r.addType(a,Z),r.addExecutionProviderType(a,H),r.addInputs(a,nt),r.addOutputs(a,at),r.addAttributes(a,ot),r.addInputArgCounts(a,ft),r.addImplicitInputs(a,xt),r.endNode(a)}}n.Node=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsValueInfo(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsValueInfo(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}name(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}docString(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}type(a){let u=this.bb.__offset(this.bb_pos,8);return u?(a||new e.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startValueInfo(a){a.startObject(3)}static addName(a,u){a.addFieldOffset(0,u,0)}static addDocString(a,u){a.addFieldOffset(1,u,0)}static addType(a,u){a.addFieldOffset(2,u,0)}static endValueInfo(a){return a.endObject()}static createValueInfo(a,u,c,w){return r.startValueInfo(a),r.addName(a,u),r.addDocString(a,c),r.addType(a,w),r.endValueInfo(a)}}n.ValueInfo=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsTypeInfo(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsTypeInfo(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}denotation(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}valueType(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readUint8(this.bb_pos+a):0}value(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__union(a,this.bb_pos+u):null}static startTypeInfo(a){a.startObject(3)}static addDenotation(a,u){a.addFieldOffset(0,u,0)}static addValueType(a,u){a.addFieldInt8(1,u,0)}static addValue(a,u){a.addFieldOffset(2,u,0)}static endTypeInfo(a){return a.endObject()}static createTypeInfo(a,u,c,w){return r.startTypeInfo(a),r.addDenotation(a,u),r.addValueType(a,c),r.addValue(a,w),r.endTypeInfo(a)}}n.TypeInfo=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsOperatorSetId(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsOperatorSetId(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}domain(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}version(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}static startOperatorSetId(a){a.startObject(2)}static addDomain(a,u){a.addFieldOffset(0,u,0)}static addVersion(a,u){a.addFieldInt64(1,u,a.createLong(0,0))}static endOperatorSetId(a){return a.endObject()}static createOperatorSetId(a,u,c){return r.startOperatorSetId(a),r.addDomain(a,u),r.addVersion(a,c),r.endOperatorSetId(a)}}n.OperatorSetId=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsTensor(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsTensor(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}name(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}docString(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}dims(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.readInt64(this.bb.__vector(this.bb_pos+u)+a*8):this.bb.createLong(0,0)}dimsLength(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0}dataType(){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0}rawData(a){let u=this.bb.__offset(this.bb_pos,12);return u?this.bb.readUint8(this.bb.__vector(this.bb_pos+u)+a):0}rawDataLength(){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.__vector_len(this.bb_pos+a):0}rawDataArray(){let a=this.bb.__offset(this.bb_pos,12);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null}stringData(a,u){let c=this.bb.__offset(this.bb_pos,14);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}stringDataLength(){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0}static startTensor(a){a.startObject(6)}static addName(a,u){a.addFieldOffset(0,u,0)}static addDocString(a,u){a.addFieldOffset(1,u,0)}static addDims(a,u){a.addFieldOffset(2,u,0)}static createDimsVector(a,u){a.startVector(8,u.length,8);for(let c=u.length-1;c>=0;c--)a.addInt64(u[c]);return a.endVector()}static startDimsVector(a,u){a.startVector(8,u,8)}static addDataType(a,u){a.addFieldInt32(3,u,0)}static addRawData(a,u){a.addFieldOffset(4,u,0)}static createRawDataVector(a,u){a.startVector(1,u.length,1);for(let c=u.length-1;c>=0;c--)a.addInt8(u[c]);return a.endVector()}static startRawDataVector(a,u){a.startVector(1,u,1)}static addStringData(a,u){a.addFieldOffset(5,u,0)}static createStringDataVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startStringDataVector(a,u){a.startVector(4,u,4)}static endTensor(a){return a.endObject()}static createTensor(a,u,c,w,S,E,N){return r.startTensor(a),r.addName(a,u),r.addDocString(a,c),r.addDims(a,w),r.addDataType(a,S),r.addRawData(a,E),r.addStringData(a,N),r.endTensor(a)}}n.Tensor=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsSparseTensor(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsSparseTensor(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}values(a){let u=this.bb.__offset(this.bb_pos,4);return u?(a||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}indices(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}dims(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.readInt64(this.bb.__vector(this.bb_pos+u)+a*8):this.bb.createLong(0,0)}dimsLength(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0}static startSparseTensor(a){a.startObject(3)}static addValues(a,u){a.addFieldOffset(0,u,0)}static addIndices(a,u){a.addFieldOffset(1,u,0)}static addDims(a,u){a.addFieldOffset(2,u,0)}static createDimsVector(a,u){a.startVector(8,u.length,8);for(let c=u.length-1;c>=0;c--)a.addInt64(u[c]);return a.endVector()}static startDimsVector(a,u){a.startVector(8,u,8)}static endSparseTensor(a){return a.endObject()}static createSparseTensor(a,u,c,w){return r.startSparseTensor(a),r.addValues(a,u),r.addIndices(a,c),r.addDims(a,w),r.endSparseTensor(a)}}n.SparseTensor=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsAttribute(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsAttribute(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}name(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}docString(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.__string(this.bb_pos+u,a):null}type(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readInt32(this.bb_pos+a):0}f(){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readFloat32(this.bb_pos+a):0}i(){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}s(a){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__string(this.bb_pos+u,a):null}t(a){let u=this.bb.__offset(this.bb_pos,16);return u?(a||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}g(a){let u=this.bb.__offset(this.bb_pos,18);return u?(a||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}floats(a){let u=this.bb.__offset(this.bb_pos,20);return u?this.bb.readFloat32(this.bb.__vector(this.bb_pos+u)+a*4):0}floatsLength(){let a=this.bb.__offset(this.bb_pos,20);return a?this.bb.__vector_len(this.bb_pos+a):0}floatsArray(){let a=this.bb.__offset(this.bb_pos,20);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null}ints(a){let u=this.bb.__offset(this.bb_pos,22);return u?this.bb.readInt64(this.bb.__vector(this.bb_pos+u)+a*8):this.bb.createLong(0,0)}intsLength(){let a=this.bb.__offset(this.bb_pos,22);return a?this.bb.__vector_len(this.bb_pos+a):0}strings(a,u){let c=this.bb.__offset(this.bb_pos,24);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}stringsLength(){let a=this.bb.__offset(this.bb_pos,24);return a?this.bb.__vector_len(this.bb_pos+a):0}tensors(a,u){let c=this.bb.__offset(this.bb_pos,26);return c?(u||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}tensorsLength(){let a=this.bb.__offset(this.bb_pos,26);return a?this.bb.__vector_len(this.bb_pos+a):0}graphs(a,u){let c=this.bb.__offset(this.bb_pos,28);return c?(u||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}graphsLength(){let a=this.bb.__offset(this.bb_pos,28);return a?this.bb.__vector_len(this.bb_pos+a):0}static startAttribute(a){a.startObject(13)}static addName(a,u){a.addFieldOffset(0,u,0)}static addDocString(a,u){a.addFieldOffset(1,u,0)}static addType(a,u){a.addFieldInt32(2,u,0)}static addF(a,u){a.addFieldFloat32(3,u,0)}static addI(a,u){a.addFieldInt64(4,u,a.createLong(0,0))}static addS(a,u){a.addFieldOffset(5,u,0)}static addT(a,u){a.addFieldOffset(6,u,0)}static addG(a,u){a.addFieldOffset(7,u,0)}static addFloats(a,u){a.addFieldOffset(8,u,0)}static createFloatsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addFloat32(u[c]);return a.endVector()}static startFloatsVector(a,u){a.startVector(4,u,4)}static addInts(a,u){a.addFieldOffset(9,u,0)}static createIntsVector(a,u){a.startVector(8,u.length,8);for(let c=u.length-1;c>=0;c--)a.addInt64(u[c]);return a.endVector()}static startIntsVector(a,u){a.startVector(8,u,8)}static addStrings(a,u){a.addFieldOffset(10,u,0)}static createStringsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startStringsVector(a,u){a.startVector(4,u,4)}static addTensors(a,u){a.addFieldOffset(11,u,0)}static createTensorsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startTensorsVector(a,u){a.startVector(4,u,4)}static addGraphs(a,u){a.addFieldOffset(12,u,0)}static createGraphsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startGraphsVector(a,u){a.startVector(4,u,4)}static endAttribute(a){return a.endObject()}static createAttribute(a,u,c,w,S,E,N,Z,H,nt,at,ot,ft,xt){return r.startAttribute(a),r.addName(a,u),r.addDocString(a,c),r.addType(a,w),r.addF(a,S),r.addI(a,E),r.addS(a,N),r.addT(a,Z),r.addG(a,H),r.addFloats(a,nt),r.addInts(a,at),r.addStrings(a,ot),r.addTensors(a,ft),r.addGraphs(a,xt),r.endAttribute(a)}}n.Attribute=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsGraph(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsGraph(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}initializers(a,u){let c=this.bb.__offset(this.bb_pos,4);return c?(u||new e.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}initializersLength(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0}nodeArgs(a,u){let c=this.bb.__offset(this.bb_pos,6);return c?(u||new e.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}nodeArgsLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}nodes(a,u){let c=this.bb.__offset(this.bb_pos,8);return c?(u||new e.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}nodesLength(){let a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0}maxNodeIndex(){let a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readUint32(this.bb_pos+a):0}nodeEdges(a,u){let c=this.bb.__offset(this.bb_pos,12);return c?(u||new e.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}nodeEdgesLength(){let a=this.bb.__offset(this.bb_pos,12);return a?this.bb.__vector_len(this.bb_pos+a):0}inputs(a,u){let c=this.bb.__offset(this.bb_pos,14);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}inputsLength(){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0}outputs(a,u){let c=this.bb.__offset(this.bb_pos,16);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,u):null}outputsLength(){let a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__vector_len(this.bb_pos+a):0}sparseInitializers(a,u){let c=this.bb.__offset(this.bb_pos,18);return c?(u||new e.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}sparseInitializersLength(){let a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__vector_len(this.bb_pos+a):0}static startGraph(a){a.startObject(8)}static addInitializers(a,u){a.addFieldOffset(0,u,0)}static createInitializersVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startInitializersVector(a,u){a.startVector(4,u,4)}static addNodeArgs(a,u){a.addFieldOffset(1,u,0)}static createNodeArgsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startNodeArgsVector(a,u){a.startVector(4,u,4)}static addNodes(a,u){a.addFieldOffset(2,u,0)}static createNodesVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startNodesVector(a,u){a.startVector(4,u,4)}static addMaxNodeIndex(a,u){a.addFieldInt32(3,u,0)}static addNodeEdges(a,u){a.addFieldOffset(4,u,0)}static createNodeEdgesVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startNodeEdgesVector(a,u){a.startVector(4,u,4)}static addInputs(a,u){a.addFieldOffset(5,u,0)}static createInputsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startInputsVector(a,u){a.startVector(4,u,4)}static addOutputs(a,u){a.addFieldOffset(6,u,0)}static createOutputsVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startOutputsVector(a,u){a.startVector(4,u,4)}static addSparseInitializers(a,u){a.addFieldOffset(7,u,0)}static createSparseInitializersVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startSparseInitializersVector(a,u){a.startVector(4,u,4)}static endGraph(a){return a.endObject()}static createGraph(a,u,c,w,S,E,N,Z,H){return r.startGraph(a),r.addInitializers(a,u),r.addNodeArgs(a,c),r.addNodes(a,w),r.addMaxNodeIndex(a,S),r.addNodeEdges(a,E),r.addInputs(a,N),r.addOutputs(a,Z),r.addSparseInitializers(a,H),r.endGraph(a)}}n.Graph=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsModel(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsModel(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}irVersion(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}opsetImport(a,u){let c=this.bb.__offset(this.bb_pos,6);return c?(u||new e.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}opsetImportLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}producerName(a){let u=this.bb.__offset(this.bb_pos,8);return u?this.bb.__string(this.bb_pos+u,a):null}producerVersion(a){let u=this.bb.__offset(this.bb_pos,10);return u?this.bb.__string(this.bb_pos+u,a):null}domain(a){let u=this.bb.__offset(this.bb_pos,12);return u?this.bb.__string(this.bb_pos+u,a):null}modelVersion(){let a=this.bb.__offset(this.bb_pos,14);return a?this.bb.readInt64(this.bb_pos+a):this.bb.createLong(0,0)}docString(a){let u=this.bb.__offset(this.bb_pos,16);return u?this.bb.__string(this.bb_pos+u,a):null}graph(a){let u=this.bb.__offset(this.bb_pos,18);return u?(a||new e.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}graphDocString(a){let u=this.bb.__offset(this.bb_pos,20);return u?this.bb.__string(this.bb_pos+u,a):null}static startModel(a){a.startObject(9)}static addIrVersion(a,u){a.addFieldInt64(0,u,a.createLong(0,0))}static addOpsetImport(a,u){a.addFieldOffset(1,u,0)}static createOpsetImportVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startOpsetImportVector(a,u){a.startVector(4,u,4)}static addProducerName(a,u){a.addFieldOffset(2,u,0)}static addProducerVersion(a,u){a.addFieldOffset(3,u,0)}static addDomain(a,u){a.addFieldOffset(4,u,0)}static addModelVersion(a,u){a.addFieldInt64(5,u,a.createLong(0,0))}static addDocString(a,u){a.addFieldOffset(6,u,0)}static addGraph(a,u){a.addFieldOffset(7,u,0)}static addGraphDocString(a,u){a.addFieldOffset(8,u,0)}static endModel(a){return a.endObject()}static createModel(a,u,c,w,S,E,N,Z,H,nt){return r.startModel(a),r.addIrVersion(a,u),r.addOpsetImport(a,c),r.addProducerName(a,w),r.addProducerVersion(a,S),r.addDomain(a,E),r.addModelVersion(a,N),r.addDocString(a,Z),r.addGraph(a,H),r.addGraphDocString(a,nt),r.endModel(a)}}n.Model=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsKernelCreateInfos(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsKernelCreateInfos(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}nodeIndices(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.readUint32(this.bb.__vector(this.bb_pos+u)+a*4):0}nodeIndicesLength(){let a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0}nodeIndicesArray(){let a=this.bb.__offset(this.bb_pos,4);return a?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null}kernelDefHashes(a){let u=this.bb.__offset(this.bb_pos,6);return u?this.bb.readUint64(this.bb.__vector(this.bb_pos+u)+a*8):this.bb.createLong(0,0)}kernelDefHashesLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}static startKernelCreateInfos(a){a.startObject(2)}static addNodeIndices(a,u){a.addFieldOffset(0,u,0)}static createNodeIndicesVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addInt32(u[c]);return a.endVector()}static startNodeIndicesVector(a,u){a.startVector(4,u,4)}static addKernelDefHashes(a,u){a.addFieldOffset(1,u,0)}static createKernelDefHashesVector(a,u){a.startVector(8,u.length,8);for(let c=u.length-1;c>=0;c--)a.addInt64(u[c]);return a.endVector()}static startKernelDefHashesVector(a,u){a.startVector(8,u,8)}static endKernelCreateInfos(a){return a.endObject()}static createKernelCreateInfos(a,u,c){return r.startKernelCreateInfos(a),r.addNodeIndices(a,u),r.addKernelDefHashes(a,c),r.endKernelCreateInfos(a)}}n.KernelCreateInfos=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsSubGraphSessionState(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsSubGraphSessionState(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}graphId(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}sessionState(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startSubGraphSessionState(a){a.startObject(2)}static addGraphId(a,u){a.addFieldOffset(0,u,0)}static addSessionState(a,u){a.addFieldOffset(1,u,0)}static endSubGraphSessionState(a){let u=a.endObject();return a.requiredField(u,4),u}static createSubGraphSessionState(a,u,c){return r.startSubGraphSessionState(a),r.addGraphId(a,u),r.addSessionState(a,c),r.endSubGraphSessionState(a)}}n.SubGraphSessionState=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsSessionState(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsSessionState(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}kernels(a){let u=this.bb.__offset(this.bb_pos,4);return u?(a||new e.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}subGraphSessionStates(a,u){let c=this.bb.__offset(this.bb_pos,6);return c?(u||new e.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null}subGraphSessionStatesLength(){let a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0}static startSessionState(a){a.startObject(2)}static addKernels(a,u){a.addFieldOffset(0,u,0)}static addSubGraphSessionStates(a,u){a.addFieldOffset(1,u,0)}static createSubGraphSessionStatesVector(a,u){a.startVector(4,u.length,4);for(let c=u.length-1;c>=0;c--)a.addOffset(u[c]);return a.endVector()}static startSubGraphSessionStatesVector(a,u){a.startVector(4,u,4)}static endSessionState(a){return a.endObject()}static createSessionState(a,u,c){return r.startSessionState(a),r.addKernels(a,u),r.addSubGraphSessionStates(a,c),r.endSessionState(a)}}n.SessionState=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={});(e=>{let i;(t=>{let o;(n=>{class r{constructor(){this.bb=null;this.bb_pos=0}__init(a,u){return this.bb_pos=a,this.bb=u,this}static getRootAsInferenceSession(a,u){return(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static getSizePrefixedRootAsInferenceSession(a,u){return a.setPosition(a.position()+q.SIZE_PREFIX_LENGTH),(u||new r).__init(a.readInt32(a.position())+a.position(),a)}static bufferHasIdentifier(a){return a.__has_identifier("ORTM")}ortVersion(a){let u=this.bb.__offset(this.bb_pos,4);return u?this.bb.__string(this.bb_pos+u,a):null}model(a){let u=this.bb.__offset(this.bb_pos,6);return u?(a||new e.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}sessionState(a){let u=this.bb.__offset(this.bb_pos,8);return u?(a||new e.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+u),this.bb):null}static startInferenceSession(a){a.startObject(3)}static addOrtVersion(a,u){a.addFieldOffset(0,u,0)}static addModel(a,u){a.addFieldOffset(1,u,0)}static addSessionState(a,u){a.addFieldOffset(2,u,0)}static endInferenceSession(a){return a.endObject()}static finishInferenceSessionBuffer(a,u){a.finish(u,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(a,u){a.finish(u,"ORTM",!0)}static createInferenceSession(a,u,c,w){return r.startInferenceSession(a),r.addOrtVersion(a,u),r.addModel(a,c),r.addSessionState(a,w),r.endInferenceSession(a)}}n.InferenceSession=r})(o=t.fbs||={})})(i=e.experimental||={})})(bt||={})});var ml=qt((IT,hl)=>{"use strict";hl.exports=jg;function jg(i,e){for(var o=new Array(arguments.length-1),t=0,r=2,n=!0;r<arguments.length;)o[t++]=arguments[r++];return new Promise(function(a,u){o[t]=function(w){if(n)if(n=!1,w)u(w);else{for(var S=new Array(arguments.length-1),E=0;E<S.length;)S[E++]=arguments[E];a.apply(null,S)}};try{i.apply(e||null,o)}catch(c){n&&(n=!1,u(c))}})}});var vl=qt(bl=>{"use strict";var Ni=bl;Ni.length=function(e){var o=e.length;if(!o)return 0;for(var t=0;--o%4>1&&e.charAt(o)==="=";)++t;return Math.ceil(e.length*3)/4-t};var Cn=new Array(64),gl=new Array(123);for(ir=0;ir<64;)gl[Cn[ir]=ir<26?ir+65:ir<52?ir+71:ir<62?ir-4:ir-59|43]=ir++;var ir;Ni.encode=function(e,o,t){for(var r=null,n=[],s=0,a=0,u;o<t;){var c=e[o++];switch(a){case 0:n[s++]=Cn[c>>2],u=(c&3)<<4,a=1;break;case 1:n[s++]=Cn[u|c>>4],u=(c&15)<<2,a=2;break;case 2:n[s++]=Cn[u|c>>6],n[s++]=Cn[c&63],a=0;break}s>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,n)),s=0)}return a&&(n[s++]=Cn[u],n[s++]=61,a===1&&(n[s++]=61)),r?(s&&r.push(String.fromCharCode.apply(String,n.slice(0,s))),r.join("")):String.fromCharCode.apply(String,n.slice(0,s))};var yl="invalid encoding";Ni.decode=function(e,o,t){for(var r=t,n=0,s,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&n>1)break;if((u=gl[u])===void 0)throw Error(yl);switch(n){case 0:s=u,n=1;break;case 1:o[t++]=s<<2|(u&48)>>4,s=u,n=2;break;case 2:o[t++]=(s&15)<<4|(u&60)>>2,s=u,n=3;break;case 3:o[t++]=(s&3)<<6|u,n=0;break}}if(n===1)throw Error(yl);return t-r};Ni.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Tl=qt((ST,wl)=>{"use strict";wl.exports=Mi;function Mi(){this._listeners={}}Mi.prototype.on=function(e,o,t){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:o,ctx:t||this}),this};Mi.prototype.off=function(e,o){if(e===void 0)this._listeners={};else if(o===void 0)this._listeners[e]=[];else for(var t=this._listeners[e],r=0;r<t.length;)t[r].fn===o?t.splice(r,1):++r;return this};Mi.prototype.emit=function(e){var o=this._listeners[e];if(o){for(var t=[],r=1;r<arguments.length;)t.push(arguments[r++]);for(r=0;r<o.length;)o[r].fn.apply(o[r++].ctx,t)}return this}});var Pl=qt((PT,Sl)=>{"use strict";Sl.exports=xl(xl);function xl(i){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),o=new Uint8Array(e.buffer),t=o[3]===128;function r(u,c,w){e[0]=u,c[w]=o[0],c[w+1]=o[1],c[w+2]=o[2],c[w+3]=o[3]}function n(u,c,w){e[0]=u,c[w]=o[3],c[w+1]=o[2],c[w+2]=o[1],c[w+3]=o[0]}i.writeFloatLE=t?r:n,i.writeFloatBE=t?n:r;function s(u,c){return o[0]=u[c],o[1]=u[c+1],o[2]=u[c+2],o[3]=u[c+3],e[0]}function a(u,c){return o[3]=u[c],o[2]=u[c+1],o[1]=u[c+2],o[0]=u[c+3],e[0]}i.readFloatLE=t?s:a,i.readFloatBE=t?a:s}():function(){function e(t,r,n,s){var a=r<0?1:0;if(a&&(r=-r),r===0)t(1/r>0?0:2147483648,n,s);else if(isNaN(r))t(2143289344,n,s);else if(r>34028234663852886e22)t((a<<31|2139095040)>>>0,n,s);else if(r<11754943508222875e-54)t((a<<31|Math.round(r/1401298464324817e-60))>>>0,n,s);else{var u=Math.floor(Math.log(r)/Math.LN2),c=Math.round(r*Math.pow(2,-u)*8388608)&8388607;t((a<<31|u+127<<23|c)>>>0,n,s)}}i.writeFloatLE=e.bind(null,_l),i.writeFloatBE=e.bind(null,Ol);function o(t,r,n){var s=t(r,n),a=(s>>31)*2+1,u=s>>>23&255,c=s&8388607;return u===255?c?NaN:a*(1/0):u===0?a*1401298464324817e-60*c:a*Math.pow(2,u-150)*(c+8388608)}i.readFloatLE=o.bind(null,Il),i.readFloatBE=o.bind(null,Al)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),o=new Uint8Array(e.buffer),t=o[7]===128;function r(u,c,w){e[0]=u,c[w]=o[0],c[w+1]=o[1],c[w+2]=o[2],c[w+3]=o[3],c[w+4]=o[4],c[w+5]=o[5],c[w+6]=o[6],c[w+7]=o[7]}function n(u,c,w){e[0]=u,c[w]=o[7],c[w+1]=o[6],c[w+2]=o[5],c[w+3]=o[4],c[w+4]=o[3],c[w+5]=o[2],c[w+6]=o[1],c[w+7]=o[0]}i.writeDoubleLE=t?r:n,i.writeDoubleBE=t?n:r;function s(u,c){return o[0]=u[c],o[1]=u[c+1],o[2]=u[c+2],o[3]=u[c+3],o[4]=u[c+4],o[5]=u[c+5],o[6]=u[c+6],o[7]=u[c+7],e[0]}function a(u,c){return o[7]=u[c],o[6]=u[c+1],o[5]=u[c+2],o[4]=u[c+3],o[3]=u[c+4],o[2]=u[c+5],o[1]=u[c+6],o[0]=u[c+7],e[0]}i.readDoubleLE=t?s:a,i.readDoubleBE=t?a:s}():function(){function e(t,r,n,s,a,u){var c=s<0?1:0;if(c&&(s=-s),s===0)t(0,a,u+r),t(1/s>0?0:2147483648,a,u+n);else if(isNaN(s))t(0,a,u+r),t(2146959360,a,u+n);else if(s>17976931348623157e292)t(0,a,u+r),t((c<<31|2146435072)>>>0,a,u+n);else{var w;if(s<22250738585072014e-324)w=s/5e-324,t(w>>>0,a,u+r),t((c<<31|w/4294967296)>>>0,a,u+n);else{var S=Math.floor(Math.log(s)/Math.LN2);S===1024&&(S=1023),w=s*Math.pow(2,-S),t(w*4503599627370496>>>0,a,u+r),t((c<<31|S+1023<<20|w*1048576&1048575)>>>0,a,u+n)}}}i.writeDoubleLE=e.bind(null,_l,0,4),i.writeDoubleBE=e.bind(null,Ol,4,0);function o(t,r,n,s,a){var u=t(s,a+r),c=t(s,a+n),w=(c>>31)*2+1,S=c>>>20&2047,E=4294967296*(c&1048575)+u;return S===2047?E?NaN:w*(1/0):S===0?w*5e-324*E:w*Math.pow(2,S-1075)*(E+4503599627370496)}i.readDoubleLE=o.bind(null,Il,0,4),i.readDoubleBE=o.bind(null,Al,4,0)}(),i}function _l(i,e,o){e[o]=i&255,e[o+1]=i>>>8&255,e[o+2]=i>>>16&255,e[o+3]=i>>>24}function Ol(i,e,o){e[o]=i>>>24,e[o+1]=i>>>16&255,e[o+2]=i>>>8&255,e[o+3]=i&255}function Il(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16|i[e+3]<<24)>>>0}function Al(i,e){return(i[e]<<24|i[e+1]<<16|i[e+2]<<8|i[e+3])>>>0}});var El=qt((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(i){}return null}});var kl=qt(Dl=>{"use strict";var Qu=Dl;Qu.length=function(e){for(var o=0,t=0,r=0;r<e.length;++r)t=e.charCodeAt(r),t<128?o+=1:t<2048?o+=2:(t&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320?(++r,o+=4):o+=3;return o};Qu.read=function(e,o,t){var r=t-o;if(r<1)return"";for(var n=null,s=[],a=0,u;o<t;)u=e[o++],u<128?s[a++]=u:u>191&&u<224?s[a++]=(u&31)<<6|e[o++]&63:u>239&&u<365?(u=((u&7)<<18|(e[o++]&63)<<12|(e[o++]&63)<<6|e[o++]&63)-65536,s[a++]=55296+(u>>10),s[a++]=56320+(u&1023)):s[a++]=(u&15)<<12|(e[o++]&63)<<6|e[o++]&63,a>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),a=0);return n?(a&&n.push(String.fromCharCode.apply(String,s.slice(0,a))),n.join("")):String.fromCharCode.apply(String,s.slice(0,a))};Qu.write=function(e,o,t){for(var r=t,n,s,a=0;a<e.length;++a)n=e.charCodeAt(a),n<128?o[t++]=n:n<2048?(o[t++]=n>>6|192,o[t++]=n&63|128):(n&64512)===55296&&((s=e.charCodeAt(a+1))&64512)===56320?(n=65536+((n&1023)<<10)+(s&1023),++a,o[t++]=n>>18|240,o[t++]=n>>12&63|128,o[t++]=n>>6&63|128,o[t++]=n&63|128):(o[t++]=n>>12|224,o[t++]=n>>6&63|128,o[t++]=n&63|128);return t-r}});var Cl=qt((DT,Ll)=>{"use strict";Ll.exports=qg;function qg(i,e,o){var t=o||8192,r=t>>>1,n=null,s=t;return function(u){if(u<1||u>r)return i(u);s+u>t&&(n=i(t),s=0);var c=e.call(n,s,s+=u);return s&7&&(s=(s|7)+1),c}}});var $l=qt((kT,Fl)=>{"use strict";Fl.exports=ye;var bo=Br();function ye(i,e){this.lo=i>>>0,this.hi=e>>>0}var Qr=ye.zero=new ye(0,0);Qr.toNumber=function(){return 0};Qr.zzEncode=Qr.zzDecode=function(){return this};Qr.length=function(){return 1};var Yg=ye.zeroHash="\0\0\0\0\0\0\0\0";ye.fromNumber=function(e){if(e===0)return Qr;var o=e<0;o&&(e=-e);var t=e>>>0,r=(e-t)/4294967296>>>0;return o&&(r=~r>>>0,t=~t>>>0,++t>4294967295&&(t=0,++r>4294967295&&(r=0))),new ye(t,r)};ye.from=function(e){if(typeof e=="number")return ye.fromNumber(e);if(bo.isString(e))if(bo.Long)e=bo.Long.fromString(e);else return ye.fromNumber(parseInt(e,10));return e.low||e.high?new ye(e.low>>>0,e.high>>>0):Qr};ye.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var o=~this.lo+1>>>0,t=~this.hi>>>0;return o||(t=t+1>>>0),-(o+t*4294967296)}return this.lo+this.hi*4294967296};ye.prototype.toLong=function(e){return bo.Long?new bo.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var $r=String.prototype.charCodeAt;ye.fromHash=function(e){return e===Yg?Qr:new ye(($r.call(e,0)|$r.call(e,1)<<8|$r.call(e,2)<<16|$r.call(e,3)<<24)>>>0,($r.call(e,4)|$r.call(e,5)<<8|$r.call(e,6)<<16|$r.call(e,7)<<24)>>>0)};ye.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};ye.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};ye.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};ye.prototype.length=function(){var e=this.lo,o=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?o===0?e<16384?e<128?1:2:e<2097152?3:4:o<16384?o<128?5:6:o<2097152?7:8:t<128?9:10}});var Br=qt(tf=>{"use strict";var wt=tf;wt.asPromise=ml();wt.base64=vl();wt.EventEmitter=Tl();wt.float=Pl();wt.inquire=El();wt.utf8=kl();wt.pool=Cl();wt.LongBits=$l();wt.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);wt.global=wt.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||tf;wt.emptyArray=Object.freeze?Object.freeze([]):[];wt.emptyObject=Object.freeze?Object.freeze({}):{};wt.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};wt.isString=function(e){return typeof e=="string"||e instanceof String};wt.isObject=function(e){return e&&typeof e=="object"};wt.isset=wt.isSet=function(e,o){var t=e[o];return t!=null&&e.hasOwnProperty(o)?typeof t!="object"||(Array.isArray(t)?t.length:Object.keys(t).length)>0:!1};wt.Buffer=function(){try{var i=wt.inquire("buffer").Buffer;return i.prototype.utf8Write?i:null}catch{return null}}();wt._Buffer_from=null;wt._Buffer_allocUnsafe=null;wt.newBuffer=function(e){return typeof e=="number"?wt.Buffer?wt._Buffer_allocUnsafe(e):new wt.Array(e):wt.Buffer?wt._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};wt.Array=typeof Uint8Array<"u"?Uint8Array:Array;wt.Long=wt.global.dcodeIO&&wt.global.dcodeIO.Long||wt.global.Long||wt.inquire("long");wt.key2Re=/^true|false|0|1$/;wt.key32Re=/^-?(?:0|[1-9][0-9]*)$/;wt.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;wt.longToHash=function(e){return e?wt.LongBits.from(e).toHash():wt.LongBits.zeroHash};wt.longFromHash=function(e,o){var t=wt.LongBits.fromHash(e);return wt.Long?wt.Long.fromBits(t.lo,t.hi,o):t.toNumber(!!o)};function Bl(i,e,o){for(var t=Object.keys(e),r=0;r<t.length;++r)(i[t[r]]===void 0||!o)&&(i[t[r]]=e[t[r]]);return i}wt.merge=Bl;wt.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Nl(i){function e(o,t){if(!(this instanceof e))return new e(o,t);Object.defineProperty(this,"message",{get:function(){return o}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),t&&Bl(this,t)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return i},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}wt.newError=Nl;wt.ProtocolError=Nl("ProtocolError");wt.oneOfGetter=function(e){for(var o={},t=0;t<e.length;++t)o[e[t]]=1;return function(){for(var r=Object.keys(this),n=r.length-1;n>-1;--n)if(o[r[n]]===1&&this[r[n]]!==void 0&&this[r[n]]!==null)return r[n]}};wt.oneOfSetter=function(e){return function(o){for(var t=0;t<e.length;++t)e[t]!==o&&delete this[e[t]]}};wt.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};wt._configure=function(){var i=wt.Buffer;if(!i){wt._Buffer_from=wt._Buffer_allocUnsafe=null;return}wt._Buffer_from=i.from!==Uint8Array.from&&i.from||function(o,t){return new i(o,t)},wt._Buffer_allocUnsafe=i.allocUnsafe||function(o){return new i(o)}}});var uf=qt((CT,Ul)=>{"use strict";Ul.exports=Nt;var Ve=Br(),ef,Ri=Ve.LongBits,Ml=Ve.base64,Rl=Ve.utf8;function vo(i,e,o){this.fn=i,this.len=e,this.next=void 0,this.val=o}function nf(){}function Kg(i){this.head=i.head,this.tail=i.tail,this.len=i.len,this.next=i.states}function Nt(){this.len=0,this.head=new vo(nf,0,0),this.tail=this.head,this.states=null}var Gl=function(){return Ve.Buffer?function(){return(Nt.create=function(){return new ef})()}:function(){return new Nt}};Nt.create=Gl();Nt.alloc=function(e){return new Ve.Array(e)};Ve.Array!==Array&&(Nt.alloc=Ve.pool(Nt.alloc,Ve.Array.prototype.subarray));Nt.prototype._push=function(e,o,t){return this.tail=this.tail.next=new vo(e,o,t),this.len+=o,this};function of(i,e,o){e[o]=i&255}function Xg(i,e,o){for(;i>127;)e[o++]=i&127|128,i>>>=7;e[o]=i}function af(i,e){this.len=i,this.next=void 0,this.val=e}af.prototype=Object.create(vo.prototype);af.prototype.fn=Xg;Nt.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new af((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Nt.prototype.int32=function(e){return e<0?this._push(sf,10,Ri.fromNumber(e)):this.uint32(e)};Nt.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function sf(i,e,o){for(;i.hi;)e[o++]=i.lo&127|128,i.lo=(i.lo>>>7|i.hi<<25)>>>0,i.hi>>>=7;for(;i.lo>127;)e[o++]=i.lo&127|128,i.lo=i.lo>>>7;e[o++]=i.lo}Nt.prototype.uint64=function(e){var o=Ri.from(e);return this._push(sf,o.length(),o)};Nt.prototype.int64=Nt.prototype.uint64;Nt.prototype.sint64=function(e){var o=Ri.from(e).zzEncode();return this._push(sf,o.length(),o)};Nt.prototype.bool=function(e){return this._push(of,1,e?1:0)};function rf(i,e,o){e[o]=i&255,e[o+1]=i>>>8&255,e[o+2]=i>>>16&255,e[o+3]=i>>>24}Nt.prototype.fixed32=function(e){return this._push(rf,4,e>>>0)};Nt.prototype.sfixed32=Nt.prototype.fixed32;Nt.prototype.fixed64=function(e){var o=Ri.from(e);return this._push(rf,4,o.lo)._push(rf,4,o.hi)};Nt.prototype.sfixed64=Nt.prototype.fixed64;Nt.prototype.float=function(e){return this._push(Ve.float.writeFloatLE,4,e)};Nt.prototype.double=function(e){return this._push(Ve.float.writeDoubleLE,8,e)};var Jg=Ve.Array.prototype.set?function(e,o,t){o.set(e,t)}:function(e,o,t){for(var r=0;r<e.length;++r)o[t+r]=e[r]};Nt.prototype.bytes=function(e){var o=e.length>>>0;if(!o)return this._push(of,1,0);if(Ve.isString(e)){var t=Nt.alloc(o=Ml.length(e));Ml.decode(e,t,0),e=t}return this.uint32(o)._push(Jg,o,e)};Nt.prototype.string=function(e){var o=Rl.length(e);return o?this.uint32(o)._push(Rl.write,o,e):this._push(of,1,0)};Nt.prototype.fork=function(){return this.states=new Kg(this),this.head=this.tail=new vo(nf,0,0),this.len=0,this};Nt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new vo(nf,0,0),this.len=0),this};Nt.prototype.ldelim=function(){var e=this.head,o=this.tail,t=this.len;return this.reset().uint32(t),t&&(this.tail.next=e.next,this.tail=o,this.len+=t),this};Nt.prototype.finish=function(){for(var e=this.head.next,o=this.constructor.alloc(this.len),t=0;e;)e.fn(e.val,o,t),t+=e.len,e=e.next;return o};Nt._configure=function(i){ef=i,Nt.create=Gl(),ef._configure()}});var Hl=qt((FT,zl)=>{"use strict";zl.exports=pr;var Wl=uf();(pr.prototype=Object.create(Wl.prototype)).constructor=pr;var Nr=Br();function pr(){Wl.call(this)}pr._configure=function(){pr.alloc=Nr._Buffer_allocUnsafe,pr.writeBytesBuffer=Nr.Buffer&&Nr.Buffer.prototype instanceof Uint8Array&&Nr.Buffer.prototype.set.name==="set"?function(e,o,t){o.set(e,t)}:function(e,o,t){if(e.copy)e.copy(o,t,0,e.length);else for(var r=0;r<e.length;)o[t++]=e[r++]}};pr.prototype.bytes=function(e){Nr.isString(e)&&(e=Nr._Buffer_from(e,"base64"));var o=e.length>>>0;return this.uint32(o),o&&this._push(pr.writeBytesBuffer,o,e),this};function Zg(i,e,o){i.length<40?Nr.utf8.write(i,e,o):e.utf8Write?e.utf8Write(i,o):e.write(i,o)}pr.prototype.string=function(e){var o=Nr.Buffer.byteLength(e);return this.uint32(o),o&&this._push(Zg,o,e),this};pr._configure()});var lf=qt(($T,Kl)=>{"use strict";Kl.exports=se;var hr=Br(),cf,ql=hr.LongBits,Qg=hr.utf8;function ar(i,e){return RangeError("index out of range: "+i.pos+" + "+(e||1)+" > "+i.len)}function se(i){this.buf=i,this.pos=0,this.len=i.length}var Vl=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new se(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new se(e);throw Error("illegal buffer")},Yl=function(){return hr.Buffer?function(o){return(se.create=function(r){return hr.Buffer.isBuffer(r)?new cf(r):Vl(r)})(o)}:Vl};se.create=Yl();se.prototype._slice=hr.Array.prototype.subarray||hr.Array.prototype.slice;se.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,ar(this,10);return e}}();se.prototype.int32=function(){return this.uint32()|0};se.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function ff(){var i=new ql(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(i.lo=(i.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return i;if(i.lo=(i.lo|(this.buf[this.pos]&127)<<28)>>>0,i.hi=(i.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return i;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw ar(this);if(i.lo=(i.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return i}return i.lo=(i.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,i}if(this.len-this.pos>4){for(;e<5;++e)if(i.hi=(i.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return i}else for(;e<5;++e){if(this.pos>=this.len)throw ar(this);if(i.hi=(i.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return i}throw Error("invalid varint encoding")}se.prototype.bool=function(){return this.uint32()!==0};function Gi(i,e){return(i[e-4]|i[e-3]<<8|i[e-2]<<16|i[e-1]<<24)>>>0}se.prototype.fixed32=function(){if(this.pos+4>this.len)throw ar(this,4);return Gi(this.buf,this.pos+=4)};se.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ar(this,4);return Gi(this.buf,this.pos+=4)|0};function jl(){if(this.pos+8>this.len)throw ar(this,8);return new ql(Gi(this.buf,this.pos+=4),Gi(this.buf,this.pos+=4))}se.prototype.float=function(){if(this.pos+4>this.len)throw ar(this,4);var e=hr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};se.prototype.double=function(){if(this.pos+8>this.len)throw ar(this,4);var e=hr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};se.prototype.bytes=function(){var e=this.uint32(),o=this.pos,t=this.pos+e;if(t>this.len)throw ar(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(o,t):o===t?new this.buf.constructor(0):this._slice.call(this.buf,o,t)};se.prototype.string=function(){var e=this.bytes();return Qg.read(e,0,e.length)};se.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw ar(this,e);this.pos+=e}else do if(this.pos>=this.len)throw ar(this);while(this.buf[this.pos++]&128);return this};se.prototype.skipType=function(i){switch(i){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(i=this.uint32()&7)!==4;)this.skipType(i);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+i+" at offset "+this.pos)}return this};se._configure=function(i){cf=i,se.create=Yl(),cf._configure();var e=hr.Long?"toLong":"toNumber";hr.merge(se.prototype,{int64:function(){return ff.call(this)[e](!1)},uint64:function(){return ff.call(this)[e](!0)},sint64:function(){return ff.call(this).zzDecode()[e](!1)},fixed64:function(){return jl.call(this)[e](!0)},sfixed64:function(){return jl.call(this)[e](!1)}})}});var Ql=qt((BT,Zl)=>{"use strict";Zl.exports=tn;var Jl=lf();(tn.prototype=Object.create(Jl.prototype)).constructor=tn;var Xl=Br();function tn(i){Jl.call(this,i)}tn._configure=function(){Xl.Buffer&&(tn.prototype._slice=Xl.Buffer.prototype.slice)};tn.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};tn._configure()});var ed=qt((NT,td)=>{"use strict";td.exports=wo;var df=Br();(wo.prototype=Object.create(df.EventEmitter.prototype)).constructor=wo;function wo(i,e,o){if(typeof i!="function")throw TypeError("rpcImpl must be a function");df.EventEmitter.call(this),this.rpcImpl=i,this.requestDelimited=!!e,this.responseDelimited=!!o}wo.prototype.rpcCall=function i(e,o,t,r,n){if(!r)throw TypeError("request must be specified");var s=this;if(!n)return df.asPromise(i,s,e,o,t,r);if(!s.rpcImpl){setTimeout(function(){n(Error("already ended"))},0);return}try{return s.rpcImpl(e,o[s.requestDelimited?"encodeDelimited":"encode"](r).finish(),function(u,c){if(u)return s.emit("error",u,e),n(u);if(c===null){s.end(!0);return}if(!(c instanceof t))try{c=t[s.responseDelimited?"decodeDelimited":"decode"](c)}catch(w){return s.emit("error",w,e),n(w)}return s.emit("data",c,e),n(null,c)})}catch(a){s.emit("error",a,e),setTimeout(function(){n(a)},0);return}};wo.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var nd=qt(rd=>{"use strict";var tb=rd;tb.Service=ed()});var id=qt((RT,od)=>{"use strict";od.exports={}});var ud=qt(sd=>{"use strict";var Be=sd;Be.build="minimal";Be.Writer=uf();Be.BufferWriter=Hl();Be.Reader=lf();Be.BufferReader=Ql();Be.util=Br();Be.rpc=nd();Be.roots=id();Be.configure=ad;function ad(){Be.util._configure(),Be.Writer._configure(Be.BufferWriter),Be.Reader._configure(Be.BufferReader)}ad()});var cd=qt((UT,fd)=>{"use strict";fd.exports=ud()});var Fn=qt((WT,ld)=>{"use strict";var Kt=cd(),lt=Kt.Reader,ue=Kt.Writer,$=Kt.util,P=Kt.roots.default||(Kt.roots.default={});P.onnx=function(){var i={};return i.Version=function(){var e={},o=Object.create(e);return o[e[0]="_START_VERSION"]=0,o[e[1]="IR_VERSION_2017_10_10"]=1,o[e[2]="IR_VERSION_2017_10_30"]=2,o[e[3]="IR_VERSION_2017_11_3"]=3,o[e[4]="IR_VERSION_2019_1_22"]=4,o[e[5]="IR_VERSION_2019_3_18"]=5,o[e[6]="IR_VERSION_2019_9_19"]=6,o[e[7]="IR_VERSION_2020_5_8"]=7,o[e[8]="IR_VERSION_2021_7_30"]=8,o[e[9]="IR_VERSION"]=9,o}(),i.AttributeProto=function(){function e(o){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],o)for(var t=Object.keys(o),r=0;r<t.length;++r)o[t[r]]!=null&&(this[t[r]]=o[t[r]])}return e.prototype.name="",e.prototype.refAttrName="",e.prototype.docString="",e.prototype.type=0,e.prototype.f=0,e.prototype.i=$.Long?$.Long.fromBits(0,0,!1):0,e.prototype.s=$.newBuffer([]),e.prototype.t=null,e.prototype.g=null,e.prototype.sparseTensor=null,e.prototype.tp=null,e.prototype.floats=$.emptyArray,e.prototype.ints=$.emptyArray,e.prototype.strings=$.emptyArray,e.prototype.tensors=$.emptyArray,e.prototype.graphs=$.emptyArray,e.prototype.sparseTensors=$.emptyArray,e.prototype.typeProtos=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&r.uint32(10).string(t.name),t.f!=null&&Object.hasOwnProperty.call(t,"f")&&r.uint32(21).float(t.f),t.i!=null&&Object.hasOwnProperty.call(t,"i")&&r.uint32(24).int64(t.i),t.s!=null&&Object.hasOwnProperty.call(t,"s")&&r.uint32(34).bytes(t.s),t.t!=null&&Object.hasOwnProperty.call(t,"t")&&P.onnx.TensorProto.encode(t.t,r.uint32(42).fork()).ldelim(),t.g!=null&&Object.hasOwnProperty.call(t,"g")&&P.onnx.GraphProto.encode(t.g,r.uint32(50).fork()).ldelim(),t.floats!=null&&t.floats.length){r.uint32(58).fork();for(var n=0;n<t.floats.length;++n)r.float(t.floats[n]);r.ldelim()}if(t.ints!=null&&t.ints.length){r.uint32(66).fork();for(var n=0;n<t.ints.length;++n)r.int64(t.ints[n]);r.ldelim()}if(t.strings!=null&&t.strings.length)for(var n=0;n<t.strings.length;++n)r.uint32(74).bytes(t.strings[n]);if(t.tensors!=null&&t.tensors.length)for(var n=0;n<t.tensors.length;++n)P.onnx.TensorProto.encode(t.tensors[n],r.uint32(82).fork()).ldelim();if(t.graphs!=null&&t.graphs.length)for(var n=0;n<t.graphs.length;++n)P.onnx.GraphProto.encode(t.graphs[n],r.uint32(90).fork()).ldelim();if(t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(106).string(t.docString),t.tp!=null&&Object.hasOwnProperty.call(t,"tp")&&P.onnx.TypeProto.encode(t.tp,r.uint32(114).fork()).ldelim(),t.typeProtos!=null&&t.typeProtos.length)for(var n=0;n<t.typeProtos.length;++n)P.onnx.TypeProto.encode(t.typeProtos[n],r.uint32(122).fork()).ldelim();if(t.type!=null&&Object.hasOwnProperty.call(t,"type")&&r.uint32(160).int32(t.type),t.refAttrName!=null&&Object.hasOwnProperty.call(t,"refAttrName")&&r.uint32(170).string(t.refAttrName),t.sparseTensor!=null&&Object.hasOwnProperty.call(t,"sparseTensor")&&P.onnx.SparseTensorProto.encode(t.sparseTensor,r.uint32(178).fork()).ldelim(),t.sparseTensors!=null&&t.sparseTensors.length)for(var n=0;n<t.sparseTensors.length;++n)P.onnx.SparseTensorProto.encode(t.sparseTensors[n],r.uint32(186).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var n=r===void 0?t.len:t.pos+r,s=new P.onnx.AttributeProto;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:{s.name=t.string();break}case 21:{s.refAttrName=t.string();break}case 13:{s.docString=t.string();break}case 20:{s.type=t.int32();break}case 2:{s.f=t.float();break}case 3:{s.i=t.int64();break}case 4:{s.s=t.bytes();break}case 5:{s.t=P.onnx.TensorProto.decode(t,t.uint32());break}case 6:{s.g=P.onnx.GraphProto.decode(t,t.uint32());break}case 22:{s.sparseTensor=P.onnx.SparseTensorProto.decode(t,t.uint32());break}case 14:{s.tp=P.onnx.TypeProto.decode(t,t.uint32());break}case 7:{if(s.floats&&s.floats.length||(s.floats=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.floats.push(t.float());else s.floats.push(t.float());break}case 8:{if(s.ints&&s.ints.length||(s.ints=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.ints.push(t.int64());else s.ints.push(t.int64());break}case 9:{s.strings&&s.strings.length||(s.strings=[]),s.strings.push(t.bytes());break}case 10:{s.tensors&&s.tensors.length||(s.tensors=[]),s.tensors.push(P.onnx.TensorProto.decode(t,t.uint32()));break}case 11:{s.graphs&&s.graphs.length||(s.graphs=[]),s.graphs.push(P.onnx.GraphProto.decode(t,t.uint32()));break}case 23:{s.sparseTensors&&s.sparseTensors.length||(s.sparseTensors=[]),s.sparseTensors.push(P.onnx.SparseTensorProto.decode(t,t.uint32()));break}case 15:{s.typeProtos&&s.typeProtos.length||(s.typeProtos=[]),s.typeProtos.push(P.onnx.TypeProto.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.name!=null&&t.hasOwnProperty("name")&&!$.isString(t.name))return"name: string expected";if(t.refAttrName!=null&&t.hasOwnProperty("refAttrName")&&!$.isString(t.refAttrName))return"refAttrName: string expected";if(t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString))return"docString: string expected";if(t.type!=null&&t.hasOwnProperty("type"))switch(t.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:break}if(t.f!=null&&t.hasOwnProperty("f")&&typeof t.f!="number")return"f: number expected";if(t.i!=null&&t.hasOwnProperty("i")&&!$.isInteger(t.i)&&!(t.i&&$.isInteger(t.i.low)&&$.isInteger(t.i.high)))return"i: integer|Long expected";if(t.s!=null&&t.hasOwnProperty("s")&&!(t.s&&typeof t.s.length=="number"||$.isString(t.s)))return"s: buffer expected";if(t.t!=null&&t.hasOwnProperty("t")){var r=P.onnx.TensorProto.verify(t.t);if(r)return"t."+r}if(t.g!=null&&t.hasOwnProperty("g")){var r=P.onnx.GraphProto.verify(t.g);if(r)return"g."+r}if(t.sparseTensor!=null&&t.hasOwnProperty("sparseTensor")){var r=P.onnx.SparseTensorProto.verify(t.sparseTensor);if(r)return"sparseTensor."+r}if(t.tp!=null&&t.hasOwnProperty("tp")){var r=P.onnx.TypeProto.verify(t.tp);if(r)return"tp."+r}if(t.floats!=null&&t.hasOwnProperty("floats")){if(!Array.isArray(t.floats))return"floats: array expected";for(var n=0;n<t.floats.length;++n)if(typeof t.floats[n]!="number")return"floats: number[] expected"}if(t.ints!=null&&t.hasOwnProperty("ints")){if(!Array.isArray(t.ints))return"ints: array expected";for(var n=0;n<t.ints.length;++n)if(!$.isInteger(t.ints[n])&&!(t.ints[n]&&$.isInteger(t.ints[n].low)&&$.isInteger(t.ints[n].high)))return"ints: integer|Long[] expected"}if(t.strings!=null&&t.hasOwnProperty("strings")){if(!Array.isArray(t.strings))return"strings: array expected";for(var n=0;n<t.strings.length;++n)if(!(t.strings[n]&&typeof t.strings[n].length=="number"||$.isString(t.strings[n])))return"strings: buffer[] expected"}if(t.tensors!=null&&t.hasOwnProperty("tensors")){if(!Array.isArray(t.tensors))return"tensors: array expected";for(var n=0;n<t.tensors.length;++n){var r=P.onnx.TensorProto.verify(t.tensors[n]);if(r)return"tensors."+r}}if(t.graphs!=null&&t.hasOwnProperty("graphs")){if(!Array.isArray(t.graphs))return"graphs: array expected";for(var n=0;n<t.graphs.length;++n){var r=P.onnx.GraphProto.verify(t.graphs[n]);if(r)return"graphs."+r}}if(t.sparseTensors!=null&&t.hasOwnProperty("sparseTensors")){if(!Array.isArray(t.sparseTensors))return"sparseTensors: array expected";for(var n=0;n<t.sparseTensors.length;++n){var r=P.onnx.SparseTensorProto.verify(t.sparseTensors[n]);if(r)return"sparseTensors."+r}}if(t.typeProtos!=null&&t.hasOwnProperty("typeProtos")){if(!Array.isArray(t.typeProtos))return"typeProtos: array expected";for(var n=0;n<t.typeProtos.length;++n){var r=P.onnx.TypeProto.verify(t.typeProtos[n]);if(r)return"typeProtos."+r}}return null},e.fromObject=function(t){if(t instanceof P.onnx.AttributeProto)return t;var r=new P.onnx.AttributeProto;switch(t.name!=null&&(r.name=String(t.name)),t.refAttrName!=null&&(r.refAttrName=String(t.refAttrName)),t.docString!=null&&(r.docString=String(t.docString)),t.type){default:if(typeof t.type=="number"){r.type=t.type;break}break;case"UNDEFINED":case 0:r.type=0;break;case"FLOAT":case 1:r.type=1;break;case"INT":case 2:r.type=2;break;case"STRING":case 3:r.type=3;break;case"TENSOR":case 4:r.type=4;break;case"GRAPH":case 5:r.type=5;break;case"SPARSE_TENSOR":case 11:r.type=11;break;case"TYPE_PROTO":case 13:r.type=13;break;case"FLOATS":case 6:r.type=6;break;case"INTS":case 7:r.type=7;break;case"STRINGS":case 8:r.type=8;break;case"TENSORS":case 9:r.type=9;break;case"GRAPHS":case 10:r.type=10;break;case"SPARSE_TENSORS":case 12:r.type=12;break;case"TYPE_PROTOS":case 14:r.type=14;break}if(t.f!=null&&(r.f=Number(t.f)),t.i!=null&&($.Long?(r.i=$.Long.fromValue(t.i)).unsigned=!1:typeof t.i=="string"?r.i=parseInt(t.i,10):typeof t.i=="number"?r.i=t.i:typeof t.i=="object"&&(r.i=new $.LongBits(t.i.low>>>0,t.i.high>>>0).toNumber())),t.s!=null&&(typeof t.s=="string"?$.base64.decode(t.s,r.s=$.newBuffer($.base64.length(t.s)),0):t.s.length>=0&&(r.s=t.s)),t.t!=null){if(typeof t.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");r.t=P.onnx.TensorProto.fromObject(t.t)}if(t.g!=null){if(typeof t.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");r.g=P.onnx.GraphProto.fromObject(t.g)}if(t.sparseTensor!=null){if(typeof t.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");r.sparseTensor=P.onnx.SparseTensorProto.fromObject(t.sparseTensor)}if(t.tp!=null){if(typeof t.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");r.tp=P.onnx.TypeProto.fromObject(t.tp)}if(t.floats){if(!Array.isArray(t.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");r.floats=[];for(var n=0;n<t.floats.length;++n)r.floats[n]=Number(t.floats[n])}if(t.ints){if(!Array.isArray(t.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");r.ints=[];for(var n=0;n<t.ints.length;++n)$.Long?(r.ints[n]=$.Long.fromValue(t.ints[n])).unsigned=!1:typeof t.ints[n]=="string"?r.ints[n]=parseInt(t.ints[n],10):typeof t.ints[n]=="number"?r.ints[n]=t.ints[n]:typeof t.ints[n]=="object"&&(r.ints[n]=new $.LongBits(t.ints[n].low>>>0,t.ints[n].high>>>0).toNumber())}if(t.strings){if(!Array.isArray(t.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");r.strings=[];for(var n=0;n<t.strings.length;++n)typeof t.strings[n]=="string"?$.base64.decode(t.strings[n],r.strings[n]=$.newBuffer($.base64.length(t.strings[n])),0):t.strings[n].length>=0&&(r.strings[n]=t.strings[n])}if(t.tensors){if(!Array.isArray(t.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");r.tensors=[];for(var n=0;n<t.tensors.length;++n){if(typeof t.tensors[n]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");r.tensors[n]=P.onnx.TensorProto.fromObject(t.tensors[n])}}if(t.graphs){if(!Array.isArray(t.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");r.graphs=[];for(var n=0;n<t.graphs.length;++n){if(typeof t.graphs[n]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");r.graphs[n]=P.onnx.GraphProto.fromObject(t.graphs[n])}}if(t.sparseTensors){if(!Array.isArray(t.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");r.sparseTensors=[];for(var n=0;n<t.sparseTensors.length;++n){if(typeof t.sparseTensors[n]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");r.sparseTensors[n]=P.onnx.SparseTensorProto.fromObject(t.sparseTensors[n])}}if(t.typeProtos){if(!Array.isArray(t.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");r.typeProtos=[];for(var n=0;n<t.typeProtos.length;++n){if(typeof t.typeProtos[n]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");r.typeProtos[n]=P.onnx.TypeProto.fromObject(t.typeProtos[n])}}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.floats=[],n.ints=[],n.strings=[],n.tensors=[],n.graphs=[],n.typeProtos=[],n.sparseTensors=[]),r.defaults){if(n.name="",n.f=0,$.Long){var s=new $.Long(0,0,!1);n.i=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else n.i=r.longs===String?"0":0;r.bytes===String?n.s="":(n.s=[],r.bytes!==Array&&(n.s=$.newBuffer(n.s))),n.t=null,n.g=null,n.docString="",n.tp=null,n.type=r.enums===String?"UNDEFINED":0,n.refAttrName="",n.sparseTensor=null}if(t.name!=null&&t.hasOwnProperty("name")&&(n.name=t.name),t.f!=null&&t.hasOwnProperty("f")&&(n.f=r.json&&!isFinite(t.f)?String(t.f):t.f),t.i!=null&&t.hasOwnProperty("i")&&(typeof t.i=="number"?n.i=r.longs===String?String(t.i):t.i:n.i=r.longs===String?$.Long.prototype.toString.call(t.i):r.longs===Number?new $.LongBits(t.i.low>>>0,t.i.high>>>0).toNumber():t.i),t.s!=null&&t.hasOwnProperty("s")&&(n.s=r.bytes===String?$.base64.encode(t.s,0,t.s.length):r.bytes===Array?Array.prototype.slice.call(t.s):t.s),t.t!=null&&t.hasOwnProperty("t")&&(n.t=P.onnx.TensorProto.toObject(t.t,r)),t.g!=null&&t.hasOwnProperty("g")&&(n.g=P.onnx.GraphProto.toObject(t.g,r)),t.floats&&t.floats.length){n.floats=[];for(var a=0;a<t.floats.length;++a)n.floats[a]=r.json&&!isFinite(t.floats[a])?String(t.floats[a]):t.floats[a]}if(t.ints&&t.ints.length){n.ints=[];for(var a=0;a<t.ints.length;++a)typeof t.ints[a]=="number"?n.ints[a]=r.longs===String?String(t.ints[a]):t.ints[a]:n.ints[a]=r.longs===String?$.Long.prototype.toString.call(t.ints[a]):r.longs===Number?new $.LongBits(t.ints[a].low>>>0,t.ints[a].high>>>0).toNumber():t.ints[a]}if(t.strings&&t.strings.length){n.strings=[];for(var a=0;a<t.strings.length;++a)n.strings[a]=r.bytes===String?$.base64.encode(t.strings[a],0,t.strings[a].length):r.bytes===Array?Array.prototype.slice.call(t.strings[a]):t.strings[a]}if(t.tensors&&t.tensors.length){n.tensors=[];for(var a=0;a<t.tensors.length;++a)n.tensors[a]=P.onnx.TensorProto.toObject(t.tensors[a],r)}if(t.graphs&&t.graphs.length){n.graphs=[];for(var a=0;a<t.graphs.length;++a)n.graphs[a]=P.onnx.GraphProto.toObject(t.graphs[a],r)}if(t.docString!=null&&t.hasOwnProperty("docString")&&(n.docString=t.docString),t.tp!=null&&t.hasOwnProperty("tp")&&(n.tp=P.onnx.TypeProto.toObject(t.tp,r)),t.typeProtos&&t.typeProtos.length){n.typeProtos=[];for(var a=0;a<t.typeProtos.length;++a)n.typeProtos[a]=P.onnx.TypeProto.toObject(t.typeProtos[a],r)}if(t.type!=null&&t.hasOwnProperty("type")&&(n.type=r.enums===String?P.onnx.AttributeProto.AttributeType[t.type]===void 0?t.type:P.onnx.AttributeProto.AttributeType[t.type]:t.type),t.refAttrName!=null&&t.hasOwnProperty("refAttrName")&&(n.refAttrName=t.refAttrName),t.sparseTensor!=null&&t.hasOwnProperty("sparseTensor")&&(n.sparseTensor=P.onnx.SparseTensorProto.toObject(t.sparseTensor,r)),t.sparseTensors&&t.sparseTensors.length){n.sparseTensors=[];for(var a=0;a<t.sparseTensors.length;++a)n.sparseTensors[a]=P.onnx.SparseTensorProto.toObject(t.sparseTensors[a],r)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.AttributeProto"},e.AttributeType=function(){var o={},t=Object.create(o);return t[o[0]="UNDEFINED"]=0,t[o[1]="FLOAT"]=1,t[o[2]="INT"]=2,t[o[3]="STRING"]=3,t[o[4]="TENSOR"]=4,t[o[5]="GRAPH"]=5,t[o[11]="SPARSE_TENSOR"]=11,t[o[13]="TYPE_PROTO"]=13,t[o[6]="FLOATS"]=6,t[o[7]="INTS"]=7,t[o[8]="STRINGS"]=8,t[o[9]="TENSORS"]=9,t[o[10]="GRAPHS"]=10,t[o[12]="SPARSE_TENSORS"]=12,t[o[14]="TYPE_PROTOS"]=14,t}(),e}(),i.ValueInfoProto=function(){function e(o){if(o)for(var t=Object.keys(o),r=0;r<t.length;++r)o[t[r]]!=null&&(this[t[r]]=o[t[r]])}return e.prototype.name="",e.prototype.type=null,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=ue.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&r.uint32(10).string(t.name),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&P.onnx.TypeProto.encode(t.type,r.uint32(18).fork()).ldelim(),t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(26).string(t.docString),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var n=r===void 0?t.len:t.pos+r,s=new P.onnx.ValueInfoProto;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:{s.name=t.string();break}case 2:{s.type=P.onnx.TypeProto.decode(t,t.uint32());break}case 3:{s.docString=t.string();break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.name!=null&&t.hasOwnProperty("name")&&!$.isString(t.name))return"name: string expected";if(t.type!=null&&t.hasOwnProperty("type")){var r=P.onnx.TypeProto.verify(t.type);if(r)return"type."+r}return t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString)?"docString: string expected":null},e.fromObject=function(t){if(t instanceof P.onnx.ValueInfoProto)return t;var r=new P.onnx.ValueInfoProto;if(t.name!=null&&(r.name=String(t.name)),t.type!=null){if(typeof t.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");r.type=P.onnx.TypeProto.fromObject(t.type)}return t.docString!=null&&(r.docString=String(t.docString)),r},e.toObject=function(t,r){r||(r={});var n={};return r.defaults&&(n.name="",n.type=null,n.docString=""),t.name!=null&&t.hasOwnProperty("name")&&(n.name=t.name),t.type!=null&&t.hasOwnProperty("type")&&(n.type=P.onnx.TypeProto.toObject(t.type,r)),t.docString!=null&&t.hasOwnProperty("docString")&&(n.docString=t.docString),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.ValueInfoProto"},e}(),i.NodeProto=function(){function e(o){if(this.input=[],this.output=[],this.attribute=[],o)for(var t=Object.keys(o),r=0;r<t.length;++r)o[t[r]]!=null&&(this[t[r]]=o[t[r]])}return e.prototype.input=$.emptyArray,e.prototype.output=$.emptyArray,e.prototype.name="",e.prototype.opType="",e.prototype.domain="",e.prototype.attribute=$.emptyArray,e.prototype.docString="",e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.input!=null&&t.input.length)for(var n=0;n<t.input.length;++n)r.uint32(10).string(t.input[n]);if(t.output!=null&&t.output.length)for(var n=0;n<t.output.length;++n)r.uint32(18).string(t.output[n]);if(t.name!=null&&Object.hasOwnProperty.call(t,"name")&&r.uint32(26).string(t.name),t.opType!=null&&Object.hasOwnProperty.call(t,"opType")&&r.uint32(34).string(t.opType),t.attribute!=null&&t.attribute.length)for(var n=0;n<t.attribute.length;++n)P.onnx.AttributeProto.encode(t.attribute[n],r.uint32(42).fork()).ldelim();return t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(50).string(t.docString),t.domain!=null&&Object.hasOwnProperty.call(t,"domain")&&r.uint32(58).string(t.domain),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var n=r===void 0?t.len:t.pos+r,s=new P.onnx.NodeProto;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:{s.input&&s.input.length||(s.input=[]),s.input.push(t.string());break}case 2:{s.output&&s.output.length||(s.output=[]),s.output.push(t.string());break}case 3:{s.name=t.string();break}case 4:{s.opType=t.string();break}case 7:{s.domain=t.string();break}case 5:{s.attribute&&s.attribute.length||(s.attribute=[]),s.attribute.push(P.onnx.AttributeProto.decode(t,t.uint32()));break}case 6:{s.docString=t.string();break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.input!=null&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(var r=0;r<t.input.length;++r)if(!$.isString(t.input[r]))return"input: string[] expected"}if(t.output!=null&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(var r=0;r<t.output.length;++r)if(!$.isString(t.output[r]))return"output: string[] expected"}if(t.name!=null&&t.hasOwnProperty("name")&&!$.isString(t.name))return"name: string expected";if(t.opType!=null&&t.hasOwnProperty("opType")&&!$.isString(t.opType))return"opType: string expected";if(t.domain!=null&&t.hasOwnProperty("domain")&&!$.isString(t.domain))return"domain: string expected";if(t.attribute!=null&&t.hasOwnProperty("attribute")){if(!Array.isArray(t.attribute))return"attribute: array expected";for(var r=0;r<t.attribute.length;++r){var n=P.onnx.AttributeProto.verify(t.attribute[r]);if(n)return"attribute."+n}}return t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString)?"docString: string expected":null},e.fromObject=function(t){if(t instanceof P.onnx.NodeProto)return t;var r=new P.onnx.NodeProto;if(t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.NodeProto.input: array expected");r.input=[];for(var n=0;n<t.input.length;++n)r.input[n]=String(t.input[n])}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.NodeProto.output: array expected");r.output=[];for(var n=0;n<t.output.length;++n)r.output[n]=String(t.output[n])}if(t.name!=null&&(r.name=String(t.name)),t.opType!=null&&(r.opType=String(t.opType)),t.domain!=null&&(r.domain=String(t.domain)),t.attribute){if(!Array.isArray(t.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");r.attribute=[];for(var n=0;n<t.attribute.length;++n){if(typeof t.attribute[n]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");r.attribute[n]=P.onnx.AttributeProto.fromObject(t.attribute[n])}}return t.docString!=null&&(r.docString=String(t.docString)),r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.input=[],n.output=[],n.attribute=[]),r.defaults&&(n.name="",n.opType="",n.docString="",n.domain=""),t.input&&t.input.length){n.input=[];for(var s=0;s<t.input.length;++s)n.input[s]=t.input[s]}if(t.output&&t.output.length){n.output=[];for(var s=0;s<t.output.length;++s)n.output[s]=t.output[s]}if(t.name!=null&&t.hasOwnProperty("name")&&(n.name=t.name),t.opType!=null&&t.hasOwnProperty("opType")&&(n.opType=t.opType),t.attribute&&t.attribute.length){n.attribute=[];for(var s=0;s<t.attribute.length;++s)n.attribute[s]=P.onnx.AttributeProto.toObject(t.attribute[s],r)}return t.docString!=null&&t.hasOwnProperty("docString")&&(n.docString=t.docString),t.domain!=null&&t.hasOwnProperty("domain")&&(n.domain=t.domain),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.NodeProto"},e}(),i.TrainingInfoProto=function(){function e(o){if(this.initializationBinding=[],this.updateBinding=[],o)for(var t=Object.keys(o),r=0;r<t.length;++r)o[t[r]]!=null&&(this[t[r]]=o[t[r]])}return e.prototype.initialization=null,e.prototype.algorithm=null,e.prototype.initializationBinding=$.emptyArray,e.prototype.updateBinding=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.initialization!=null&&Object.hasOwnProperty.call(t,"initialization")&&P.onnx.GraphProto.encode(t.initialization,r.uint32(10).fork()).ldelim(),t.algorithm!=null&&Object.hasOwnProperty.call(t,"algorithm")&&P.onnx.GraphProto.encode(t.algorithm,r.uint32(18).fork()).ldelim(),t.initializationBinding!=null&&t.initializationBinding.length)for(var n=0;n<t.initializationBinding.length;++n)P.onnx.StringStringEntryProto.encode(t.initializationBinding[n],r.uint32(26).fork()).ldelim();if(t.updateBinding!=null&&t.updateBinding.length)for(var n=0;n<t.updateBinding.length;++n)P.onnx.StringStringEntryProto.encode(t.updateBinding[n],r.uint32(34).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var n=r===void 0?t.len:t.pos+r,s=new P.onnx.TrainingInfoProto;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:{s.initialization=P.onnx.GraphProto.decode(t,t.uint32());break}case 2:{s.algorithm=P.onnx.GraphProto.decode(t,t.uint32());break}case 3:{s.initializationBinding&&s.initializationBinding.length||(s.initializationBinding=[]),s.initializationBinding.push(P.onnx.StringStringEntryProto.decode(t,t.uint32()));break}case 4:{s.updateBinding&&s.updateBinding.length||(s.updateBinding=[]),s.updateBinding.push(P.onnx.StringStringEntryProto.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.initialization!=null&&t.hasOwnProperty("initialization")){var r=P.onnx.GraphProto.verify(t.initialization);if(r)return"initialization."+r}if(t.algorithm!=null&&t.hasOwnProperty("algorithm")){var r=P.onnx.GraphProto.verify(t.algorithm);if(r)return"algorithm."+r}if(t.initializationBinding!=null&&t.hasOwnProperty("initializationBinding")){if(!Array.isArray(t.initializationBinding))return"initializationBinding: array expected";for(var n=0;n<t.initializationBinding.length;++n){var r=P.onnx.StringStringEntryProto.verify(t.initializationBinding[n]);if(r)return"initializationBinding."+r}}if(t.updateBinding!=null&&t.hasOwnProperty("updateBinding")){if(!Array.isArray(t.updateBinding))return"updateBinding: array expected";for(var n=0;n<t.updateBinding.length;++n){var r=P.onnx.StringStringEntryProto.verify(t.updateBinding[n]);if(r)return"updateBinding."+r}}return null},e.fromObject=function(t){if(t instanceof P.onnx.TrainingInfoProto)return t;var r=new P.onnx.TrainingInfoProto;if(t.initialization!=null){if(typeof t.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");r.initialization=P.onnx.GraphProto.fromObject(t.initialization)}if(t.algorithm!=null){if(typeof t.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");r.algorithm=P.onnx.GraphProto.fromObject(t.algorithm)}if(t.initializationBinding){if(!Array.isArray(t.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");r.initializationBinding=[];for(var n=0;n<t.initializationBinding.length;++n){if(typeof t.initializationBinding[n]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");r.initializationBinding[n]=P.onnx.StringStringEntryProto.fromObject(t.initializationBinding[n])}}if(t.updateBinding){if(!Array.isArray(t.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");r.updateBinding=[];for(var n=0;n<t.updateBinding.length;++n){if(typeof t.updateBinding[n]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");r.updateBinding[n]=P.onnx.StringStringEntryProto.fromObject(t.updateBinding[n])}}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.initializationBinding=[],n.updateBinding=[]),r.defaults&&(n.initialization=null,n.algorithm=null),t.initialization!=null&&t.hasOwnProperty("initialization")&&(n.initialization=P.onnx.GraphProto.toObject(t.initialization,r)),t.algorithm!=null&&t.hasOwnProperty("algorithm")&&(n.algorithm=P.onnx.GraphProto.toObject(t.algorithm,r)),t.initializationBinding&&t.initializationBinding.length){n.initializationBinding=[];for(var s=0;s<t.initializationBinding.length;++s)n.initializationBinding[s]=P.onnx.StringStringEntryProto.toObject(t.initializationBinding[s],r)}if(t.updateBinding&&t.updateBinding.length){n.updateBinding=[];for(var s=0;s<t.updateBinding.length;++s)n.updateBinding[s]=P.onnx.StringStringEntryProto.toObject(t.updateBinding[s],r)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TrainingInfoProto"},e}(),i.ModelProto=function(){function e(o){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],o)for(var t=Object.keys(o),r=0;r<t.length;++r)o[t[r]]!=null&&(this[t[r]]=o[t[r]])}return e.prototype.irVersion=$.Long?$.Long.fromBits(0,0,!1):0,e.prototype.opsetImport=$.emptyArray,e.prototype.producerName="",e.prototype.producerVersion="",e.prototype.domain="",e.prototype.modelVersion=$.Long?$.Long.fromBits(0,0,!1):0,e.prototype.docString="",e.prototype.graph=null,e.prototype.metadataProps=$.emptyArray,e.prototype.trainingInfo=$.emptyArray,e.prototype.functions=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.irVersion!=null&&Object.hasOwnProperty.call(t,"irVersion")&&r.uint32(8).int64(t.irVersion),t.producerName!=null&&Object.hasOwnProperty.call(t,"producerName")&&r.uint32(18).string(t.producerName),t.producerVersion!=null&&Object.hasOwnProperty.call(t,"producerVersion")&&r.uint32(26).string(t.producerVersion),t.domain!=null&&Object.hasOwnProperty.call(t,"domain")&&r.uint32(34).string(t.domain),t.modelVersion!=null&&Object.hasOwnProperty.call(t,"modelVersion")&&r.uint32(40).int64(t.modelVersion),t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(50).string(t.docString),t.graph!=null&&Object.hasOwnProperty.call(t,"graph")&&P.onnx.GraphProto.encode(t.graph,r.uint32(58).fork()).ldelim(),t.opsetImport!=null&&t.opsetImport.length)for(var n=0;n<t.opsetImport.length;++n)P.onnx.OperatorSetIdProto.encode(t.opsetImport[n],r.uint32(66).fork()).ldelim();if(t.metadataProps!=null&&t.metadataProps.length)for(var n=0;n<t.metadataProps.length;++n)P.onnx.StringStringEntryProto.encode(t.metadataProps[n],r.uint32(114).fork()).ldelim();if(t.trainingInfo!=null&&t.trainingInfo.length)for(var n=0;n<t.trainingInfo.length;++n)P.onnx.TrainingInfoProto.encode(t.trainingInfo[n],r.uint32(162).fork()).ldelim();if(t.functions!=null&&t.functions.length)for(var n=0;n<t.functions.length;++n)P.onnx.FunctionProto.encode(t.functions[n],r.uint32(202).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var n=r===void 0?t.len:t.pos+r,s=new P.onnx.ModelProto;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:{s.irVersion=t.int64();break}case 8:{s.opsetImport&&s.opsetImport.length||(s.opsetImport=[]),s.opsetImport.push(P.onnx.OperatorSetIdProto.decode(t,t.uint32()));break}case 2:{s.producerName=t.string();break}case 3:{s.producerVersion=t.string();break}case 4:{s.domain=t.string();break}case 5:{s.modelVersion=t.int64();break}case 6:{s.docString=t.string();break}case 7:{s.graph=P.onnx.GraphProto.decode(t,t.uint32());break}case 14:{s.metadataProps&&s.metadataProps.length||(s.metadataProps=[]),s.metadataProps.push(P.onnx.StringStringEntryProto.decode(t,t.uint32()));break}case 20:{s.trainingInfo&&s.trainingInfo.length||(s.trainingInfo=[]),s.trainingInfo.push(P.onnx.TrainingInfoProto.decode(t,t.uint32()));break}case 25:{s.functions&&s.functions.length||(s.functions=[]),s.functions.push(P.onnx.FunctionProto.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.irVersion!=null&&t.hasOwnProperty("irVersion")&&!$.isInteger(t.irVersion)&&!(t.irVersion&&$.isInteger(t.irVersion.low)&&$.isInteger(t.irVersion.high)))return"irVersion: integer|Long expected";if(t.opsetImport!=null&&t.hasOwnProperty("opsetImport")){if(!Array.isArray(t.opsetImport))return"opsetImport: array expected";for(var r=0;r<t.opsetImport.length;++r){var n=P.onnx.OperatorSetIdProto.verify(t.opsetImport[r]);if(n)return"opsetImport."+n}}if(t.producerName!=null&&t.hasOwnProperty("producerName")&&!$.isString(t.producerName))return"producerName: string expected";if(t.producerVersion!=null&&t.hasOwnProperty("producerVersion")&&!$.isString(t.producerVersion))return"producerVersion: string expected";if(t.domain!=null&&t.hasOwnProperty("domain")&&!$.isString(t.domain))return"domain: string expected";if(t.modelVersion!=null&&t.hasOwnProperty("modelVersion")&&!$.isInteger(t.modelVersion)&&!(t.modelVersion&&$.isInteger(t.modelVersion.low)&&$.isInteger(t.modelVersion.high)))return"modelVersion: integer|Long expected";if(t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString))return"docString: string expected";if(t.graph!=null&&t.hasOwnProperty("graph")){var n=P.onnx.GraphProto.verify(t.graph);if(n)return"graph."+n}if(t.metadataProps!=null&&t.hasOwnProperty("metadataProps")){if(!Array.isArray(t.metadataProps))return"metadataProps: array expected";for(var r=0;r<t.metadataProps.length;++r){var n=P.onnx.StringStringEntryProto.verify(t.metadataProps[r]);if(n)return"metadataProps."+n}}if(t.trainingInfo!=null&&t.hasOwnProperty("trainingInfo")){if(!Array.isArray(t.trainingInfo))return"trainingInfo: array expected";for(var r=0;r<t.trainingInfo.length;++r){var n=P.onnx.TrainingInfoProto.verify(t.trainingInfo[r]);if(n)return"trainingInfo."+n}}if(t.functions!=null&&t.hasOwnProperty("functions")){if(!Array.isArray(t.functions))return"functions: array expected";for(var r=0;r<t.functions.length;++r){var n=P.onnx.FunctionProto.verify(t.functions[r]);if(n)return"functions."+n}}return null},e.fromObject=function(t){if(t instanceof P.onnx.ModelProto)return t;var r=new P.onnx.ModelProto;if(t.irVersion!=null&&($.Long?(r.irVersion=$.Long.fromValue(t.irVersion)).unsigned=!1:typeof t.irVersion=="string"?r.irVersion=parseInt(t.irVersion,10):typeof t.irVersion=="number"?r.irVersion=t.irVersion:typeof t.irVersion=="object"&&(r.irVersion=new $.LongBits(t.irVersion.low>>>0,t.irVersion.high>>>0).toNumber())),t.opsetImport){if(!Array.isArray(t.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");r.opsetImport=[];for(var n=0;n<t.opsetImport.length;++n){if(typeof t.opsetImport[n]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");r.opsetImport[n]=P.onnx.OperatorSetIdProto.fromObject(t.opsetImport[n])}}if(t.producerName!=null&&(r.producerName=String(t.producerName)),t.producerVersion!=null&&(r.producerVersion=String(t.producerVersion)),t.domain!=null&&(r.domain=String(t.domain)),t.modelVersion!=null&&($.Long?(r.modelVersion=$.Long.fromValue(t.modelVersion)).unsigned=!1:typeof t.modelVersion=="string"?r.modelVersion=parseInt(t.modelVersion,10):typeof t.modelVersion=="number"?r.modelVersion=t.modelVersion:typeof t.modelVersion=="object"&&(r.modelVersion=new $.LongBits(t.modelVersion.low>>>0,t.modelVersion.high>>>0).toNumber())),t.docString!=null&&(r.docString=String(t.docString)),t.graph!=null){if(typeof t.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");r.graph=P.onnx.GraphProto.fromObject(t.graph)}if(t.metadataProps){if(!Array.isArray(t.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");r.metadataProps=[];for(var n=0;n<t.metadataProps.length;++n){if(typeof t.metadataProps[n]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");r.metadataProps[n]=P.onnx.StringStringEntryProto.fromObject(t.metadataProps[n])}}if(t.trainingInfo){if(!Array.isArray(t.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");r.trainingInfo=[];for(var n=0;n<t.trainingInfo.length;++n){if(typeof t.trainingInfo[n]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");r.trainingInfo[n]=P.onnx.TrainingInfoProto.fromObject(t.trainingInfo[n])}}if(t.functions){if(!Array.isArray(t.functions))throw TypeError(".onnx.ModelProto.functions: array expected");r.functions=[];for(var n=0;n<t.functions.length;++n){if(typeof t.functions[n]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");r.functions[n]=P.onnx.FunctionProto.fromObject(t.functions[n])}}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.opsetImport=[],n.metadataProps=[],n.trainingInfo=[],n.functions=[]),r.defaults){if($.Long){var s=new $.Long(0,0,!1);n.irVersion=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else n.irVersion=r.longs===String?"0":0;if(n.producerName="",n.producerVersion="",n.domain="",$.Long){var s=new $.Long(0,0,!1);n.modelVersion=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else n.modelVersion=r.longs===String?"0":0;n.docString="",n.graph=null}if(t.irVersion!=null&&t.hasOwnProperty("irVersion")&&(typeof t.irVersion=="number"?n.irVersion=r.longs===String?String(t.irVersion):t.irVersion:n.irVersion=r.longs===String?$.Long.prototype.toString.call(t.irVersion):r.longs===Number?new $.LongBits(t.irVersion.low>>>0,t.irVersion.high>>>0).toNumber():t.irVersion),t.producerName!=null&&t.hasOwnProperty("producerName")&&(n.producerName=t.producerName),t.producerVersion!=null&&t.hasOwnProperty("producerVersion")&&(n.producerVersion=t.producerVersion),t.domain!=null&&t.hasOwnProperty("domain")&&(n.domain=t.domain),t.modelVersion!=null&&t.hasOwnProperty("modelVersion")&&(typeof t.modelVersion=="number"?n.modelVersion=r.longs===String?String(t.modelVersion):t.modelVersion:n.modelVersion=r.longs===String?$.Long.prototype.toString.call(t.modelVersion):r.longs===Number?new $.LongBits(t.modelVersion.low>>>0,t.modelVersion.high>>>0).toNumber():t.modelVersion),t.docString!=null&&t.hasOwnProperty("docString")&&(n.docString=t.docString),t.graph!=null&&t.hasOwnProperty("graph")&&(n.graph=P.onnx.GraphProto.toObject(t.graph,r)),t.opsetImport&&t.opsetImport.length){n.opsetImport=[];for(var a=0;a<t.opsetImport.length;++a)n.opsetImport[a]=P.onnx.OperatorSetIdProto.toObject(t.opsetImport[a],r)}if(t.metadataProps&&t.metadataProps.length){n.metadataProps=[];for(var a=0;a<t.metadataProps.length;++a)n.metadataProps[a]=P.onnx.StringStringEntryProto.toObject(t.metadataProps[a],r)}if(t.trainingInfo&&t.trainingInfo.length){n.trainingInfo=[];for(var a=0;a<t.trainingInfo.length;++a)n.trainingInfo[a]=P.onnx.TrainingInfoProto.toObject(t.trainingInfo[a],r)}if(t.functions&&t.functions.length){n.functions=[];for(var a=0;a<t.functions.length;++a)n.functions[a]=P.onnx.FunctionProto.toObject(t.functions[a],r)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.ModelProto"},e}(),i.StringStringEntryProto=function(){function e(o){if(o)for(var t=Object.keys(o),r=0;r<t.length;++r)o[t[r]]!=null&&(this[t[r]]=o[t[r]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=ue.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&r.uint32(10).string(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&r.uint32(18).string(t.value),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var n=r===void 0?t.len:t.pos+r,s=new P.onnx.StringStringEntryProto;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:{s.key=t.string();break}case 2:{s.value=t.string();break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.key!=null&&t.hasOwnProperty("key")&&!$.isString(t.key)?"key: string expected":t.value!=null&&t.hasOwnProperty("value")&&!$.isString(t.value)?"value: string expected":null},e.fromObject=function(t){if(t instanceof P.onnx.StringStringEntryProto)return t;var r=new P.onnx.StringStringEntryProto;return t.key!=null&&(r.key=String(t.key)),t.value!=null&&(r.value=String(t.value)),r},e.toObject=function(t,r){r||(r={});var n={};return r.defaults&&(n.key="",n.value=""),t.key!=null&&t.hasOwnProperty("key")&&(n.key=t.key),t.value!=null&&t.hasOwnProperty("value")&&(n.value=t.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.StringStringEntryProto"},e}(),i.TensorAnnotation=function(){function e(o){if(this.quantParameterTensorNames=[],o)for(var t=Object.keys(o),r=0;r<t.length;++r)o[t[r]]!=null&&(this[t[r]]=o[t[r]])}return e.prototype.tensorName="",e.prototype.quantParameterTensorNames=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.tensorName!=null&&Object.hasOwnProperty.call(t,"tensorName")&&r.uint32(10).string(t.tensorName),t.quantParameterTensorNames!=null&&t.quantParameterTensorNames.length)for(var n=0;n<t.quantParameterTensorNames.length;++n)P.onnx.StringStringEntryProto.encode(t.quantParameterTensorNames[n],r.uint32(18).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var n=r===void 0?t.len:t.pos+r,s=new P.onnx.TensorAnnotation;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:{s.tensorName=t.string();break}case 2:{s.quantParameterTensorNames&&s.quantParameterTensorNames.length||(s.quantParameterTensorNames=[]),s.quantParameterTensorNames.push(P.onnx.StringStringEntryProto.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.tensorName!=null&&t.hasOwnProperty("tensorName")&&!$.isString(t.tensorName))return"tensorName: string expected";if(t.quantParameterTensorNames!=null&&t.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(t.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var r=0;r<t.quantParameterTensorNames.length;++r){var n=P.onnx.StringStringEntryProto.verify(t.quantParameterTensorNames[r]);if(n)return"quantParameterTensorNames."+n}}return null},e.fromObject=function(t){if(t instanceof P.onnx.TensorAnnotation)return t;var r=new P.onnx.TensorAnnotation;if(t.tensorName!=null&&(r.tensorName=String(t.tensorName)),t.quantParameterTensorNames){if(!Array.isArray(t.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");r.quantParameterTensorNames=[];for(var n=0;n<t.quantParameterTensorNames.length;++n){if(typeof t.quantParameterTensorNames[n]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");r.quantParameterTensorNames[n]=P.onnx.StringStringEntryProto.fromObject(t.quantParameterTensorNames[n])}}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.quantParameterTensorNames=[]),r.defaults&&(n.tensorName=""),t.tensorName!=null&&t.hasOwnProperty("tensorName")&&(n.tensorName=t.tensorName),t.quantParameterTensorNames&&t.quantParameterTensorNames.length){n.quantParameterTensorNames=[];for(var s=0;s<t.quantParameterTensorNames.length;++s)n.quantParameterTensorNames[s]=P.onnx.StringStringEntryProto.toObject(t.quantParameterTensorNames[s],r)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TensorAnnotation"},e}(),i.GraphProto=function(){function e(o){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],o)for(var t=Object.keys(o),r=0;r<t.length;++r)o[t[r]]!=null&&(this[t[r]]=o[t[r]])}return e.prototype.node=$.emptyArray,e.prototype.name="",e.prototype.initializer=$.emptyArray,e.prototype.sparseInitializer=$.emptyArray,e.prototype.docString="",e.prototype.input=$.emptyArray,e.prototype.output=$.emptyArray,e.prototype.valueInfo=$.emptyArray,e.prototype.quantizationAnnotation=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.node!=null&&t.node.length)for(var n=0;n<t.node.length;++n)P.onnx.NodeProto.encode(t.node[n],r.uint32(10).fork()).ldelim();if(t.name!=null&&Object.hasOwnProperty.call(t,"name")&&r.uint32(18).string(t.name),t.initializer!=null&&t.initializer.length)for(var n=0;n<t.initializer.length;++n)P.onnx.TensorProto.encode(t.initializer[n],r.uint32(42).fork()).ldelim();if(t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(82).string(t.docString),t.input!=null&&t.input.length)for(var n=0;n<t.input.length;++n)P.onnx.ValueInfoProto.encode(t.input[n],r.uint32(90).fork()).ldelim();if(t.output!=null&&t.output.length)for(var n=0;n<t.output.length;++n)P.onnx.ValueInfoProto.encode(t.output[n],r.uint32(98).fork()).ldelim();if(t.valueInfo!=null&&t.valueInfo.length)for(var n=0;n<t.valueInfo.length;++n)P.onnx.ValueInfoProto.encode(t.valueInfo[n],r.uint32(106).fork()).ldelim();if(t.quantizationAnnotation!=null&&t.quantizationAnnotation.length)for(var n=0;n<t.quantizationAnnotation.length;++n)P.onnx.TensorAnnotation.encode(t.quantizationAnnotation[n],r.uint32(114).fork()).ldelim();if(t.sparseInitializer!=null&&t.sparseInitializer.length)for(var n=0;n<t.sparseInitializer.length;++n)P.onnx.SparseTensorProto.encode(t.sparseInitializer[n],r.uint32(122).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var n=r===void 0?t.len:t.pos+r,s=new P.onnx.GraphProto;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:{s.node&&s.node.length||(s.node=[]),s.node.push(P.onnx.NodeProto.decode(t,t.uint32()));break}case 2:{s.name=t.string();break}case 5:{s.initializer&&s.initializer.length||(s.initializer=[]),s.initializer.push(P.onnx.TensorProto.decode(t,t.uint32()));break}case 15:{s.sparseInitializer&&s.sparseInitializer.length||(s.sparseInitializer=[]),s.sparseInitializer.push(P.onnx.SparseTensorProto.decode(t,t.uint32()));break}case 10:{s.docString=t.string();break}case 11:{s.input&&s.input.length||(s.input=[]),s.input.push(P.onnx.ValueInfoProto.decode(t,t.uint32()));break}case 12:{s.output&&s.output.length||(s.output=[]),s.output.push(P.onnx.ValueInfoProto.decode(t,t.uint32()));break}case 13:{s.valueInfo&&s.valueInfo.length||(s.valueInfo=[]),s.valueInfo.push(P.onnx.ValueInfoProto.decode(t,t.uint32()));break}case 14:{s.quantizationAnnotation&&s.quantizationAnnotation.length||(s.quantizationAnnotation=[]),s.quantizationAnnotation.push(P.onnx.TensorAnnotation.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.node!=null&&t.hasOwnProperty("node")){if(!Array.isArray(t.node))return"node: array expected";for(var r=0;r<t.node.length;++r){var n=P.onnx.NodeProto.verify(t.node[r]);if(n)return"node."+n}}if(t.name!=null&&t.hasOwnProperty("name")&&!$.isString(t.name))return"name: string expected";if(t.initializer!=null&&t.hasOwnProperty("initializer")){if(!Array.isArray(t.initializer))return"initializer: array expected";for(var r=0;r<t.initializer.length;++r){var n=P.onnx.TensorProto.verify(t.initializer[r]);if(n)return"initializer."+n}}if(t.sparseInitializer!=null&&t.hasOwnProperty("sparseInitializer")){if(!Array.isArray(t.sparseInitializer))return"sparseInitializer: array expected";for(var r=0;r<t.sparseInitializer.length;++r){var n=P.onnx.SparseTensorProto.verify(t.sparseInitializer[r]);if(n)return"sparseInitializer."+n}}if(t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString))return"docString: string expected";if(t.input!=null&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(var r=0;r<t.input.length;++r){var n=P.onnx.ValueInfoProto.verify(t.input[r]);if(n)return"input."+n}}if(t.output!=null&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(var r=0;r<t.output.length;++r){var n=P.onnx.ValueInfoProto.verify(t.output[r]);if(n)return"output."+n}}if(t.valueInfo!=null&&t.hasOwnProperty("valueInfo")){if(!Array.isArray(t.valueInfo))return"valueInfo: array expected";for(var r=0;r<t.valueInfo.length;++r){var n=P.onnx.ValueInfoProto.verify(t.valueInfo[r]);if(n)return"valueInfo."+n}}if(t.quantizationAnnotation!=null&&t.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(t.quantizationAnnotation))return"quantizationAnnotation: array expected";for(var r=0;r<t.quantizationAnnotation.length;++r){var n=P.onnx.TensorAnnotation.verify(t.quantizationAnnotation[r]);if(n)return"quantizationAnnotation."+n}}return null},e.fromObject=function(t){if(t instanceof P.onnx.GraphProto)return t;var r=new P.onnx.GraphProto;if(t.node){if(!Array.isArray(t.node))throw TypeError(".onnx.GraphProto.node: array expected");r.node=[];for(var n=0;n<t.node.length;++n){if(typeof t.node[n]!="object")throw TypeError(".onnx.GraphProto.node: object expected");r.node[n]=P.onnx.NodeProto.fromObject(t.node[n])}}if(t.name!=null&&(r.name=String(t.name)),t.initializer){if(!Array.isArray(t.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");r.initializer=[];for(var n=0;n<t.initializer.length;++n){if(typeof t.initializer[n]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");r.initializer[n]=P.onnx.TensorProto.fromObject(t.initializer[n])}}if(t.sparseInitializer){if(!Array.isArray(t.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");r.sparseInitializer=[];for(var n=0;n<t.sparseInitializer.length;++n){if(typeof t.sparseInitializer[n]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");r.sparseInitializer[n]=P.onnx.SparseTensorProto.fromObject(t.sparseInitializer[n])}}if(t.docString!=null&&(r.docString=String(t.docString)),t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.GraphProto.input: array expected");r.input=[];for(var n=0;n<t.input.length;++n){if(typeof t.input[n]!="object")throw TypeError(".onnx.GraphProto.input: object expected");r.input[n]=P.onnx.ValueInfoProto.fromObject(t.input[n])}}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.GraphProto.output: array expected");r.output=[];for(var n=0;n<t.output.length;++n){if(typeof t.output[n]!="object")throw TypeError(".onnx.GraphProto.output: object expected");r.output[n]=P.onnx.ValueInfoProto.fromObject(t.output[n])}}if(t.valueInfo){if(!Array.isArray(t.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");r.valueInfo=[];for(var n=0;n<t.valueInfo.length;++n){if(typeof t.valueInfo[n]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");r.valueInfo[n]=P.onnx.ValueInfoProto.fromObject(t.valueInfo[n])}}if(t.quantizationAnnotation){if(!Array.isArray(t.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");r.quantizationAnnotation=[];for(var n=0;n<t.quantizationAnnotation.length;++n){if(typeof t.quantizationAnnotation[n]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");r.quantizationAnnotation[n]=P.onnx.TensorAnnotation.fromObject(t.quantizationAnnotation[n])}}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.node=[],n.initializer=[],n.input=[],n.output=[],n.valueInfo=[],n.quantizationAnnotation=[],n.sparseInitializer=[]),r.defaults&&(n.name="",n.docString=""),t.node&&t.node.length){n.node=[];for(var s=0;s<t.node.length;++s)n.node[s]=P.onnx.NodeProto.toObject(t.node[s],r)}if(t.name!=null&&t.hasOwnProperty("name")&&(n.name=t.name),t.initializer&&t.initializer.length){n.initializer=[];for(var s=0;s<t.initializer.length;++s)n.initializer[s]=P.onnx.TensorProto.toObject(t.initializer[s],r)}if(t.docString!=null&&t.hasOwnProperty("docString")&&(n.docString=t.docString),t.input&&t.input.length){n.input=[];for(var s=0;s<t.input.length;++s)n.input[s]=P.onnx.ValueInfoProto.toObject(t.input[s],r)}if(t.output&&t.output.length){n.output=[];for(var s=0;s<t.output.length;++s)n.output[s]=P.onnx.ValueInfoProto.toObject(t.output[s],r)}if(t.valueInfo&&t.valueInfo.length){n.valueInfo=[];for(var s=0;s<t.valueInfo.length;++s)n.valueInfo[s]=P.onnx.ValueInfoProto.toObject(t.valueInfo[s],r)}if(t.quantizationAnnotation&&t.quantizationAnnotation.length){n.quantizationAnnotation=[];for(var s=0;s<t.quantizationAnnotation.length;++s)n.quantizationAnnotation[s]=P.onnx.TensorAnnotation.toObject(t.quantizationAnnotation[s],r)}if(t.sparseInitializer&&t.sparseInitializer.length){n.sparseInitializer=[];for(var s=0;s<t.sparseInitializer.length;++s)n.sparseInitializer[s]=P.onnx.SparseTensorProto.toObject(t.sparseInitializer[s],r)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.GraphProto"},e}(),i.TensorProto=function(){function e(o){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],o)for(var t=Object.keys(o),r=0;r<t.length;++r)o[t[r]]!=null&&(this[t[r]]=o[t[r]])}return e.prototype.dims=$.emptyArray,e.prototype.dataType=0,e.prototype.segment=null,e.prototype.floatData=$.emptyArray,e.prototype.int32Data=$.emptyArray,e.prototype.stringData=$.emptyArray,e.prototype.int64Data=$.emptyArray,e.prototype.name="",e.prototype.docString="",e.prototype.rawData=$.newBuffer([]),e.prototype.externalData=$.emptyArray,e.prototype.dataLocation=0,e.prototype.doubleData=$.emptyArray,e.prototype.uint64Data=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.dims!=null&&t.dims.length){r.uint32(10).fork();for(var n=0;n<t.dims.length;++n)r.int64(t.dims[n]);r.ldelim()}if(t.dataType!=null&&Object.hasOwnProperty.call(t,"dataType")&&r.uint32(16).int32(t.dataType),t.segment!=null&&Object.hasOwnProperty.call(t,"segment")&&P.onnx.TensorProto.Segment.encode(t.segment,r.uint32(26).fork()).ldelim(),t.floatData!=null&&t.floatData.length){r.uint32(34).fork();for(var n=0;n<t.floatData.length;++n)r.float(t.floatData[n]);r.ldelim()}if(t.int32Data!=null&&t.int32Data.length){r.uint32(42).fork();for(var n=0;n<t.int32Data.length;++n)r.int32(t.int32Data[n]);r.ldelim()}if(t.stringData!=null&&t.stringData.length)for(var n=0;n<t.stringData.length;++n)r.uint32(50).bytes(t.stringData[n]);if(t.int64Data!=null&&t.int64Data.length){r.uint32(58).fork();for(var n=0;n<t.int64Data.length;++n)r.int64(t.int64Data[n]);r.ldelim()}if(t.name!=null&&Object.hasOwnProperty.call(t,"name")&&r.uint32(66).string(t.name),t.rawData!=null&&Object.hasOwnProperty.call(t,"rawData")&&r.uint32(74).bytes(t.rawData),t.doubleData!=null&&t.doubleData.length){r.uint32(82).fork();for(var n=0;n<t.doubleData.length;++n)r.double(t.doubleData[n]);r.ldelim()}if(t.uint64Data!=null&&t.uint64Data.length){r.uint32(90).fork();for(var n=0;n<t.uint64Data.length;++n)r.uint64(t.uint64Data[n]);r.ldelim()}if(t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(98).string(t.docString),t.externalData!=null&&t.externalData.length)for(var n=0;n<t.externalData.length;++n)P.onnx.StringStringEntryProto.encode(t.externalData[n],r.uint32(106).fork()).ldelim();return t.dataLocation!=null&&Object.hasOwnProperty.call(t,"dataLocation")&&r.uint32(112).int32(t.dataLocation),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var n=r===void 0?t.len:t.pos+r,s=new P.onnx.TensorProto;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:{if(s.dims&&s.dims.length||(s.dims=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.dims.push(t.int64());else s.dims.push(t.int64());break}case 2:{s.dataType=t.int32();break}case 3:{s.segment=P.onnx.TensorProto.Segment.decode(t,t.uint32());break}case 4:{if(s.floatData&&s.floatData.length||(s.floatData=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.floatData.push(t.float());else s.floatData.push(t.float());break}case 5:{if(s.int32Data&&s.int32Data.length||(s.int32Data=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.int32Data.push(t.int32());else s.int32Data.push(t.int32());break}case 6:{s.stringData&&s.stringData.length||(s.stringData=[]),s.stringData.push(t.bytes());break}case 7:{if(s.int64Data&&s.int64Data.length||(s.int64Data=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.int64Data.push(t.int64());else s.int64Data.push(t.int64());break}case 8:{s.name=t.string();break}case 12:{s.docString=t.string();break}case 9:{s.rawData=t.bytes();break}case 13:{s.externalData&&s.externalData.length||(s.externalData=[]),s.externalData.push(P.onnx.StringStringEntryProto.decode(t,t.uint32()));break}case 14:{s.dataLocation=t.int32();break}case 10:{if(s.doubleData&&s.doubleData.length||(s.doubleData=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.doubleData.push(t.double());else s.doubleData.push(t.double());break}case 11:{if(s.uint64Data&&s.uint64Data.length||(s.uint64Data=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.uint64Data.push(t.uint64());else s.uint64Data.push(t.uint64());break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dims!=null&&t.hasOwnProperty("dims")){if(!Array.isArray(t.dims))return"dims: array expected";for(var r=0;r<t.dims.length;++r)if(!$.isInteger(t.dims[r])&&!(t.dims[r]&&$.isInteger(t.dims[r].low)&&$.isInteger(t.dims[r].high)))return"dims: integer|Long[] expected"}if(t.dataType!=null&&t.hasOwnProperty("dataType")&&!$.isInteger(t.dataType))return"dataType: integer expected";if(t.segment!=null&&t.hasOwnProperty("segment")){var n=P.onnx.TensorProto.Segment.verify(t.segment);if(n)return"segment."+n}if(t.floatData!=null&&t.hasOwnProperty("floatData")){if(!Array.isArray(t.floatData))return"floatData: array expected";for(var r=0;r<t.floatData.length;++r)if(typeof t.floatData[r]!="number")return"floatData: number[] expected"}if(t.int32Data!=null&&t.hasOwnProperty("int32Data")){if(!Array.isArray(t.int32Data))return"int32Data: array expected";for(var r=0;r<t.int32Data.length;++r)if(!$.isInteger(t.int32Data[r]))return"int32Data: integer[] expected"}if(t.stringData!=null&&t.hasOwnProperty("stringData")){if(!Array.isArray(t.stringData))return"stringData: array expected";for(var r=0;r<t.stringData.length;++r)if(!(t.stringData[r]&&typeof t.stringData[r].length=="number"||$.isString(t.stringData[r])))return"stringData: buffer[] expected"}if(t.int64Data!=null&&t.hasOwnProperty("int64Data")){if(!Array.isArray(t.int64Data))return"int64Data: array expected";for(var r=0;r<t.int64Data.length;++r)if(!$.isInteger(t.int64Data[r])&&!(t.int64Data[r]&&$.isInteger(t.int64Data[r].low)&&$.isInteger(t.int64Data[r].high)))return"int64Data: integer|Long[] expected"}if(t.name!=null&&t.hasOwnProperty("name")&&!$.isString(t.name))return"name: string expected";if(t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString))return"docString: string expected";if(t.rawData!=null&&t.hasOwnProperty("rawData")&&!(t.rawData&&typeof t.rawData.length=="number"||$.isString(t.rawData)))return"rawData: buffer expected";if(t.externalData!=null&&t.hasOwnProperty("externalData")){if(!Array.isArray(t.externalData))return"externalData: array expected";for(var r=0;r<t.externalData.length;++r){var n=P.onnx.StringStringEntryProto.verify(t.externalData[r]);if(n)return"externalData."+n}}if(t.dataLocation!=null&&t.hasOwnProperty("dataLocation"))switch(t.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:break}if(t.doubleData!=null&&t.hasOwnProperty("doubleData")){if(!Array.isArray(t.doubleData))return"doubleData: array expected";for(var r=0;r<t.doubleData.length;++r)if(typeof t.doubleData[r]!="number")return"doubleData: number[] expected"}if(t.uint64Data!=null&&t.hasOwnProperty("uint64Data")){if(!Array.isArray(t.uint64Data))return"uint64Data: array expected";for(var r=0;r<t.uint64Data.length;++r)if(!$.isInteger(t.uint64Data[r])&&!(t.uint64Data[r]&&$.isInteger(t.uint64Data[r].low)&&$.isInteger(t.uint64Data[r].high)))return"uint64Data: integer|Long[] expected"}return null},e.fromObject=function(t){if(t instanceof P.onnx.TensorProto)return t;var r=new P.onnx.TensorProto;if(t.dims){if(!Array.isArray(t.dims))throw TypeError(".onnx.TensorProto.dims: array expected");r.dims=[];for(var n=0;n<t.dims.length;++n)$.Long?(r.dims[n]=$.Long.fromValue(t.dims[n])).unsigned=!1:typeof t.dims[n]=="string"?r.dims[n]=parseInt(t.dims[n],10):typeof t.dims[n]=="number"?r.dims[n]=t.dims[n]:typeof t.dims[n]=="object"&&(r.dims[n]=new $.LongBits(t.dims[n].low>>>0,t.dims[n].high>>>0).toNumber())}if(t.dataType!=null&&(r.dataType=t.dataType|0),t.segment!=null){if(typeof t.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");r.segment=P.onnx.TensorProto.Segment.fromObject(t.segment)}if(t.floatData){if(!Array.isArray(t.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");r.floatData=[];for(var n=0;n<t.floatData.length;++n)r.floatData[n]=Number(t.floatData[n])}if(t.int32Data){if(!Array.isArray(t.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");r.int32Data=[];for(var n=0;n<t.int32Data.length;++n)r.int32Data[n]=t.int32Data[n]|0}if(t.stringData){if(!Array.isArray(t.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");r.stringData=[];for(var n=0;n<t.stringData.length;++n)typeof t.stringData[n]=="string"?$.base64.decode(t.stringData[n],r.stringData[n]=$.newBuffer($.base64.length(t.stringData[n])),0):t.stringData[n].length>=0&&(r.stringData[n]=t.stringData[n])}if(t.int64Data){if(!Array.isArray(t.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");r.int64Data=[];for(var n=0;n<t.int64Data.length;++n)$.Long?(r.int64Data[n]=$.Long.fromValue(t.int64Data[n])).unsigned=!1:typeof t.int64Data[n]=="string"?r.int64Data[n]=parseInt(t.int64Data[n],10):typeof t.int64Data[n]=="number"?r.int64Data[n]=t.int64Data[n]:typeof t.int64Data[n]=="object"&&(r.int64Data[n]=new $.LongBits(t.int64Data[n].low>>>0,t.int64Data[n].high>>>0).toNumber())}if(t.name!=null&&(r.name=String(t.name)),t.docString!=null&&(r.docString=String(t.docString)),t.rawData!=null&&(typeof t.rawData=="string"?$.base64.decode(t.rawData,r.rawData=$.newBuffer($.base64.length(t.rawData)),0):t.rawData.length>=0&&(r.rawData=t.rawData)),t.externalData){if(!Array.isArray(t.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");r.externalData=[];for(var n=0;n<t.externalData.length;++n){if(typeof t.externalData[n]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");r.externalData[n]=P.onnx.StringStringEntryProto.fromObject(t.externalData[n])}}switch(t.dataLocation){default:if(typeof t.dataLocation=="number"){r.dataLocation=t.dataLocation;break}break;case"DEFAULT":case 0:r.dataLocation=0;break;case"EXTERNAL":case 1:r.dataLocation=1;break}if(t.doubleData){if(!Array.isArray(t.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");r.doubleData=[];for(var n=0;n<t.doubleData.length;++n)r.doubleData[n]=Number(t.doubleData[n])}if(t.uint64Data){if(!Array.isArray(t.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");r.uint64Data=[];for(var n=0;n<t.uint64Data.length;++n)$.Long?(r.uint64Data[n]=$.Long.fromValue(t.uint64Data[n])).unsigned=!0:typeof t.uint64Data[n]=="string"?r.uint64Data[n]=parseInt(t.uint64Data[n],10):typeof t.uint64Data[n]=="number"?r.uint64Data[n]=t.uint64Data[n]:typeof t.uint64Data[n]=="object"&&(r.uint64Data[n]=new $.LongBits(t.uint64Data[n].low>>>0,t.uint64Data[n].high>>>0).toNumber(!0))}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.dims=[],n.floatData=[],n.int32Data=[],n.stringData=[],n.int64Data=[],n.doubleData=[],n.uint64Data=[],n.externalData=[]),r.defaults&&(n.dataType=0,n.segment=null,n.name="",r.bytes===String?n.rawData="":(n.rawData=[],r.bytes!==Array&&(n.rawData=$.newBuffer(n.rawData))),n.docString="",n.dataLocation=r.enums===String?"DEFAULT":0),t.dims&&t.dims.length){n.dims=[];for(var s=0;s<t.dims.length;++s)typeof t.dims[s]=="number"?n.dims[s]=r.longs===String?String(t.dims[s]):t.dims[s]:n.dims[s]=r.longs===String?$.Long.prototype.toString.call(t.dims[s]):r.longs===Number?new $.LongBits(t.dims[s].low>>>0,t.dims[s].high>>>0).toNumber():t.dims[s]}if(t.dataType!=null&&t.hasOwnProperty("dataType")&&(n.dataType=t.dataType),t.segment!=null&&t.hasOwnProperty("segment")&&(n.segment=P.onnx.TensorProto.Segment.toObject(t.segment,r)),t.floatData&&t.floatData.length){n.floatData=[];for(var s=0;s<t.floatData.length;++s)n.floatData[s]=r.json&&!isFinite(t.floatData[s])?String(t.floatData[s]):t.floatData[s]}if(t.int32Data&&t.int32Data.length){n.int32Data=[];for(var s=0;s<t.int32Data.length;++s)n.int32Data[s]=t.int32Data[s]}if(t.stringData&&t.stringData.length){n.stringData=[];for(var s=0;s<t.stringData.length;++s)n.stringData[s]=r.bytes===String?$.base64.encode(t.stringData[s],0,t.stringData[s].length):r.bytes===Array?Array.prototype.slice.call(t.stringData[s]):t.stringData[s]}if(t.int64Data&&t.int64Data.length){n.int64Data=[];for(var s=0;s<t.int64Data.length;++s)typeof t.int64Data[s]=="number"?n.int64Data[s]=r.longs===String?String(t.int64Data[s]):t.int64Data[s]:n.int64Data[s]=r.longs===String?$.Long.prototype.toString.call(t.int64Data[s]):r.longs===Number?new $.LongBits(t.int64Data[s].low>>>0,t.int64Data[s].high>>>0).toNumber():t.int64Data[s]}if(t.name!=null&&t.hasOwnProperty("name")&&(n.name=t.name),t.rawData!=null&&t.hasOwnProperty("rawData")&&(n.rawData=r.bytes===String?$.base64.encode(t.rawData,0,t.rawData.length):r.bytes===Array?Array.prototype.slice.call(t.rawData):t.rawData),t.doubleData&&t.doubleData.length){n.doubleData=[];for(var s=0;s<t.doubleData.length;++s)n.doubleData[s]=r.json&&!isFinite(t.doubleData[s])?String(t.doubleData[s]):t.doubleData[s]}if(t.uint64Data&&t.uint64Data.length){n.uint64Data=[];for(var s=0;s<t.uint64Data.length;++s)typeof t.uint64Data[s]=="number"?n.uint64Data[s]=r.longs===String?String(t.uint64Data[s]):t.uint64Data[s]:n.uint64Data[s]=r.longs===String?$.Long.prototype.toString.call(t.uint64Data[s]):r.longs===Number?new $.LongBits(t.uint64Data[s].low>>>0,t.uint64Data[s].high>>>0).toNumber(!0):t.uint64Data[s]}if(t.docString!=null&&t.hasOwnProperty("docString")&&(n.docString=t.docString),t.externalData&&t.externalData.length){n.externalData=[];for(var s=0;s<t.externalData.length;++s)n.externalData[s]=P.onnx.StringStringEntryProto.toObject(t.externalData[s],r)}return t.dataLocation!=null&&t.hasOwnProperty("dataLocation")&&(n.dataLocation=r.enums===String?P.onnx.TensorProto.DataLocation[t.dataLocation]===void 0?t.dataLocation:P.onnx.TensorProto.DataLocation[t.dataLocation]:t.dataLocation),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TensorProto"},e.DataType=function(){var o={},t=Object.create(o);return t[o[0]="UNDEFINED"]=0,t[o[1]="FLOAT"]=1,t[o[2]="UINT8"]=2,t[o[3]="INT8"]=3,t[o[4]="UINT16"]=4,t[o[5]="INT16"]=5,t[o[6]="INT32"]=6,t[o[7]="INT64"]=7,t[o[8]="STRING"]=8,t[o[9]="BOOL"]=9,t[o[10]="FLOAT16"]=10,t[o[11]="DOUBLE"]=11,t[o[12]="UINT32"]=12,t[o[13]="UINT64"]=13,t[o[14]="COMPLEX64"]=14,t[o[15]="COMPLEX128"]=15,t[o[16]="BFLOAT16"]=16,t[o[17]="FLOAT8E4M3FN"]=17,t[o[18]="FLOAT8E4M3FNUZ"]=18,t[o[19]="FLOAT8E5M2"]=19,t[o[20]="FLOAT8E5M2FNUZ"]=20,t}(),e.Segment=function(){function o(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return o.prototype.begin=$.Long?$.Long.fromBits(0,0,!1):0,o.prototype.end=$.Long?$.Long.fromBits(0,0,!1):0,o.create=function(r){return new o(r)},o.encode=function(r,n){return n||(n=ue.create()),r.begin!=null&&Object.hasOwnProperty.call(r,"begin")&&n.uint32(8).int64(r.begin),r.end!=null&&Object.hasOwnProperty.call(r,"end")&&n.uint32(16).int64(r.end),n},o.encodeDelimited=function(r,n){return this.encode(r,n).ldelim()},o.decode=function(r,n){r instanceof lt||(r=lt.create(r));for(var s=n===void 0?r.len:r.pos+n,a=new P.onnx.TensorProto.Segment;r.pos<s;){var u=r.uint32();switch(u>>>3){case 1:{a.begin=r.int64();break}case 2:{a.end=r.int64();break}default:r.skipType(u&7);break}}return a},o.decodeDelimited=function(r){return r instanceof lt||(r=new lt(r)),this.decode(r,r.uint32())},o.verify=function(r){return typeof r!="object"||r===null?"object expected":r.begin!=null&&r.hasOwnProperty("begin")&&!$.isInteger(r.begin)&&!(r.begin&&$.isInteger(r.begin.low)&&$.isInteger(r.begin.high))?"begin: integer|Long expected":r.end!=null&&r.hasOwnProperty("end")&&!$.isInteger(r.end)&&!(r.end&&$.isInteger(r.end.low)&&$.isInteger(r.end.high))?"end: integer|Long expected":null},o.fromObject=function(r){if(r instanceof P.onnx.TensorProto.Segment)return r;var n=new P.onnx.TensorProto.Segment;return r.begin!=null&&($.Long?(n.begin=$.Long.fromValue(r.begin)).unsigned=!1:typeof r.begin=="string"?n.begin=parseInt(r.begin,10):typeof r.begin=="number"?n.begin=r.begin:typeof r.begin=="object"&&(n.begin=new $.LongBits(r.begin.low>>>0,r.begin.high>>>0).toNumber())),r.end!=null&&($.Long?(n.end=$.Long.fromValue(r.end)).unsigned=!1:typeof r.end=="string"?n.end=parseInt(r.end,10):typeof r.end=="number"?n.end=r.end:typeof r.end=="object"&&(n.end=new $.LongBits(r.end.low>>>0,r.end.high>>>0).toNumber())),n},o.toObject=function(r,n){n||(n={});var s={};if(n.defaults){if($.Long){var a=new $.Long(0,0,!1);s.begin=n.longs===String?a.toString():n.longs===Number?a.toNumber():a}else s.begin=n.longs===String?"0":0;if($.Long){var a=new $.Long(0,0,!1);s.end=n.longs===String?a.toString():n.longs===Number?a.toNumber():a}else s.end=n.longs===String?"0":0}return r.begin!=null&&r.hasOwnProperty("begin")&&(typeof r.begin=="number"?s.begin=n.longs===String?String(r.begin):r.begin:s.begin=n.longs===String?$.Long.prototype.toString.call(r.begin):n.longs===Number?new $.LongBits(r.begin.low>>>0,r.begin.high>>>0).toNumber():r.begin),r.end!=null&&r.hasOwnProperty("end")&&(typeof r.end=="number"?s.end=n.longs===String?String(r.end):r.end:s.end=n.longs===String?$.Long.prototype.toString.call(r.end):n.longs===Number?new $.LongBits(r.end.low>>>0,r.end.high>>>0).toNumber():r.end),s},o.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},o.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TensorProto.Segment"},o}(),e.DataLocation=function(){var o={},t=Object.create(o);return t[o[0]="DEFAULT"]=0,t[o[1]="EXTERNAL"]=1,t}(),e}(),i.SparseTensorProto=function(){function e(o){if(this.dims=[],o)for(var t=Object.keys(o),r=0;r<t.length;++r)o[t[r]]!=null&&(this[t[r]]=o[t[r]])}return e.prototype.values=null,e.prototype.indices=null,e.prototype.dims=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.values!=null&&Object.hasOwnProperty.call(t,"values")&&P.onnx.TensorProto.encode(t.values,r.uint32(10).fork()).ldelim(),t.indices!=null&&Object.hasOwnProperty.call(t,"indices")&&P.onnx.TensorProto.encode(t.indices,r.uint32(18).fork()).ldelim(),t.dims!=null&&t.dims.length){r.uint32(26).fork();for(var n=0;n<t.dims.length;++n)r.int64(t.dims[n]);r.ldelim()}return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var n=r===void 0?t.len:t.pos+r,s=new P.onnx.SparseTensorProto;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:{s.values=P.onnx.TensorProto.decode(t,t.uint32());break}case 2:{s.indices=P.onnx.TensorProto.decode(t,t.uint32());break}case 3:{if(s.dims&&s.dims.length||(s.dims=[]),(a&7)===2)for(var u=t.uint32()+t.pos;t.pos<u;)s.dims.push(t.int64());else s.dims.push(t.int64());break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.values!=null&&t.hasOwnProperty("values")){var r=P.onnx.TensorProto.verify(t.values);if(r)return"values."+r}if(t.indices!=null&&t.hasOwnProperty("indices")){var r=P.onnx.TensorProto.verify(t.indices);if(r)return"indices."+r}if(t.dims!=null&&t.hasOwnProperty("dims")){if(!Array.isArray(t.dims))return"dims: array expected";for(var n=0;n<t.dims.length;++n)if(!$.isInteger(t.dims[n])&&!(t.dims[n]&&$.isInteger(t.dims[n].low)&&$.isInteger(t.dims[n].high)))return"dims: integer|Long[] expected"}return null},e.fromObject=function(t){if(t instanceof P.onnx.SparseTensorProto)return t;var r=new P.onnx.SparseTensorProto;if(t.values!=null){if(typeof t.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");r.values=P.onnx.TensorProto.fromObject(t.values)}if(t.indices!=null){if(typeof t.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");r.indices=P.onnx.TensorProto.fromObject(t.indices)}if(t.dims){if(!Array.isArray(t.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");r.dims=[];for(var n=0;n<t.dims.length;++n)$.Long?(r.dims[n]=$.Long.fromValue(t.dims[n])).unsigned=!1:typeof t.dims[n]=="string"?r.dims[n]=parseInt(t.dims[n],10):typeof t.dims[n]=="number"?r.dims[n]=t.dims[n]:typeof t.dims[n]=="object"&&(r.dims[n]=new $.LongBits(t.dims[n].low>>>0,t.dims[n].high>>>0).toNumber())}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.dims=[]),r.defaults&&(n.values=null,n.indices=null),t.values!=null&&t.hasOwnProperty("values")&&(n.values=P.onnx.TensorProto.toObject(t.values,r)),t.indices!=null&&t.hasOwnProperty("indices")&&(n.indices=P.onnx.TensorProto.toObject(t.indices,r)),t.dims&&t.dims.length){n.dims=[];for(var s=0;s<t.dims.length;++s)typeof t.dims[s]=="number"?n.dims[s]=r.longs===String?String(t.dims[s]):t.dims[s]:n.dims[s]=r.longs===String?$.Long.prototype.toString.call(t.dims[s]):r.longs===Number?new $.LongBits(t.dims[s].low>>>0,t.dims[s].high>>>0).toNumber():t.dims[s]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.SparseTensorProto"},e}(),i.TensorShapeProto=function(){function e(o){if(this.dim=[],o)for(var t=Object.keys(o),r=0;r<t.length;++r)o[t[r]]!=null&&(this[t[r]]=o[t[r]])}return e.prototype.dim=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.dim!=null&&t.dim.length)for(var n=0;n<t.dim.length;++n)P.onnx.TensorShapeProto.Dimension.encode(t.dim[n],r.uint32(10).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var n=r===void 0?t.len:t.pos+r,s=new P.onnx.TensorShapeProto;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:{s.dim&&s.dim.length||(s.dim=[]),s.dim.push(P.onnx.TensorShapeProto.Dimension.decode(t,t.uint32()));break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.dim!=null&&t.hasOwnProperty("dim")){if(!Array.isArray(t.dim))return"dim: array expected";for(var r=0;r<t.dim.length;++r){var n=P.onnx.TensorShapeProto.Dimension.verify(t.dim[r]);if(n)return"dim."+n}}return null},e.fromObject=function(t){if(t instanceof P.onnx.TensorShapeProto)return t;var r=new P.onnx.TensorShapeProto;if(t.dim){if(!Array.isArray(t.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");r.dim=[];for(var n=0;n<t.dim.length;++n){if(typeof t.dim[n]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");r.dim[n]=P.onnx.TensorShapeProto.Dimension.fromObject(t.dim[n])}}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.dim=[]),t.dim&&t.dim.length){n.dim=[];for(var s=0;s<t.dim.length;++s)n.dim[s]=P.onnx.TensorShapeProto.Dimension.toObject(t.dim[s],r)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.TensorShapeProto"},e.Dimension=function(){function o(r){if(r)for(var n=Object.keys(r),s=0;s<n.length;++s)r[n[s]]!=null&&(this[n[s]]=r[n[s]])}o.prototype.dimValue=null,o.prototype.dimParam=null,o.prototype.denotation="";var t;return Object.defineProperty(o.prototype,"value",{get:$.oneOfGetter(t=["dimValue","dimParam"]),set:$.oneOfSetter(t)}),o.create=function(n){return new o(n)},o.encode=function(n,s){return s||(s=ue.create()),n.dimValue!=null&&Object.hasOwnProperty.call(n,"dimValue")&&s.uint32(8).int64(n.dimValue),n.dimParam!=null&&Object.hasOwnProperty.call(n,"dimParam")&&s.uint32(18).string(n.dimParam),n.denotation!=null&&Object.hasOwnProperty.call(n,"denotation")&&s.uint32(26).string(n.denotation),s},o.encodeDelimited=function(n,s){return this.encode(n,s).ldelim()},o.decode=function(n,s){n instanceof lt||(n=lt.create(n));for(var a=s===void 0?n.len:n.pos+s,u=new P.onnx.TensorShapeProto.Dimension;n.pos<a;){var c=n.uint32();switch(c>>>3){case 1:{u.dimValue=n.int64();break}case 2:{u.dimParam=n.string();break}case 3:{u.denotation=n.string();break}default:n.skipType(c&7);break}}return u},o.decodeDelimited=function(n){return n instanceof lt||(n=new lt(n)),this.decode(n,n.uint32())},o.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var s={};if(n.dimValue!=null&&n.hasOwnProperty("dimValue")&&(s.value=1,!$.isInteger(n.dimValue)&&!(n.dimValue&&$.isInteger(n.dimValue.low)&&$.isInteger(n.dimValue.high))))return"dimValue: integer|Long expected";if(n.dimParam!=null&&n.hasOwnProperty("dimParam")){if(s.value===1)return"value: multiple values";if(s.value=1,!$.isString(n.dimParam))return"dimParam: string expected"}return n.denotation!=null&&n.hasOwnProperty("denotation")&&!$.isString(n.denotation)?"denotation: string expected":null},o.fromObject=function(n){if(n instanceof P.onnx.TensorShapeProto.Dimension)return n;var s=new P.onnx.TensorShapeProto.Dimension;return n.dimValue!=null&&($.Long?(s.dimValue=$.Long.fromValue(n.dimValue)).unsigned=!1:typeof n.dimValue=="string"?s.dimValue=parseInt(n.dimValue,10):typeof n.dimValue=="number"?s.dimValue=n.dimValue:typeof n.dimValue=="object"&&(s.dimValue=new $.LongBits(n.dimValue.low>>>0,n.dimValue.high>>>0).toNumber())),n.dimParam!=null&&(s.dimParam=String(n.dimParam)),n.denotation!=null&&(s.denotation=String(n.denotation)),s},o.toObject=function(n,s){s||(s={});var a={};return s.defaults&&(a.denotation=""),n.dimValue!=null&&n.hasOwnProperty("dimValue")&&(typeof n.dimValue=="number"?a.dimValue=s.longs===String?String(n.dimValue):n.dimValue:a.dimValue=s.longs===String?$.Long.prototype.toString.call(n.dimValue):s.longs===Number?new $.LongBits(n.dimValue.low>>>0,n.dimValue.high>>>0).toNumber():n.dimValue,s.oneofs&&(a.value="dimValue")),n.dimParam!=null&&n.hasOwnProperty("dimParam")&&(a.dimParam=n.dimParam,s.oneofs&&(a.value="dimParam")),n.denotation!=null&&n.hasOwnProperty("denotation")&&(a.denotation=n.denotation),a},o.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},o.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TensorShapeProto.Dimension"},o}(),e}(),i.TypeProto=function(){function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}e.prototype.tensorType=null,e.prototype.sequenceType=null,e.prototype.mapType=null,e.prototype.optionalType=null,e.prototype.sparseTensorType=null,e.prototype.denotation="";var o;return Object.defineProperty(e.prototype,"value",{get:$.oneOfGetter(o=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:$.oneOfSetter(o)}),e.create=function(r){return new e(r)},e.encode=function(r,n){return n||(n=ue.create()),r.tensorType!=null&&Object.hasOwnProperty.call(r,"tensorType")&&P.onnx.TypeProto.Tensor.encode(r.tensorType,n.uint32(10).fork()).ldelim(),r.sequenceType!=null&&Object.hasOwnProperty.call(r,"sequenceType")&&P.onnx.TypeProto.Sequence.encode(r.sequenceType,n.uint32(34).fork()).ldelim(),r.mapType!=null&&Object.hasOwnProperty.call(r,"mapType")&&P.onnx.TypeProto.Map.encode(r.mapType,n.uint32(42).fork()).ldelim(),r.denotation!=null&&Object.hasOwnProperty.call(r,"denotation")&&n.uint32(50).string(r.denotation),r.sparseTensorType!=null&&Object.hasOwnProperty.call(r,"sparseTensorType")&&P.onnx.TypeProto.SparseTensor.encode(r.sparseTensorType,n.uint32(66).fork()).ldelim(),r.optionalType!=null&&Object.hasOwnProperty.call(r,"optionalType")&&P.onnx.TypeProto.Optional.encode(r.optionalType,n.uint32(74).fork()).ldelim(),n},e.encodeDelimited=function(r,n){return this.encode(r,n).ldelim()},e.decode=function(r,n){r instanceof lt||(r=lt.create(r));for(var s=n===void 0?r.len:r.pos+n,a=new P.onnx.TypeProto;r.pos<s;){var u=r.uint32();switch(u>>>3){case 1:{a.tensorType=P.onnx.TypeProto.Tensor.decode(r,r.uint32());break}case 4:{a.sequenceType=P.onnx.TypeProto.Sequence.decode(r,r.uint32());break}case 5:{a.mapType=P.onnx.TypeProto.Map.decode(r,r.uint32());break}case 9:{a.optionalType=P.onnx.TypeProto.Optional.decode(r,r.uint32());break}case 8:{a.sparseTensorType=P.onnx.TypeProto.SparseTensor.decode(r,r.uint32());break}case 6:{a.denotation=r.string();break}default:r.skipType(u&7);break}}return a},e.decodeDelimited=function(r){return r instanceof lt||(r=new lt(r)),this.decode(r,r.uint32())},e.verify=function(r){if(typeof r!="object"||r===null)return"object expected";var n={};if(r.tensorType!=null&&r.hasOwnProperty("tensorType")){n.value=1;{var s=P.onnx.TypeProto.Tensor.verify(r.tensorType);if(s)return"tensorType."+s}}if(r.sequenceType!=null&&r.hasOwnProperty("sequenceType")){if(n.value===1)return"value: multiple values";n.value=1;{var s=P.onnx.TypeProto.Sequence.verify(r.sequenceType);if(s)return"sequenceType."+s}}if(r.mapType!=null&&r.hasOwnProperty("mapType")){if(n.value===1)return"value: multiple values";n.value=1;{var s=P.onnx.TypeProto.Map.verify(r.mapType);if(s)return"mapType."+s}}if(r.optionalType!=null&&r.hasOwnProperty("optionalType")){if(n.value===1)return"value: multiple values";n.value=1;{var s=P.onnx.TypeProto.Optional.verify(r.optionalType);if(s)return"optionalType."+s}}if(r.sparseTensorType!=null&&r.hasOwnProperty("sparseTensorType")){if(n.value===1)return"value: multiple values";n.value=1;{var s=P.onnx.TypeProto.SparseTensor.verify(r.sparseTensorType);if(s)return"sparseTensorType."+s}}return r.denotation!=null&&r.hasOwnProperty("denotation")&&!$.isString(r.denotation)?"denotation: string expected":null},e.fromObject=function(r){if(r instanceof P.onnx.TypeProto)return r;var n=new P.onnx.TypeProto;if(r.tensorType!=null){if(typeof r.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");n.tensorType=P.onnx.TypeProto.Tensor.fromObject(r.tensorType)}if(r.sequenceType!=null){if(typeof r.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");n.sequenceType=P.onnx.TypeProto.Sequence.fromObject(r.sequenceType)}if(r.mapType!=null){if(typeof r.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");n.mapType=P.onnx.TypeProto.Map.fromObject(r.mapType)}if(r.optionalType!=null){if(typeof r.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");n.optionalType=P.onnx.TypeProto.Optional.fromObject(r.optionalType)}if(r.sparseTensorType!=null){if(typeof r.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");n.sparseTensorType=P.onnx.TypeProto.SparseTensor.fromObject(r.sparseTensorType)}return r.denotation!=null&&(n.denotation=String(r.denotation)),n},e.toObject=function(r,n){n||(n={});var s={};return n.defaults&&(s.denotation=""),r.tensorType!=null&&r.hasOwnProperty("tensorType")&&(s.tensorType=P.onnx.TypeProto.Tensor.toObject(r.tensorType,n),n.oneofs&&(s.value="tensorType")),r.sequenceType!=null&&r.hasOwnProperty("sequenceType")&&(s.sequenceType=P.onnx.TypeProto.Sequence.toObject(r.sequenceType,n),n.oneofs&&(s.value="sequenceType")),r.mapType!=null&&r.hasOwnProperty("mapType")&&(s.mapType=P.onnx.TypeProto.Map.toObject(r.mapType,n),n.oneofs&&(s.value="mapType")),r.denotation!=null&&r.hasOwnProperty("denotation")&&(s.denotation=r.denotation),r.sparseTensorType!=null&&r.hasOwnProperty("sparseTensorType")&&(s.sparseTensorType=P.onnx.TypeProto.SparseTensor.toObject(r.sparseTensorType,n),n.oneofs&&(s.value="sparseTensorType")),r.optionalType!=null&&r.hasOwnProperty("optionalType")&&(s.optionalType=P.onnx.TypeProto.Optional.toObject(r.optionalType,n),n.oneofs&&(s.value="optionalType")),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/onnx.TypeProto"},e.Tensor=function(){function t(r){if(r)for(var n=Object.keys(r),s=0;s<n.length;++s)r[n[s]]!=null&&(this[n[s]]=r[n[s]])}return t.prototype.elemType=0,t.prototype.shape=null,t.create=function(n){return new t(n)},t.encode=function(n,s){return s||(s=ue.create()),n.elemType!=null&&Object.hasOwnProperty.call(n,"elemType")&&s.uint32(8).int32(n.elemType),n.shape!=null&&Object.hasOwnProperty.call(n,"shape")&&P.onnx.TensorShapeProto.encode(n.shape,s.uint32(18).fork()).ldelim(),s},t.encodeDelimited=function(n,s){return this.encode(n,s).ldelim()},t.decode=function(n,s){n instanceof lt||(n=lt.create(n));for(var a=s===void 0?n.len:n.pos+s,u=new P.onnx.TypeProto.Tensor;n.pos<a;){var c=n.uint32();switch(c>>>3){case 1:{u.elemType=n.int32();break}case 2:{u.shape=P.onnx.TensorShapeProto.decode(n,n.uint32());break}default:n.skipType(c&7);break}}return u},t.decodeDelimited=function(n){return n instanceof lt||(n=new lt(n)),this.decode(n,n.uint32())},t.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.elemType!=null&&n.hasOwnProperty("elemType")&&!$.isInteger(n.elemType))return"elemType: integer expected";if(n.shape!=null&&n.hasOwnProperty("shape")){var s=P.onnx.TensorShapeProto.verify(n.shape);if(s)return"shape."+s}return null},t.fromObject=function(n){if(n instanceof P.onnx.TypeProto.Tensor)return n;var s=new P.onnx.TypeProto.Tensor;if(n.elemType!=null&&(s.elemType=n.elemType|0),n.shape!=null){if(typeof n.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");s.shape=P.onnx.TensorShapeProto.fromObject(n.shape)}return s},t.toObject=function(n,s){s||(s={});var a={};return s.defaults&&(a.elemType=0,a.shape=null),n.elemType!=null&&n.hasOwnProperty("elemType")&&(a.elemType=n.elemType),n.shape!=null&&n.hasOwnProperty("shape")&&(a.shape=P.onnx.TensorShapeProto.toObject(n.shape,s)),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TypeProto.Tensor"},t}(),e.Sequence=function(){function t(r){if(r)for(var n=Object.keys(r),s=0;s<n.length;++s)r[n[s]]!=null&&(this[n[s]]=r[n[s]])}return t.prototype.elemType=null,t.create=function(n){return new t(n)},t.encode=function(n,s){return s||(s=ue.create()),n.elemType!=null&&Object.hasOwnProperty.call(n,"elemType")&&P.onnx.TypeProto.encode(n.elemType,s.uint32(10).fork()).ldelim(),s},t.encodeDelimited=function(n,s){return this.encode(n,s).ldelim()},t.decode=function(n,s){n instanceof lt||(n=lt.create(n));for(var a=s===void 0?n.len:n.pos+s,u=new P.onnx.TypeProto.Sequence;n.pos<a;){var c=n.uint32();switch(c>>>3){case 1:{u.elemType=P.onnx.TypeProto.decode(n,n.uint32());break}default:n.skipType(c&7);break}}return u},t.decodeDelimited=function(n){return n instanceof lt||(n=new lt(n)),this.decode(n,n.uint32())},t.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.elemType!=null&&n.hasOwnProperty("elemType")){var s=P.onnx.TypeProto.verify(n.elemType);if(s)return"elemType."+s}return null},t.fromObject=function(n){if(n instanceof P.onnx.TypeProto.Sequence)return n;var s=new P.onnx.TypeProto.Sequence;if(n.elemType!=null){if(typeof n.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");s.elemType=P.onnx.TypeProto.fromObject(n.elemType)}return s},t.toObject=function(n,s){s||(s={});var a={};return s.defaults&&(a.elemType=null),n.elemType!=null&&n.hasOwnProperty("elemType")&&(a.elemType=P.onnx.TypeProto.toObject(n.elemType,s)),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TypeProto.Sequence"},t}(),e.Map=function(){function t(r){if(r)for(var n=Object.keys(r),s=0;s<n.length;++s)r[n[s]]!=null&&(this[n[s]]=r[n[s]])}return t.prototype.keyType=0,t.prototype.valueType=null,t.create=function(n){return new t(n)},t.encode=function(n,s){return s||(s=ue.create()),n.keyType!=null&&Object.hasOwnProperty.call(n,"keyType")&&s.uint32(8).int32(n.keyType),n.valueType!=null&&Object.hasOwnProperty.call(n,"valueType")&&P.onnx.TypeProto.encode(n.valueType,s.uint32(18).fork()).ldelim(),s},t.encodeDelimited=function(n,s){return this.encode(n,s).ldelim()},t.decode=function(n,s){n instanceof lt||(n=lt.create(n));for(var a=s===void 0?n.len:n.pos+s,u=new P.onnx.TypeProto.Map;n.pos<a;){var c=n.uint32();switch(c>>>3){case 1:{u.keyType=n.int32();break}case 2:{u.valueType=P.onnx.TypeProto.decode(n,n.uint32());break}default:n.skipType(c&7);break}}return u},t.decodeDelimited=function(n){return n instanceof lt||(n=new lt(n)),this.decode(n,n.uint32())},t.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.keyType!=null&&n.hasOwnProperty("keyType")&&!$.isInteger(n.keyType))return"keyType: integer expected";if(n.valueType!=null&&n.hasOwnProperty("valueType")){var s=P.onnx.TypeProto.verify(n.valueType);if(s)return"valueType."+s}return null},t.fromObject=function(n){if(n instanceof P.onnx.TypeProto.Map)return n;var s=new P.onnx.TypeProto.Map;if(n.keyType!=null&&(s.keyType=n.keyType|0),n.valueType!=null){if(typeof n.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");s.valueType=P.onnx.TypeProto.fromObject(n.valueType)}return s},t.toObject=function(n,s){s||(s={});var a={};return s.defaults&&(a.keyType=0,a.valueType=null),n.keyType!=null&&n.hasOwnProperty("keyType")&&(a.keyType=n.keyType),n.valueType!=null&&n.hasOwnProperty("valueType")&&(a.valueType=P.onnx.TypeProto.toObject(n.valueType,s)),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TypeProto.Map"},t}(),e.Optional=function(){function t(r){if(r)for(var n=Object.keys(r),s=0;s<n.length;++s)r[n[s]]!=null&&(this[n[s]]=r[n[s]])}return t.prototype.elemType=null,t.create=function(n){return new t(n)},t.encode=function(n,s){return s||(s=ue.create()),n.elemType!=null&&Object.hasOwnProperty.call(n,"elemType")&&P.onnx.TypeProto.encode(n.elemType,s.uint32(10).fork()).ldelim(),s},t.encodeDelimited=function(n,s){return this.encode(n,s).ldelim()},t.decode=function(n,s){n instanceof lt||(n=lt.create(n));for(var a=s===void 0?n.len:n.pos+s,u=new P.onnx.TypeProto.Optional;n.pos<a;){var c=n.uint32();switch(c>>>3){case 1:{u.elemType=P.onnx.TypeProto.decode(n,n.uint32());break}default:n.skipType(c&7);break}}return u},t.decodeDelimited=function(n){return n instanceof lt||(n=new lt(n)),this.decode(n,n.uint32())},t.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.elemType!=null&&n.hasOwnProperty("elemType")){var s=P.onnx.TypeProto.verify(n.elemType);if(s)return"elemType."+s}return null},t.fromObject=function(n){if(n instanceof P.onnx.TypeProto.Optional)return n;var s=new P.onnx.TypeProto.Optional;if(n.elemType!=null){if(typeof n.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");s.elemType=P.onnx.TypeProto.fromObject(n.elemType)}return s},t.toObject=function(n,s){s||(s={});var a={};return s.defaults&&(a.elemType=null),n.elemType!=null&&n.hasOwnProperty("elemType")&&(a.elemType=P.onnx.TypeProto.toObject(n.elemType,s)),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TypeProto.Optional"},t}(),e.SparseTensor=function(){function t(r){if(r)for(var n=Object.keys(r),s=0;s<n.length;++s)r[n[s]]!=null&&(this[n[s]]=r[n[s]])}return t.prototype.elemType=0,t.prototype.shape=null,t.create=function(n){return new t(n)},t.encode=function(n,s){return s||(s=ue.create()),n.elemType!=null&&Object.hasOwnProperty.call(n,"elemType")&&s.uint32(8).int32(n.elemType),n.shape!=null&&Object.hasOwnProperty.call(n,"shape")&&P.onnx.TensorShapeProto.encode(n.shape,s.uint32(18).fork()).ldelim(),s},t.encodeDelimited=function(n,s){return this.encode(n,s).ldelim()},t.decode=function(n,s){n instanceof lt||(n=lt.create(n));for(var a=s===void 0?n.len:n.pos+s,u=new P.onnx.TypeProto.SparseTensor;n.pos<a;){var c=n.uint32();switch(c>>>3){case 1:{u.elemType=n.int32();break}case 2:{u.shape=P.onnx.TensorShapeProto.decode(n,n.uint32());break}default:n.skipType(c&7);break}}return u},t.decodeDelimited=function(n){return n instanceof lt||(n=new lt(n)),this.decode(n,n.uint32())},t.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.elemType!=null&&n.hasOwnProperty("elemType")&&!$.isInteger(n.elemType))return"elemType: integer expected";if(n.shape!=null&&n.hasOwnProperty("shape")){var s=P.onnx.TensorShapeProto.verify(n.shape);if(s)return"shape."+s}return null},t.fromObject=function(n){if(n instanceof P.onnx.TypeProto.SparseTensor)return n;var s=new P.onnx.TypeProto.SparseTensor;if(n.elemType!=null&&(s.elemType=n.elemType|0),n.shape!=null){if(typeof n.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");s.shape=P.onnx.TensorShapeProto.fromObject(n.shape)}return s},t.toObject=function(n,s){s||(s={});var a={};return s.defaults&&(a.elemType=0,a.shape=null),n.elemType!=null&&n.hasOwnProperty("elemType")&&(a.elemType=n.elemType),n.shape!=null&&n.hasOwnProperty("shape")&&(a.shape=P.onnx.TensorShapeProto.toObject(n.shape,s)),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/onnx.TypeProto.SparseTensor"},t}(),e}(),i.OperatorSetIdProto=function(){function e(o){if(o)for(var t=Object.keys(o),r=0;r<t.length;++r)o[t[r]]!=null&&(this[t[r]]=o[t[r]])}return e.prototype.domain="",e.prototype.version=$.Long?$.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=ue.create()),t.domain!=null&&Object.hasOwnProperty.call(t,"domain")&&r.uint32(10).string(t.domain),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&r.uint32(16).int64(t.version),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var n=r===void 0?t.len:t.pos+r,s=new P.onnx.OperatorSetIdProto;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:{s.domain=t.string();break}case 2:{s.version=t.int64();break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.domain!=null&&t.hasOwnProperty("domain")&&!$.isString(t.domain)?"domain: string expected":t.version!=null&&t.hasOwnProperty("version")&&!$.isInteger(t.version)&&!(t.version&&$.isInteger(t.version.low)&&$.isInteger(t.version.high))?"version: integer|Long expected":null},e.fromObject=function(t){if(t instanceof P.onnx.OperatorSetIdProto)return t;var r=new P.onnx.OperatorSetIdProto;return t.domain!=null&&(r.domain=String(t.domain)),t.version!=null&&($.Long?(r.version=$.Long.fromValue(t.version)).unsigned=!1:typeof t.version=="string"?r.version=parseInt(t.version,10):typeof t.version=="number"?r.version=t.version:typeof t.version=="object"&&(r.version=new $.LongBits(t.version.low>>>0,t.version.high>>>0).toNumber())),r},e.toObject=function(t,r){r||(r={});var n={};if(r.defaults)if(n.domain="",$.Long){var s=new $.Long(0,0,!1);n.version=r.longs===String?s.toString():r.longs===Number?s.toNumber():s}else n.version=r.longs===String?"0":0;return t.domain!=null&&t.hasOwnProperty("domain")&&(n.domain=t.domain),t.version!=null&&t.hasOwnProperty("version")&&(typeof t.version=="number"?n.version=r.longs===String?String(t.version):t.version:n.version=r.longs===String?$.Long.prototype.toString.call(t.version):r.longs===Number?new $.LongBits(t.version.low>>>0,t.version.high>>>0).toNumber():t.version),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.OperatorSetIdProto"},e}(),i.OperatorStatus=function(){var e={},o=Object.create(e);return o[e[0]="EXPERIMENTAL"]=0,o[e[1]="STABLE"]=1,o}(),i.FunctionProto=function(){function e(o){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],o)for(var t=Object.keys(o),r=0;r<t.length;++r)o[t[r]]!=null&&(this[t[r]]=o[t[r]])}return e.prototype.name="",e.prototype.input=$.emptyArray,e.prototype.output=$.emptyArray,e.prototype.attribute=$.emptyArray,e.prototype.attributeProto=$.emptyArray,e.prototype.node=$.emptyArray,e.prototype.docString="",e.prototype.opsetImport=$.emptyArray,e.prototype.domain="",e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=ue.create()),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&r.uint32(10).string(t.name),t.input!=null&&t.input.length)for(var n=0;n<t.input.length;++n)r.uint32(34).string(t.input[n]);if(t.output!=null&&t.output.length)for(var n=0;n<t.output.length;++n)r.uint32(42).string(t.output[n]);if(t.attribute!=null&&t.attribute.length)for(var n=0;n<t.attribute.length;++n)r.uint32(50).string(t.attribute[n]);if(t.node!=null&&t.node.length)for(var n=0;n<t.node.length;++n)P.onnx.NodeProto.encode(t.node[n],r.uint32(58).fork()).ldelim();if(t.docString!=null&&Object.hasOwnProperty.call(t,"docString")&&r.uint32(66).string(t.docString),t.opsetImport!=null&&t.opsetImport.length)for(var n=0;n<t.opsetImport.length;++n)P.onnx.OperatorSetIdProto.encode(t.opsetImport[n],r.uint32(74).fork()).ldelim();if(t.domain!=null&&Object.hasOwnProperty.call(t,"domain")&&r.uint32(82).string(t.domain),t.attributeProto!=null&&t.attributeProto.length)for(var n=0;n<t.attributeProto.length;++n)P.onnx.AttributeProto.encode(t.attributeProto[n],r.uint32(90).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof lt||(t=lt.create(t));for(var n=r===void 0?t.len:t.pos+r,s=new P.onnx.FunctionProto;t.pos<n;){var a=t.uint32();switch(a>>>3){case 1:{s.name=t.string();break}case 4:{s.input&&s.input.length||(s.input=[]),s.input.push(t.string());break}case 5:{s.output&&s.output.length||(s.output=[]),s.output.push(t.string());break}case 6:{s.attribute&&s.attribute.length||(s.attribute=[]),s.attribute.push(t.string());break}case 11:{s.attributeProto&&s.attributeProto.length||(s.attributeProto=[]),s.attributeProto.push(P.onnx.AttributeProto.decode(t,t.uint32()));break}case 7:{s.node&&s.node.length||(s.node=[]),s.node.push(P.onnx.NodeProto.decode(t,t.uint32()));break}case 8:{s.docString=t.string();break}case 9:{s.opsetImport&&s.opsetImport.length||(s.opsetImport=[]),s.opsetImport.push(P.onnx.OperatorSetIdProto.decode(t,t.uint32()));break}case 10:{s.domain=t.string();break}default:t.skipType(a&7);break}}return s},e.decodeDelimited=function(t){return t instanceof lt||(t=new lt(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.name!=null&&t.hasOwnProperty("name")&&!$.isString(t.name))return"name: string expected";if(t.input!=null&&t.hasOwnProperty("input")){if(!Array.isArray(t.input))return"input: array expected";for(var r=0;r<t.input.length;++r)if(!$.isString(t.input[r]))return"input: string[] expected"}if(t.output!=null&&t.hasOwnProperty("output")){if(!Array.isArray(t.output))return"output: array expected";for(var r=0;r<t.output.length;++r)if(!$.isString(t.output[r]))return"output: string[] expected"}if(t.attribute!=null&&t.hasOwnProperty("attribute")){if(!Array.isArray(t.attribute))return"attribute: array expected";for(var r=0;r<t.attribute.length;++r)if(!$.isString(t.attribute[r]))return"attribute: string[] expected"}if(t.attributeProto!=null&&t.hasOwnProperty("attributeProto")){if(!Array.isArray(t.attributeProto))return"attributeProto: array expected";for(var r=0;r<t.attributeProto.length;++r){var n=P.onnx.AttributeProto.verify(t.attributeProto[r]);if(n)return"attributeProto."+n}}if(t.node!=null&&t.hasOwnProperty("node")){if(!Array.isArray(t.node))return"node: array expected";for(var r=0;r<t.node.length;++r){var n=P.onnx.NodeProto.verify(t.node[r]);if(n)return"node."+n}}if(t.docString!=null&&t.hasOwnProperty("docString")&&!$.isString(t.docString))return"docString: string expected";if(t.opsetImport!=null&&t.hasOwnProperty("opsetImport")){if(!Array.isArray(t.opsetImport))return"opsetImport: array expected";for(var r=0;r<t.opsetImport.length;++r){var n=P.onnx.OperatorSetIdProto.verify(t.opsetImport[r]);if(n)return"opsetImport."+n}}return t.domain!=null&&t.hasOwnProperty("domain")&&!$.isString(t.domain)?"domain: string expected":null},e.fromObject=function(t){if(t instanceof P.onnx.FunctionProto)return t;var r=new P.onnx.FunctionProto;if(t.name!=null&&(r.name=String(t.name)),t.input){if(!Array.isArray(t.input))throw TypeError(".onnx.FunctionProto.input: array expected");r.input=[];for(var n=0;n<t.input.length;++n)r.input[n]=String(t.input[n])}if(t.output){if(!Array.isArray(t.output))throw TypeError(".onnx.FunctionProto.output: array expected");r.output=[];for(var n=0;n<t.output.length;++n)r.output[n]=String(t.output[n])}if(t.attribute){if(!Array.isArray(t.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");r.attribute=[];for(var n=0;n<t.attribute.length;++n)r.attribute[n]=String(t.attribute[n])}if(t.attributeProto){if(!Array.isArray(t.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");r.attributeProto=[];for(var n=0;n<t.attributeProto.length;++n){if(typeof t.attributeProto[n]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");r.attributeProto[n]=P.onnx.AttributeProto.fromObject(t.attributeProto[n])}}if(t.node){if(!Array.isArray(t.node))throw TypeError(".onnx.FunctionProto.node: array expected");r.node=[];for(var n=0;n<t.node.length;++n){if(typeof t.node[n]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");r.node[n]=P.onnx.NodeProto.fromObject(t.node[n])}}if(t.docString!=null&&(r.docString=String(t.docString)),t.opsetImport){if(!Array.isArray(t.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");r.opsetImport=[];for(var n=0;n<t.opsetImport.length;++n){if(typeof t.opsetImport[n]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");r.opsetImport[n]=P.onnx.OperatorSetIdProto.fromObject(t.opsetImport[n])}}return t.domain!=null&&(r.domain=String(t.domain)),r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.input=[],n.output=[],n.attribute=[],n.node=[],n.opsetImport=[],n.attributeProto=[]),r.defaults&&(n.name="",n.docString="",n.domain=""),t.name!=null&&t.hasOwnProperty("name")&&(n.name=t.name),t.input&&t.input.length){n.input=[];for(var s=0;s<t.input.length;++s)n.input[s]=t.input[s]}if(t.output&&t.output.length){n.output=[];for(var s=0;s<t.output.length;++s)n.output[s]=t.output[s]}if(t.attribute&&t.attribute.length){n.attribute=[];for(var s=0;s<t.attribute.length;++s)n.attribute[s]=t.attribute[s]}if(t.node&&t.node.length){n.node=[];for(var s=0;s<t.node.length;++s)n.node[s]=P.onnx.NodeProto.toObject(t.node[s],r)}if(t.docString!=null&&t.hasOwnProperty("docString")&&(n.docString=t.docString),t.opsetImport&&t.opsetImport.length){n.opsetImport=[];for(var s=0;s<t.opsetImport.length;++s)n.opsetImport[s]=P.onnx.OperatorSetIdProto.toObject(t.opsetImport[s],r)}if(t.domain!=null&&t.hasOwnProperty("domain")&&(n.domain=t.domain),t.attributeProto&&t.attributeProto.length){n.attributeProto=[];for(var s=0;s<t.attributeProto.length;++s)n.attributeProto[s]=P.onnx.AttributeProto.toObject(t.attributeProto[s],r)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Kt.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/onnx.FunctionProto"},e}(),i}();ld.exports=P});function $n(i,e){if(!i)throw new Error(typeof e=="string"?e:e())}function xo(i){return new TextDecoder().decode(i)}var Xt,en,pf,Ee,Ui,Te,Ne,ht,To,rn,nn,on,Gt=it(()=>{"use strict";Bi();Zu();Xt=Dn(Fn());an();en=class{static arraysEqual(e,o){if(e.length!==o.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==o[t])return!1;return!0}},pf=class{static preprocessInputShapes(e,o){let t=e.length===1?[1,e[0]]:e,r=o.length===1?[o[0],1]:o;return[t,r]}static postprocessOutputShape(e,o,t){o===1&&e.splice(e.length-2,1),t===1&&e.pop()}static calcMatMulShape(e,o){return e[1]!==o[0]?void 0:[e[0],o[1]]}},Ee=class i{static calcShape(e,o,t=!1){let r=e.length,n=o.length;if(r===0)return o;if(n===0)return e;let s=Math.max(e.length,o.length),a=new Array(s);if(t){if(r<2||n<2)return;let u=pf.calcMatMulShape([e[r-2],e[r-1]],[o[n-2],o[n-1]]);if(u===void 0)return;[a[s-2],a[s-1]]=u}for(let u=t?3:1;u<=s;u++){let c=r-u<0?1:e[r-u],w=n-u<0?1:o[n-u];if(c!==w&&c>1&&w>1)return;a[s-u]=Math.max(c,w)}return a}static index(e,o){let t=new Array(o.length);return i.fillIndex(e,o,t),t}static fillIndex(e,o,t){let r=e.length-o.length;for(let n=0;n<o.length;n++)t[n]=e[r+n]%o[n]}static calc(e,o,t,r,n){let s=i.calcShape(e.dims,o.dims);if(s){if(r&&!ht.areEqual(s,e.dims))return;let a=ht.size(s),u=r?e:new pe(s,n||e.type);if(s.length===0)u.set([],t(e.get([]),o.get([])));else{let c=new Array(s.length),w=new Array(e.dims.length),S=new Array(o.dims.length),E=0,N=0,Z=!1,H=!1;e.dims.length===0&&(E=e.get([]),Z=!0),o.dims.length===0&&(N=o.get([]),H=!0);let nt;for(let at=0;at<a;at++){nt=at;for(let ot=s.length-1;ot>=0;ot--)c[ot]=nt%s[ot],nt=Math.floor(nt/s[ot]);Z||(i.fillIndex(c,e.dims,w),E=e.get(w)),H||(i.fillIndex(c,o.dims,S),N=o.get(S)),u.set(c,t(E,N))}}return u}}static isValidBroadcast(e,o){let t=e.length,r=o.length;if(t>r)return!1;for(let n=1;n<=t;n++)if(e[t-n]!==1&&e[t-n]!==o[r-n])return!1;return!0}static getBroadcastDims(e,o){let t=e.length,r=[];for(let n=0;n<t;n++){let s=t-1-n,a=e[s]||1;(o[o.length-1-n]||1)>1&&a===1&&r.unshift(s)}return r}},Ui=class{static getShapeOfGemmResult(e,o,t,r,n){if(e.length!==2||t.length!==2)throw new Error("shape need to be of size 2");let s,a,u;o?(s=e[1],a=e[0]):(s=e[0],a=e[1]);let c=-1;if(r?(u=t[0],c=1):(u=t[1],c=0),t[c]!==a)throw new Error("dimension mismatch");if(s<=0||u<=0||a<=0)throw new Error("invalid shape specified");if(n&&!Ee.isValidBroadcast(n,[s,u]))throw new Error("gemm: invalid bias shape for broadcast");return[s,u,a]}},Te=class i{static tensorDataTypeFromProto(e){switch(e){case Xt.onnx.TensorProto.DataType.INT8:return"int8";case Xt.onnx.TensorProto.DataType.UINT8:return"uint8";case Xt.onnx.TensorProto.DataType.BOOL:return"bool";case Xt.onnx.TensorProto.DataType.INT16:return"int16";case Xt.onnx.TensorProto.DataType.UINT16:return"uint16";case Xt.onnx.TensorProto.DataType.INT32:return"int32";case Xt.onnx.TensorProto.DataType.UINT32:return"uint32";case Xt.onnx.TensorProto.DataType.FLOAT:return"float32";case Xt.onnx.TensorProto.DataType.DOUBLE:return"float64";case Xt.onnx.TensorProto.DataType.STRING:return"string";case Xt.onnx.TensorProto.DataType.INT64:return"int32";case Xt.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${Xt.onnx.TensorProto.DataType[e]}`)}}static tensorDataTypeStringToEnum(e){switch(e){case"int8":return Xt.onnx.TensorProto.DataType.INT8;case"uint8":return Xt.onnx.TensorProto.DataType.UINT8;case"bool":return Xt.onnx.TensorProto.DataType.BOOL;case"int16":return Xt.onnx.TensorProto.DataType.INT16;case"uint16":return Xt.onnx.TensorProto.DataType.UINT16;case"int32":return Xt.onnx.TensorProto.DataType.INT32;case"uint32":return Xt.onnx.TensorProto.DataType.UINT32;case"float32":return Xt.onnx.TensorProto.DataType.FLOAT;case"float64":return Xt.onnx.TensorProto.DataType.DOUBLE;case"string":return Xt.onnx.TensorProto.DataType.STRING;case"int64":return Xt.onnx.TensorProto.DataType.INT64;case"uint64":return Xt.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${e}`)}}static tensorDimsFromProto(e){return e.map(o=>Ir.isLong(o)?o.toNumber():o)}static tensorValueTypeFromProto(e){return{tensorType:i.tensorDataTypeFromProto(e.elemType),shape:{dims:i.tensorDimsFromProto(e.shape.dim.map(o=>o.dimValue))}}}static tensorDimsFromORTFormat(e){let o=[];for(let t=0;t<e.dimsLength();t++)o.push(Ne.longToNumber(e.dims(t)));return o}static tensorAttributesFromORTFormat(e){let o=[];for(let t=0;t<e.attributesLength();t++)o.push(e.attributes(t));return o}},Ne=class{static longToNumber(e,o){return Ir.isLong(e)?e.toNumber():e instanceof q.Long?Ir.fromValue({low:e.low,high:e.high,unsigned:o??!1}).toNumber():e}static isLong(e){return Ir.isLong(e)||e instanceof q.Long}},ht=class i{static size(e){return i.getSizeFromDimensionRange(e,0,e.length)}static sizeFromDimension(e,o){if(o<0||o>e.length)throw new Error(`invalid dimension of ${o} for sizeFromDimension as Tensor has ${e.length} dimensions.`);return i.getSizeFromDimensionRange(e,o,e.length)}static sizeToDimension(e,o){if(o<0||o>e.length)throw new Error(`invalid dimension of ${o} for sizeToDimension as Tensor has ${e.length} dimensions.`);return i.getSizeFromDimensionRange(e,0,o)}static getSizeFromDimensionRange(e,o,t){let r=1;for(let n=o;n<t;n++){if(e[n]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");r*=e[n]}return r}static computeStrides(e){let o=e.length;if(o===0)return[];if(o===1)return[1];let t=new Array(o);t[o-1]=1,t[o-2]=e[o-1];for(let r=o-3;r>=0;--r)t[r]=t[r+1]*e[r+1];return t}static transpose(e){return e.slice().reverse()}static indicesToOffset(e,o,t){t===void 0&&(t=e.length);let r=0;for(let n=0;n<t;++n)r+=o[n]*e[n];return r}static offsetToIndices(e,o){let t=o.length;if(t===0)return[];if(t===1)return[e*o[0]];let r=new Array(o.length);for(let n=0;n<r.length-1;++n)r[n]=Math.floor(e/o[n]),e-=r[n]*o[n];return r[r.length-1]=e,r}static normalizeAxis(e,o){if(e<-o&&e>=o)throw new Error("unsupported axis for this operation.");return e<0?e+o:e}static normalizeAxes(e,o){return e.map(t=>this.normalizeAxis(t,o))}static incrementIndex(e,o,t){if(o.length===0||e.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(t===void 0)t=o.length;else if(t<=0||t>o.length)throw new Error("Incorrect axis to increment on");for(let r=t-1;r>=0&&(e[r]++,!(e[r]<o[r]));--r)e[r]=0}static calculateReshapedDims(e,o){if(o.length===0){if(e.length===0||i.size(e)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}let t=o.length,r=new Array(t),n=-1,s=1;for(let u=0;u<t;u++){if(o[u]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(o[u]===-1){if(n!==-1)throw new Error("at most one dimension in shape hints can be -1");n=u}else{if(o[u]===0){if(u>=e.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");r[u]=e[u]}else r[u]=o[u];s*=r[u]}}let a=i.size(e);if(n!==-1){if(a%s!==0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${e}] Output shape: [${o}]`);r[n]=a/s}else if(s!==a)throw new Error("reshapedDims and originalDims don't have matching sizes");return r}static sortBasedOnPerm(e,o){return o?o.map(t=>e[t]):e.slice().reverse()}static padShape(e,o){let t=e.length;return e.map((r,n)=>r+o[n]+o[n+t])}static areEqual(e,o){return e.length!==o.length?!1:e.every((t,r)=>t===o[r])}static validateDimsAndCalcSize(e){if(e.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let o=1;for(let t of e){if(!Number.isInteger(t))throw new TypeError(`Invalid shape: ${t} is not an integer`);if(t<0||t>2147483647)throw new TypeError(`Invalid shape: length ${t} is not allowed`);o*=t}return o}static flattenShape(e,o){o<0&&(o+=e.length);let t=e.reduce((s,a)=>s*a,1),r=e.slice(o).reduce((s,a)=>s*a,1);return[t/r,r]}static squeezeShape(e,o){let t=new Array;o=i.normalizeAxes(o,e.length);for(let r=0;r<e.length;r++){let n=o.indexOf(r)>=0;if(n&&e[r]!==1)throw new Error("squeeze an axis of size different than 1");(o.length===0&&e[r]>1||o.length>0&&!n)&&t.push(e[r])}return t}static unsqueezeShape(e,o){let t=new Array(e.length+o.length);t.fill(0);for(let n=0;n<o.length;n++){let s=i.normalizeAxis(o[n],t.length);if(s>=t.length)throw new Error("'axes' has an out of range axis");if(t[s]!==0)throw new Error("'axes' has a duplicate axis");t[s]=1}let r=0;for(let n=0;n<t.length;n++)t[n]===0&&(t[n]=e[r++]);if(r!==e.length)throw new Error("the unsqueezed dimension could not be established");return t}},To=class i{static splitShape(e,o,t,r){if(t.length===0){if(!r)throw new Error("need to know number of outputs when the 'split' attribute is not specified");i.determineSplit(e[o],r,t)}let n=[],s=[0];for(let a=0;a<t.length;++a){a!==0&&s.push(s[a-1]+t[a-1]);let u=e.slice();u[o]=t[a],n.push(u)}return[n,s]}static determineSplit(e,o,t){if(e%o!==0)throw new Error("cannot split tensor to equal sized parts");for(let r=0;r<o;++r)t.push(e/o)}},rn=class i{static adjustPoolAttributes(e,o,t,r,n,s){if(!e&&t.length!==o.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(e)for(let a=0;a<o.length-2;a++)a>=t.length?t.push(o[a+2]):t[a]=o[a+2];for(let a=0;a<t.length;a++)if(a<r.length){if(r[a]<0)throw new Error("strides should be greater than or equal to 1")}else r.push(1);for(let a=0;a<t.length;a++)if(a<n.length){if(n[a]<0)throw new Error("dilations should be greater than or equal to 1")}else n.push(1);for(let a=0;a<t.length*2;a++)if(a<s.length){if(s[a]<0)throw new Error("pad should be greater than or equal to 1")}else s.push(0);for(let a=0;a<t.length;a++){if(t[a]<=0)throw new Error("kernel shapes need to be greater than 0");if(s[a]>=t[a]||s[a+t.length]>=t[a])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(e,o,t,r,n,s){if(s){if(n.length!==2*(e.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(o.length!==e.length-2)throw new Error("length of strides should be the length of data dimensions");if(r.length!==e.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let a=0;a<e.length-2;a++)i.adjustPadAndReturnShape(e[a+2],o[a],t[a],r[a],n,a,a+e.length-2,s)}}static computePoolOutputShape(e,o,t,r,n,s,a){if(o.length<=0)throw new Error("input shape must be of size greater than 0");let u=[o[0],o[1]];return i.computeShapeHelper(e,o,u,t,r,n,s,a),u}static computeConvOutputShape(e,o,t,r,n,s,a){if(e.length<=0||o.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");let u=[e[0],o[0]];return i.computeShapeHelper(!1,e,u,t,r,n,s,a),u}static computeShapeHelper(e,o,t,r,n,s,a,u){if(e)for(let c=0;c<o.length-2;c++)t.push(1);else for(let c=0;c<o.length-2;c++)t.push(i.adjustPadAndReturnShape(o[c+2],r[c],n[c],s[c],a,c,c+o.length-2,u))}static adjustPadAndReturnShape(e,o,t,r,n,s,a,u){let c=t*(r-1)+1;if(u&&u!=="NOTSET")switch(u){case"VALID":return n[s]=0,n[a]=0,Math.floor((e-c)/o+1);case"SAME_LOWER":case"SAME_UPPER":if(t!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let S=((e+o-1)/o-1)*o+r-e;return n[s]=Math.floor(u==="SAME_LOWER"?(S+1)/2:S/2),n[a]=S-n[s],Math.floor((e+S-r)/o+1)}default:throw new Error("Unsupported AutoPad type")}else return Math.floor((e+n[s]+n[a]-c)/o+1)}},nn=-34028234663852886e22,on=34028234663852886e22});function eb(i){switch(i){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${i}`)}}function dd(i){switch(i){case kt.onnx.TensorProto.DataType.UINT8:case kt.onnx.TensorProto.DataType.INT8:case kt.onnx.TensorProto.DataType.BOOL:return 1;case kt.onnx.TensorProto.DataType.UINT16:case kt.onnx.TensorProto.DataType.INT16:return 2;case kt.onnx.TensorProto.DataType.FLOAT:case kt.onnx.TensorProto.DataType.INT32:case kt.onnx.TensorProto.DataType.UINT32:return 4;case kt.onnx.TensorProto.DataType.INT64:case kt.onnx.TensorProto.DataType.DOUBLE:case kt.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${kt.onnx.TensorProto.DataType[i]}`)}}function rb(i,e){return new(md(e))(i)}function md(i){switch(i){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function mf(i,e){if(e===kt.onnx.TensorProto.DataType.INT64||e===hf.TensorDataType.INT64){if(i.greaterThanOrEqual(2147483648)||i.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else if(e===kt.onnx.TensorProto.DataType.UINT32||e===hf.TensorDataType.UINT32||e===kt.onnx.TensorProto.DataType.UINT64||e===hf.TensorDataType.UINT64){if(i.greaterThanOrEqual(4294967296)||i.lessThan(0))throw new TypeError("uint64 is not supported")}else throw new TypeError(`not a LONG type: ${kt.onnx.TensorProto.DataType[e]}`);return i.toNumber()}function pd(i,e,o){switch(e){case kt.onnx.TensorProto.DataType.BOOL:case kt.onnx.TensorProto.DataType.UINT8:return i.getUint8(o);case kt.onnx.TensorProto.DataType.INT8:return i.getInt8(o);case kt.onnx.TensorProto.DataType.UINT16:return i.getUint16(o,!0);case kt.onnx.TensorProto.DataType.INT16:return i.getInt16(o,!0);case kt.onnx.TensorProto.DataType.FLOAT:return i.getFloat32(o,!0);case kt.onnx.TensorProto.DataType.INT32:return i.getInt32(o,!0);case kt.onnx.TensorProto.DataType.UINT32:return i.getUint32(o,!0);case kt.onnx.TensorProto.DataType.INT64:return mf(Ir.fromBits(i.getUint32(o,!0),i.getUint32(o+4,!0),!1),e);case kt.onnx.TensorProto.DataType.DOUBLE:return i.getFloat64(o,!0);case kt.onnx.TensorProto.DataType.UINT64:return mf(Ir.fromBits(i.getUint32(o,!0),i.getUint32(o+4,!0),!0),e);default:throw new Error(`cannot read from DataView for type ${kt.onnx.TensorProto.DataType[e]}`)}}var hd,kt,hf,pe,an=it(()=>{"use strict";hd=Dn(nl());Zu();go();kt=Dn(Fn());Gt();hf=bt.experimental.fbs,pe=class i{constructor(e,o,t,r,n,s=hd.Guid.create()){this.dims=e;this.type=o;this.dataProvider=t;this.asyncDataProvider=r;this.cache=n;this.dataId=s;this.size=ht.validateDimsAndCalcSize(e);let a=this.size,u=t===void 0&&r===void 0&&n===void 0;if(n!==void 0&&n.length!==a)throw new RangeError("Input dims doesn't match data length.");if(o==="string"){if(n!==void 0&&(!Array.isArray(n)||!n.every(c=>typeof c=="string")))throw new TypeError("cache should be a string array");u&&(this.cache=new Array(a))}else{if(n!==void 0){let c=md(o);if(!(n instanceof c))throw new TypeError(`cache should be type ${c.name}`)}if(u){let c=new ArrayBuffer(a*eb(o));this.cache=rb(c,o)}}}get data(){if(this.cache===void 0){let e=this.dataProvider(this.dataId);if(e.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=e}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(e){return this.data[ht.indicesToOffset(e,this.strides)]}set(e,o){this.data[ht.indicesToOffset(e,this.strides)]=o}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=ht.computeStrides(this.dims)),this._strides}static fromProto(e){if(!e)throw new Error("cannot construct Value from an empty tensor");let o=Te.tensorDataTypeFromProto(e.dataType),t=Te.tensorDimsFromProto(e.dims),r=new i(t,o);if(o==="string")e.stringData.forEach((n,s)=>{r.data[s]=xo(n)});else if(e.rawData&&typeof e.rawData.byteLength=="number"&&e.rawData.byteLength>0){let n=r.data,s=new DataView(e.rawData.buffer,e.rawData.byteOffset,e.rawData.byteLength),a=dd(e.dataType),u=e.rawData.byteLength/a;if(e.rawData.byteLength%a!==0)throw new Error("invalid buffer length");if(n.length!==u)throw new Error("buffer length mismatch");for(let c=0;c<u;c++){let w=pd(s,e.dataType,c*a);n[c]=w}}else{let n;switch(e.dataType){case kt.onnx.TensorProto.DataType.FLOAT:n=e.floatData;break;case kt.onnx.TensorProto.DataType.INT32:case kt.onnx.TensorProto.DataType.INT16:case kt.onnx.TensorProto.DataType.UINT16:case kt.onnx.TensorProto.DataType.INT8:case kt.onnx.TensorProto.DataType.UINT8:case kt.onnx.TensorProto.DataType.BOOL:n=e.int32Data;break;case kt.onnx.TensorProto.DataType.INT64:n=e.int64Data;break;case kt.onnx.TensorProto.DataType.DOUBLE:n=e.doubleData;break;case kt.onnx.TensorProto.DataType.UINT32:case kt.onnx.TensorProto.DataType.UINT64:n=e.uint64Data;break;default:throw new Error("unspecific error")}if(n==null)throw new Error("failed to populate data from a tensorproto value");let s=r.data;if(s.length!==n.length)throw new Error("array length mismatch");for(let a=0;a<n.length;a++){let u=n[a];Ir.isLong(u)?s[a]=mf(u,e.dataType):s[a]=u}}return r}static fromData(e,o,t){return new i(o,t,void 0,void 0,e)}static fromOrtTensor(e){if(!e)throw new Error("cannot construct Value from an empty tensor");let o=Te.tensorDimsFromORTFormat(e),t=Te.tensorDataTypeFromProto(e.dataType()),r=new i(o,t);if(t==="string")for(let n=0;n<e.stringDataLength();n++)r.data[n]=e.stringData(n);else if(e.rawDataArray()&&typeof e.rawDataLength()=="number"&&e.rawDataLength()>0){let n=r.data,s=new DataView(e.rawDataArray().buffer,e.rawDataArray().byteOffset,e.rawDataLength()),a=dd(e.dataType()),u=e.rawDataLength()/a;if(e.rawDataLength()%a!==0)throw new Error("invalid buffer length");if(n.length!==u)throw new Error("buffer length mismatch");for(let c=0;c<u;c++){let w=pd(s,e.dataType(),c*a);n[c]=w}}return r}}});function Tt(i){return i===1?nb:ob}function yd(i){let e=Tt(i);return`${e.version}
      precision highp float;
      ${e.attribute} vec3 position;
      ${e.attribute} vec2 textureCoord;

      ${e.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`}function gd(i){let e=Tt(i);return`${e.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${e.varyingFrag} vec2 TexCoords;
    ${e.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `}function bd(i,e){let o=Tt(i);return`
  void main() {
    int indices[${e}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${o.output} = result;
  }
  `}var nb,ob,Jt=it(()=>{"use strict";nb={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},ob={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"}});var $t=it(()=>{"use strict"});async function yf(i,e=t=>0,o){return new Promise((t,r)=>{let n=0,s=()=>{if(i()){t();return}n++;let a=e(n);if(o!=null&&n>=o){r();return}setTimeout(s,a)};s()})}function Wi(i){return $n(typeof i<"u"&&i.length!==0,()=>"empty string found for sampler name"),"get"+i.charAt(0).toUpperCase()+i.slice(1)}function vd(i){return $n(typeof i<"u"&&i.length!==0,()=>"empty string found for sampler name"),"get"+i.charAt(0).toUpperCase()+i.slice(1)+"AtOutCoords"}function Bn(i,e){let o=JSON.parse(JSON.stringify(i));return o=e,o}function Nn(i,e){return e.map(o=>i[o]).join(", ")}function De(i){if(i<=1)return"int";if(i===2)return"ivec2";if(i===3)return"ivec3";if(i===4)return"ivec4";if(i===5)return"ivec5";if(i===6)return"ivec6";throw Error(`GPU for rank ${i} is not yet supported`)}function sr(i=6){return["x","y","z","w","u","v"].slice(0,i)}var mr=it(()=>{"use strict";Gt()});function ib(i,e){return sr(e).map(o=>`${i}.${o}`)}function Mn(i,e){return e===1?[i]:ib(i,e)}function yr(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}var sn=it(()=>{"use strict";mr()});function sb(i,e,o){if(i===0)return"false";if(i===1)return`rc > ${e[0]}`;let t="";for(let r=i-2;r<i;r++)t+=`${o[r]} >= ${e[r-i+2]}`,r<i-1&&(t+="||");return t}function ub(i,e){let o=i.length;if(o===0)return"getA(), 0, 0, 0";if(o===1)return`getA(rc),
            rc + 1 >= ${i[0]} ? 0. : getA(rc + 1),
            0, 0`;let t="r, c",r="r, cp1",n="rp1, c",s="rp1, cp1",a="";if(o>2)for(let u=0;u<o-2;++u)a=a+`${e[u]},`;return`getA(${a}${t}),
          rEdge ? 0. : getA(${a}${n}),
          cEdge ? 0. : getA(${a}${r}),
          rEdge || cEdge ? 0. : getA(${a}${s})`}function fb(i,e,o,t){return i===0||i===1?"":`
    int r = ${e[i-2]};
    int c = ${e[i-1]};
    int rp1 = ${e[i-2]} + 1;
    int cp1 = ${e[i-1]} + 1;
    bool rEdge = rp1 >= ${t};
    bool cEdge = cp1 >= ${o};
    `}var wd,ab,Td,xd=it(()=>{"use strict";Jt();$t();mr();sn();wd={name:"pack",inputNames:["A"],inputTypes:[1]},ab=(i,e)=>{let o=Tt(i.session.backend.glContext.version),t=e.dims,r=t.length,n=e.dims.length,s=De(n),a=Mn("rc",n),u=fb(n,a,t[t.length-2],t[t.length-1]),c;r===0?c=[1,1]:r===1?c=[t[0],1]:c=[t[n-1],t[n-2]];let w=sb(n,c,a),S=ub(t,a),E=`
        void main() {
          ${s} rc = getOutputCoords();

          if(${w}) {
            ${o.output} = vec4(0);
          } else {
            ${u}

            ${o.output} = vec4(${S});
          }
        }
      `;return{...wd,hasMain:!0,output:{dims:e.dims,type:e.type,textureType:2},shaderSource:E}},Td=(i,e)=>({...wd,get:()=>ab(i,e)})});function gf(i){if(i.length===0)return[1,1,1];let e=1;for(let o=0;o<i.length-2;++o)e*=i[o];return[e,i.length>1?i[i.length-2]:1,i[i.length-1]]}function Od(i,e){let o=!1;return i.length===0||e.length===0?o=!0:i.length<2||e.length<2?o=i[i.length-1]===e[e.length-1]:o=i[i.length-1]===e[e.length-1]&&i[i.length-2]===e[e.length-2],o}function db(i){let e=ht.computeStrides(i),o=["b","r","c"],t="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e.map((n,s)=>{let a=`int ${o[s]} = ${t} / ${n}`,u=s===e.length-1?`int ${o[s+1]} = ${t} - ${o[s]} * ${n}`:`index -= ${o[s]} * ${n}`;return`${a}; ${u};`}).join("")}
      return ivec3(b, r, c);
    }
  `}function pb(i){let e=ht.computeStrides(i);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${e[0]} + coords.z * ${e[1]} + coords.y;
  }
`}var cb,lb,_d,Id=it(()=>{"use strict";Gt();Jt();$t();sn();cb=i=>({name:"Reshape (packed)",inputTypes:[2],inputNames:["A"],cacheHint:`${i}`}),lb=(i,e,o,t)=>{let r=e.dims,n=t,s="";for(let c=0;c<4;c++){let w="";switch(c){case 0:w="outputCoords = rc;";break;case 1:w="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:w="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:w="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}s+=`
        ${w}
        ${c>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${c}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${c>0?"}":""}
      `}let a=Tt(i.session.backend.glContext.version),u=`
      ${db(r)}
      ${pb(n)}
      ${yr()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${n[2]};
        int cols = ${n[1]};

        ${s}
        ${a.output} = result;
      }
    `;return{...o,output:{dims:n,type:e.type,textureType:2},shaderSource:u,hasMain:!0}},_d=(i,e,o)=>{let t=cb(o);return{...t,get:()=>lb(i,e,t,o)}}});var bf,Ad=it(()=>{"use strict";Jt();$t();bf=(i,e)=>{let o=e.shape,t=Tt(i.session.backend.glContext.version),r=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${t.texture2D}(X,TexCoords).r;
      ${t.output} = encodeAsUint8(value);
    }`,n={name:"Uint8Encode",inputTypes:[0],inputNames:["X"],output:{dims:o,type:e.tensor.type,textureType:3},shaderSource:r,hasMain:!0};return i.executeProgram(n,[e.tensor])}});function mb(i,e){if(i===1)return"rc";let o="";for(let t=0;t<i;t++)o+=e[t],t<i-1&&(o+=",");return o}var Sd,hb,Pd,Ed=it(()=>{"use strict";Jt();$t();mr();sn();Sd={name:"unpack",inputNames:["A"],inputTypes:[2]},hb=(i,e)=>{let o=e.dims.length,t=Mn("rc",o),r=t.slice(-2),n=De(o),s=yr(),u=e.dims.length===0?"":mb(o,t),c=o<=1?"rc":`vec2(${r.join(",")})`,w=Tt(i.session.backend.glContext.version),S=`
    ${s}
    void main() {
      ${n} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${u});

       ${w.output} = vec4(getChannel(packedInput, ${c}), 0, 0, 0);
     }
   `;return{...Sd,hasMain:!0,output:{dims:e.dims,type:e.type,textureType:0},shaderSource:S}},Pd=(i,e)=>({...Sd,get:()=>hb(i,e)})});var zi,_o,Hi,Oo=it(()=>{"use strict";We();zi=class{constructor(e,o=1){if(o===1)this.internalFormat=e.R32F,this.format=e.RED,this.textureType=e.FLOAT,this.channelSize=o;else if(o===4)this.internalFormat=e.RGBA32F,this.format=e.RGBA,this.textureType=e.FLOAT,this.channelSize=o;else throw new Error(`Invalid number of channels: ${o}`)}encode(e,o){let t,r;return e.constructor!==Float32Array&&(Ut.warning("Encoder","data was not of type Float32; creating new Float32Array"),r=new Float32Array(e)),o*this.channelSize>e.length?(Ut.warning("Encoder","Source data too small. Allocating larger array"),r=e,t=this.allocate(o*this.channelSize),r.forEach((n,s)=>t[s]=n)):(r=e,t=r),t}allocate(e){return new Float32Array(e*4)}decode(e,o){return this.channelSize===1?e.filter((r,n)=>n%4===0).subarray(0,o):e.subarray(0,o)}},_o=class{constructor(e,o=1,t){if(o!==1&&o!==4)throw new Error(`Invalid number of channels: ${o}`);this.internalFormat=e.RGBA,this.format=e.RGBA,this.channelSize=o,this.textureType=t||e.FLOAT}encode(e,o){let t=e;return this.channelSize===1&&(Ut.verbose("Encoder","Exploding into a larger array"),t=this.allocate(o),e.forEach((r,n)=>t[n*4]=r)),t}allocate(e){return new Float32Array(e*4)}decode(e,o){return this.channelSize===1?e.filter((r,n)=>n%4===0).subarray(0,o):e.subarray(0,o)}},Hi=class{constructor(e,o=1){this.channelSize=4;if(o===1)this.internalFormat=e.ALPHA,this.format=e.ALPHA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=o;else if(o===4)this.internalFormat=e.RGBA,this.format=e.RGBA,this.textureType=e.UNSIGNED_BYTE,this.channelSize=o;else throw new Error(`Invalid number of channels: ${o}`)}encode(e,o){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}allocate(e){return new Uint8Array(e*this.channelSize)}decode(e,o){if(e instanceof Uint8Array)return e.subarray(0,o);throw new Error(`Invalid array type: ${e.constructor}`)}}});var Io,Dd,vf,kd=it(()=>{"use strict";Gt();$t();Io=(i,e,o)=>{let t=o===0||o===1?1:4,r=o===2,n=o===1||o===2,s=o===4?e.length-1:void 0,a=o===4?e.map((u,c)=>c===e.length-1?u*4:u):void 0;return vf(i,e,t,a,{isPacked:r,reverseWH:n,breakAxis:s})},Dd=(i,e,o)=>{let t=Io(i,e,o);return[t.width,t.height]},vf=(i,e,o=1,t,r)=>{let n=!!(r&&r.isPacked),[s,a]=i.computeTextureWH(n&&t||e,r),u=e.length,c=e.slice(0);if(u===0&&(c=[1]),o===1)t=e;else if(n){if(o!==4)throw new Error("a packed texture must be 4-channel");t=e,u>0&&(c[u-1]=Math.ceil(c[u-1]/2)),u>1&&(c[u-2]=Math.ceil(c[u-2]/2))}else if(!t)throw new Error("Unpacked shape is needed when using channels > 1");return{width:s,height:a,channels:o,isPacked:n,shape:c,strides:ht.computeStrides(c),unpackedShape:t,reversedWH:r&&r.reverseWH}}});var gb,Vi,Cd=it(()=>{"use strict";We();an();Gt();xd();Id();Ad();Ed();Oo();kd();$t();gb=(i,e)=>{let o=e.map(r=>`${r.unpackedShape.join(",")};${r.width}x${r.height}`).join("_"),t=i.name;return i.cacheHint&&(t+="["+i.cacheHint+"]"),t+=":"+o,t},Vi=class{constructor(e){this.session=e;this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,o){return Dd(this.session.layoutStrategy,e,o)}executeProgram(e,o){if(o.length<e.inputNames.length)throw new Error(`Input size mustn't be less than ${e.inputNames.length}.`);if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");let t=[];for(let c=0;c<e.inputNames.length;++c)t[c]=this.getOrCreateTextureData(o[c],e.inputTypes[c]);let r=gb(e,t),n=this.session.programManager.getArtifact(r),s=n?n.programInfo:typeof e.get=="function"?e.get():e,a=Io(this.session.layoutStrategy,s.output.dims,s.output.textureType),u=this.createTextureData(a,s.output.type);return n||(n=this.session.programManager.build(s,t,u),this.session.programManager.setArtifact(r,n)),this.runProgram(n,t,u),u}run(e,o){return this.executeProgram(e,o).tensor}runProgram(e,o,t){for(let r=0;r<o.length;++r)if(!!o[r].isPacked!=(e.programInfo.inputTypes[r]===2))throw new Error(`input[${r}] property packed inconsistent`);if(!!t.isPacked!=(e.programInfo.output.textureType===2))throw new Error("output property packed inconsistent");this.session.programManager.run(e,o,t)}getOrCreateTextureData(e,o){let t=this.getTextureData(e.dataId,o===2);if(!t&&(t=this.getTextureData(e.dataId,o!==2),t))return o===2?this.pack(t):this.unpack(t);if(!t){let r=Io(this.session.layoutStrategy,e.dims,o);if(o===4){let a=e.dims;if(a.length===4){let u=[a[0],Math.ceil(a[1]*a[2]*a[3]/4)],c=Io(this.session.layoutStrategy,u,o),w=e.numberData;if(a[1]*a[2]*a[3]%4!==0){let S=a[0],E=a[1]*a[2]*a[3],N=Math.ceil(E*1/4)*4,Z=S*N;w=new Float32Array(Z);for(let H=0;H<S;++H){let nt=H*E,at=H*N+H%1*E;w.set(e.numberData.subarray(nt,nt+E),at)}}return this.createTextureData(c,e.type,w,e,1)}}if(o===2){let n=vf(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),s=this.createTextureData(n,e.type,e.numberData,e,1);t=this.pack(s)}else t=this.createTextureData(r,e.type,e.numberData,e,1)}return t}createTextureDataFromLayoutBindTensor(e,o,t,r){return this.createTextureData(e,o,t,r,1)}createTextureData(e,o,t,r,n){Ut.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(e)}]`);let s=this.session.textureManager.createTextureFromLayout(o,e,t,n);return this.createTextureDataFromTexture(e,o,s,r)}reshapeUnpacked(e,o){let t=this.getOrCreateTextureData(e,0),r={channels:t.channels,height:t.height,width:t.width,shape:o.length!==0?o:[1],strides:ht.computeStrides(o),unpackedShape:o};return this.createTextureDataFromTexture(r,e.type,t.texture).tensor}reshapePacked(e,o){let t=this.getOrCreateTextureData(e,2);if(Od(e.dims,o)){let c={channels:t.channels,height:t.height,width:t.width,shape:o.length!==0?o:[1],strides:ht.computeStrides(o),unpackedShape:o,isPacked:!0};return this.createTextureDataFromTexture(c,e.type,t.texture).tensor}let r=gf(e.dims),n=gf(o),s=this.reshapePacked(e,r),a=this.run(_d(this,s,n),[s]);return this.reshapePacked(a,o)}cast(e,o){let t=this.getOrCreateTextureData(e,0);return this.createTextureDataFromTexture(t,o,t.texture).tensor}createTextureDataFromTexture(e,o,t,r,n){let s={...e,tensor:r||new pe(e.unpackedShape,o,a=>this.readTexture(s),async a=>this.readTextureAsync(s),void 0,n),texture:t};return this.setTextureData(s.tensor.dataId,s,e.isPacked),s}getTextureData(e,o=!1){return this.session.isInitializer(e)?this.session.getTextureData(e,o):o?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,o,t=!1){this.session.isInitializer(e)?this.session.setTextureData(e,o,t):(t?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,o)}isTextureLayoutCached(e,o=!1){return!!this.getTextureData(e.dataId,o)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(bf(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(bf(this,e))}pack(e){return this.executeProgram(Td(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram(Pd(this,e.tensor),[e.tensor])}}});var wf,Et,ge=it(()=>{"use strict";wf=class{constructor(e){Object.assign(this,e)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(e=>`${this[e]}`).join(";")),this._cacheKey}},Et=i=>new wf(i)});var Fd,$d,Bd,bb,vb,Nd=it(()=>{"use strict";ge();Jt();$t();Fd={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[0,0,0,0,0]},$d=(i,e,o)=>(vb(e),[i.run({...Fd,cacheHint:o.cacheKey,get:()=>bb(i,e,o)},e)]),Bd=i=>{let e=i.attributes.getFloat("epsilon",1e-5),o=i.attributes.getFloat("momentum",.9),t=i.attributes.getInt("spatial",1);return Et({epsilon:e,momentum:o,spatial:t})},bb=(i,e,o)=>{let t=Tt(i.session.backend.glContext.version),r=e[0].dims.length,[n,s]=i.calculateTextureWidthAndHeight(e[1].dims,0),a=`
  float process(int[${r}] indices) {
    vec2 position = offsetToCoords(indices[1], ${n}, ${s});
    float scale = getColorAsFloat(${t.texture2D}(Scale, position));
    float mean = getColorAsFloat(${t.texture2D}(Mean, position));
    float variance = getColorAsFloat(${t.texture2D}(Variance, position));
    float b = getColorAsFloat(${t.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${o.epsilon})) ) + b;
  }`;return{...Fd,output:{dims:e[0].dims,type:e[0].type,textureType:0},shaderSource:a}},vb=i=>{if(!i||i.length!==5)throw new Error("BatchNormalization requires 5 inputs.");let e=i[0],o=i[1],t=i[2],r=i[3],n=i[4];if(e.dims.length<3||o.dims.length!==1||t.dims.length!==1||r.dims.length!==1||n.dims.length!==1)throw new Error("invalid input shape.");if(o.dims[0]!==e.dims[1]||t.dims[0]!==e.dims[1]||r.dims[0]!==e.dims[1]||n.dims[0]!==e.dims[1])throw new Error("invalid input shape.");if(e.type!=="float32"&&e.type!=="float64"||o.type!=="float32"&&o.type!=="float64"||t.type!=="float32"&&t.type!=="float64"||r.type!=="float32"&&r.type!=="float64"||n.type!=="float32"&&n.type!=="float64")throw new Error("invalid input tensor types.")}});var ji,je,dt,Ao,qi,Ar=it(()=>{"use strict";ji=class{constructor(e,o,t,r){this.glContext=e;this.programInfo=o;this.inputTextureLayouts=t;this.outputTextureLayout=r}},je=class{constructor(e){this.context=e}},dt=class{constructor(e,o){this.routineBody=e;this.dependencies=o}},Ao=class{constructor(e,o,t){this.name=e;t?this.dependencies=t:this.dependencies=[],o&&(this.routineBody=o)}addDependency(e){e&&this.dependencies.push(e)}},qi=class{static returnOrderedNodes(e){if(!e||e.length===0)return[];if(e.length===1)return e;let o=new Set,t=new Set,r=new Array;return this.createOrderedNodes(e,o,t,r),r}static createOrderedNodes(e,o,t,r){for(let n=0;n<e.length;++n)this.dfsTraverse(e[n],o,t,r)}static dfsTraverse(e,o,t,r){if(!e||t.has(e.name))return;if(o.has(e.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");o.add(e.name);let n=e.dependencies;if(n&&n.length>0)for(let s=0;s<n.length;++s)this.dfsTraverse(n[s],o,t,r);r.push(e),t.add(e.name),o.delete(e.name)}}});function Tb(){let i="add_";return{body:`
  float ${i}(float a, float b) {
    return a + b;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:i,type:0}}function xb(){let i="div_";return{body:`
  float ${i}(float a, float b) {
    return a / b;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:i,type:0}}function _b(){let i="mul_";return{body:`
  float ${i}(float a, float b) {
    return a * b;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:i,type:0}}function Ob(){let i="sub_";return{body:`
  float ${i}(float a, float b) {
    return a - b;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:i,type:0}}function Ib(){let i="equal_";return{body:`
  float ${i}(float a, float b) {
    return float(a == b);
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:i,type:0}}function Ab(){let i="greater_";return{body:`
  float ${i}(float a, float b) {
    return float(a > b);
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:i,type:0}}function Sb(){let i="less_";return{body:`
  float ${i}(float a, float b) {
    return float(a < b);
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:i,type:0}}function Pb(){let i="and_";return{body:`
  float ${i}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:i,type:0}}function Eb(){let i="or_";return{body:`
  float ${i}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:i,type:0}}function Db(){let i="xor_";return{body:`
  float ${i}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:i,type:0}}function kb(){return Cb("pow")}function Lb(){let i="prelu_";return{body:`
  float ${i}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${i}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:i,type:0}}function Cb(i){let e=`${i}_`;return{body:`
  float ${e}(float a, float b) {
    return ${i}(a, b);
  }
  vec4 ${e}(vec4 v1, vec4 v2) {
    return ${i}(v1, v2);
  }
  `,name:e,type:0}}var qe,Fb,Md,Rd,Gd,Ud,Wd,zd,Hd,Vd,jd,qd,Yd,Kd,Xd=it(()=>{"use strict";Gt();Ar();Jt();$t();qe=(i,e,o,t=e[0].type,r)=>{let n=i.session.pack?2:0;return{name:o.name,inputNames:["A","B"],inputTypes:[n,n],cacheHint:r,get:()=>Fb(i,e,o,t)}},Fb=(i,e,o,t=e[0].type)=>{let r=i.session.pack?2:0,n=!ht.areEqual(e[0].dims,e[1].dims),s=e[0].dims,a=i.session.pack;if(n){let w=Ee.calcShape(e[0].dims,e[1].dims,!1);if(!w)throw new Error("Can't perform binary op on the given tensors");s=w;let S=s.length,E=e[0].dims.length!==0?e[0].dims.length:1,N=e[1].dims.length!==0?e[1].dims.length:1,Z=e[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",H=e[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",nt=Tt(i.session.backend.glContext.version),at=a?`
      ${o.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${o.name}(a, b);
        ${nt.output} = result;
      }`:`
      ${o.body}
      float process(int indices[${S}]) {
        int aindices[${E}];
        int bindices[${N}];
        ${Z}
        ${H}
        return ${o.name}(_A(aindices), _B(bindices));
      }`;return{name:o.name,inputNames:["A","B"],inputTypes:[r,r],output:{dims:s,type:t,textureType:r},shaderSource:at,hasMain:a}}let u=Tt(i.session.backend.glContext.version),c=`
    ${o.body}
    void main() {
      vec4 v1 = ${u.texture2D}(A, TexCoords);
      vec4 v2 = ${u.texture2D}(B, TexCoords);
      vec4 result = ${o.name}(v1, v2);
      ${u.output} = result;
    }
    `;return{name:o.name,inputNames:["A","B"],inputTypes:[r,r],output:{dims:e[0].dims,type:t,textureType:r},shaderSource:c,hasMain:!0}},Md=(i,e)=>[i.run(qe(i,e,Tb()),e)],Rd=(i,e)=>[i.run(qe(i,e,Pb(),"bool"),e)],Gd=(i,e)=>[i.run(qe(i,e,xb()),e)],Ud=(i,e)=>[i.run(qe(i,e,Ib(),"bool"),e)],Wd=(i,e)=>[i.run(qe(i,e,Ab(),"bool"),e)],zd=(i,e)=>[i.run(qe(i,e,Sb(),"bool"),e)],Hd=(i,e)=>[i.run(qe(i,e,_b()),e)],Vd=(i,e)=>[i.run(qe(i,e,Eb(),"bool"),e)],jd=(i,e)=>[i.run(qe(i,e,kb()),e)],qd=(i,e)=>[i.run(qe(i,e,Lb()),e)],Yd=(i,e)=>[i.run(qe(i,e,Ob()),e)],Kd=(i,e)=>[i.run(qe(i,e,Db(),"bool"),e)]});var Jd,Zd,Bb,Qd=it(()=>{"use strict";Gt();Jd=(i,e,o)=>(Bb(e),[i.cast(e[0],o)]),Zd=i=>Te.tensorDataTypeFromProto(i.attributes.getInt("to")),Bb=i=>{if(!i||i.length!==1)throw new Error("Cast requires 1 input.");if(i[0].type==="string")throw new Error("Invalid input type.")}});var Nb,Mb,tp,Yi,ep=it(()=>{"use strict";Jt();$t();mr();sn();Nb=(i,e)=>({name:"Concat (packed)",inputNames:Array.from({length:i},(o,t)=>`X${t}`),inputTypes:Array(i).fill(2),cacheHint:e}),Mb=(i,e,o,t)=>{let r=o[0].dims.slice();if(t>=r.length||t<-1*r.length)throw new Error("axis specified for concat doesn't match input dimensionality");t<0&&(t=r.length+t);let n=r.slice(0);for(let yt=1;yt<o.length;yt++){let Wt=o[yt].dims.slice();for(let Zt=0;Zt<r.length;Zt++)if(Zt===t)n[t]+=Wt[Zt];else if(r[Zt]!==Wt[Zt])throw new Error("non concat dimensions must match")}let s=n.length,a=Mn("coords",s),u=De(s),c=yr(),w=o.map(yt=>yt.dims),S=sr(s),E=new Array(w.length-1);E[0]=w[0][t];for(let yt=1;yt<E.length;yt++)E[yt]=E[yt-1]+w[yt][t];let N=S[t],Z=S.slice(-2),H=S.join(),nt=`if (${N} < ${E[0]}) {
        return getChannel(
            getX0(${H}), vec2(${Z.join()}));
        }`;for(let yt=1;yt<E.length;yt++){let Wt=E[yt-1];nt+=`
            if (${N} < ${E[yt]}  && ${N} >= ${E[yt-1]}) {
              return getChannel(
                getX${yt}(${Yi(S,N,Wt)}),
                vec2(${Yi(Z,N,Wt)}));
            }`}let at=E.length,ot=E[E.length-1];nt+=`
            return getChannel(
              getX${at}(${Yi(S,N,ot)}),
              vec2(${Yi(Z,N,ot)}));`;let ft=Tt(i.session.backend.glContext.version),xt=`
          ${c}
          float getValue(${S.map(yt=>"int "+yt)}) {
            ${nt}
          }

          void main() {
            ${u} coords = getOutputCoords();
            int lastDim = coords.${S[s-1]};
            coords.${S[s-1]} = coords.${S[s-2]};
            coords.${S[s-2]} = lastDim;

            vec4 result = vec4(getValue(${a}), 0., 0., 0.);

            ${a[s-1]} = ${a[s-1]} + 1;
            if (${a[s-1]} < ${n[s-1]}) {
              result.g = getValue(${a});
            }

            ${a[s-2]} = ${a[s-2]} + 1;
            if (${a[s-2]} < ${n[s-2]}) {
              result.a = getValue(${a});
            }

            ${a[s-1]} = ${a[s-1]} - 1;
            if (${a[s-2]} < ${n[s-2]} &&
                ${a[s-1]} < ${n[s-1]}) {
              result.b = getValue(${a});
            }
            ${ft.output} = result;
          }
        `;return{...e,output:{dims:n,type:o[0].type,textureType:2},shaderSource:xt,hasMain:!0}},tp=(i,e,o)=>{let t=Nb(e.length,o.cacheKey);return{...t,get:()=>Mb(i,t,e,o.axis)}},Yi=(i,e,o)=>{let t=i.indexOf(e);return i.map((n,s)=>s===t?`${n} - ${o}`:n).join()}});var rp,Rb,Gb,Ub,np,Wb,zb,Hb,op,Vb,ip=it(()=>{"use strict";ge();$t();ep();rp=(i,e,o)=>(Vb(e),i.session.pack&&e[0].dims.length>1?[i.run(tp(i,e,o),e)]:[i.run(Ub(i,e,o),e)]),Rb=(i,e)=>({name:"Concat",inputNames:Array.from({length:i},(o,t)=>`X${t}`),inputTypes:Array(i).fill(0),cacheHint:e}),Gb=(i,e,o,t)=>{let r=o[0].dims.slice();if(t>=r.length||t<-1*r.length)throw new Error("axis specified for concat doesn't match input dimensionality");t<0&&(t=r.length+t);let n=r.slice(0);for(let N=1;N<o.length;N++){let Z=o[N].dims.slice();for(let H=0;H<r.length;H++)if(H===t)n[t]+=Z[H];else if(r[H]!==Z[H])throw new Error("non concat dimensions must match")}let s=n.length,a=new Array(o.length),u=0;for(let N=0;N<a.length;++N)u+=o[N].dims[t],a[N]=u;let c="";o.length<5?c=np(a):c=Wb(a);let w=zb(o.length,s),S=Hb(a),E=`
        ${w}
        ${S}
        ${c}
        float process(int indices[${s}]) {
          int textureIndex = getTextureWhereDataResides (indices[${t}]);

          if(textureIndex != 0) {
            indices[${t}] = indices[${t}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return{...e,output:{dims:n,type:o[0].type,textureType:0},shaderSource:E}},Ub=(i,e,o)=>{let t=Rb(e.length,o.cacheKey);return{...t,get:()=>Gb(i,t,e,o.axis)}},np=i=>`int getTextureWhereDataResides(int index) {
      ${i.map((o,t)=>`if(index<${o}) {return ${t};}
`).join("")}
    }`,Wb=i=>np(i),zb=(i,e)=>{let o=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${e}]) {`];for(let t=0;t<i;++t)t===0?o.push(`	if (textureIndex == ${t}) { return _X${t}(indices); }`):t===i-1?o.push(`	else { return _X${t}(indices); }`):o.push(`	else if (textureIndex == ${t}) { return _X${t}(indices); }`);return o.push("	}"),o.join(`
`)},Hb=i=>{let e=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let o=0;o<i.length;++o)o===0?e.push(`	if (index == ${o}) { return ${i[o]}; }`):o===i.length-1?e.push(`	else { return ${i[o]}; }`):e.push(`	else if (index == ${o}) { return ${i[o]}; }`);return e.push("	}"),e.join(`
`)},op=i=>Et({axis:i.attributes.getInt("axis")}),Vb=i=>{if(!i||i.length<1)throw new Error("too few inputs");let e=i[0].type,o=i[0].dims.length;if(e==="string")throw new Error("string tensor is not supported yet");for(let t of i){if(t.type!==e)throw new Error("input tensors should be one type");if(t.dims.length!==o)throw new Error("input tensors should have the same shape")}}});function jb(){return Ye("abs")}function qb(){return Ye("acos")}function Yb(){return Ye("asin")}function Kb(){return Ye("atan")}function Xb(){return Ye("ceil")}function Jb(){return Ye("cos")}function Zb(i){let e="elu";return{body:`
  const float alpha = float(${i});

  float ${e}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${e}_(vec4 v) {
    return vec4(${e}_(v.x), ${e}_(v.y), ${e}_(v.z), ${e}_(v.w));
  }
  `,name:e,type:0}}function Qb(){return Ye("exp")}function t0(){return Ye("floor")}function Tf(i,e){let o="clip";return{body:`
  const float min = float(${i});
  const float max = float(${e});

  float ${o}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${o}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:o,type:0}}function e0(){let i="indentity";return{body:`
  float ${i}_(float a) {
    return a;
  }
  vec4 ${i}_(vec4 v) {
    return v;
  }
  `,name:i,type:0}}function r0(i){let e="leakyRelu";return{body:`
  const float alpha = float(${i});

  float ${e}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${e}_(vec4 v) {
    return vec4(${e}_(v.x), ${e}_(v.y), ${e}_(v.z), ${e}_(v.w));
  }
  `,name:e,type:0}}function n0(){return Ye("log")}function o0(){let i="neg";return{body:`
  float ${i}_(float a) {
    return -a;
  }
  vec4 ${i}_(vec4 v) {
    return -v;
  }
  `,name:i,type:0}}function i0(){let i="not";return{body:`
  float ${i}_(float a) {
    return float( ! bool(a) );
  }
  bool ${i}_(bool a) {
    return !a;
  }
  vec4 ${i}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${i}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:i,type:0}}function a0(){return Ye("sin")}function xf(){let i="relu";return{body:`
  float ${i}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${i}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:i,type:0}}function _f(){let i="sigmoid";return{body:`
  float ${i}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${i}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:i,type:0}}function s0(){return Ye("sqrt")}function u0(){return Ye("tan")}function f0(){let i="tanh";return{body:`
  float ${i}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${i}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:i,type:0}}function Ye(i){return{body:`
  float ${i}_(float a) {
    return ${i}(a);
  }
  vec4 ${i}_(vec4 v) {
    return ${i}(v);
  }
  `,name:i,type:0}}var c0,fe,ap,sp,up,fp,Of,cp,lp,l0,dp,pp,hp,mp,yp,gp,If,bp,vp,wp,Tp,xp,_p,Op,Ip,Ap,Sp,Pp,Af=it(()=>{"use strict";ge();Gt();Ar();Jt();$t();c0=(i,e,o,t)=>{let r=i.session.pack?2:0,n=Tt(i.session.backend.glContext.version);return{...e,output:{dims:o.dims,type:o.type,textureType:r},shaderSource:`
     ${t.body}
     void main() {
       vec4 v = ${n.texture2D}(A, TexCoords);
       v = ${t.name}_(v);
       ${n.output} = v;
     }
     `,hasMain:!0}},fe=(i,e,o,t)=>{let r=i.session.pack?2:0,n={name:o.name,inputTypes:[r],inputNames:["A"],cacheHint:t};return{...n,get:()=>c0(i,n,e,o)}},ap=(i,e)=>[i.run(fe(i,e[0],jb()),e)],sp=(i,e)=>[i.run(fe(i,e[0],qb()),e)],up=(i,e)=>[i.run(fe(i,e[0],Yb()),e)],fp=(i,e)=>[i.run(fe(i,e[0],Kb()),e)],Of=(i,e,o)=>[i.run(fe(i,e[0],Tf(o.min,o.max),o.cacheKey),e)],cp=i=>Et({min:i.attributes.getFloat("min",nn),max:i.attributes.getFloat("max",on)}),lp=(i,e)=>{let o=l0(i,e);return Of(i,[e[0]],o)},l0=(i,e)=>{if(e.length>=3&&(!i.session.isInitializer(e[1].dataId)||!i.session.isInitializer(e[2].dataId)))throw new Error("dynamic clip attributes are not allowed");let o=e.length>=3?e[1].numberData[0]:nn,t=e.length>=3?e[2].numberData[0]:on;return Et({min:o,max:t})},dp=(i,e)=>[i.run(fe(i,e[0],Xb()),e)],pp=(i,e)=>[i.run(fe(i,e[0],Jb()),e)],hp=(i,e,o)=>[i.run(fe(i,e[0],Zb(o.alpha),o.cacheKey),e)],mp=i=>Et({alpha:i.attributes.getFloat("alpha",1)}),yp=(i,e)=>[i.run(fe(i,e[0],Qb()),e)],gp=(i,e)=>[i.run(fe(i,e[0],t0()),e)],If=(i,e)=>[i.run(fe(i,e[0],e0()),e)],bp=(i,e,o)=>[i.run(fe(i,e[0],r0(o.alpha),o.cacheKey),e)],vp=i=>Et({alpha:i.attributes.getFloat("alpha",.01)}),wp=(i,e)=>[i.run(fe(i,e[0],n0()),e)],Tp=(i,e)=>[i.run(fe(i,e[0],o0()),e)],xp=(i,e)=>[i.run(fe(i,e[0],i0()),e)],_p=(i,e)=>[i.run(fe(i,e[0],xf()),e)],Op=(i,e)=>[i.run(fe(i,e[0],_f()),e)],Ip=(i,e)=>[i.run(fe(i,e[0],a0()),e)],Ap=(i,e)=>[i.run(fe(i,e[0],s0()),e)],Sp=(i,e)=>[i.run(fe(i,e[0],u0()),e)],Pp=(i,e)=>[i.run(fe(i,e[0],f0()),e)]});function gr(i){let e;switch(i.activation){case"Relu":e=xf();break;case"Sigmoid":e=_f();break;case"Clip":e=Tf(i.clipMin,i.clipMax);break;default:return{activationFunction:"",applyActivation:""}}let o=e.name,t=e.body,r=`value = ${o}_(value);`;return{activationFunction:t,applyActivation:r}}var Rn,un=it(()=>{"use strict";Gt();Af();Rn=i=>{let e=i.getString("activation","");if(e==="Clip"){let[o,t]=i.getFloats("activation_params",[nn,on]);return{activation:e,clipMax:t,clipMin:o,activationCacheKey:`${e}:${o},${t}`}}return{activation:e,activationCacheKey:e}}});var p0,h0,Ep,Dp=it(()=>{"use strict";We();Jt();$t();Ki();un();p0=(i,e)=>({name:"GroupedConv",inputNames:i?["X","W","Bias"]:["X","W"],inputTypes:i?[0,0,0]:[0,0],cacheHint:e}),h0=(i,e,o,t)=>{let n=e.length>2?"value += getBias(output_channel);":"",s=e[0].dims.slice(),a=e[1].dims.slice(),u=a[0]/t.group;Ut.verbose("GroupedConv",`autpPad:${t.autoPad}, dilations:${t.dilations}, group:${t.group}, kernelShape:${t.kernelShape}, pads:${t.pads}, strides:${t.strides}`);let c=Gn(s,a,t.dilations,t.pads,t.strides),w=Tt(i.session.backend.glContext.version),{activationFunction:S,applyActivation:E}=gr(t),N=`
  const ivec2 strides = ivec2(${t.strides[0]}, ${t.strides[1]});
  const ivec2 pads = ivec2(${t.pads[0]}, ${t.pads[1]});
  ${S}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${u};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${a[1]}; wInChannel++) {
      int input_channel = group_id * ${a[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${a[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${t.dilations[0]};

        if (xHeight < 0 || xHeight >= ${s[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${a[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${t.dilations[1]};
          if (xWidth < 0 || xWidth >= ${s[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${n}
    ${E}
    ${w.output} = vec4(value, .0, .0, .0);
  }
`;return{...o,output:{dims:c,type:e[0].type,textureType:0},shaderSource:N,hasMain:!0}},Ep=(i,e,o)=>{let t=p0(e.length>2,o.cacheKey);return{...t,get:()=>h0(i,e,t,o)}}});var m0,y0,kp,Lp=it(()=>{"use strict";Jt();$t();sn();m0=i=>({name:"Im2Col (packed)",inputNames:["A"],inputTypes:[2],cacheHint:i}),y0=(i,e,o,t,r,n)=>{let s=o.dims,a=t.dims,u=2,c=3,w=r.length,S=[a[1]*a[2]*a[3],r[2]*r[3]],E=a[2]*a[3],N=yr(),Z=Tt(i.session.backend.glContext.version),H="";for(let at=0;at<=1;at++)for(let ot=0;ot<=1;ot++)H+=`
            blockIndex = rc.x + ${ot};
            pos = rc.y + ${at};

            if(blockIndex < ${S[1]} && pos < ${S[0]}) {
              offsetY = int(blockIndex / (${r[w-1]})) * ${n.strides[0]} -
                ${n.pads[0]};
              d0 = offsetY + ${n.dilations[0]} * (imod(pos, ${E}) / ${a[2]});

              if(d0 < ${s[u]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${r[w-1]}) * ${n.strides[1]} -
                  ${n.pads[1]};
                d1 = offsetX + ${n.dilations[1]} * imod(imod(pos, ${E}), ${a[2]});

                if(d1 < ${s[c]} && d1 >= 0) {

                  ch = int(float(pos)/ ${E}.);
                    innerDims = vec2(d0, d1);
                    result[${at*2+ot}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;let nt=`
      ${N}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${H}
          ${Z.output} = result;
      }
            `;return{...e,output:{dims:S,type:o.type,textureType:2},shaderSource:nt,hasMain:!0}},kp=(i,e,o,t,r)=>{let n=m0(r.cacheKey);return{...n,get:()=>y0(i,n,e,o,t,r)}}});function b0(i,e,o){let t=e[0].dims,r=e[1].dims,n=Ee.calcShape(t,r,!0);if(!n)throw new Error("Can't use matmul on the given tensors");let s=De(n.length),a=sr(),{activationFunction:u,applyActivation:c}=gr(o),w=e.length>2,S=w?"value += getBiasForMatmul();":"",E=w?`${Pf(s,a,e[2].dims,n,!1)}`:"",N=n.length,Z=t.length,H=r.length,nt=t[t.length-1],at=`
    ${u}
    ${E}
    float process(int indices[${N}]) {
        int a[${Z}];
        int b[${H}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${nt}; ++k) {
            a[${Z-1}] = k;
            b[${H-2}] = k;
            value += _A(a) * _B(b);
        }
        ${S}
        ${c}
        return value;
    }`;return{...i,output:{dims:n,type:e[0].type,textureType:0},shaderSource:at}}function Sf(i,e){let o=g0(i.length>2,e.activationCacheKey);return{...o,get:()=>b0(o,i,e)}}function Pf(i,e,o,t,r){let n="",s=o.length,a=t.length,u=a-s;a<2&&s>0?n="coords":n=o.map((H,nt)=>`coords.${e[nt+u]}`).join(", ");let w=Ee.getBroadcastDims(o,t).map(H=>`coords.${e[H+u]} = 0;`).join(`
`),E=ht.size(o)===1,N="vec4(outputValue.xx, outputValue.yy)";return E&&(N="vec4(outputValue.x)"),r?`
vec4 getBiasForMatmul() {
  ${i} coords = getOutputCoords();
  ${w}
  vec4 outputValue = getBias(${n});
  return ${N};
}`:`
float getBiasForMatmul() {
  ${i} coords = getOutputCoords();
  ${w}
  return getBias(coords.x);
}`}var Cp,Fp,g0,v0,Xi=it(()=>{"use strict";Gt();$t();mr();un();Ef();Cp=(i,e,o)=>(v0(e),i.session.pack?[i.run(Ji(i,e,o),e)]:[i.run(Sf(e,o),e)]),Fp=i=>Rn(i.attributes),g0=(i,e)=>({name:"MatMul",inputNames:i?["A","B","Bias"]:["A","B"],inputTypes:i?[0,0,0]:[0,0],cacheHint:e});v0=i=>{if(!i||i.length!==2)throw new Error("MatMul requires 2 inputs.");if(i[0].dims[i[0].dims.length-1]!==i[1].dims[i[1].dims.length-2])throw new Error("shared dimension does not match.");if(i[0].type!=="float32"&&i[0].type!=="float64"||i[1].type!=="float32"&&i[1].type!=="float64")throw new Error("inputs should be float type");if(i[0].type!==i[1].type)throw new Error("inputs types should match")}});function x0(i,e,o,t){let r=[],n=[],s=o[0].dims,a=o[1].dims,u=s.length,c=a.length,w=t.length,S=w-u,E=w-c;r=s.map((ft,xt)=>`coords.${e[xt+S]}`),r[u-1]="i*2",r.join(", "),n=a.map((ft,xt)=>`coords.${e[xt+E]}`),n[c-2]="i*2",n.join(", ");let N=Ee.getBroadcastDims(s,t),Z=Ee.getBroadcastDims(a,t),H=N.map(ft=>`coords.${e[ft+S]} = 0;`).join(`
`),nt=Z.map(ft=>`coords.${e[ft+E]} = 0;`).join(`
`),at=`int lastDim = coords.${e[w-1]};
  coords.${e[w-1]} = coords.${e[w-2]};
  coords.${e[w-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${i} coords = getOutputCoords();
  ${at}
  ${H}
  vec4 outputValue = getA(${r});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${i} coords = getOutputCoords();
  ${at}
  ${nt}
  vec4 outputValue = getB(${n});
  return outputValue;
}`}function _0(i,e){let o="";for(let t=0;t<e-2;t++)o+=`rc.${i[t]}, `;return o+=`rc.${i[e-2]}, i*2`,o}function O0(i,e){let o="";for(let t=0;t<e-2;t++)o+=`rc.${i[t]}, `;return o+=`i*2, rc.${i[e-1]}`,o}var w0,T0,Ji,Ef=it(()=>{"use strict";Gt();Jt();$t();mr();un();Xi();w0=(i,e)=>({name:"MatMul (packed)",inputNames:i?["A","B","Bias"]:["A","B"],inputTypes:i?[2,2,2]:[2,2],cacheHint:e}),T0=(i,e,o,t)=>{let r=o.length>2,n=r?"value += getBiasForMatmul();":"",s=o[0].dims,a=o[1].dims,u=Ee.calcShape(s,a,!0),c=!ht.areEqual(o[0].dims,o[1].dims);if(!u)throw new Error("Can't use matmul on the given tensors");let w=s[s.length-1],S=Math.ceil(w/2),E=s.length,N=a.length,Z=Tt(i.session.backend.glContext.version),H=De(u.length),nt=u.length,at=sr(),{activationFunction:ot,applyActivation:ft}=gr(t),xt=r?`${Pf(H,at,o[2].dims,u,!0)}`:"",yt=c?`${x0(H,at,o,u)}`:"",Wt=c?"getAAtOutCoordsMatmul(i)":`getA(${_0(at,E)})`,Zt=c?"getBAtOutCoordsMatmul(i)":`getB(${O0(at,N)})`,pt=c?"":`${H} rc =
          getOutputCoords(); int lastDim = rc.${at[nt-1]}; rc.${at[nt-1]} =
          rc.${at[nt-2]}; rc.${at[nt-2]} = lastDim;
      `,It=`
            ${yt}
            ${xt}
            ${ot}
            void main() {
              ${pt}

              vec4 value = vec4(0);
              for (int i = 0; i < ${S}; i++) {
                vec4 a = ${Wt};
                vec4 b = ${Zt};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${n}
              ${ft}
              ${Z.output} = value;
            }`;return{...e,output:{dims:u,type:o[0].type,textureType:2},shaderSource:It,hasMain:!0}},Ji=(i,e,o)=>{let t=w0(e.length>2,o.activationCacheKey);return{...t,get:()=>T0(i,t,e,o)}}});var $p,Bp=it(()=>{"use strict";Ki();Lp();Ef();$p=(i,e,o)=>{let t=e[0].dims,r=e[1].dims,n=Gn(t,r,o.dilations,o.pads,o.strides),s=i.run(kp(i,e[0],e[1],n,o),[e[0]]),a=i.reshapePacked(e[1],[r[0],r[1]*r[2]*r[3]]),u=e.length===3?[a,s,e[2]]:[a,s],c=i.run(Ji(i,u,o),u);return i.reshapePacked(c,n)}});var I0,A0,Np,Df,kf=it(()=>{"use strict";$t();I0=i=>({name:"Im2Col",inputNames:["X"],inputTypes:[0],cacheHint:i}),A0=(i,e,o,t,r,n)=>{let s=o.dims,a=t.dims,u=r.length,c=Df(s,a,r,4),w=`
        const int XC = ${s[1]};
        const int XH = ${s[2]};
        const int XW = ${s[3]};
        const int KH = ${n.kernelShape[0]};
        const int KW = ${n.kernelShape[1]};
        const int dilationH = ${n.dilations[0]};
        const int dilationW = ${n.dilations[1]};
        const int strideH = ${n.strides[0]};
        const int strideW = ${n.strides[1]};
        const int padH = ${n.pads[0]};
        const int padW = ${n.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${u}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${s.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return{...e,output:{dims:c,type:o.type,textureType:4},shaderSource:w}},Np=(i,e,o,t,r)=>{let n=I0(r.cacheKey);return{...n,get:()=>A0(i,n,e,o,t,r)}},Df=(i,e,o,t=4)=>[o[0],o[2],o[3],Math.ceil(i[1]*e[2]*e[3]/t)]});var S0,P0,Mp,Rp=it(()=>{"use strict";Gt();Jt();$t();un();kf();S0=(i,e)=>({name:"ConvDotProduct",inputNames:i?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:i?[0,4,0]:[0,4],cacheKey:e.activationCacheKey}),P0=(i,e,o,t,r)=>{let n=o[0].dims,s=o[1].dims,a=[s[0],Math.ceil(n[1]*s[2]*s[3]/4)],u=Df(n,s,t),[c,w]=i.calculateTextureWidthAndHeight(a,4),S=ht.computeStrides(u),[E,N]=i.calculateTextureWidthAndHeight(u,4),Z=t.length,H=o.length<3?"0.0":"_B(b)",nt=Math.ceil(n[1]*s[2]*s[3]/4),{activationFunction:at,applyActivation:ot}=gr(r),ft=Tt(i.session.backend.glContext.version),xt=`
${at}
float process(int indices[${Z}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${S[0]} + im2col[1] * ${S[1]} + im2col[2] * ${S[2]};
  int kernelOffset = indices[1] * ${a[1]};
  float value = ${H};
  for (int i = 0; i < ${nt}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${E}, ${N});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${c}, ${w});
    value += dot(${ft.texture2D}(Im2Col, im2colCoords), ${ft.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${ot}
  return value;
}`;return{...e,output:{dims:t,type:o[0].type,textureType:0},shaderSource:xt}},Mp=(i,e,o,t)=>{let r=S0(e.length>2,t);return{...r,get:()=>P0(i,r,e,o,t)}}});var Gn,Lf,E0,D0,k0,L0,Cf,C0,Ki=it(()=>{"use strict";ge();Gt();Dp();Bp();Rp();un();kf();Xi();Gn=(i,e,o,t,r)=>{let n=i[0],s=i.slice(2),a=s.length,u=e[0],w=e.slice(2).map((Z,H)=>Z+(Z-1)*(o[H]-1)),E=s.map((Z,H)=>Z+t[H]+t[H+a]).map((Z,H)=>Math.floor((Z-w[H]+r[H])/r[H]));return[n,u].concat(...E)},Lf=(i,e,o)=>(C0(e,o),E0(i,e,o)),E0=(i,e,o)=>{let t=L0(o,e),r=i.session.pack,n=t.kernelShape[0]===1&&t.kernelShape[1]===1;return t.group>1?[i.run(Ep(i,e,t),e)]:n&&r?[D0(i,e,t)]:r&&e[0].dims.length===4&&e[0].dims[0]===1&&!n?[$p(i,e,t)]:[k0(i,e,t)]},D0=(i,e,o)=>{let t=e[0].dims,r=e[1].dims,n=Gn(t,r,o.dilations,o.pads,o.strides),s=i.reshapeUnpacked(e[0],[t[1],t[2]*t[3]]),a=i.reshapeUnpacked(e[1],[r[0],r[1]]),u=e.length>2?[a,s,e[2]]:[a,s],c=i.run(Sf(u,o),u);return i.reshapeUnpacked(c,n)},k0=(i,e,o)=>{let t=e[0].dims,r=e[1].dims,n=Gn(t,r,o.dilations,o.pads,o.strides),s=i.run(Np(i,e[0],e[1],n,o),[e[0]]),a=e.length===3?[s,e[1],e[2]]:[s,e[1]];return i.run(Mp(i,e,n,o),a)},L0=(i,e)=>{let o=i.kernelShape.slice();if(i.kernelShape.length===0)for(let n=2;n<e[1].dims.length;++n)o.push(e[1].dims[n]);let t=i.pads.slice();rn.adjustPadsBasedOnAutoPad(e[0].dims,i.strides,i.dilations,o,t,i.autoPad);let r=Object.assign({},i);return Object.assign(r,{kernelShape:o,pads:t,cacheKey:i.cacheKey}),r},Cf=i=>{let e=i.attributes,o=Rn(e),t=e.getString("auto_pad","NOTSET"),r=e.getInts("dilations",[1,1]),n=e.getInt("group",1),s=e.getInts("kernel_shape",[]),a=e.getInts("pads",[0,0,0,0]),u=e.getInts("strides",[1,1]);return Et({autoPad:t,dilations:r,group:n,kernelShape:s,pads:a,strides:u,...o})},C0=(i,e)=>{if(!i||i.length!==2&&i.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(i[0].dims.length!==4||i[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");let o=i[0].dims[1],t=i[1].dims[1]*e.group;if(o!==t)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(i.length===3&&(i[2].dims.length!==1||i[1].dims[0]!==i[2].dims[0]))throw new Error("invalid bias");let r=i[0].dims.length-2;if(e.dilations.length!==r)throw new Error(`dilations should be ${r}D`);if(e.strides.length!==r)throw new Error(`strides should be ${r}D`);if(e.pads.length!==r*2)throw new Error(`pads should be ${r*2}D`);if(e.kernelShape.length!==0&&e.kernelShape.length!==i[1].dims.length-2)throw new Error("invalid kernel shape");if(i[0].type!=="float32"||i[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(i.length===3&&i[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}});var F0,$0,B0,Gp,N0,M0,R0,G0,U0,W0,Up,z0,Wp=it(()=>{"use strict";ge();Jt();$t();un();F0=(i,e,o,t,r,n)=>(i-1)*e+o+(t-1)*r+1-n,$0=(i,e,o,t,r)=>{let n=Math.floor(i/2);e==="SAME_UPPER"?(o[t]=n,o[r]=i-n):e==="SAME_LOWER"&&(o[t]=i-n,o[r]=n)},B0=(i,e,o,t,r,n,s,a)=>{let u=i.length-2,c=a.length===0;for(let w=0;w<u;++w){let S=c?i[w+2]*n[w]:a[w],E=F0(i[w+2],n[w],r[w],e[w],o[w],S);$0(E,t,r,w,w+u),c&&a.push(n[w]*(i[w+2]-1)+s[w]+(e[w]-1)*o[w]+1-r[w]-r[w+u])}},Gp=(i,e,o)=>(z0(e,o),N0(i,e,o)),N0=(i,e,o)=>{let t=W0(o,e);return[U0(i,e,t)]},M0=(i,e)=>({name:"ConvTranspose",inputNames:i?["X","W","B"]:["X","W"],inputTypes:i?[0,0,0]:[0,0],cacheHint:e}),R0=(i,e,o,t)=>{let n=e.length>2?"getB(output_channel)":"0.0",s=e[0].dims,a=e[1].dims,u=a[1],c=a[0]/t.group,w=[e[0].dims[0],e[1].dims[1]*t.group,...t.outputShape],S=Tt(i.session.backend.glContext.version),{activationFunction:E,applyActivation:N}=gr(t),Z=`
  const ivec2 strides = ivec2(${t.strides[0]}, ${t.strides[1]});
  const ivec2 pads = ivec2(${t.pads[0]}, ${t.pads[1]});
  ${E}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${u};
    int wOutChannel = output_channel - group_id * ${u};

    float value = ${n};
    for (int inChannelOffset = 0; inChannelOffset < ${c}; inChannelOffset++) {
      int input_channel = group_id * ${c} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${a[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${a[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${t.dilations[0]}, wHOff * ${t.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${s[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${s[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${N}
    ${S.output} = vec4(value, .0, .0, .0);
  }
`;return{...o,output:{dims:w,type:e[0].type,textureType:0},shaderSource:Z,hasMain:!0}},G0=(i,e,o)=>{let t=M0(e.length>2,o.cacheKey);return{...t,get:()=>R0(i,e,t,o)}},U0=(i,e,o)=>i.run(G0(i,e,o),e),W0=(i,e)=>{let o=i.kernelShape.slice();if(i.kernelShape.length===0)for(let a=2;a<e[1].dims.length;++a)o.push(e[1].dims[a]);let t=i.pads.slice(),r=i.outputShape.slice(),n=e[0].dims;B0(n,o,i.dilations,i.autoPad,t,i.strides,i.outputPadding,r);let s=Object.assign({},i);return Object.assign(s,{kernelShape:o,pads:t,outputShape:r,cacheKey:i.cacheKey}),s},Up=i=>{let e=i.attributes,o=Rn(e),t=e.getString("auto_pad","NOTSET"),r=e.getInts("dilations",[1,1]),n=e.getInt("group",1),s=e.getInts("kernel_shape",[]),a=e.getInts("output_padding",[0,0]),u=e.getInts("output_shape",[]),c=e.getInts("pads",[0,0,0,0]),w=e.getInts("strides",[1,1]);return Et({autoPad:t,dilations:r,group:n,kernelShape:s,outputPadding:a,outputShape:u,pads:c,strides:w,...o})},z0=(i,e)=>{if(!i||i.length!==2&&i.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(i[0].dims.length!==4||i[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");let o=i[0].dims[1],t=i[1].dims[0];if(o!==t)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let r=i[1].dims[1]*e.group;if(i.length===3&&(i[2].dims.length!==1||i[2].dims[0]!==r))throw new Error("invalid bias");let n=i[0].dims.length-2;if(e.dilations.length!==n)throw new Error(`dilations should be ${n}D`);if(e.strides.length!==n)throw new Error(`strides should be ${n}D`);if(e.pads.length!==n*2)throw new Error(`pads should be ${n*2}D`);if(e.outputPadding.length!==n)throw new Error(`output_padding should be ${n}D`);if(e.kernelShape.length!==0&&e.kernelShape.length!==i[1].dims.length-2)throw new Error("invalid kernel shape");if(e.outputShape.length!==0&&e.outputShape.length!==i[0].dims.length-2)throw new Error("invalid output shape");if(i[0].type!=="float32"||i[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(i.length===3&&i[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}});var zp,fn,Hp,H0,Vp,V0,j0,q0,Zi=it(()=>{"use strict";ge();Gt();$t();zp={name:"Transpose",inputNames:["A"],inputTypes:[0]},fn=(i,e,o)=>(q0(e),[i.run({...zp,cacheHint:o.cacheKey,get:()=>H0(i,e[0],o.perm)},e)]),Hp=i=>Et({perm:i.attributes.getInts("perm",[])}),H0=(i,e,o)=>{let t=e.dims;o=Vp(t,o);let r=V0(t,o),n=t.length,s=`
      ${j0("perm",o,n)}
      float process(int indices[${n}]) {
        int a[${n}];
        perm(a, indices);
        return _A(a);
      }`;return{...zp,output:{dims:r,type:e.type,textureType:0},shaderSource:s}},Vp=(i,e)=>(e&&e.length!==i.length&&(e=[...i.keys()].reverse()),e),V0=(i,e)=>(e=Vp(i,e),ht.sortBasedOnPerm(i,e)),j0=(i,e,o)=>{let t=[];t.push(`void ${i}(out int a[${o}], int src[${o}]) {`);for(let r=0;r<o;++r)t.push(`	a[${e[r]}]=src[${r}];`);return t.push("	}"),t.join(`
`)},q0=i=>{if(!i||i.length!==1)throw new Error("Transpose requires 1 input.");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("input should be float tensor")}});var jp,qp,Y0,Yp=it(()=>{"use strict";Zi();jp=(i,e,o)=>{Y0(e);let t=o.blocksize,r=t*t,n=o.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],s=o.mode==="DCR"?[e[0].dims[0],t,t,e[0].dims[1]/r,e[0].dims[2],e[0].dims[3]]:[e[0].dims[0],e[0].dims[1]/r,t,t,e[0].dims[2],e[0].dims[3]],a=i.reshapeUnpacked(e[0],s),u={perm:n,cacheKey:`${n}`},[c]=fn(i,[a],u),w=[e[0].dims[0],e[0].dims[1]/r,e[0].dims[2]*t,e[0].dims[3]*t];return[i.reshapeUnpacked(c,w)]},qp=i=>{let e=i.attributes.getInt("blocksize");if(e<1)throw new Error(`blocksize must be >= 1, but got : ${e} for DepthToSpace`);let o=i.attributes.getString("mode","DCR");if(o!=="DCR"&&o!=="CRD")throw new Error(`unrecognized mode: ${o} for DepthToSpace`);return{mode:o,blocksize:e}},Y0=i=>{if(i.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${i.length}`);if(i[0].type==="string"||i[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}});var Kp,Xp,K0,Jp=it(()=>{"use strict";Gt();Kp=(i,e,o)=>{K0(e,o);let t=ht.flattenShape(e[0].dims,o);return[i.reshapeUnpacked(e[0],t)]},Xp=i=>i.attributes.getInt("axis",1),K0=(i,e)=>{if(!i||i.length!==1)throw new Error("Flatten requires 1 input.");let o=i[0].dims.length;if(o===0)throw new Error("scalar tensor is not supported.");if(e<-o||e>o)throw new Error("Invalid axis");if(i[0].type==="string")throw new Error("string tensor is not supported.")}});var Mr,So=it(()=>{"use strict";Mr=["float32","float64","int32","int16","int8","uint16","uint32","uint8"]});var Zp,Qp,X0,J0,Z0,Q0,th=it(()=>{"use strict";ge();So();Gt();$t();Zp=(i,e,o)=>(Q0(e,o.axis),[i.run(Z0(i,e,o),e)]),Qp=i=>Et({axis:i.attributes.getInt("axis",0)}),X0={name:"Gather",inputNames:["A","B"],inputTypes:[0,0]},J0=(i,e,o,t)=>{let r=o[0].dims.slice(),n=o[1].dims.slice(),s=new Array(r.length+n.length-1);t=ht.normalizeAxis(t,r.length);let a=[];for(let E=0;E<s.length;E++)E<t?(s[E]=r[E],a.push(`inputIdx[${E}] = outputIdx[${E}];`)):E<t+n.length?(s[E]=n[E-t],a.push(`indexDataIdx[${E-t}] = outputIdx[${E}];`)):(s[E]=r[E-n.length+1],a.push(`inputIdx[${E-n.length+1}] = outputIdx[${E}];`));let u=s.length||1,c=r.length,w=n.length||1,S=`
      float process(int outputIdx[${u}]) {
        int inputIdx[${c}];
        int indexDataIdx[${w}];
        indexDataIdx[0] = 0;
        ${a.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${t}] = idx < 0 ? idx + ${r[t]} : idx;
        return _A(inputIdx);
      }`;return{...e,output:{dims:s,type:o[0].type,textureType:0},shaderSource:S}},Z0=(i,e,o)=>{let t={...X0,cacheHint:o.cacheKey};return{...t,get:()=>J0(i,t,e,o.axis)}},Q0=(i,e)=>{if(!i||i.length!==2)throw new Error("Gather requires 2 inputs.");let o=i[0].dims.length;if(o<1)throw new Error("Invalid input shape.");if(e<-o||e>o-1)throw new Error("Invalid axis.");if(Mr.indexOf(i[0].type)===-1)throw new Error("Invaid input type.");if(i[1].type!=="int32"&&i[1].type!=="int16")throw new Error("Invaid input type.")}});var Ff,eh,rh,nh,tv,ev,rv,oh=it(()=>{"use strict";ge();Gt();$t();Ff=(i,e,o)=>(rv(e,o),[i.run(tv(e,o),e)]),eh=(i,e)=>{let o=i.attributes.getInt("transA",0)!==0,t=i.attributes.getInt("transB",0)!==0,r=i.attributes.getFloat("alpha",1),n=i.attributes.getFloat("beta",1);return Et({transA:o,transB:t,alpha:r,beta:n,isOptionalC:e})},rh=i=>eh(i,!1),nh=i=>eh(i,!0),tv=(i,e)=>{let o={name:"Gemm",inputNames:i.length===3?["A","B","C"]:["A","B"],inputTypes:i.length===3?[0,0,0]:[0,0],key:e.cacheKey};return{...o,get:()=>ev(o,i,e)}},ev=(i,e,o)=>{let t=e[0].dims.slice(),r=e[1].dims.slice(),[n,s]=Ui.getShapeOfGemmResult(t,o.transA,r,o.transB,e.length===3?e[2].dims:void 0),a=[n,s];if(!a)throw new Error("Can't use gemm on the given tensors");let u=t[t.length-1],c="";o.transA&&(u=t[0]),o.transA&&o.transB?c="value += _A_T(a) * _B_T(b);":o.transA&&!o.transB?c="value += _A_T(a) * _B(b);":!o.transA&&o.transB?c="value += _A(a) * _B_T(b);":!o.transA&&!o.transB&&(c="value += _A(a) * _B(b);");let w=a.length,S=e.length===3?`int c[${e[2].dims.length}];`:"",E=e.length===3?"bcastIndices_C(indices, c);":"",N=e.length===3?"value += beta * _C(c);":"",Z=`
      float process(int indices[${w}]) {
          int a[${w}];
          int b[${w}];
          ${S}

          copyVec(indices, a);
          copyVec(indices, b);
          ${E}

          float value = 0.0;
          for (int k=0; k<${u}; ++k) {
              a[${w-1}] = k;
              b[${w-2}] = k;
              ${c}
          }

          value = value * alpha;
          ${N}
          return value;
      }`;return{...i,output:{dims:a,type:e[0].type,textureType:0},variables:[{name:"alpha",type:"float",data:o.alpha},{name:"beta",type:"float",data:o.beta}],shaderSource:Z}},rv=(i,e)=>{if(!i)throw new Error("Input is missing");if(e.isOptionalC&&(i.length<2||i.length>3))throw new Error("Invaid input shape.");if(!e.isOptionalC&&i.length!==3)throw new Error("Gemm requires 3 inputs");if(i.length===3&&i[2].dims.length!==1&&i[2].dims.length!==2)throw new Error("Invalid input shape of C");if(i[0].type!=="float32"&&i[0].type!=="float64"||i[1].type!=="float32"&&i[1].type!=="float64"||i.length===3&&i[2].type!=="float32"&&i[2].type!=="float64")throw new Error("Invalid input type.");if(i[0].type!==i[1].type||i.length===3&&i[0].type!==i[2].type)throw new Error("Input types are mismatched")}});var ih,ah,nv,ov,iv,av,sv,sh=it(()=>{"use strict";ge();$t();ih=(i,e,o)=>(sv(e),[i.run(iv(i,e,o),e)]),ah=i=>{let e=i.attributes.getFloat("scale"),o=i.attributes.getFloats("bias");return Et({scale:e,bias:o})},nv={name:"ImageScaler",inputNames:["X"],inputTypes:[0]},ov=(i,e,o,t)=>{let r=o[0].dims.slice(),n=r.length,a=`
      ${av(t.bias.length)}
      float process(int indices[${n}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return{...e,output:{dims:r,type:o[0].type,textureType:0},variables:[{name:"bias",type:"float",arrayLength:t.bias.length,data:t.bias},{name:"scale",type:"float",data:t.scale}],shaderSource:a}},iv=(i,e,o)=>{let t={...nv,cacheHint:o.cacheKey};return{...t,get:()=>ov(i,t,e,o)}},av=i=>{let e=[`float getBias(float bias[${i}], int channel) {`];for(let o=0;o<i;++o)o===0?e.push(`	if (channel == ${o}) { return bias[${o}]; }`):o===i-1?e.push(`	else { return bias[${o}]; }`):e.push(`	else if (channel == ${o}) { return bias[${o}]; }`);return e.push("	}"),e.join(`
`)},sv=i=>{if(!i||i.length!==1)throw new Error("ImageScaler requires 1 input.");if(i[0].dims.length!==4)throw new Error("Invalid input shape.");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type.")}});var fh,ch,uh,uv,fv,cv,lv,dv,pv,lh=it(()=>{"use strict";Jt();$t();fh=(i,e,o)=>{pv(e);let t=i.run(fv(e[0]),e);return[i.run(dv(i,e[0],o,t.dims),[e[0],t,e[1],e[2]])]},ch=i=>i.attributes.getFloat("epsilon",1e-5),uh={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[0]},uv=(i,e)=>{let o=e.dims.slice(),t=o[1],r=o[2]*o[3],n=[o[0],t],s=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${o[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${o[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${r});
        temp = 0.0;
        for(int a2=0; a2<${o[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${o[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${r});

        return v;
      }`;return{...i,output:{dims:n,type:e.type,textureType:4},shaderSource:s}},fv=i=>({...uh,get:()=>uv(uh,i)}),cv={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[0,4,0,0]},lv=(i,e,o,t,r)=>{let n=Tt(i.session.backend.glContext.version),[s,a]=i.calculateTextureWidthAndHeight(r,4),[u,c]=[s/4,a],w=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${u}, ${c});
        return ${n.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return{...e,output:{dims:o.dims,type:o.type,textureType:0},variables:[{name:"epsilon",type:"float",data:t}],shaderSource:w}},dv=(i,e,o,t)=>{let r={...cv,cacheHint:`${o}`};return{...r,get:()=>lv(i,r,e,o,t)}},pv=i=>{if(!i||i.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");let e=i[0],o=i[1],t=i[2];if(e.dims.length<3||o.dims.length!==1||t.dims.length!==1)throw new Error("Invalid input shape.");if(o.dims[0]!==e.dims[1]||t.dims[0]!==e.dims[1])throw new Error("Input shapes are mismatched.");if(e.type!=="float32"&&e.type!=="float64"||o.type!=="float32"&&o.type!=="float64"||t.type!=="float32"&&t.type!=="float64")throw new Error("Invalid input type.");if(i[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}});function hv(i,e){let o=i[0].dims[1],t=i[0].dims.length,r=-Math.floor((e.size-1)/2),n=Math.ceil((e.size-1)/2),s=`float(${e.alpha}) / float(${e.size})`,a=`float(${e.bias})`,u=`float(${e.beta})`,c=`
    float process(int indices[${t}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${r}; i <= ${n}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${o}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(${a} + ${s} * square_sum, ${u});
    }`;return{...hh,cacheHint:e.cacheKey,output:{dims:i[0].dims,type:i[0].type,textureType:0},shaderSource:c}}function mv(i,e){return{...hh,cacheHint:e.cacheKey,get:()=>hv(i,e)}}var dh,ph,hh,yv,mh=it(()=>{"use strict";ge();$t();dh=(i,e,o)=>(yv(e),[i.run(mv(e,o),e)]),ph=i=>{let e=i.attributes.getFloat("alpha",1e-4),o=i.attributes.getFloat("beta",.75),t=i.attributes.getFloat("bias",1),r=i.attributes.getInt("size");return Et({alpha:e,beta:o,bias:t,size:r})},hh={name:"LRN",inputNames:["X"],inputTypes:[0]};yv=i=>{if(!i||i.length!==1)throw new Error("LRN requires 1 input.");if(i[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(i[0].type!=="float32")throw new Error("input should be float type")}});var gv,$f,yh,gh,bh,bv,vv,wv,Tv,xv,_v,Ov,Iv,vh=it(()=>{"use strict";ge();Gt();Jt();$t();gv={name:"Pad",inputNames:["A"],inputTypes:[0]},$f=(i,e,o)=>(wv(e),[i.run({...gv,cacheHint:o.cacheKey,get:()=>vv(i,e[0],o)},e)]),yh=i=>{let e=i.attributes.getString("mode","constant"),o=i.attributes.getFloat("value",0),t=i.attributes.getInts("pads");return Et({mode:e,value:o,pads:t})},gh=(i,e,o)=>{Tv(e);let t=bv(i,e,o);return $f(i,[e[0]],t)},bh=i=>i.attributes.getString("mode","constant"),bv=(i,e,o)=>{if(!i.session.isInitializer(e[1].dataId)||e.length>=3&&!i.session.isInitializer(e[2].dataId))throw new Error("dynamic pad attributes are not allowed");let t=Array.from(e[1].integerData),r=e.length>=3?e[2].floatData[0]:0;return Et({mode:o,pads:t,value:r})},vv=(i,e,o)=>{let t=ht.padShape(e.dims.slice(),o.pads),r=t.length,s=`
      ${xv(i,e,o)}
      float process(int[${r}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[0],output:{dims:t,type:e.type,textureType:0},shaderSource:s}},wv=i=>{if(!i||i.length!==1)throw new Error("Pad requires 1 input");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type.")},Tv=i=>{if(!i||i.length!==2&&i.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(i[1].type!=="int32")throw new Error("Invalid input type.");if(i.length>=3&&i[2].type==="string")throw new Error("Invalid input type.")},xv=(i,e,o)=>{let t=Tt(i.session.backend.glContext.version),[r,n]=i.calculateTextureWidthAndHeight(e.dims,0),s=ht.computeStrides(e.dims);switch(o.mode){case"constant":return _v(t,e.dims,s,r,n,o.pads,o.value);case"reflect":return Ov(t,e.dims,s,r,n,o.pads);case"edge":return Iv(t,e.dims,s,r,n,o.pads);default:throw new Error("Invalid mode")}},_v=(i,e,o,t,r,n,s)=>{let a=e.length,u="";for(let c=a-1;c>=0;--c)u+=`
        k = m[${c}] - ${n[c]};
        if (k < 0)  return constant;
        if (k >= ${e[c]}) return constant;
        offset += k * ${o[c]};
        `;return`
      float padA(int m[${a}]) {
        const float constant = float(${s});
        int offset = 0;
        int k = 0;
        ${u}
        vec2 coords = offsetToCoords(offset, ${t}, ${r});
        float value = getColorAsFloat(${i.texture2D}(A, coords));
        return value;
      }
      `},Ov=(i,e,o,t,r,n)=>{let s=e.length,a="";for(let u=s-1;u>=0;--u)a+=`
        k = m[${u}] - ${n[u]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(e[u]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${e[u]}) { k = _2n_1 - k; }
        }
        offset += k * ${o[u]};
        `;return`
      float padA(int m[${s}]) {
        int offset = 0;
        int k = 0;
        ${a}
        vec2 coords = offsetToCoords(offset, ${t}, ${r});
        float value = getColorAsFloat(${i.texture2D}(A, coords));
        return value;
      }
      `},Iv=(i,e,o,t,r,n)=>{let s=e.length,a="";for(let u=s-1;u>=0;--u)a+=`
        k = m[${u}] - ${n[u]};
        if (k < 0)  k = 0;
        if (k >= ${e[u]}) k = ${e[u]-1};
        offset += k * ${o[u]};
      `;return`
      float padA(int m[${s}]) {
        int offset = 0;
        int k = 0;
        ${a}
        vec2 coords = offsetToCoords(offset, ${t}, ${r});
        float value = getColorAsFloat(${i.texture2D}(A, coords));
        return value;
      }
      `}});var Th,xh,_h,Oh,Ih,Ah,Sh,Ph,Eh,Av,wh,Dh,ta,kh,Qi,Sv,Lh=it(()=>{"use strict";ge();Gt();$t();Th=(i,e,o)=>{ta(e);let t={name:"AveragePool",inputNames:["X"],inputTypes:[0],cacheHint:o.cacheKey};return[i.run({...t,get:()=>_h(e,t,!1,o)},e)]},xh=i=>{let e=i.attributes.getString("auto_pad","NOTSET"),o=i.attributes.getInt("ceil_mode",0),t=i.attributes.getInt("count_include_pad",0)!==0,r=i.attributes.getInts("kernel_shape"),n=i.attributes.getInts("strides",[]),s=i.attributes.getInts("pads",[]);if(o!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return Et({autoPad:e,ceilMode:o,countIncludePad:t,kernelShape:r,strides:n,pads:s})},_h=(i,e,o,t)=>{let[r,n]=Eh(i,t,o),s=ht.size(r.kernelShape),a="value += _X(x);",u="";r.countIncludePad?u+=`value /= float(${s});`:u+=`value /= float(${s} - pad);`;let w=`
        ${kh(i[0].dims,r,a,u,"0.0")}
      `;return{...e,output:{dims:n,type:i[0].type,textureType:0},shaderSource:w}},Oh=(i,e,o)=>{ta(e);let t={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[0],cacheHint:`${o.countIncludePad}`};return[i.run({...t,get:()=>_h(e,t,!0,o)},e)]},Ih=i=>{let e=i.attributes.getInt("count_include_pad",0)!==0;return Et({autoPad:"",ceilMode:0,countIncludePad:e,kernelShape:[],strides:[],pads:[]})},Ah=(i,e,o)=>{ta(e);let t={name:"MaxPool",inputNames:["X"],inputTypes:[0],cacheHint:o.cacheKey};return[i.run({...t,get:()=>Ph(e,t,!1,o)},e)]},Sh=i=>{let e=i.attributes.getString("auto_pad","NOTSET"),o=i.attributes.getInt("ceil_mode",0),t=i.attributes.getInts("kernel_shape"),r=i.attributes.getInts("strides",[]),n=i.attributes.getInts("pads",[]),s=i.attributes.getInt("storage_order",0),a=i.attributes.getInts("dilations",[]);if(s!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(o!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return Et({autoPad:e,ceilMode:o,countIncludePad:!1,kernelShape:t,strides:r,pads:n,storageOrder:s,dilations:a})},Ph=(i,e,o,t)=>{let[r,n]=Eh(i,t,o),s=`
      value = max(_X(x), value);
    `,a="",c=`
      ${kh(i[0].dims,r,s,a,"-1e5")}
    `;return{...e,output:{dims:n,type:i[0].type,textureType:0},shaderSource:c}},Eh=(i,e,o)=>{let t=i[0].dims.slice(),r=Object.hasOwnProperty.call(e,"dilations"),n=e.kernelShape.slice(),s=e.strides.slice(),a=r?e.dilations.slice():[],u=e.pads.slice();rn.adjustPoolAttributes(o,t,n,s,a,u);let c=rn.computePoolOutputShape(o,t,s,a,n,u,e.autoPad),w=Object.assign({},e);return r?Object.assign(w,{kernelShape:n,strides:s,pads:u,dilations:a,cacheKey:e.cacheKey}):Object.assign(w,{kernelShape:n,strides:s,pads:u,cacheKey:e.cacheKey}),[w,c]},Av={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},wh={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[0]},Dh=(i,e)=>(ta(e),[i.run({...wh,get:()=>Ph(e,wh,!0,Av)},e)]),ta=i=>{if(!i||i.length!==1)throw new Error("Pool ops requires 1 input.");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type.")},kh=(i,e,o,t,r)=>{let n=i.length;if(e.kernelShape.length<=2){let s=e.kernelShape[e.kernelShape.length-1],a=e.strides[e.strides.length-1],u=e.pads[e.pads.length/2-1],c=e.pads[e.pads.length-1],w=i[n-1],S="",E="",N="";if(u+c!==0?S=`
          for (int i = 0; i < ${s}; i++) {
            x[${n} - 1] = indices[${n} - 1] * ${a} - ${u} + i;
            if (x[${n} - 1] < 0 || x[${n} - 1] >= ${w}) {
              pad++;
              continue;
            }
            ${o}
          }`:S=`
          for (int i = 0; i < ${s}; i++) {
            x[${n} - 1] = indices[${n} - 1] * ${a} - ${u} + i;
            ${o}
          }`,e.kernelShape.length===2){let H=e.kernelShape[e.kernelShape.length-2],nt=e.strides[e.strides.length-2],at=e.pads[e.pads.length/2-2],ot=e.pads[e.pads.length-2],ft=i[n-2];at+ot!==0?E=`
            for (int j = 0; j < ${H}; j++) {
              x[${n} - 2] = indices[${n} - 2] * ${nt} - ${at} + j;
              if (x[${n} - 2] < 0 || x[${n} - 2] >= ${ft}) {
                pad+= ${s};
                continue;
              }
          `:E=`
            for (int j = 0; j < ${H}; j++) {
              x[${n} - 2] = indices[${n} - 2] * ${nt} - ${at} + j;
            `,N=`
          }
        `}return`
        float process(int indices[${n}]) {
          int x[${n}];
          copyVec(indices, x);

          float value = ${r};
          int pad = 0;
          ${E}
          ${S}
          ${N}
          ${t}
          return value;
        }
      `}else{let s=ht.size(e.kernelShape),a=ht.computeStrides(e.kernelShape),u=a.length,c=e.pads.length,w=Sv(u),S=Qi(i,"inputDims"),E=Qi(e.pads,"pads"),N=Qi(a,"kernelStrides"),Z=Qi(e.strides,"strides"),H=e.pads.reduce((ot,ft)=>ot+ft),nt="";return H?nt=`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${o}
          }`:nt=`
          }
          ${o}
        `,`
        ${w}
        float process(int indices[${n}]) {
          int x[${n}];
          copyVec(indices, x);
          int offset[${u}];
          int pads[${c}];
          int inputDims[${n}];
          int kernelStrides[${u}];
          int strides[${u}];
          ${E}
          ${S}
          ${Z}
          ${N}

          float value = ${r};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${s}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${n} - ${u}; j < ${n}; j++) {
              x[j] = indices[j] * strides[j - ${n} + ${u}]
                + offset[j - ${n} + ${u}] - pads[j - 2];
              ${nt}
          }
          ${t}

          return value;
        }
      `}},Qi=(i,e)=>{let o="";for(let t=0;t<i.length;t++)o+=`
      ${e}[${t}] = ${i[t]};
    `;return o},Sv=i=>`
  void offsetToIndices(int offset, int[${i}] strides, out int[${i}] indices) {
    if (${i} == 0) {
      return;
    }
    for (int i = 0; i < ${i} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${i} - 1] = offset;
  }`});var cn,Rr,Pv,Ev,Ch,Fh,$h,Bh,Nh,Mh,Rh,Gh=it(()=>{"use strict";ge();So();Gt();$t();cn=(i,e,o,t,r)=>{Ev(e);let n={name:t,inputNames:["A"],inputTypes:[0]};return[i.run({...n,cacheHint:o.cacheKey,get:()=>Pv(i,e,o,t,r,n)},e)]},Rr=i=>{let e=i.attributes.getInts("axes",[]),o=i.attributes.getInt("keepdims",1)===1;return Et({axes:e,keepDims:o})},Pv=(i,e,o,t,r,n)=>{let s=[],a=e[0].dims.length||1,u=[],c=ht.normalizeAxes(o.axes,e[0].dims.length),w=r(e,c),S=w[1];for(let Z=0;Z<e[0].dims.length;Z++)c.indexOf(Z)>=0||c.length===0?(o.keepDims&&s.push(1),S=`
          for(int j${Z} = 0; j${Z} < ${e[0].dims[Z]}; j${Z}++) {
            inputIdx[${Z}] = j${Z};
            ${S}
          }`):(u.push(`inputIdx[${Z}] = outputIdx[${s.length}];`),s.push(e[0].dims[Z]));let N=`
      float process(int outputIdx[${s.length||1}]) {
        float value;                 // final result
        int inputIdx[${a}];      // addressing input data
        ${u.join(`
`)}
        ${w[0]}       // init ops for reduce max/min
        ${S}
        ${w[2]}       // final computation for reduce mean
        return value;
      }`;return{...n,output:{dims:s,type:e[0].type,textureType:0},shaderSource:N}},Ev=i=>{if(!i||i.length!==1)throw new Error("Reduce op requires 1 input.");if(Mr.indexOf(i[0].type)===-1)throw new Error("Invalid input type.")},Ch=(i,e,o)=>cn(i,e,o,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),Fh=(i,e,o)=>cn(i,e,o,"ReduceMean",(r,n)=>{let s=1;for(let a=0;a<r[0].dims.length;a++)(n.indexOf(a)>=0||n.length===0)&&(s*=r[0].dims[a]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${s}.;`]}),$h=(i,e,o)=>cn(i,e,o,"ReduceMax",(r,n)=>{let s=[];for(let a=0;a<r[0].dims.length;a++)(n.indexOf(a)>=0||n.length===0)&&s.push(`inputIdx[${a}] = 0;`);return[`${s.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),Bh=(i,e,o)=>cn(i,e,o,"ReduceMin",(r,n)=>{let s=[];for(let a=0;a<r[0].dims.length;a++)(n.indexOf(a)>=0||n.length===0)&&s.push(`inputIdx[${a}] = 0;`);return[`${s.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),Nh=(i,e,o)=>cn(i,e,o,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),Mh=(i,e,o)=>cn(i,e,o,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),Rh=(i,e,o)=>cn(i,e,o,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])});var Uh,Wh=it(()=>{"use strict";Gt();Uh=(i,e)=>{let o=ht.calculateReshapedDims(e[0].dims,e[1].integerData);return i.session.pack?[i.reshapePacked(e[0],o)]:[i.reshapeUnpacked(e[0],o)]}});var zh,Bf,Hh,Vh,Po,Dv,Nf,ea,Mf=it(()=>{"use strict";ge();Jt();$t();zh={name:"Upsample",inputNames:["X"],inputTypes:[0]},Bf=(i,e,o)=>(Nf(e,o),[i.run({...zh,cacheHint:o.cacheKey,get:()=>Dv(i,e,o)},e)]),Hh=i=>Po(i,7),Vh=i=>Po(i,9),Po=(i,e)=>{let o=e>=10,t=i.attributes.getString("mode","nearest");if(t!=="nearest"&&t!=="linear"&&(e<11||t!=="cubic"))throw new Error(`unrecognized mode: ${t}`);let r=[];e<9&&(r=i.attributes.getFloats("scales"),ea(r,t,o));let n=i.attributes.getFloat("extrapolation_value",0),s=e>10?i.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(s)===-1)throw new Error(`coordinate_transform_mode '${s}' is not supported`);let a=s==="tf_crop_and_resize",u=a,c=t==="nearest"&&e>=11?i.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(c)===-1)throw new Error(`nearest_mode '${c}' is not supported`);let w=i.attributes.getFloat("cubic_coeff_a",-.75),S=i.attributes.getInt("exclude_outside",0)!==0;if(S&&t!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");let E=e<11?!0:t==="nearest"&&s==="asymmetric"&&c==="floor",N=0,Z=0,H=0;return e>10?i.inputs.length>2?(N=1,Z=2,H=3):(Z=1,H=2):e===9&&(Z=1),Et({opset:e,isResize:o,mode:t,scales:r,extrapolationValue:n,coordinateTransformMode:s,useExtrapolation:u,needRoiInput:a,nearestMode:c,cubicCoefficientA:w,excludeOutside:S,useNearest2xOptimization:E,roiInputIdx:N,scalesInputIdx:Z,sizesInputIdx:H})},Dv=(i,e,o)=>{let t=Tt(i.session.backend.glContext.version),[r,n]=i.calculateTextureWidthAndHeight(e[0].dims,0),s=e[0].dims.map((H,nt)=>Math.floor(H*o.scales[nt])),[a,u]=i.calculateTextureWidthAndHeight(s,0),c=s.length,w=new Array(c),S=new Array(c),E=`
      int output_pitches[${c}];
      int input_pitches[${c}];
      `;for(let H=c-1;H>=0;H--)w[H]=H===c-1?1:w[H+1]*s[H+1],S[H]=H===c-1?1:S[H+1]*e[0].dims[H+1],E+=`
        output_pitches[${H}] = ${w[H]};
        input_pitches[${H}] = ${S[H]};
        `;let N=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${r}, ${n});
        float value = getColorAsFloat(${t.texture2D}(X, coords));
        return value;
      }
      `,Z=o.mode==="nearest"?`
    ${N}
    float process(int indices[${c}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${a}, ${u});

      ${E}

      int d, m;
      for (int dim = 0; dim < ${c}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:c===4?`
    ${N}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${a}, ${u});

      ${E}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${e[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${N}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${a}, ${u});

      ${E}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${e[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return{...zh,output:{dims:s,type:e[0].type,textureType:0},shaderSource:Z,variables:[{name:"scales",type:"int",arrayLength:o.scales.length,data:o.scales.map(H=>Math.ceil(H))}]}},Nf=(i,e)=>{if(!i||e.opset<9&&i.length!==1||e.opset>=9&&e.opset<11&&i.length!==2||e.opset>=11&&i.length<2)throw new Error("invalid inputs.");if(e.scales.length>0&&i[0].dims.length!==e.scales.length)throw new Error("Invalid input shape.");if(i[0].type==="string")throw new Error("Invalid input tensor types.")},ea=(i,e,o)=>{if(o){for(let t of i)if(t<=0)throw new Error("Scale value should be greater than 0.")}else for(let t of i)if(t<1)throw new Error("Scale value should be greater than or equal to 1.");if((e==="linear"||e==="cubic")&&i.length!==2&&(i.length!==4||i[0]!==1||i[1]!==1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${o?"Resize":"Upsample"} opeartor.`)}});var Rf,Gf,jh,qh,kv,Lv,Cv,Fv,Yh=it(()=>{"use strict";Jt();$t();mr();sn();Mf();Rf={name:"Resize",inputNames:["A"],inputTypes:[2]},Gf=(i,e,o)=>(Nf(e,o),[i.run({...Rf,cacheHint:o.cacheKey,get:()=>kv(i,e,o)},e)]),jh=i=>Po(i,10),qh=i=>Po(i,11),kv=(i,e,o)=>{let t=Tt(i.session.backend.glContext.version),[r,n]=Lv(e,o);if(r.every(ft=>ft===1)&&o.coordinateTransformMode!=="tf_crop_and_resize")return{...Rf,output:{dims:n,type:e[0].type,textureType:2},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${t.texture2D}(X, TexCoords);
                    ${t.output} = v;
                }`};let a=n.length;if(a<2)throw new Error(`output dimension should be at least 2, but got ${a}`);let u=n[a-2],c=n[a-1],w=e[0].dims;if(a!==w.length)throw new Error(`output dimension should match input ${w.length}, but got ${a}`);let S=w[a-2],E=w[a-1],N=r[a-2],Z=r[a-1],H="";if(o.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${o.mode}'`);switch(o.coordinateTransformMode){case"asymmetric":H=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":H=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":H=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${c}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${u}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${c}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${u}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":H=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${c}.0 - 1.0, ${u}.0 - 1.0, ${c}.0 - 1.0,
                            ${u}.0 - 1.0);
                        vec4 original = vec4(${E}.0 - 1.0, ${S}.0 - 1.0, ${E}.0 - 1.0,
                            ${S}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${o.coordinateTransformMode}'`)}let nt=De(a),at=yr(),ot=`
            const vec2 inputWH = vec2(${S}.0, ${E}.0);
            const vec4 scaleWHWH = vec4(float(${N}), float(${Z}), float(${N}), float(${Z}));
            ${at}
            ${H}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${nt} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${u-1};
                bool hasNextCol = rc.z < ${c-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${t.output} = vec4(newValue);
            }
        `;return{...Rf,output:{dims:n,type:e[0].type,textureType:2},hasMain:!0,shaderSource:ot}},Lv=(i,e)=>{let t=i[0].dims,r=e.scales,n;if(r.length===0){let a=i[e.scalesInputIdx];if(a&&a.size!==0){if(i[e.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");r=Cv(a,e.mode,e.isResize)}else{let u=i[e.sizesInputIdx];if(!u||u.size===0)throw new Error("Either scales or sizes MUST be provided as input.");n=Array.from(u.integerData),r=Fv(n,t,e.mode,e.isResize)}}else if(i[e.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");let s=n||t.map((a,u)=>Math.floor(a*r[u]));return[r,s]},Cv=(i,e,o)=>{let t=Array.from(i.floatData);return ea(t,e,o),t},Fv=(i,e,o,t)=>{let r=e.length,n=new Array(r);for(let s=0,a=r;s<a;s++)if(e[s]===0){if(i[s]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");n[s]=1}else n[s]=i[s]/e[s];return ea(n,o,t),n}});var Kh,$v,Xh=it(()=>{"use strict";an();Kh=(i,e)=>($v(e),[new pe([e[0].dims.length],"int32",void 0,void 0,new Int32Array(e[0].dims))]),$v=i=>{if(!i||i.length!==1)throw new Error("Shape requires 1 input.")}});var Uf,Jh,Zh,Qh,Bv,tm,Nv,Mv,em=it(()=>{"use strict";ge();So();Gt();$t();Uf={name:"Slice",inputNames:["A"],inputTypes:[0]},Jh=(i,e,o)=>(Bv(e),[i.run({...Uf,cacheHint:o.cacheKey,get:()=>Qh(i,e[0],o)},e)]),Zh=i=>{let e=i.attributes.getInts("starts"),o=i.attributes.getInts("ends"),t=i.attributes.getInts("axes",[]);return Et({starts:e,ends:o,axes:t})},Qh=(i,e,o)=>{let t=o.axes.length===0?e.dims.slice(0).map((S,E)=>E):o.axes,r=ht.normalizeAxes(t,e.dims.length),n=o.starts.map((S,E)=>S>e.dims[r[E]]-1?e.dims[r[E]]:ht.normalizeAxis(S,e.dims[r[E]])),s=o.ends.map((S,E)=>S>e.dims[r[E]]-1?e.dims[r[E]]:ht.normalizeAxis(S,e.dims[r[E]])),a=e.dims.slice(),u=[];for(let S=0;S<r.length;S++)a[r[S]]=s[S]-n[S],n[S]>0&&u.push(`outputIdx[${r[S]}] += ${n[S]};`);let w=`
      float process(int outputIdx[${a.length}]) {
        ${u.join(`
      `)}
        return _A(outputIdx);
      }`;return{...Uf,output:{dims:a,type:e.type,textureType:0},shaderSource:w}},Bv=i=>{if(!i||i.length!==1)throw new Error("Slice requires 1 input.");if(Mr.indexOf(i[0].type)===-1)throw new Error("Invalid input type.")},tm=(i,e)=>{Mv(e);let o=Nv(i,e);return[i.run({...Uf,cacheHint:o.cacheKey,get:()=>Qh(i,e[0],o)},[e[0]])]},Nv=(i,e)=>{if(!i.session.isInitializer(e[1].dataId)||!i.session.isInitializer(e[2].dataId)||e.length>=4&&!i.session.isInitializer(e[3].dataId)||e.length>=5&&!i.session.isInitializer(e[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(e.length>=5&&e[4].integerData.some(s=>s!==1))throw new Error("currently non-1 steps is not supported for Slice");let o=Array.from(e[1].integerData),t=Array.from(e[2].integerData),r=e.length>=4?Array.from(e[3].integerData):[],n=`${r};${o};${t}`;return{starts:o,ends:t,axes:r,cacheKey:n}},Mv=i=>{if(!i||i.length<3||i.length>5)throw new Error("Invalid input number.");if(i[1].type!=="int32"||i[1].dims.length!==1)throw new Error("Invalid input type.");if(i[2].type!=="int32"||i[2].dims.length!==1)throw new Error("Invalid input type.");if(i.length>=4&&(i[3].type!=="int32"||i[3].dims.length!==1))throw new Error("Invalid input type.");if(i.length>=5&&(i[4].type!=="int32"||i[4].dims.length!==1))throw new Error("Invalid input type.")}});var rm,nm,om,im,am,sm,um,fm,Rv,Gv,Uv,cm,lm=it(()=>{"use strict";ge();Gt();Jt();$t();Zi();rm={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[0]},nm={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[0,0]},om={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[0,0,0]},im=(i,e,o)=>{cm(e);let t=e[0].dims.slice(),r=ht.normalizeAxis(o.axis,t.length),n=ht.sizeToDimension(t,r),s=ht.sizeFromDimension(t,r);return fm(i,e,o,n,s)},am=i=>Et({axis:i.attributes.getInt("axis",1)}),sm=i=>Et({axis:i.attributes.getInt("axis",-1)}),um=(i,e,o)=>{cm(e);let t=e[0].dims.slice(),r=ht.normalizeAxis(o.axis,t.length),n=t.length,s=r!==n-1,a=[],u=[],c=[],w;s&&(u=Array.from({length:n}).map((Z,H)=>H),u[r]=n-1,u[n-1]=r,u.map(Z=>a.push(t[Z])),w=Et({perm:u}),c=fn(i,e,w));let S=s?ht.sizeToDimension(a,n-1):ht.sizeToDimension(t,n-1),E=s?ht.sizeFromDimension(a,n-1):ht.sizeFromDimension(t,n-1),N=fm(i,s?c:e,o,S,E);return s?fn(i,N,w):N},fm=(i,e,o,t,r)=>{let n=Rv(i,e[0],t,r,[t]),s=i.run({...rm,cacheHint:o.cacheKey,get:()=>n},e),a=Gv(i,e[0],t,r,n.output.dims,[t]),u=i.run({...nm,cacheHint:o.cacheKey,get:()=>a},[e[0],s]),c=Uv(i,e[0],t,r,n.output.dims,a.output.dims);return[i.run({...om,cacheHint:o.cacheKey,get:()=>c},[e[0],s,u])]},Rv=(i,e,o,t,r)=>{let[n,s]=i.calculateTextureWidthAndHeight(e.dims,0),a=r.length;if(o<1||t<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(r.length!==1)throw new Error("Dimensionality of the output should be 1");if(r[0]!==o)throw new Error("Shape of the output should be equal to logical row count");let u=Tt(i.session.backend.glContext.version),c=`
      float process(int[${a}] indices) {
        int logical_row_start_offset = indices[0] * ${t};

        float max = getColorAsFloat(${u.texture2D}(A, offsetToCoords(logical_row_start_offset, ${n},
        ${s} )));
        for(int i=1; i<${t}; ++i)
        {
          float current = getColorAsFloat(${u.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${n}, ${s})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return{...rm,output:{dims:r,type:e.type,textureType:0},shaderSource:c}},Gv=(i,e,o,t,r,n)=>{let[s,a]=i.calculateTextureWidthAndHeight(e.dims,0),u=n.length;if(o<1||t<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(n.length!==1)throw new Error("Dimensionality of the output should be 1");if(n[0]!==o)throw new Error("Shape of the output should be equal to logical row count");if(r.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(r[0]!==o)throw new Error("Shape of the intermediate results should be equal to logical row count");let c=Tt(i.session.backend.glContext.version),w=`
      float process(int[${u}] indices) {
        int logical_row_start_offset = indices[0] * ${t};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${t}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${c.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${s}, ${a}))) - max);
        }

        return norm_factor;
      }`;return{...nm,output:{dims:n,type:e.type,textureType:0},shaderSource:w}},Uv=(i,e,o,t,r,n)=>{let[s,a]=i.calculateTextureWidthAndHeight(e.dims,0),u=e.dims.length;if(o<1||t<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(r.length!==1||n.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(r[0]!==o||n[0]!==o)throw new Error("Shape of the intermediate results should be equal to logical row count");let c=`
      float process(int[${u}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${s}, ${a});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${t};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return{...om,output:{dims:e.dims,type:e.type,textureType:0},shaderSource:c}},cm=i=>{if(!i||i.length!==1)throw new Error("Softmax requires 1 input.");if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type")}});var dm,pm,hm,Wv,zv,Hv,mm=it(()=>{"use strict";ge();Gt();$t();dm={name:"Split",inputNames:["A"],inputTypes:[0]},pm=(i,e,o)=>{Hv(e);let t=ht.normalizeAxis(o.axis,e[0].dims.length),r=Wv(i,e,t,o),n=[];for(let s=0;s<r;++s)n.push(i.run({...dm,cacheHint:`${o.cacheKey};${s}`,get:()=>zv(i,e[0],o,t,s)},e));return n},hm=i=>{let e=i.attributes.getInt("axis",0),o=i.attributes.getInts("split",[]),t=i.outputs.length;return Et({axis:e,split:o,numOutputs:t})},Wv=(i,e,o,t)=>{let[,r]=To.splitShape(e[0].dims,o,t.split,t.numOutputs);return r.length},zv=(i,e,o,t,r)=>{let[n,s]=To.splitShape(e.dims,t,o.split,o.numOutputs),a=s[r],u=n[r],w=`
      float process(int indices[${u.length}]) {
        indices[${t}] += ${a};
        return _A(indices);
      }
    `;return{...dm,cacheHint:`${o.cacheKey}:${r}`,output:{dims:u,type:e.type,textureType:0},shaderSource:w}},Hv=i=>{if(!i||i.length!==1)throw new Error("Split requires one input.");if(i[0].type!=="int8"&&i[0].type!=="uint8"&&i[0].type!=="int16"&&i[0].type!=="uint16"&&i[0].type!=="int32"&&i[0].type!=="uint32"&&i[0].type!=="float32"&&i[0].type!=="float64"&&i[0].type!=="bool")throw new Error("Invalid input type.")}});var Wf,ym,gm,Vv,jv,bm=it(()=>{"use strict";Gt();Wf=(i,e,o)=>{Vv(e);let t=ht.squeezeShape(e[0].dims,o);return[i.reshapeUnpacked(e[0],t)]},ym=(i,e)=>(jv(e),Wf(i,[e[0]],Array.from(e[1].integerData))),gm=i=>i.attributes.getInts("axes"),Vv=i=>{if(!i||i.length!==1)throw new Error("Squeeze requires 1 input.");if(i[0].type==="string")throw new Error("invalid input tensor types.")},jv=i=>{if(!i||i.length!==2)throw new Error("Squeeze requires 2 inputs.");if(i[1].type!=="int32")throw new Error("Invalid input type.")}});var vm,qv,Yv,wm=it(()=>{"use strict";Jt();$t();vm=(i,e)=>{Yv(e);let o={name:"Sum",inputNames:e.map((r,n)=>`X${n}`),inputTypes:new Array(e.length).fill(0)};return[i.run({...o,get:()=>qv(i,e,o)},e)]},qv=(i,e,o)=>{let t=Tt(i.session.backend.glContext.version),r=e[0].dims.slice(),s=`
      void main() {
        vec4 result = ${e.map((a,u)=>`${t.texture2D}(X${u},TexCoords)`).join(" + ")};
        ${t.output} = result;
      }
    `;return{...o,output:{dims:r,type:e[0].type,textureType:0},hasMain:!0,shaderSource:s}},Yv=i=>{if(!i||i.length===0)throw new Error("Sum requires inputs.");let e=i[0].dims.length;for(let o=1;o<i.length;o++){if(e!==i[o].dims.length)throw new Error("Input shapes are mismatched.");for(let t=0;t<e;t++)if(i[0].dims[t]!==i[o].dims[t])throw new Error("Input shapes are not matched.")}if(i[0].type!=="float32"&&i[0].type!=="float64")throw new Error("Invalid input type.");for(let o=1;o<i.length;o++)if(i[0].type!==i[o].type)throw new Error("Input types are not matched.")}});var Tm,Kv,Xv,xm=it(()=>{"use strict";So();$t();Tm=(i,e)=>{Xv(e);let o={name:"Tile",inputNames:["A"],inputTypes:[0]};return[i.run({...o,get:()=>Kv(i,e,o)},e)]},Kv=(i,e,o)=>{let t=e[0].dims.slice(),r=new Array(t.length),n=[];for(let u=0;u<t.length;u++)r[u]=t[u]*e[1].numberData[u],n.push(`inputIdx[${u}] = int(mod(float(outputIdx[${u}]), ${t[u]}.));`);let s=r.length,a=`
      float process(int outputIdx[${s}]) {
        int inputIdx[${s}];
        ${n.join(`
`)}
        return _A(inputIdx);
      }
    `;return{...o,output:{dims:r,type:e[0].type,textureType:0},shaderSource:a}},Xv=i=>{if(!i||i.length!==2)throw new Error("Tile requires 2 input.");if(i[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(i[1].dims[0]!==i[0].dims.length)throw new Error("Invalid input shape.");if(Mr.indexOf(i[0].type)===-1)throw new Error("Invalid input type.");if(i[1].type!=="int32"&&i[1].type!=="int16")throw new Error("Invalid repeat type.")}});var zf,_m,Om,Jv,Zv,Im=it(()=>{"use strict";Gt();zf=(i,e,o)=>{Jv(e);let t=ht.unsqueezeShape(e[0].dims,o);return[i.reshapeUnpacked(e[0],t)]},_m=(i,e)=>(Zv(e),zf(i,[e[0]],Array.from(e[1].integerData))),Om=i=>i.attributes.getInts("axes"),Jv=i=>{if(!i||i.length!==1)throw new Error("Unsqueeze requires 1 input.");if(i[0].type==="string")throw new Error("invalid input tensor types.")},Zv=i=>{if(!i||i.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(i[1].type!=="int32")throw new Error("Invalid input type.")}});var Am,Sm=it(()=>{"use strict";Nd();Xd();Qd();ip();Ki();Wp();Yp();Jp();th();oh();sh();lh();mh();Xi();vh();Lh();Gh();Wh();Yh();Xh();em();lm();mm();bm();wm();xm();Zi();Af();Im();Mf();Am=[["Abs","","6+",ap],["Acos","","7+",sp],["Add","","7+",Md],["And","","7+",Rd],["Asin","","7+",up],["Atan","","7+",fp],["AveragePool","","7+",Th,xh],["BatchNormalization","","7+",$d,Bd],["Cast","","6+",Jd,Zd],["Ceil","","6+",dp],["Clip","","6-10",Of,cp],["Clip","","11+",lp],["Concat","","4+",rp,op],["Conv","","1+",Lf,Cf],["ConvTranspose","","1+",Gp,Up],["Cos","","7+",pp],["Div","","7+",Gd],["Dropout","","7+",If],["DepthToSpace","","1+",jp,qp],["Equal","","7+",Ud],["Elu","","6+",hp,mp],["Exp","","6+",yp],["Flatten","","1+",Kp,Xp],["Floor","","6+",gp],["FusedConv","com.microsoft","1+",Lf,Cf],["Gather","","1+",Zp,Qp],["Gemm","","7-10",Ff,rh],["Gemm","","11+",Ff,nh],["GlobalAveragePool","","1+",Oh,Ih],["GlobalMaxPool","","1+",Dh],["Greater","","7+",Wd],["Identity","","1+",If],["ImageScaler","","1+",ih,ah],["InstanceNormalization","","6+",fh,ch],["LeakyRelu","","6+",bp,vp],["Less","","7+",zd],["LRN","","1+",dh,ph],["Log","","6+",wp],["MatMul","","1+",Cp,Fp],["MaxPool","","1+",Ah,Sh],["Mul","","7+",Hd],["Neg","","6+",Tp],["Not","","1+",xp],["Or","","7+",Vd],["Pad","","2-10",$f,yh],["Pad","","11+",gh,bh],["Pow","","7+",jd],["PRelu","","7+",qd],["ReduceLogSum","","1+",Mh,Rr],["ReduceMax","","1+",$h,Rr],["ReduceMean","","1+",Fh,Rr],["ReduceMin","","1+",Bh,Rr],["ReduceProd","","1+",Nh,Rr],["ReduceSum","","1-12",Ch,Rr],["ReduceSumSquare","","1+",Rh,Rr],["Relu","","6+",_p],["Reshape","","5+",Uh],["Resize","","10",Gf,jh],["Resize","","11+",Gf,qh],["Shape","","1+",Kh],["Sigmoid","","6+",Op],["Sin","","7+",Ip],["Slice","","10+",tm],["Slice","","1-9",Jh,Zh],["Softmax","","1-12",im,am],["Softmax","","13+",um,sm],["Split","","2-12",pm,hm],["Sqrt","","6+",Ap],["Squeeze","","1-12",Wf,gm],["Squeeze","","13+",ym],["Sub","","7+",Yd],["Sum","","6+",vm],["Tan","","7+",Sp],["Tanh","","6+",Pp],["Tile","","6+",Tm],["Transpose","","1+",fn,Hp],["Upsample","","7-8",Bf,Hh],["Upsample","","9",Bf,Vh],["Unsqueeze","","1-12",zf,Om],["Unsqueeze","","13+",_m],["Xor","","7+",Kd]]});function Em(i){let e={},o;for(;(o=Pm.exec(i))!==null;){let t=o[3].split(",").map(r=>{let n=r.trim().split(" ");return n&&n.length===2?{type:n[0],name:n[1]}:null}).filter(r=>r!==null);e[o[2]]={params:t,body:o[4]}}for(let t in e){let r=Qv.replace("__FUNC__",t),n=new RegExp(r,"gm");for(;(o=n.exec(i))!==null;){let s=o[1],a=o[2],u=o[3].split(","),c=s?`${s} ${a};`:"",w=e[t].body,S="";e[t].params.forEach((N,Z)=>{N&&(S+=`${N.type} ${N.name} = ${u[Z]};
`)}),w=`${S}
 ${w}`,w=w.replace("return",`${a} = `);let E=`
      ${c}
      {
        ${w}
      }
      `;i=i.replace(o[0],E)}}return i=i.replace(Pm,""),i}var Pm,Qv,Dm=it(()=>{"use strict";Pm=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm,Qv="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;"});function Un(i,e){let o=[],t=[],r=e!=null&&Array.isArray(e)&&e.length===0,n=e==null||r?null:tw(e,i).sort(),s=0;for(let a=0;a<i.length;++a){if(n!=null){if(n[s]===a&&i[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${i[a]}' is not 1`);(n[s]==null||n[s]>a)&&i[a]===1&&(o.push(i[a]),t.push(a)),n[s]<=a&&s++}i[a]!==1&&(o.push(i[a]),t.push(a))}return{newShape:o,keptDims:t}}function tw(i,e){let o=e.length;return i=i==null?e.map((t,r)=>r):[].concat(i),$n(i.every(t=>t>=-o&&t<o),()=>`All values in axis param must be in range [-${o}, ${o}) but got axis ${i}`),$n(i.every(ew),()=>`All values in axis param must be integers but got axis ${i}`),i.map(t=>t<0?o+t:t)}function ew(i){return i%1===0}function rw(i){if(i.length===0)return 1;let e=i[0];for(let o=1;o<i.length;o++)e*=i[o];return e}function km(i){let e=Math.ceil(Math.sqrt(i));return[e,Math.ceil(i/e)]}var ra,Hf=it(()=>{"use strict";We();Gt();ra=class{constructor(e){this.maxTextureSize=e}computeTextureWH(e,o){let t=this.computeTexture(e,o);return o&&o.isPacked&&(t[0]/=2,t[1]/=2),o&&o.reverseWH?[t[1],t[0]]:t}computeTexture(e,o){let t=o&&o.isPacked;if(e.length===0)return t?[2,2]:[1,1];let r=this.maxTextureSize;if(o&&o.breakAxis!==void 0){let a=o.breakAxis>=e.length?1:e.slice(o.breakAxis).reduce((c,w)=>c*w),u=o.breakAxis<=0?1:e.slice(0,o.breakAxis).reduce((c,w)=>c*w);if(a>r||u>r)Ut.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${e}, breakAxis:${o.breakAxis}`);else return[a,u]}let n=e.slice(0);t&&(r=r*2,n=n.map((a,u)=>u>=n.length-2?n[u]%2===0?n[u]:n[u]+1:n[u]),n.length===1&&(n=[2,n[0]])),n.length!==2&&(n=Un(n).newShape);let s=rw(n);return n.length<=1&&s<=r?[1,s]:n.length===2&&n[0]<=r&&n[1]<=r?n:n.length===3&&n[0]*n[1]<=r&&n[2]<=r?[n[0]*n[1],n[2]]:n.length===3&&n[0]<=r&&n[1]*n[2]<=r?[n[0],n[1]*n[2]]:n.length===4&&n[0]*n[1]*n[2]<=r&&n[3]<=r?[n[0]*n[1]*n[2],n[3]]:n.length===4&&n[0]<=r&&n[1]*n[2]*n[3]<=r?[n[0],n[1]*n[2]*n[3]]:t?km(s/4).map(a=>a*2):km(s)}}});var na,Lm=it(()=>{"use strict";Gt();Ar();Jt();Hf();mr();na=class extends je{constructor(o){super(o)}getFunctions(){return{...this.offsetToCoords(),...this.coordsToOffset(),...this.toVec(),...this.valueFrom(),...this.getCommonUtilFuncs(),...this.getInputsSamplingSnippets(),...this.getOutputSamplingSnippet()}}getCustomTypes(){return{}}offsetToCoords(){let o="offsetToCoords";return{offsetToCoords:new dt(`
      vec2 ${o}(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){let o="coordsToOffset";return{coordsToOffset:new dt(`
      int ${o}(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){let o=this.context.outputTextureLayout;return o.isPacked?this.getPackedOutputSamplingSnippet(o):this.getUnpackedOutputSamplingSnippet(o)}getPackedOutputSamplingSnippet(o){let t=o.unpackedShape,r=[o.width,o.height],n={},s="getOutputCoords";switch(t.length){case 0:n[s]=this.getOutputScalarCoords();break;case 1:n[s]=this.getOutputPacked1DCoords(t,r);break;case 2:n[s]=this.getOutputPacked2DCoords(t,r);break;case 3:n[s]=this.getOutputPacked3DCoords(t,r);break;default:n[s]=this.getOutputPackedNDCoords(t,r)}let u=`
      void setOutput(vec4 val) {
        ${Tt(this.context.glContext.version).output} = val;
      }
    `,c="floatTextureSetRGBA";return n[c]=new dt(u),n}getUnpackedOutputSamplingSnippet(o){let t=o.unpackedShape,r=[o.width,o.height],n={},s="getOutputCoords";switch(t.length){case 0:n[s]=this.getOutputScalarCoords();break;case 1:n[s]=this.getOutputUnpacked1DCoords(t,r);break;case 2:n[s]=this.getOutputUnpacked2DCoords(t,r);break;case 3:n[s]=this.getOutputUnpacked3DCoords(t,r);break;case 4:n[s]=this.getOutputUnpacked4DCoords(t,r);break;case 5:n[s]=this.getOutputUnpacked5DCoords(t,r);break;case 6:n[s]=this.getOutputUnpacked6DCoords(t,r);break;default:throw new Error(`Unsupported output dimensionality: ${t.length}`)}let u=`
        void setOutput(float val) {
          ${Tt(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `,c="floatTextureSetR";return n[c]=new dt(u),n}getOutputScalarCoords(){return new dt(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(o,t){let r=t,n="";return r[0]===1?(n=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${r[1]}.0);
          }
        `,new dt(n)):r[1]===1?(n=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${r[0]}.0);
          }
        `,new dt(n)):(n=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${r[0]}, ${r[1]}));
          return 2 * (resTexRC.y * ${r[0]} + resTexRC.x);
        }
      `,new dt(n))}getOutputPacked2DCoords(o,t){let r="";if(en.arraysEqual(o,t))return r=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${t[0]}, ${t[1]}));
        }
      `,new dt(r);let n=t,s=Math.ceil(o[1]/2);return r=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${n[0]}, ${n[1]}));

          int index = resTexRC.y * ${n[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${s}) * 2;
          int c = 2 * (index / ${s});

          return ivec2(r, c);
        }
      `,new dt(r)}getOutputPacked3DCoords(o,t){let r=[t[0],t[1]],n=Math.ceil(o[2]/2),s=n*Math.ceil(o[1]/2),a=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${r[0]}, ${r[1]}));
          int index = resTexRC.y * ${r[0]} + resTexRC.x;

          int b = index / ${s};
          index -= b * ${s};

          // reverse r and c order for packed texture
          int r = imod(index, ${n}) * 2;
          int c = 2 * (index / ${n});

          return ivec3(b, r, c);
        }
      `;return new dt(a)}getOutputPackedNDCoords(o,t){let r=[t[0],t[1]],n=Math.ceil(o[o.length-1]/2),s=n*Math.ceil(o[o.length-2]/2),a=s,u="",c="b, r, c";for(let S=2;S<o.length-1;S++)a*=o[o.length-S-1],u=`
      int b${S} = index / ${a};
      index -= b${S} * ${a};
    `+u,c=`b${S}, `+c;let w=`
      ivec${o.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${r[0]}, ${r[1]}));
        int index = resTexRC.y * ${r[0]} + resTexRC.x;

        ${u}

        int b = index / ${s};
        index -= b * ${s};

        // reverse r and c order for packed texture
        int r = imod(index, ${n}) * 2;
        int c = 2 * (index / ${n});

        return ivec${o.length}(${c});
      }
    `;return new dt(w)}getOutputUnpacked1DCoords(o,t){let r=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          return resTexRC.y * ${t[0]} + resTexRC.x;
        }
      `;return new dt(r)}getOutputUnpacked2DCoords(o,t){let r=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          int r = index / ${o[1]};
          int c = index - r * ${o[1]};
          return ivec2(r, c);
        }
      `;return new dt(r)}getOutputUnpacked3DCoords(o,t){let r="",n=o.length,s=null;n<2&&(s=[]),s=new Array(n-1),s[n-2]=o[n-1];for(let c=n-3;c>=0;--c)s[c]=s[c+1]*o[c+1];let a=["r","c","d"],u=s.map((c,w)=>{let S=`int ${a[w]} = index / ${c}`,E=w===s.length-1?`int ${a[w+1]} = index - ${a[w]} * ${c}`:`index -= ${a[w]} * ${c}`;return`${S}; ${E};`}).join("");return r=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${u}
          return ivec3(r, c, d);
        }
      `,new dt(r)}getOutputUnpacked4DCoords(o,t){let r="",n=o.length,s=null;n<2&&(s=[]),s=new Array(n-1),s[n-2]=o[n-1];for(let c=n-3;c>=0;--c)s[c]=s[c+1]*o[c+1];let a=["r","c","d","d2"],u=s.map((c,w)=>{let S=`int ${a[w]} = index / ${c}`,E=w===s.length-1?`int ${a[w+1]} = index - ${a[w]} * ${c}`:`index -= ${a[w]} * ${c}`;return`${S}; ${E};`}).join("");return r=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${u}
          return ivec4(r, c, d, d2);
        }
      `,new dt(r)}getOutputUnpacked5DCoords(o,t){let r="",n=o.length,s=null;n<2&&(s=[]),s=new Array(n-1),s[n-2]=o[n-1];for(let c=n-3;c>=0;--c)s[c]=s[c+1]*o[c+1];let a=["r","c","d","d2","d3"],u=s.map((c,w)=>{let S=`int ${a[w]} = index / ${c}`,E=w===s.length-1?`int ${a[w+1]} = index - ${a[w]} * ${c}`:`index -= ${a[w]} * ${c}`;return`${S}; ${E};`}).join("");return r=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${u}
          return ivec5(r, c, d, d2, d3);
        }
      `,new dt(r)}getOutputUnpacked6DCoords(o,t){let r="",n=o.length,s=null;n<2&&(s=[]),s=new Array(n-1),s[n-2]=o[n-1];for(let c=n-3;c>=0;--c)s[c]=s[c+1]*o[c+1];let a=["r","c","d","d2","d3","d4"],u=s.map((c,w)=>{let S=`int ${a[w]} = index / ${c}`,E=w===s.length-1?`int ${a[w+1]} = index - ${a[w]} * ${c}`:`index -= ${a[w]} * ${c}`;return`${S}; ${E};`}).join("");return r=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${t[0]}, ${t[1]}));
         int index = resTexRC.y * ${t[0]} + resTexRC.x;
         ${u}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new dt(r)}getCommonUtilFuncs(){let o={},t="uvFromFlat";o[t]=new dt(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),t="packedUVfrom1D",o[t]=new dt(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="packedUVfrom2D",o[t]=new dt(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="packedUVfrom3D",o[t]=new dt(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="sampleTexture";let r=Tt(this.context.glContext.version);return o[t]=new dt(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${r.texture2D}(textureSampler, uv).r;
        }`),o}getInputsSamplingSnippets(){let o={},t=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((r,n)=>{let s=this.context.inputTextureLayouts[n],a=Wi(r);s.isPacked?o[a]=this.getPackedSamplerFromInput(a,r,s):o[a]=this.getUnpackedSamplerFromInput(a,r,s);let u=vd(r);s.unpackedShape.length<=t.unpackedShape.length&&(s.isPacked?o[u]=this.getPackedSamplerAtOutputCoords(u,s,t,r):o[u]=this.getUnpackedSamplerAtOutputCoords(u,s,t,r))}),o}getPackedSamplerAtOutputCoords(o,t,r,n){let s=t.unpackedShape,a=r.unpackedShape,c=Wi(n),w=s.length,S=a.length,E=Ee.getBroadcastDims(s,a),N=De(S),Z=S-w,H,nt=sr();w===0?H="":S<2&&E.length>=1?H="coords = 0;":H=E.map(It=>`coords.${nt[It+Z]} = 0;`).join(`
`);let at="";S<2&&w>0?at="coords":at=s.map((It,Ue)=>`coords.${nt[Ue+Z]}`).join(", ");let ot="return outputValue;",xt=ht.size(s)===1,Wt=ht.size(a)===1;if(w===1&&!xt&&!Wt)ot=`
        return vec4(outputValue.xy, outputValue.xy);
      `;else if(xt&&!Wt)S===1?ot=`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:ot=`
          return vec4(outputValue.x);
        `;else if(E.length){let It=w-2,Ue=w-1;E.indexOf(It)>-1&&E.indexOf(Ue)>-1?ot="return vec4(outputValue.x);":E.indexOf(It)>-1?ot="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":E.indexOf(Ue)>-1&&(ot="return vec4(outputValue.xx, outputValue.zz);")}let Zt=`
        int lastDim = coords.${nt[S-1]};
        coords.${nt[S-1]} = coords.${nt[S-2]};
        coords.${nt[S-2]} = lastDim;
      `,pt=`
      vec4 ${o}() {
        ${N} coords = getOutputCoords();
        ${Zt}
        ${H}
        vec4 outputValue = ${c}(${at});
        ${ot}
      }
    `;return new dt(pt,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(o,t,r,n){let s=[r.width,r.height],a=[t.width,t.height],u=t.unpackedShape.length,c=r.unpackedShape.length,w=t.unpackedShape,S=r.unpackedShape,E=Wi(n);if(u===c&&en.arraysEqual(a,s)){let xt=`
          float ${o}() {
            return sampleTexture(${n}, TexCoords);
          }
        `;return new dt(xt,["coordinates.sampleTexture"])}let N=De(c),Z=Ee.getBroadcastDims(w,S),H=c-u,nt,at=sr();u===0?nt="":c<2&&Z.length>=1?nt="coords = 0;":nt=Z.map(xt=>`coords.${at[xt+H]} = 0;`).join(`
`);let ot="";c<2&&u>0?ot="coords":ot=t.unpackedShape.map((xt,yt)=>`coords.${at[yt+H]}`).join(", ");let ft=`
        float ${o}() {
          ${N} coords = getOutputCoords();
          ${nt}
          return ${E}(${ot});
        }
      `;return new dt(ft,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(o,t,r){switch(r.unpackedShape.length){case 0:return this.getPackedSamplerScalar(o,t);case 1:return this.getPackedSampler1D(o,t,r);case 2:return this.getPackedSampler2D(o,t,r);case 3:return this.getPackedSampler3D(o,t,r);default:return this.getPackedSamplerND(o,t,r)}}getUnpackedSamplerFromInput(o,t,r){let n=r.unpackedShape;switch(n.length){case 0:return this.getUnpackedSamplerScalar(o,t,r);case 1:return this.getUnpackedSampler1D(o,t,r);case 2:return this.getUnpackedSampler2D(o,t,r);case 3:return this.getUnpackedSampler3D(o,t,r);case 4:return this.getUnpackedSampler4D(o,t,r);case 5:return this.getUnpackedSampler5D(o,t,r);case 6:return this.getUnpackedSampler6D(o,t,r);default:throw new Error(`Unsupported dimension ${n.length}-D`)}}getPackedSamplerScalar(o,t){let r=Tt(this.context.glContext.version),n=`
          vec4 ${o}() {
            return ${r.texture2D}(${t}, halfCR);
          }
        `;return new dt(n)}getPackedSampler1D(o,t,r){let n=[r.width,r.height],s=[n[1],n[0]],a=Tt(this.context.glContext.version),c=`vec4 ${o}(int index) {
      vec2 uv = packedUVfrom1D(
      ${s[0]}, ${s[1]}, index);
      return ${a.texture2D}(${t}, uv);
    }`;return new dt(c,["coordinates.packedUVfrom1D"])}getPackedSampler2D(o,t,r){let n=r.unpackedShape,s=[r.width,r.height],a=Tt(this.context.glContext.version),u=s[0],c=s[1];if(s!=null&&en.arraysEqual(n,s)){let Z=`vec4 ${o}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${c}.0, ${u}.0);
        return ${a.texture2D}(${t}, uv);
      }`;return new dt(Z)}let w=s,S=Math.ceil(n[1]/2),N=`vec4 ${o}(int row, int col) {
      vec2 uv = packedUVfrom2D(${w[1]}, ${w[0]}, ${S}, row, col);
      return ${a.texture2D}(${t}, uv);
    }`;return new dt(N,["coordinates.packedUVfrom2D"])}getPackedSampler3D(o,t,r){let n=r.unpackedShape,s=[r.width,r.height],a=[s[0],s[1]],u=Tt(this.context.glContext.version);if(n[0]===1){let H=n.slice(1),nt=[1,2],at=Bn(n,H),ot=["b","row","col"],ft=JSON.parse(JSON.stringify(r));ft.unpackedShape=at;let xt=this.getPackedSamplerFromInput(o,t,ft),Wt=`${xt.routineBody}
      vec4 ${o}(int b, int row, int col) {
        return ${o}(${Nn(ot,nt)});
      } `;return new dt(Wt,xt.dependencies)}let c=a[0],w=a[1],S=Math.ceil(n[2]/2),E=S*Math.ceil(n[1]/2),Z=`vec4 ${o}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${w}, ${c}, ${E}, ${S}, b, row, col);
      return ${u.texture2D}(${t}, uv);}`;return new dt(Z,["coordinates.packedUVfrom3D"])}getPackedSamplerND(o,t,r){let n=r.unpackedShape,s=n.length,a=[r.width,r.height],u=Tt(this.context.glContext.version),c=[a[0],a[1]],w=c[1],S=c[0],E=Math.ceil(n[s-1]/2),N=E*Math.ceil(n[s-2]/2),Z="int b, int row, int col",H=`b * ${N} + (row / 2) * ${E} + (col / 2)`;for(let ot=2;ot<s-1;ot++)Z=`int b${ot}, `+Z,N*=n[s-ot-1],H=`b${ot} * ${N} + `+H;let at=`vec4 ${o}(${Z}) {
      int index = ${H};
      int texR = index / ${S};
      int texC = index - texR * ${S};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${S}, ${w});
      return ${u.texture2D}(${t}, uv);
    }`;return new dt(at)}getUnpackedSamplerScalar(o,t,r){let[n,s]=[r.width,r.height];if(n===1&&s===1){let u=`
          float ${o}() {
            return sampleTexture(${t}, halfCR);
          }
        `;return new dt(u,["coordinates.sampleTexture"])}let a=`
        float ${o}() {
          int offset_${t} = coordsToOffset(TexCoords, ${n}, ${s});
          vec2 uv = uvFromFlat(${n}, ${s}, offset_${t});
          return sampleTexture(${t}, uv);
        }
      `;return new dt(a,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(o,t,r){let n=r.width,s=r.height;if(s===1&&n===1){let u=`
        float ${o}(int index) {
          return sampleTexture(${t}, halfCR);
        }
      `;return new dt(u,["coordinates.sampleTexture"])}if(s===1){let u=`
          float ${o}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${n}.0, 0.5);
            return sampleTexture(${t}, uv);
          }
        `;return new dt(u,["coordinates.sampleTexture"])}if(n===1){let u=`
          float ${o}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${s}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new dt(u,["coordinates.sampleTexture"])}let a=`
        float ${o}(int index) {
          vec2 uv = uvFromFlat(${n}, ${s}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new dt(a,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(o,t,r){let n=r.unpackedShape,s=[r.height,r.width];if(s!=null&&en.arraysEqual(n,s)){let N=s[1],Z=s[0],H=`
          float ${o}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${N}.0, ${Z}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new dt(H,["coordinates.sampleTexture"])}let{newShape:a,keptDims:u}=Un(n),c=a;if(c.length<n.length){let N=Bn(n,c),Z=JSON.parse(JSON.stringify(r));Z.unpackedShape=N;let H=["col","row"],nt=`
          ${this.getUnpackedSamplerFromInput(o,t,Z).routineBody}
          float ${o}(int row, int col) {
            return ${o}(${Nn(H,u)});
          }
        `;return new dt(nt,["coordinates.sampleTexture"])}let w=s[1],S=s[0];if(S===1){let N=`
          float ${o}(int row, int col) {
            int offset_${t} = coordsToOffset(TexCoords, ${w}, ${S});
            float index = dot(vec3(row, col, offset_${t}), vec3(${n[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${w}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new dt(N,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(w===1){let N=`
          float ${o}(int row, int col) {
            int offset_${t} = coordsToOffset(TexCoords, ${w}, ${S});
            float index = dot(vec3(row, col, offset_${t}), vec3(${n[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${S}.0, 0.5);
            return sampleTexture(${t}, uv);
          }
        `;return new dt(N,["coordinates.sampleTexture","coordinates.coordsToOffset"])}let E=`
        float ${o}(int row, int col) {
          int index = col * ${n[1]} + row;
          vec2 uv = uvFromFlat(${w}, ${S}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new dt(E,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(o,t,r){let n=r.unpackedShape,s=n[1]*n[2],a=n[2],{newShape:u,keptDims:c}=Un(n),w=u;if(w.length<n.length){let Z=Bn(n,w),H=["batch","col","row"],nt=JSON.parse(JSON.stringify(r));nt.unpackedShape=Z;let at=this.getUnpackedSamplerFromInput(o,t,nt),ot=c.reverse(),ft=`
          ${at.routineBody}
          float ${o}(int batch, int row, int col) {
            return ${o}(${Nn(H,ot)});
          }
        `;return new dt(ft,at.dependencies)}let S=r.width,E=r.height,N=`
          float ${o}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${s} + col * ${a} + row;
            vec2 uv = uvFromFlat(${S}, ${E}, index);
            return sampleTexture(${t}, uv);
          }
      `;return new dt(N,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(o,t,r){let n=r.unpackedShape,s=n[3],a=n[2]*s,u=n[1]*a,c=r.width,w=r.height,S=`
        float ${o}(int row, int col, int depth, int depth2) {
          int index = row * ${u} + col * ${a} +
              depth2 * ${s} + depth;
          vec2 uv = uvFromFlat(${c}, ${w}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new dt(S,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(o,t,r){let n=r.unpackedShape,s=n[4],a=n[3]*s,u=n[2]*a,c=n[1]*u,{newShape:w,keptDims:S}=Un(n);if(w.length<n.length){let H=Bn(n,w),nt=["row","col","depth","depth2","depth3"],at=JSON.parse(JSON.stringify(r));at.unpackedShape=H;let ot=`
          ${this.getUnpackedSamplerFromInput(o,t,at).routineBody}
          float ${o}(int row, int col, int depth, int depth2, int depth3) {
            return ${o}(${Nn(nt,S)});
          }
        `;return new dt(ot,["coordinates.sampleTexture","coordinates.uvFromFlat"])}let E=r.width,N=r.height,Z=`
        float ${o}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${c} + col * ${u} + depth * ${a} +
          depth3 * ${s} + depth2;
          vec2 uv = uvFromFlat(${E}, ${N}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new dt(Z,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(o,t,r){let n=r.unpackedShape,s=n[5],a=n[4]*s,u=n[3]*a,c=n[2]*u,w=n[1]*c,{newShape:S,keptDims:E}=Un(n);if(S.length<n.length){let nt=Bn(n,S),at=["row","col","depth","depth2","depth3","depth4"],ot=JSON.parse(JSON.stringify(r));ot.unpackedShape=nt;let ft=`
            ${this.getUnpackedSamplerFromInput(o,t,ot).routineBody}
            float ${o}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${o}(${Nn(at,E)});
            }
          `;return new dt(ft,["coordinates.sampleTexture","coordinates.uvFromFlat"])}let N=r.width,Z=r.height,H=`
          float ${o}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${w} + col * ${c} + depth * ${u} +
            depth2 * ${a} + depth3 * ${s} + depth4;
            vec2 uv = uvFromFlat(${N}, ${Z}, index);
            return sampleTexture(${t}, uv);
          }
        `;return new dt(H,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){let o=this.context.outputTextureLayout,t=o.shape.length,r=o.strides,n=o.width,s=o.height,a=[];for(let c=0;c<t-1;++c)a.push(`
        c[${c}] = offset / ${r[c]};`),a.push(`
        offset -= c[${c}] * ${r[c]};`);a.push(`
        c[${t-1}] = offset;`);let u=`
      void toVec(vec2 texCoords, out int c[${t}]) {
        int offset = coordsToOffset(texCoords, ${n}, ${s});
        ${a.join("")}
      }
      void toVec(int offset, out int c[${t}]) {
        ${a.join("")}
      }
    `;return{toVec:new dt(u,["coordinates.coordsToOffset"])}}valueFrom(){let o={};return this.context.programInfo.inputNames.forEach((t,r)=>{let n=this.context.inputTextureLayouts[r],a=(n.unpackedShape.length>0?n.unpackedShape:n.shape).length,u=`_${t}`;o[u]=new dt(this.getValueFromSingle(t,a,n.width,n.height,!1),[`shapeUtils.indicesToOffset${u}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),u=u+"_T",o[u]=new dt(this.getValueFromSingle(t,a,n.width,n.height,!0),[`shapeUtils.indicesToOffset${u}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),o}getValueFromSingle(o,t,r,n,s){let a=`_${o}`;s&&(a=a+"_T");let u=Tt(this.context.glContext.version);return`
        float ${a}(int m[${t}]) {
          int offset = indicesToOffset${a}(m);
          vec2 coords = offsetToCoords(offset, ${r}, ${n});
          float value = getColorAsFloat(${u.texture2D}(${o}, coords));
          return value;
        }
        `}getPackedValueFrom(o,t,r,n,s){let a=`_${o}_Pack`;s&&(a=a+"_T");let u=Tt(this.context.glContext.version);return`
        vec4 ${a}(int m[${t}]) {
          int offset = indicesToOffset_${o}(m);
          vec2 coords = offsetToCoords(offset, ${r}, ${n});
          return ${u.texture2D}(${o}, coords);
        }
        `}}});var oa,Cm=it(()=>{"use strict";Ar();oa=class i extends je{constructor(e){super(e)}getFunctions(){return{...this.encodeFloat32(),...this.decodeFloat32()}}getCustomTypes(){return{}}encodeFloat32(){return{encode:new dt(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new dt(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){let e=i.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new dt(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${e}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){let e=i.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new dt(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${e}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){let e=new ArrayBuffer(4),o=new Uint32Array(e),t=new Uint8Array(e);if(o[0]=3735928559,t[0]===239)return!0;if(t[0]===222)return!1;throw new Error("unknown endianness")}}});var ia,Fm=it(()=>{"use strict";Ar();Jt();ia=class extends je{constructor(e){super(e)}getFunctions(){return{...this.setFragColor(),...this.getColorAsFloat()}}getCustomTypes(){return{}}setFragColor(){let e=Tt(this.context.glContext.version);return{setFragColor:new dt(`
        void setFragColor(float value) {
            ${e.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new dt(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}});var aa,$m=it(()=>{"use strict";Ar();aa=class i extends je{constructor(e){super(e)}getFunctions(){return{...this.bcastIndex(),...this.bcastMatmulIndex(),...this.offsetToIndices(),...this.indicesToOffset(),...this.incrementIndices()}}getCustomTypes(){return{}}bcastIndex(){let e=this.context.outputTextureLayout.shape.length,o={};return this.context.programInfo.inputNames.forEach((t,r)=>{let n=this.context.inputTextureLayouts[r].unpackedShape;if(n.length<=e){let s=n.length,a=e-s,u=`bcastIndices_${t}`,c="";for(let S=0;S<s;++S)c+=`
          realIndices[${S}] = int( mod(float(bcastedIndices[${a+S}]), ${n[S]}.0) );
          `;let w=`
        void ${u} (int bcastedIndices[${e}], out int realIndices[${s}]) {
          ${c}
        }
        `;o[u]=new dt(w)}}),o}bcastMatmulIndex(){let e=this.context.outputTextureLayout.shape.length,o={};return this.context.programInfo.inputNames.forEach((t,r)=>{let n=this.context.inputTextureLayouts[r].shape;if(!(n.length<2||n.length>e)){let s=n.length,a=e-s,u=`bcastMatmulIndices_${t}`,c="";for(let S=0;S<s-2;++S)c+=`
          realIndices[${S}] = int( mod(float(bcastedIndices[${a+S}]), ${n[S]}.0) );
          `;let w=`
        void ${u}(int bcastedIndices[${e}], out int realIndices[${s}]) {
          ${c}
          realIndices[${s-1}] = bcastedIndices[${e-1}];
          realIndices[${s-2}] = bcastedIndices[${e-2}];
        }
        `;o[u]=new dt(w)}}),o}indicesToOffset(){let e={};return this.context.programInfo.inputNames.forEach((o,t)=>{let r=this.context.inputTextureLayouts[t].shape,n=this.context.inputTextureLayouts[t].strides,s=r.length,a=`indicesToOffset_${o}`;e[a]=new dt(i.indexToOffsetSingle(a,s,n)),a=`indicesToOffset_${o}_T`,e[a]=new dt(i.indexToOffsetSingle(a,s,n.slice().reverse()))}),e}static indexToOffsetSingle(e,o,t){let r="";for(let n=o-1;n>=0;--n)r+=`
        offset += indices[${n}] * ${t[n]};
        `;return`
      int ${e}(int indices[${o}]) {
        int offset = 0;
        ${r}
        return offset;
      }
      `}offsetToIndices(){let e={};return this.context.programInfo.inputNames.forEach((o,t)=>{let r=this.context.inputTextureLayouts[t].shape,n=this.context.inputTextureLayouts[t].strides,s=r.length,a=`offsetToIndices_${o}`;e[a]=new dt(i.offsetToIndicesSingle(a,s,n)),a=`offsetToIndices_${o}_T`,e[a]=new dt(i.offsetToIndicesSingle(a,s,n.slice().reverse()))}),e}static offsetToIndicesSingle(e,o,t){let r=[];for(let n=0;n<o-1;++n)r.push(`
      indices[${n}] = offset / ${t[n]};`),r.push(`
        offset -= indices[${n}] * ${t[n]};`);return r.push(`
      indices[${o-1}] = offset;`),`
      void ${e}(int offset, out int indices[${o}]) {
        ${r.join("")}
      }
      `}incrementIndices(){let e={};return this.context.programInfo.inputNames.forEach((o,t)=>{let r=this.context.inputTextureLayouts[t].shape,n=r.length,s=`incrementIndices_${o}`,a="";for(let c=0;c<n;++c)a+=`
        shape[${c}] = ${r[c]};`;let u=`
        void ${s}(int axis, out int indices[${n}]) {
          int shape[${n}];
          ${a};
          for(int i = ${n} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;e[s]=new dt(u)}),e}}});var sa,Bm=it(()=>{"use strict";Ar();sa=class extends je{constructor(e){super(e)}getCustomTypes(){return{}}getFunctions(){return{...this.binaryVecFunctions(),...this.copyVec(),...this.setVecItem(),...this.getVecItem()}}binaryVecFunctions(){let o=this.context.outputTextureLayout.shape.length,t={add:"+=",sub:"-=",mul:"*=",div:"/="},r={};for(let n in t){let s=`${n}Vec`,a="";for(let c=0;c<o;++c)a+=`
          dest[${c}] ${t[n]} src[${c}];
          `;let u=`
        void ${s}(int src[${o}], out int dest[${o}]) {
          ${a}
        }
        `;r[s]=new dt(u)}return r}copyVec(){let o=this.context.outputTextureLayout.shape.length,t="";for(let n=0;n<o;++n)t+=`
        dest[${n}] = src[${n}];
        `;let r=`
      void copyVec(int src[${o}], out int dest[${o}]) {
        ${t}
      }
      `;return{copyVec:new dt(r)}}setVecItem(){let o=this.context.outputTextureLayout.shape.length,t=`
        if(index < 0)
            index =${o} + index;
        if (index == 0)
            m[0] = value;
        `;for(let n=1;n<o-1;++n)t+=`
        else if (index == ${n})
            m[${n}] = value;
            `;t+=`
        else
            m[${o-1}] = value;
        `;let r=`
      void setVecItem(out int m[${o}], int index, int value) {
        ${t}
      }
        `;return{setVecItem:new dt(r)}}getVecItem(){let o=this.context.outputTextureLayout.shape.length,t=`
        if(index < 0)
            index = ${o} + index;
        if (index == 0)
            return m[0];
      `;for(let n=1;n<o-1;++n)t+=`
        else if (index == ${n})
            return m[${n}];
      `;t+=`
        else
            return m[${o-1}];
        `;let r=`
      int getVecItem(int m[${o}], int index) {
        ${t}
      }
    `;return{getVecItem:new dt(r)}}}});var Vf,Nm=it(()=>{"use strict";Lm();Cm();Fm();$m();Bm();Vf={encoding:oa,fragcolor:ia,vec:sa,shapeUtils:aa,coordinates:na}});var ua,Mm=it(()=>{"use strict";Ar();Dm();Nm();Jt();ua=class{constructor(e,o,t,r){this.libs={};this.glslLibRoutineDependencyGraph={};this.context=new ji(e,o,t,r),Object.keys(Vf).forEach(s=>{let a=new Vf[s](this.context);this.libs[s]=a});let n=this.glslLibRoutineDependencyGraph;for(let s in this.libs){let u=this.libs[s].getFunctions();for(let c in u){let w=s+"."+c,S;n[w]?(S=n[w],S.routineBody=u[c].routineBody):(S=new Ao(w,u[c].routineBody),n[w]=S);let E=u[c].dependencies;if(E)for(let N=0;N<E.length;++N)if(n[E[N]])S.addDependency(n[E[N]]);else{let Z=new Ao(E[N]);n[E[N]]=Z,S.addDependency(Z)}}}}preprocess(){let e=this.context.programInfo,o=e.shaderSource;return this.context.programInfo.hasMain||(o=`${o}
      ${bd(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),o=Em(o),`${gd(this.context.glContext.version)}
    ${this.getUniforms(e.inputNames,e.variables)}
    ${this.getImports(o)}
    ${o}`}getImports(e){let o=this.selectGlslLibRoutinesToBeIncluded(e);if(o.length===0)return"";let t="";for(let r=0;r<o.length;++r)if(o[r].routineBody)t+=o[r].routineBody+`
`;else throw new Error(`Missing body for the Glsl Library routine: ${o[r].name}`);return t}selectGlslLibRoutinesToBeIncluded(e){let o=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(t=>{let r=t.split(".")[1];e.indexOf(r)!==-1&&o.push(this.glslLibRoutineDependencyGraph[t])}),qi.returnOrderedNodes(o)}getUniforms(e,o){let t=[];if(e)for(let r of e)t.push(`uniform sampler2D ${r};`);if(o)for(let r of o)t.push(`uniform ${r.type} ${r.name}${r.arrayLength?`[${r.arrayLength}]`:""};`);return t.join(`
`)}}});var fa,Rm=it(()=>{"use strict";dr();We();Mm();Jt();fa=class{constructor(e,o,t){this.profiler=e;this.glContext=o;this.textureLayoutStrategy=t;this.repo=new Map,this.attributesBound=!1}getArtifact(e){return this.repo.get(e)}setArtifact(e,o){this.repo.set(e,o)}run(e,o,t){this.profiler.event("op",`ProgramManager.run ${e.programInfo.name??"unknown kernel"}`,()=>{let r=this.glContext.gl,n=e.program;r.useProgram(n);try{this.bindOutput(t),this.attributesBound||this.bindAttributes(e.attribLocations),this.bindUniforms(e.uniformLocations,e.programInfo.variables??[],o)}catch(s){throw Ut.error("ProgramManager",e.programInfo.shaderSource),s}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(e=>this.glContext.deleteProgram(e.program))}build(e,o,t){return this.profiler.event("backend","ProgramManager.build",()=>{let r=new ua(this.glContext,e,o,t),n=r.preprocess(),s=this.compile(n);return{programInfo:e,program:s,uniformLocations:this.getUniformLocations(s,r.context.programInfo.inputNames,r.context.programInfo.variables),attribLocations:this.getAttribLocations(s)}})}compile(e){if(!this.vertexShader){Ut.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");let r=yd(this.glContext.version);this.vertexShader=this.glContext.compileShader(r,this.glContext.gl.VERTEX_SHADER)}Dt.debug&&Ut.verbose("ProrgramManager",`FragShader:
${e}
`);let o=this.glContext.compileShader(e,this.glContext.gl.FRAGMENT_SHADER),t=this.glContext.createProgram(this.vertexShader,o);return this.glContext.deleteShader(o),t}bindOutput(e){let o=e.width,t=e.height;Ut.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${o}/${t}, shape=${e.shape}, type=${e.tensor.type}`),this.glContext.attachFramebuffer(e.texture,o,t)}bindAttributes(e){let o=e.position,t=e.textureCoord;this.glContext.setVertexAttributes(o,t),this.attributesBound=!0}bindUniforms(e,o,t){let r=this.glContext.gl,n=0;for(let{name:s,type:a,location:u,arrayLength:c}of e){let w=o.find(S=>S.name===s)?.data;if(a!=="sampler2D"&&!w)throw new Error(`variable '${s}' does not have data defined in program info`);switch(a){case"sampler2D":this.bindTexture(t[n],u,n),n++;break;case"float":c?r.uniform1fv(u,w):r.uniform1f(u,w);break;case"int":c?r.uniform1iv(u,w):r.uniform1i(u,w);break;default:throw new Error(`Uniform not implemented: ${a}`)}}}bindTexture(e,o,t){this.glContext.bindTextureToUniform(e.texture,t,o)}getAttribLocations(e){return{position:this.getAttribLocation(e,"position"),textureCoord:this.getAttribLocation(e,"textureCoord")}}getUniformLocations(e,o,t){let r=[];if(o)for(let n of o)r.push({name:n,type:"sampler2D",location:this.getUniformLocation(e,n)});if(t)for(let n of t)r.push({...n,location:this.getUniformLocation(e,n.name)});return r}getUniformLocation(e,o){let r=this.glContext.gl.getUniformLocation(e,o);if(r===null)throw new Error(`Uniform ${o} not found.`);return r}getAttribLocation(e,o){return this.glContext.gl.getAttribLocation(e,o)}}});var ca,Gm=it(()=>{"use strict";We();Oo();ca=class{constructor(e,o,t,r){this.glContext=e;this.layoutStrategy=o;this.profiler=t;this.config=r;this.pendingRead=new Map;r.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(e,o,t,r){let n=this.toEncoderType(e),s=this.glContext.getEncoder(n,o.channels||1,r);if(o.isPacked&&r===1)throw new Error("not implemented");let a=o.width,u=o.height,c,w;if(this.config.reuseTextures){c=`${a}x${u}_${s.format}_${s.internalFormat}_${s.textureType}`,w=this.inUseTextures.get(c),w||(w=[],this.inUseTextures.set(c,w));let E=this.idleTextures.get(c);if(E&&E.length>0){let N=E.pop();return w.push(N),r===1&&this.glContext.updateTexture(N,a,u,s,this.toTextureData(e,t)),N}}Ut.verbose("TextureManager",`Creating new texture of size ${o.width}x${o.height}`);let S=this.glContext.allocateTexture(a,u,s,this.toTextureData(e,t));return this.config.reuseTextures&&(w.push(S),this.textureLookup.set(S,c)),S}readTexture(e,o,t){return t||(t=1),this.profiler.event("backend","TextureManager.readTexture",()=>{let r=e.shape.reduce((s,a)=>s*a)*t,n=this.glContext.readTexture(e.texture,e.width,e.height,r,this.toEncoderType(o),t);return this.toTensorData(o,n)})}async readTextureAsync(e,o,t){let r=e.tensor.dataId;if(t||(t=1),this.pendingRead.has(r)){let n=this.pendingRead.get(r);return new Promise(s=>n?.push(s))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(r,[]);let n=e.shape.reduce((c,w)=>c*w)*t;await this.glContext.createAndWaitForFence();let s=this.glContext.readTexture(e.texture,e.width,e.height,n,this.toEncoderType(o),t),a=this.toTensorData(o,s),u=this.pendingRead.get(r);return this.pendingRead.delete(r),u?.forEach(c=>c(a)),a})}readUint8TextureAsFloat(e){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{let o=e.shape.reduce((r,n)=>r*n),t=this.glContext.readTexture(e.texture,e.width,e.height,o*4,"byte",4);return new Float32Array(t.buffer,t.byteOffset,o)})}releaseTexture(e,o){let t;if(this.config.reuseTextures&&(t=this.textureLookup.get(e.texture),t)){o&&this.textureLookup.delete(t);let r=this.inUseTextures.get(t);if(r){let n=r.indexOf(e.texture);if(n!==-1){r.splice(n,1);let s=this.idleTextures.get(t);s||(s=[],this.idleTextures.set(t,s)),s.push(e.texture)}}}(!t||o)&&(Ut.verbose("TextureManager",`Deleting texture of size ${e.width}x${e.height}`),this.glContext.deleteTexture(e.texture))}toTensorData(e,o){switch(e){case"int16":return o instanceof Int16Array?o:Int16Array.from(o);case"int32":return o instanceof Int32Array?o:Int32Array.from(o);case"int8":return o instanceof Int8Array?o:Int8Array.from(o);case"uint16":return o instanceof Uint16Array?o:Uint16Array.from(o);case"uint32":return o instanceof Uint32Array?o:Uint32Array.from(o);case"uint8":case"bool":return o instanceof Uint8Array?o:Uint8Array.from(o);case"float32":return o instanceof Float32Array?o:Float32Array.from(o);case"float64":return o instanceof Float64Array?o:Float64Array.from(o);default:throw new Error(`TensorData type ${e} is not supported`)}}toTextureData(e,o){if(o)return o instanceof Float32Array?o:new Float32Array(o)}toEncoderType(e){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}});var la,Um=it(()=>{"use strict";We();rl();Cd();Sm();Rm();Hf();Gm();la=class{constructor(e,o){this.backend=e;this.context=o;this.layoutStrategy=new ra(e.glContext.maxTextureSize),this.programManager=new fa(this.context.profiler,e.glContext,this.layoutStrategy),this.textureManager=new ca(e.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:e.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=e.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new Vi(this)}onGraphInitialized(e){let o=e.getValues().filter(t=>t.from===-1&&t.tensor).map(t=>t.tensor.dataId);this.initializers=new Set(o)}isInitializer(e){return this.initializers?this.initializers.has(e):!1}addInitializer(e){this.initializers.add(e)}getTextureData(e,o){return o?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,o,t=!1){Ut.verbose("WebGLSessionHandler","Storing Texture data in cache"),t?this.packedTextureDataCache.set(e,o):this.unpackedTextureDataCache.set(e,o)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.textureManager.releaseTexture(e,!0)),this.unpackedTextureDataCache=new Map}resolve(e,o,t){let r=el(e,o,Am);return{impl:r.opImpl,context:r.opInit?r.opInit(e,t):e}}}});function nw(i){let e=0;for(;e<i.length&&i[e]();++e);return e-1}var Eo,Wm=it(()=>{"use strict";dr();Oo();Oo();mr();Eo=class{constructor(e,o){this.frameBufferBound=!1;this.itemsToPoll=[];this.gl=e,this.version=o,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(e,o,t,r){let n=this.gl,s=n.createTexture();n.bindTexture(n.TEXTURE_2D,s),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);let a=r?t.encode(r,e*o):null;return n.texImage2D(n.TEXTURE_2D,0,t.internalFormat,e,o,0,t.format,t.textureType,a),this.checkError(),s}updateTexture(e,o,t,r,n){let s=this.gl;s.bindTexture(s.TEXTURE_2D,e);let a=r.encode(n,o*t);s.texSubImage2D(s.TEXTURE_2D,0,0,0,o,t,r.format,r.textureType,a),this.checkError()}attachFramebuffer(e,o,t){let r=this.gl;r.bindTexture(r.TEXTURE_2D,e),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),this.checkError(),r.viewport(0,0,o,t),r.scissor(0,0,o,t)}readTexture(e,o,t,r,n,s){let a=this.gl;s||(s=1),this.frameBufferBound||this.attachFramebuffer(e,o,t);let u=this.getEncoder(n,s),c=u.allocate(o*t);return a.bindTexture(a.TEXTURE_2D,e),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e,0),a.readPixels(0,0,o,t,a.RGBA,u.textureType,c),this.checkError(),u.decode(c,r)}isFramebufferReady(){return!0}getActiveTexture(){let e=this.gl;return`TEXTURE${e.getParameter(this.gl.ACTIVE_TEXTURE)-e.TEXTURE0}`}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(e,o){let t=this.gl;t.vertexAttribPointer(e,3,t.FLOAT,!1,20,0),t.enableVertexAttribArray(e),o!==-1&&(t.vertexAttribPointer(o,2,t.FLOAT,!1,20,12),t.enableVertexAttribArray(o)),this.checkError()}createProgram(e,o){let t=this.gl,r=t.createProgram();return t.attachShader(r,e),t.attachShader(r,o),t.linkProgram(r),r}compileShader(e,o){let t=this.gl,r=t.createShader(o);if(!r)throw new Error(`createShader() returned null with type ${o}`);if(t.shaderSource(r,e),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${t.getShaderInfoLog(r)}
Shader source:
${e}`);return r}deleteShader(e){this.gl.deleteShader(e)}bindTextureToUniform(e,o,t){let r=this.gl;r.activeTexture(r.TEXTURE0+o),this.checkError(),r.bindTexture(r.TEXTURE_2D,e),this.checkError(),r.uniform1i(t,o),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(Dt.debug){let e=this.gl,o=e.getError(),t="";switch(o){case e.NO_ERROR:return;case e.INVALID_ENUM:t="INVALID_ENUM";break;case e.INVALID_VALUE:t="INVALID_VALUE";break;case e.INVALID_OPERATION:t="INVALID_OPERATION";break;case e.INVALID_FRAMEBUFFER_OPERATION:t="INVALID_FRAMEBUFFER_OPERATION";break;case e.OUT_OF_MEMORY:t="OUT_OF_MEMORY";break;case e.CONTEXT_LOST_WEBGL:t="CONTEXT_LOST_WEBGL";break;default:t=`Unknown WebGL Error: ${o.toString(16)}`}throw new Error(t)}}deleteTexture(e){this.gl.deleteTexture(e)}deleteProgram(e){this.gl.deleteProgram(e)}getEncoder(e,o,t=0){if(this.version===2)return new zi(this.gl,o);switch(e){case"float":return t===1||this.isRenderFloat32Supported?new _o(this.gl,o):new _o(this.gl,o,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new Hi(this.gl,o);default:throw new Error(`Invalid dataType: ${e}`)}}clearActiveTextures(){let e=this.gl;for(let o=0;o<this.maxTextureImageUnits;++o)e.activeTexture(e.TEXTURE0+o),e.bindTexture(e.TEXTURE_2D,null)}dispose(){if(this.disposed)return;let e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(this.framebuffer),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexbuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){let e=this.gl,o=e.createBuffer();if(!o)throw new Error("createBuffer() returned null");let t=this.createDefaultGeometry();return e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),this.checkError(),o}createFramebuffer(){let e=this.gl.createFramebuffer();if(!e)throw new Error("createFramebuffer returned null");return e}queryVitalParameters(){let e=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){let e=this.gl,o=e.createTexture();e.bindTexture(e.TEXTURE_2D,o);let t=this.version===2?e.RGBA32F:e.RGBA;e.texImage2D(e.TEXTURE_2D,0,t,1,1,0,e.RGBA,e.FLOAT,null);let r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0);let n=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(o),e.deleteFramebuffer(r),n}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){let e=this.gl,o,t,r,n,s;try{o=e.createTexture(),t=e.createFramebuffer(),e.bindTexture(e.TEXTURE_2D,o);let a=this.version===2?e.RGBA32F:e.RGBA;return e.texImage2D(e.TEXTURE_2D,0,a,1,1,0,e.RGBA,e.FLOAT,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.enable(e.BLEND),r=e.createShader(e.VERTEX_SHADER),!r||(e.shaderSource(r,"void main(){}"),e.compileShader(r),n=e.createShader(e.FRAGMENT_SHADER),!n)||(e.shaderSource(n,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),e.compileShader(n),s=e.createProgram(),!s)?!1:(e.attachShader(s,r),e.attachShader(s,n),e.linkProgram(s),e.useProgram(s),e.drawArrays(e.POINTS,0,1),e.getError()===e.NO_ERROR)}finally{e.disable(e.BLEND),s&&e.deleteProgram(s),r&&e.deleteShader(r),n&&e.deleteShader(n),t&&(e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(t)),o&&(e.bindTexture(e.TEXTURE_2D,null),e.deleteTexture(o))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let e=this.gl,o=this.disjointTimerQueryWebgl2Extension,t=e.createQuery();return e.beginQuery(o.TIME_ELAPSED_EXT,t),t}else throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let e=this.gl,o=this.disjointTimerQueryWebgl2Extension;e.endQuery(o.TIME_ELAPSED_EXT);return}else throw new Error("WebGL1 profiling currently not supported")}isTimerResultAvailable(e){let o=!1,t=!1;if(this.version===2&&this.disjointTimerQueryWebgl2Extension){let r=this.gl,n=this.disjointTimerQueryWebgl2Extension;o=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE),t=r.getParameter(n.GPU_DISJOINT_EXT)}else throw new Error("WebGL1 profiling currently not supported");return o&&!t}getTimerResult(e){let o=0;if(this.version===2){let t=this.gl;o=t.getQueryParameter(e,t.QUERY_RESULT),t.deleteQuery(e)}else throw new Error("WebGL1 profiling currently not supported");return o/1e6}async waitForQueryAndGetTime(e){return await yf(()=>this.isTimerResultAvailable(e)),this.getTimerResult(e)}async createAndWaitForFence(){let e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let o,t=e,r=t.fenceSync(t.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),r===null?o=()=>!0:o=()=>{let n=t.clientWaitSync(r,0,0);return n===t.ALREADY_SIGNALED||n===t.CONDITION_SATISFIED},{query:r,isFencePassed:o}}async pollFence(e){return new Promise(o=>{this.addItemToPoll(()=>e.isFencePassed(),()=>o())})}pollItems(){let e=nw(this.itemsToPoll.map(o=>o.isDoneFn));for(let o=0;o<=e;++o){let{resolveFn:t}=this.itemsToPoll[o];t()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}async addItemToPoll(e,o){this.itemsToPoll.push({isDoneFn:e,resolveFn:o}),!(this.itemsToPoll.length>1)&&await yf(()=>(this.pollItems(),this.itemsToPoll.length===0))}}});function jf(i){let e;if((!i||i==="webgl2")&&"webgl2"in Wn?e=Wn.webgl2:(!i||i==="webgl")&&"webgl"in Wn&&(e=Wn.webgl),!e)try{let t=iw();e=zm(t,i)}catch{let r=ow();e=zm(r,i)}i=i||e.version===1?"webgl":"webgl2";let o=e.gl;return Wn[i]=e,o.isContextLost()?(delete Wn[i],jf(i)):(o.disable(o.DEPTH_TEST),o.disable(o.STENCIL_TEST),o.disable(o.BLEND),o.disable(o.DITHER),o.disable(o.POLYGON_OFFSET_FILL),o.disable(o.SAMPLE_COVERAGE),o.enable(o.SCISSOR_TEST),o.enable(o.CULL_FACE),o.cullFace(o.BACK),e)}function zm(i,e){let o={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1},t,r=o;if((!e||e==="webgl2")&&(t=i.getContext("webgl2",r),t))try{return new Eo(t,2)}catch(n){Ut.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${n}`)}if((!e||e==="webgl")&&(t=i.getContext("webgl",r)||i.getContext("experimental-webgl",r),t))try{return new Eo(t,1)}catch(n){Ut.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${n}`)}throw new Error("WebGL is not supported")}function ow(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");let i=document.createElement("canvas");return i.width=1,i.height=1,i}function iw(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}var Wn,Hm=it(()=>{"use strict";We();Wm();Wn={}});var da,Vm=it(()=>{"use strict";dr();We();Um();Hm();da=class{get contextId(){return Dt.webgl.contextId}set contextId(e){Dt.webgl.contextId=e}get matmulMaxBatchSize(){return Dt.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(e){Dt.webgl.matmulMaxBatchSize=e}get textureCacheMode(){return Dt.webgl.textureCacheMode}set textureCacheMode(e){Dt.webgl.textureCacheMode=e}get pack(){return Dt.webgl.pack}set pack(e){Dt.webgl.pack=e}get async(){return Dt.webgl.async}set async(e){Dt.webgl.async=e}initialize(){try{return this.glContext=jf(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),Ut.setWithEnv(Dt),Dt.webgl.context||Object.defineProperty(Dt.webgl,"context",{value:this.glContext.gl}),Ut.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(e){return Ut.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${e}`),!1}}createSessionHandler(e){return new la(this,e)}dispose(){this.glContext.dispose()}}});async function qf(i){if(i){let e=typeof i=="string"?[i]:i;for(let o of e){let t=jm.get(o);if(t)return t;let r=await sw(o);if(r)return r}}else return qf(["webgl"]);throw new Error("no available backend to use")}async function sw(i){let e=aw;if(typeof e[i]<"u"&&uw(e[i])){let o=e[i],t=o.initialize();if(typeof t=="object"&&"then"in t&&(t=await t),t)return jm.set(i,o),o}}function uw(i){let e=i;return"initialize"in e&&typeof e.initialize=="function"&&"createSessionHandler"in e&&typeof e.createSessionHandler=="function"&&"dispose"in e&&typeof e.dispose=="function"}var jm,aw,qm=it(()=>{"use strict";Vm();jm=new Map,aw={webgl:new da}});var Yf,pa,Ym=it(()=>{"use strict";We();Yf=class{constructor(e,o){this.op=e;this.node=o}},pa=class{constructor(e,o,t){this.graph=e;this.profiler=t;this.initialize(o)}initialize(e){this.profiler.event("session","ExecutionPlan.initialize",()=>{let o=this.graph.getNodes();if(o.length!==e.length)throw new Error("The size of nodes and OPs do not match.");this._ops=e.map((t,r)=>new Yf(t,o[r])),this.reset(),this._starter=[],this._ops.forEach((t,r)=>{let n=!0;for(let s of t.node.inputs)if(!this._values[s]&&this.graph.getInputIndices().indexOf(s)===-1){n=!1;break}n&&this._starter.push(r)})})}reset(){this._values=this.graph.getValues().map(e=>e.tensor)}async execute(e,o){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();let t=e.createInferenceHandler(),r=this.graph.getInputIndices();if(o.length!==r.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${o.length} expected: ${r.length}`);o.forEach((w,S)=>{let E=r[S];this._values[E]=w});let n=this._starter.slice(0),s=this.graph.getValues(),a=this.graph.getNodes(),u=0;for(;u<n.length;){let w=n[u++],S=this._ops[w],E=S.node.inputs.map(nt=>this._values[nt]);if(E.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${S.node}`);let N=E;Ut.verbose("ExecPlan",`Runing op:${S.node.name} (${N.map((nt,at)=>`'${S.node.inputs[at]}': ${nt.type}[${nt.dims.join(",")}]`).join(", ")})`);let Z=await this.profiler.event("node",S.node.name,async()=>S.op.impl(t,N,S.op.context));if(Z.length!==S.node.outputs.length)throw new Error("the size of output does not match model definition.");Z.forEach((nt,at)=>{let ot=S.node.outputs[at];if(this._values[ot])throw new Error(`output [${ot}] already has value: op:${S.node.name}`);this._values[ot]=nt});let H=new Set;Z.forEach((nt,at)=>{let ot=S.node.outputs[at];for(let ft of s[ot].to){let xt=a[ft],yt=!0;for(let Wt of xt.inputs)if(!this._values[Wt]){yt=!1;break}yt&&H.add(ft)}}),n.push(...H)}let c=[];for(let w=0;w<this.graph.getOutputIndices().length;w++){let S=this.graph.getOutputIndices()[w],E=this._values[S];if(E===void 0)throw new Error(`required output [${S}] does not have value`);S===0?await E.getData():E.data,c.push(E)}return Ut.verbose("ExecPlan","disposing of inferenceHandler"),t.dispose(),c})}}});var Ft,Ke,Do,Km=it(()=>{"use strict";go();Ft=Dn(Fn());an();Gt();Ke=bt.experimental.fbs,Do=class i{constructor(e){if(this._attributes=new Map,e!=null){for(let o of e)o instanceof Ft.onnx.AttributeProto?this._attributes.set(o.name,[i.getValue(o),i.getType(o)]):o instanceof Ke.Attribute&&this._attributes.set(o.name(),[i.getValue(o),i.getType(o)]);if(this._attributes.size<e.length)throw new Error("duplicated attribute names")}}set(e,o,t){this._attributes.set(e,[t,o])}delete(e){this._attributes.delete(e)}getFloat(e,o){return this.get(e,"float",o)}getInt(e,o){return this.get(e,"int",o)}getString(e,o){return this.get(e,"string",o)}getTensor(e,o){return this.get(e,"tensor",o)}getFloats(e,o){return this.get(e,"floats",o)}getInts(e,o){return this.get(e,"ints",o)}getStrings(e,o){return this.get(e,"strings",o)}getTensors(e,o){return this.get(e,"tensors",o)}get(e,o,t){let r=this._attributes.get(e);if(r===void 0){if(t!==void 0)return t;throw new Error(`required attribute not found: ${e}`)}if(r[1]!==o)throw new Error(`type mismatch: expected ${o} but got ${r[1]}`);return r[0]}static getType(e){let o=e instanceof Ft.onnx.AttributeProto?e.type:e.type();switch(o){case Ft.onnx.AttributeProto.AttributeType.FLOAT:return"float";case Ft.onnx.AttributeProto.AttributeType.INT:return"int";case Ft.onnx.AttributeProto.AttributeType.STRING:return"string";case Ft.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case Ft.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case Ft.onnx.AttributeProto.AttributeType.INTS:return"ints";case Ft.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case Ft.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${Ft.onnx.AttributeProto.AttributeType[o]}`)}}static getValue(e){let o=e instanceof Ft.onnx.AttributeProto?e.type:e.type();if(o===Ft.onnx.AttributeProto.AttributeType.GRAPH||o===Ft.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");let t=this.getValueNoCheck(e);if(o===Ft.onnx.AttributeProto.AttributeType.INT&&Ne.isLong(t))return Ne.longToNumber(t);if(o===Ft.onnx.AttributeProto.AttributeType.INTS){let r=t,n=new Array(r.length);for(let s=0;s<r.length;s++){let a=r[s];n[s]=Ne.longToNumber(a)}return n}if(o===Ft.onnx.AttributeProto.AttributeType.TENSOR)return e instanceof Ft.onnx.AttributeProto?pe.fromProto(t):pe.fromOrtTensor(t);if(o===Ft.onnx.AttributeProto.AttributeType.TENSORS){if(e instanceof Ft.onnx.AttributeProto)return t.map(n=>pe.fromProto(n));if(e instanceof Ke.Attribute)return t.map(n=>pe.fromOrtTensor(n))}return o===Ft.onnx.AttributeProto.AttributeType.STRING&&e instanceof Ft.onnx.AttributeProto?xo(t):o===Ft.onnx.AttributeProto.AttributeType.STRINGS&&e instanceof Ft.onnx.AttributeProto?t.map(xo):t}static getValueNoCheck(e){return e instanceof Ft.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(e):this.getValueNoCheckFromOrtFormat(e)}static getValueNoCheckFromOnnxFormat(e){switch(e.type){case Ft.onnx.AttributeProto.AttributeType.FLOAT:return e.f;case Ft.onnx.AttributeProto.AttributeType.INT:return e.i;case Ft.onnx.AttributeProto.AttributeType.STRING:return e.s;case Ft.onnx.AttributeProto.AttributeType.TENSOR:return e.t;case Ft.onnx.AttributeProto.AttributeType.GRAPH:return e.g;case Ft.onnx.AttributeProto.AttributeType.FLOATS:return e.floats;case Ft.onnx.AttributeProto.AttributeType.INTS:return e.ints;case Ft.onnx.AttributeProto.AttributeType.STRINGS:return e.strings;case Ft.onnx.AttributeProto.AttributeType.TENSORS:return e.tensors;case Ft.onnx.AttributeProto.AttributeType.GRAPHS:return e.graphs;default:throw new Error(`unsupported attribute type: ${Ft.onnx.AttributeProto.AttributeType[e.type]}`)}}static getValueNoCheckFromOrtFormat(e){switch(e.type()){case Ke.AttributeType.FLOAT:return e.f();case Ke.AttributeType.INT:return e.i();case Ke.AttributeType.STRING:return e.s();case Ke.AttributeType.TENSOR:return e.t();case Ke.AttributeType.GRAPH:return e.g();case Ke.AttributeType.FLOATS:return e.floatsArray();case Ke.AttributeType.INTS:{let o=[];for(let t=0;t<e.intsLength();t++)o.push(e.ints(t));return o}case Ke.AttributeType.STRINGS:{let o=[];for(let t=0;t<e.stringsLength();t++)o.push(e.strings(t));return o}case Ke.AttributeType.TENSORS:{let o=[];for(let t=0;t<e.tensorsLength();t++)o.push(e.tensors(t));return o}default:throw new Error(`unsupported attribute type: ${Ke.AttributeType[e.type()]}`)}}}});var Xf,ha,Jf,br,ma,Kf,Xm=it(()=>{"use strict";Km();go();Xf=Dn(Fn());an();Gt();ha=bt.experimental.fbs,Jf={from:(i,e)=>new Kf(i,e)},br=class{constructor(e){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,e&&(this.type=Te.tensorValueTypeFromProto(e.type.tensorType))}get from(){return this._from}get to(){return this._to}},ma=class{constructor(e,o){e instanceof Xf.onnx.NodeProto?(this.name=e.name,this.opType=e.opType,this.attributes=new Do(e.attribute)):e instanceof ha.Node&&(this.name=o??e.name(),this.opType=e.opType(),this.attributes=new Do(Te.tensorAttributesFromORTFormat(e))),this.inputs=[],this.outputs=[],this.executeNode=!0}},Kf=class{constructor(e,o){if(!e)throw new TypeError("graph is empty");this.buildGraph(e),this.transformGraph(o),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(e){if(e instanceof Xf.onnx.GraphProto)this.buildGraphFromOnnxFormat(e);else if(e instanceof ha.Graph)this.buildGraphFromOrtFormat(e);else throw new TypeError("Graph type is not supported.")}buildGraphFromOnnxFormat(e){let o=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let t=new Map;if(!e.input)throw new Error("missing information in graph: input");let r=[];for(let n of e.input){if(o.has(n.name))throw new Error(`duplicated input name: ${n.name}`);let s=this._allData.push(new br(n))-1;o.set(n.name,s),r.push(n.name)}if(!e.initializer)throw new Error("missing information in graph: initializer");for(let n of e.initializer){let s=o.get(n.name);if(s===void 0){let a=new br;a.type={shape:{dims:Te.tensorDimsFromProto(n.dims)},tensorType:Te.tensorDataTypeFromProto(n.dataType)},s=this._allData.push(a)-1,o.set(n.name,s)}this._allData[s]._from=-1,this._allData[s].tensor=pe.fromProto(n)}for(let n=0;n<this._allData.length;n++)this._allData[n].tensor||(this._allInputIndices.push(n),this._allInputNames.push(r[n]));if(!e.output)throw new Error("missing information in graph: output");for(let n of e.output){if(o.has(n.name))throw new Error(`duplicated output name: ${n.name}`);let s=this._allData.push(new br(n))-1;o.set(n.name,s),this._allOutputIndices.push(s),this._allOutputNames.push(n.name)}if(!e.node)throw new Error("missing information in graph: node");for(let n of e.node){if(!n.name)for(let a=0;;a++){let u=`unnamed_${n.opType}_${a}`;if(!t.has(u)){n.name=u;break}}if(t.has(n.name))throw new Error(`duplicated node name: ${n.name}`);let s=this._nodes.push(new ma(n))-1;t.set(n.name,s)}for(let n=0;n<this._nodes.length;n++){let s=this._nodes[n],a=e.node[n];if(!a.output)throw new Error(`missing output for node: ${a.name}`);for(let u of a.output){let c=o.get(u);if(typeof c>"u"&&(c=this._allData.push(new br)-1,o.set(u,c)),s.outputs.push(c),this._allData[c]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${c}`);if(this._allData[c]._from=n,a.opType==="Constant"){if(!a.attribute||a.attribute.length!==1||!a.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!a.output||a.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");s.outputs.pop(),s.executeNode=!1,this._allData[c]._from=-1,this._allData[c].tensor=pe.fromProto(a.attribute[0].t)}}}for(let n=0;n<this._nodes.length;n++){let s=this._nodes[n],a=e.node[n];if(!a.input)throw new Error(`missing input for node: ${a.name}`);for(let u of a.input){let c=o.get(u);if(typeof c>"u"){if(u===""&&(a.input.length===3||a.input.length===4)&&a.opType==="Resize")continue;throw new Error(`unrecognized input '${u}' for node: ${a.name}`)}s.inputs.push(c),this._allData[c]._to.push(n)}}return!0}buildGraphFromOrtFormat(e){let o=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];let t=new Map,r=[];for(let n=0;n<e.inputsLength();n++){let s=e.inputs(n);if(o.has(s))throw new Error(`duplicated input name: ${s}`);for(let a=0;a<e.nodeArgsLength();a++)if(e.nodeArgs(a)?.name()===s){let u=new br;if(e.nodeArgs(a)?.type()?.valueType()!==ha.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");let w=e.nodeArgs(a).type().value(new ha.TensorTypeAndShape),S=Te.tensorDataTypeFromProto(w.elemType()),E=w.shape(),N=[];for(let H=0;H<E.dimLength();H++)N.push(Ne.longToNumber(E.dim(H).value().dimValue()));u.type={shape:{dims:N},tensorType:S};let Z=this._allData.push(u)-1;o.set(s,Z),r.push(s)}}for(let n=0;n<e.initializersLength();n++){let s=e.initializers(n),a=o.get(s.name());if(a===void 0){let u=new br,c=Te.tensorDimsFromORTFormat(s),w=Te.tensorDataTypeFromProto(s.dataType());u.type={shape:{dims:c},tensorType:w},a=this._allData.push(u)-1,o.set(s.name(),a)}this._allData[a]._from=-1,this._allData[a].tensor=pe.fromOrtTensor(s)}for(let n=0;n<this._allData.length;n++)this._allData[n].tensor||(this._allInputIndices.push(n),this._allInputNames.push(r[n]));for(let n=0;n<e.outputsLength();n++){let s=e.outputs(n);if(o.has(s))throw new Error(`duplicated output name: ${s}`);let a=this._allData.push(new br)-1;o.set(s,a),this._allOutputIndices.push(a),this._allOutputNames.push(s)}if(!e.nodes)throw new Error("missing information in graph: node");for(let n=0;n<e.nodesLength();n++){let s=e.nodes(n),a=s.name();if(!a)for(let c=0;a=`unnamed_${s.opType()}_${c}`,!!t.has(a);c++);if(t.has(a))throw new Error(`duplicated node name: ${a}`);let u=this._nodes.push(new ma(s,a))-1;t.set(a,u)}for(let n=0;n<this._nodes.length;n++){let s=this._nodes[n],a=e.nodes(n);if(a==null)throw new Error(`No node exists at index ${n}`);if(a?.outputsLength()===0)throw new Error(`missing output for node: ${a.name}`);for(let u=0;u<a?.outputsLength();u++){let c=a?.outputs(u),w=o.get(c);if(typeof w>"u"&&(w=this._allData.push(new br)-1,o.set(c,w)),s.outputs.push(w),this._allData[w]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${w}`);if(this._allData[w]._from=n,a.opType()==="Constant"){if(a.attributesLength()!==1||!a.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(a.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");s.outputs.pop(),s.executeNode=!1,this._allData[w]._from=-1,this._allData[w].tensor=pe.fromOrtTensor(a.attributes(0).t())}}}for(let n=0;n<this._nodes.length;n++){let s=this._nodes[n],a=e.nodes(n);if(a.inputsLength()===0)throw new Error(`missing input for node: ${a.name}`);for(let u=0;u<a.inputsLength();u++){let c=a.inputs(u),w=o.get(c);if(typeof w>"u")throw new Error(`unrecognized input '${c}' for node: ${a.name()}`);s.inputs.push(w),this._allData[w]._to.push(n)}}}checkIsAcyclic(){let e=new Set;this._allInputIndices.forEach(r=>{this._allData[r]._to.forEach(s=>{e.add(s)})});let o=Array.from(e),t=new Array(this._nodes.length).fill("white");for(;o.length>0;){let r=o.pop();t[r]==="gray"?t[r]="black":(o.push(r),t[r]="gray",this._nodes[r].outputs.forEach(n=>{let s=this._allData[n];if(typeof s.tensor<"u")throw new Error("node outputs should not be initialized");if(s._from!==r)throw new Error("from property of the Value object doesn't match index of Node being processed");s._to.forEach(a=>{if(t[a]==="gray")throw new Error("model graph is cyclic");t[a]==="white"&&o.push(a)})}))}}transformGraph(e){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),e&&e.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let e=0,o=new Array(this._nodes.length,0),t=0;for(let r=0;r<this._nodes.length;r++)o[r]=t,this._nodes[r].executeNode?(t!==r&&(this._nodes[t]=this._nodes[r]),t++):this._nodes[r].outputs.forEach(n=>{this._allData[n]._from=-2});this._nodes.splice(t,this._nodes.length-t);for(let r=0;r<this._allData.length;r++){let n=this._allData[r];n._from!==void 0&&n._from!==-1&&n._from!==-2&&(n._from=o[n._from]);for(let s=0;s<n._to.length;s++)if(n._to[s]>=0)n._to[s]=o[n._to[s]];else throw new Error("Trying to update a removed node")}e=0;for(let r=0;r<this._allData.length;r++){if(this._allData[r].from===-2&&this._allOutputIndices.indexOf(r+e)===-1){e++,this._allData.splice(r,1),r--;continue}if(e>0){let n=-1;this._allData[r].from!==void 0&&this._allData[r].from!==-1?(n=this._nodes[this._allData[r].from].outputs.indexOf(r+e),n!==-1&&(this._nodes[this._allData[r].from].outputs[n]=r)):(n=this._allInputIndices.indexOf(r+e),n!==-1&&(this._allInputIndices[n]=r)),this._allData[r].to.forEach(s=>{n=this._nodes[s].inputs.indexOf(r+e),n!==-1&&(this._nodes[s].inputs[n]=r)}),this._allData[r].to.length===0&&(n=this._allOutputIndices.indexOf(r+e),n!==-1&&(this._allOutputIndices[n]=r))}}}deleteNode(e){let o=this._nodes[e];if(o.outputs.length>1){for(let a=1;a<o.outputs.length;a++)if(this._allData[o.outputs[a]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}o.executeNode=!1;let t=o.inputs[0],r=o.outputs[0],n=this._allData[r].to;for(let a=0;a<o.inputs.length;a++){let u=this._allData[o.inputs[a]].to.indexOf(e);if(u===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[o.inputs[a]].to.splice(u,1)}this._allData[r]._to=[];let s=this._allOutputIndices.indexOf(r);if(s!==-1&&(this._allOutputIndices[s]=t),n&&n.length>0)for(let a of n){let u=this._nodes[a].inputs.indexOf(r);if(u===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[a].inputs[u]=t,this._allData[t].to.push(a)}}removeAllDropoutNodes(){let e=0;for(let o of this._nodes){if(o.opType==="Dropout"){if(o.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(o.outputs.length!==1&&o.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(o.outputs.length===2&&this._allData[o.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(e)}e++}}removeAllIdentityNodes(){let e=0;for(let o of this._nodes)o.opType==="Identity"&&this.deleteNode(e),e++}isActivation(e){switch(e.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(let e of this._nodes)if(e.opType==="Conv"){let o=this._allData[e.outputs[0]]._to;if(o.length===1&&this.isActivation(this._nodes[o[0]])){let t=this._nodes[o[0]];if(t.opType==="Clip")if(t.inputs.length===1)try{e.attributes.set("activation_params","floats",[t.attributes.getFloat("min"),t.attributes.getFloat("max")])}catch{e.attributes.set("activation_params","floats",[nn,on])}else if(t.inputs.length>=3&&this._allData[t.inputs[1]].tensor!==void 0&&this._allData[t.inputs[2]].tensor!==void 0)e.attributes.set("activation_params","floats",[this._allData[t.inputs[1]].tensor.floatData[0],this._allData[t.inputs[2]].tensor.floatData[0]]);else continue;e.attributes.set("activation","string",t.opType),this.deleteNode(o[0])}}}}});var Jm,fw,ya,Zm=it(()=>{"use strict";Bi();Xm();go();Jm=Dn(Fn());Gt();fw=bt.experimental.fbs,ya=class{constructor(){}load(e,o,t){if(!t)try{this.loadFromOnnxFormat(e,o);return}catch(r){if(t!==void 0)throw r}this.loadFromOrtFormat(e,o)}loadFromOnnxFormat(e,o){let t=Jm.onnx.ModelProto.decode(e);if(Ne.longToNumber(t.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=t.opsetImport.map(n=>({domain:n.domain,version:Ne.longToNumber(n.version)})),this._graph=Jf.from(t.graph,o)}loadFromOrtFormat(e,o){let t=new q.ByteBuffer(e),r=fw.InferenceSession.getRootAsInferenceSession(t).model();if(Ne.longToNumber(r.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let s=0;s<r.opsetImportLength();s++){let a=r.opsetImport(s);this._opsets.push({domain:a?.domain(),version:Ne.longToNumber(a.version())})}this._graph=Jf.from(r.graph(),o)}get graph(){return this._graph}get opsets(){return this._opsets}}});var ga,Qm=it(()=>{"use strict";qm();Ym();We();Zm();ga=class{constructor(e={}){this._initialized=!1,this.backendHint=e.backendHint,this.profiler=Fi.create(e.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(e,o,t){await this.profiler.event("session","Session.loadModel",async()=>{let r=await qf(this.backendHint);if(this.sessionHandler=r.createSessionHandler(this.context),this._model=new ya,typeof e=="string"){let n=e.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){let s=await(void 0)(e);this.initialize(s,n)}else{let a=await(await fetch(e)).arrayBuffer();this.initialize(new Uint8Array(a),n)}}else if(ArrayBuffer.isView(e))this.initialize(e);else{let n=new Uint8Array(e,o||0,t||e.byteLength);this.initialize(n)}})}initialize(e,o){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{let t=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(e,t,o),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new pa(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(e){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{let o=this.normalizeAndValidateInputs(e),t=await this._executionPlan.execute(this.sessionHandler,o);return this.createOutput(t)})}normalizeAndValidateInputs(e){let o=this._model.graph.getInputNames();if(Array.isArray(e)){if(e.length!==o.length)throw new Error(`incorrect input array length: expected ${o.length} but got ${e.length}`)}else{if(e.size!==o.length)throw new Error(`incorrect input map size: expected ${o.length} but got ${e.size}`);let t=new Array(e.size),r=0;for(let n=0;n<o.length;++n){let s=e.get(o[n]);if(!s)throw new Error(`missing input tensor for: '${name}'`);t[r++]=s}e=t}if(!this.context.graphInputTypes||this.context.graphInputTypes.length===0||!this.context.graphInputDims||this.context.graphInputDims.length===0){let t=this._model.graph.getInputIndices(),r=this._model.graph.getValues(),n=new Array(t.length);for(let s=0;s<t.length;++s){let a=r[t[s]];n[s]=a.type.shape.dims,this.context.graphInputTypes.push(a.type.tensorType),this.context.graphInputDims.push(e[s].dims)}this.validateInputTensorDims(n,e,!0)}else this.validateInputTensorDims(this.context.graphInputDims,e,!1);return this.validateInputTensorTypes(this.context.graphInputTypes,e),e}validateInputTensorTypes(e,o){for(let t=0;t<o.length;t++){let r=e[t],n=o[t].type;if(r!==n)throw new Error(`input tensor[${t}] check failed: expected type '${r}' but got ${n}`)}}validateInputTensorDims(e,o,t){for(let r=0;r<o.length;r++){let n=e[r],s=o[r].dims;if(!this.compareTensorDims(n,s,t))throw new Error(`input tensor[${r}] check failed: expected shape '[${n.join(",")}]' but got [${s.join(",")}]`)}}compareTensorDims(e,o,t){if(e.length!==o.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==o[r]&&(!t||e[r]!==0)&&e[r]!==null)return!1;return!0}createOutput(e){let o=this._model.graph.getOutputNames();if(e.length!==o.length)throw new Error("expected number of outputs do not match number of generated outputs");let t=new Map;for(let r=0;r<o.length;++r)t.set(o[r],e[r]);return t}initializeOps(e){let o=e.getNodes();this._ops=new Array(o.length);for(let t=0;t<o.length;t++)this._ops[t]=this.sessionHandler.resolve(o[t],this._model.opsets,e)}}});var ba,ty=it(()=>{"use strict";dr();an();ba=class{constructor(e){this.session=e;this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(e,o,t){let r=new Map;for(let a in e)if(Object.hasOwnProperty.call(e,a)){let u=e[a];r.set(a,new pe(u.dims,u.type,void 0,void 0,u.data))}let n=await this.session.run(r),s={};return n.forEach((a,u)=>{s[u]=new rr(a.type,a.data,a.dims)}),s}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}});var ey={};ho(ey,{onnxjsBackend:()=>lw});var Zf,lw,ry=it(()=>{"use strict";Qm();ty();Zf=class{async init(){}async createInferenceSessionHandler(e,o){let t=new ga(o);return typeof e=="string"?await t.loadModel(e):await t.loadModel(e),new ba(t)}},lw=new Zf});var Qf={};ho(Qf,{readFile:()=>dw});var dw,tc=it(()=>{dw=void 0});var ec={};ho(ec,{join:()=>pw});var pw,rc=it(()=>{pw=void 0});var iy=qt((oy,nc)=>{"use strict";var ny=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(e={}){var o=e,t,r;o.ready=new Promise((l,p)=>{t=l,r=p});var n=Object.assign({},o),s="./this.program",a=typeof window=="object",u=typeof importScripts=="function",c=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",w="",S,E,N;if(c){var Z=(tc(),Kr(Qf)),H=(rc(),Kr(ec));w=u?H.dirname(w)+"/":__dirname+"/",S=(l,p)=>(l=l.startsWith("file://")?new URL(l):H.normalize(l),Z.readFileSync(l,p?void 0:"utf8")),N=l=>(l=S(l,!0),l.buffer||(l=new Uint8Array(l)),l),E=(l,p,m,g=!0)=>{l=l.startsWith("file://")?new URL(l):H.normalize(l),Z.readFile(l,g?void 0:"utf8",(v,x)=>{v?m(v):p(g?x.buffer:x)})},!o.thisProgram&&1<process.argv.length&&(s=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),o.inspect=()=>"[Emscripten Module object]"}else(a||u)&&(u?w=self.location.href:typeof document<"u"&&document.currentScript&&(w=document.currentScript.src),i&&(w=i),w.indexOf("blob:")!==0?w=w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):w="",S=l=>{var p=new XMLHttpRequest;return p.open("GET",l,!1),p.send(null),p.responseText},u&&(N=l=>{var p=new XMLHttpRequest;return p.open("GET",l,!1),p.responseType="arraybuffer",p.send(null),new Uint8Array(p.response)}),E=(l,p,m)=>{var g=new XMLHttpRequest;g.open("GET",l,!0),g.responseType="arraybuffer",g.onload=()=>{g.status==200||g.status==0&&g.response?p(g.response):m()},g.onerror=m,g.send(null)});var nt=console.log.bind(console),at=console.error.bind(console);Object.assign(o,n),n=null,typeof WebAssembly!="object"&&Sr("no native wasm support detected");var ot,ft=!1,xt,yt,Wt,Zt,pt,It,Ue,_t,Ur,de;function Bt(){var l=ot.buffer;o.HEAP8=xt=new Int8Array(l),o.HEAP16=Wt=new Int16Array(l),o.HEAPU8=yt=new Uint8Array(l),o.HEAPU16=Zt=new Uint16Array(l),o.HEAP32=pt=new Int32Array(l),o.HEAPU32=It=new Uint32Array(l),o.HEAPF32=Ue=new Float32Array(l),o.HEAPF64=de=new Float64Array(l),o.HEAP64=_t=new BigInt64Array(l),o.HEAPU64=Ur=new BigUint64Array(l)}var Ht=[],vr=[],Oe=[],be=0,Vt=null,me=null;function Sr(l){throw l="Aborted("+l+")",at(l),ft=!0,l=new WebAssembly.RuntimeError(l+". Build with -sASSERTIONS for more info."),r(l),l}function ur(l){return l.startsWith("data:application/octet-stream;base64,")}var Xe;if(Xe="ort-wasm.wasm",!ur(Xe)){var Pr=Xe;Xe=o.locateFile?o.locateFile(Pr,w):w+Pr}function Wr(l){if(N)return N(l);throw"both async and sync fetching of the wasm failed"}function Ie(l){if(a||u){if(typeof fetch=="function"&&!l.startsWith("file://"))return fetch(l,{credentials:"same-origin"}).then(p=>{if(!p.ok)throw"failed to load wasm binary file at '"+l+"'";return p.arrayBuffer()}).catch(()=>Wr(l));if(E)return new Promise((p,m)=>{E(l,g=>p(new Uint8Array(g)),m)})}return Promise.resolve().then(()=>Wr(l))}function Je(l,p,m){return Ie(l).then(g=>WebAssembly.instantiate(g,p)).then(g=>g).then(m,g=>{at(`failed to asynchronously prepare wasm: ${g}`),Sr(g)})}function zr(l,p){var m=Xe;return typeof WebAssembly.instantiateStreaming!="function"||ur(m)||m.startsWith("file://")||c||typeof fetch!="function"?Je(m,l,p):fetch(m,{credentials:"same-origin"}).then(g=>WebAssembly.instantiateStreaming(g,l).then(p,function(v){return at(`wasm streaming compile failed: ${v}`),at("falling back to ArrayBuffer instantiation"),Je(m,l,p)}))}var zt=[],Qt=0,xe=0;function fr(l){this.qe=l,this.ke=l-24,this.Ie=function(p){It[this.ke+4>>>2>>>0]=p},this.re=function(){return It[this.ke+4>>>2>>>0]},this.He=function(p){It[this.ke+8>>>2>>>0]=p},this.ye=function(p){xt[this.ke+12>>>0>>>0]=p?1:0},this.Ee=function(){return xt[this.ke+12>>>0>>>0]!=0},this.ze=function(p){xt[this.ke+13>>>0>>>0]=p?1:0},this.Ae=function(){return xt[this.ke+13>>>0>>>0]!=0},this.Ge=function(p,m){this.se(0),this.Ie(p),this.He(m)},this.se=function(p){It[this.ke+16>>>2>>>0]=p},this.De=function(){return It[this.ke+16>>>2>>>0]},this.Fe=function(){if(jo(this.re()))return It[this.qe>>>2>>>0];var p=this.De();return p!==0?p:this.qe}}var Er=l=>{var p=xe;if(!p)return Lr(0),0;var m=new fr(p);m.se(p);var g=m.re();if(!g)return Lr(0),p;for(var v in l){var x=l[v];if(x===0||x===g)break;if(Vo(x,g,m.ke+16))return Lr(x),p}return Lr(g),p},Hn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Hr=(l,p,m)=>{p>>>=0;var g=p+m;for(m=p;l[m]&&!(m>=g);)++m;if(16<m-p&&l.buffer&&Hn)return Hn.decode(l.subarray(p,m));for(g="";p<m;){var v=l[p++];if(v&128){var x=l[p++]&63;if((v&224)==192)g+=String.fromCharCode((v&31)<<6|x);else{var O=l[p++]&63;v=(v&240)==224?(v&15)<<12|x<<6|O:(v&7)<<18|x<<12|O<<6|l[p++]&63,65536>v?g+=String.fromCharCode(v):(v-=65536,g+=String.fromCharCode(55296|v>>10,56320|v&1023))}}else g+=String.fromCharCode(v)}return g},Ze=(l,p)=>(l>>>=0)?Hr(yt,l,p):"",Dr=l=>{for(var p=0,m=0;m<l.length;++m){var g=l.charCodeAt(m);127>=g?p++:2047>=g?p+=2:55296<=g&&57343>=g?(p+=4,++m):p+=3}return p},cr=(l,p,m,g)=>{if(m>>>=0,!(0<g))return 0;var v=m;g=m+g-1;for(var x=0;x<l.length;++x){var O=l.charCodeAt(x);if(55296<=O&&57343>=O){var A=l.charCodeAt(++x);O=65536+((O&1023)<<10)|A&1023}if(127>=O){if(m>=g)break;p[m++>>>0]=O}else{if(2047>=O){if(m+1>=g)break;p[m++>>>0]=192|O>>6}else{if(65535>=O){if(m+2>=g)break;p[m++>>>0]=224|O>>12}else{if(m+3>=g)break;p[m++>>>0]=240|O>>18,p[m++>>>0]=128|O>>12&63}p[m++>>>0]=128|O>>6&63}p[m++>>>0]=128|O&63}}return p[m>>>0]=0,m-v},Vn=l=>{if(l===null)return"null";var p=typeof l;return p==="object"||p==="array"||p==="function"?l.toString():""+l},lr,ke=l=>{for(var p="";yt[l>>>0];)p+=lr[yt[l++>>>0]];return p},wr={},dn={},Sa={},Qe;function Pa(l,p,m={}){var g=p.name;if(!l)throw new Qe(`type "${g}" must have a positive integer typeid pointer`);if(dn.hasOwnProperty(l)){if(m.Be)return;throw new Qe(`Cannot register type '${g}' twice`)}dn[l]=p,delete Sa[l],wr.hasOwnProperty(l)&&(p=wr[l],delete wr[l],p.forEach(v=>v()))}function Le(l,p,m={}){if(!("argPackAdvance"in p))throw new TypeError("registerType registeredInstance requires argPackAdvance");Pa(l,p,m)}var pn=(l,p,m)=>{switch(p){case 1:return m?g=>xt[g>>>0>>>0]:g=>yt[g>>>0>>>0];case 2:return m?g=>Wt[g>>>1>>>0]:g=>Zt[g>>>1>>>0];case 4:return m?g=>pt[g>>>2>>>0]:g=>It[g>>>2>>>0];case 8:return m?g=>_t[g>>>3]:g=>Ur[g>>>3];default:throw new TypeError(`invalid integer width (${p}): ${l}`)}};function jn(){this.me=[void 0],this.we=[]}var Ae=new jn;function hn(l){l>>>=0,l>=Ae.ke&&--Ae.get(l).xe===0&&Ae.se(l)}var he=l=>{if(!l)throw new Qe("Cannot use deleted val. handle = "+l);return Ae.get(l).value},Se=l=>{switch(l){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Ae.re({xe:1,value:l})}};function mn(l){return this.fromWireType(pt[l>>>2>>>0])}var Ea=(l,p)=>{switch(p){case 4:return function(m){return this.fromWireType(Ue[m>>>2>>>0])};case 8:return function(m){return this.fromWireType(de[m>>>3>>>0])};default:throw new TypeError(`invalid float width (${p}): ${l}`)}};function At(l){return this.fromWireType(It[l>>>2>>>0])}var Vr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Co=(l,p)=>{for(var m=l>>1,g=m+p/2;!(m>=g)&&Zt[m>>>0];)++m;if(m<<=1,32<m-l&&Vr)return Vr.decode(yt.subarray(l>>>0,m>>>0));for(m="",g=0;!(g>=p/2);++g){var v=Wt[l+2*g>>>1>>>0];if(v==0)break;m+=String.fromCharCode(v)}return m},yn=(l,p,m)=>{if(m===void 0&&(m=2147483647),2>m)return 0;m-=2;var g=p;m=m<2*l.length?m/2:l.length;for(var v=0;v<m;++v)Wt[p>>>1>>>0]=l.charCodeAt(v),p+=2;return Wt[p>>>1>>>0]=0,p-g},Fo=l=>2*l.length,j=(l,p)=>{for(var m=0,g="";!(m>=p/4);){var v=pt[l+4*m>>>2>>>0];if(v==0)break;++m,65536<=v?(v-=65536,g+=String.fromCharCode(55296|v>>10,56320|v&1023)):g+=String.fromCharCode(v)}return g},gn=(l,p,m)=>{if(p>>>=0,m===void 0&&(m=2147483647),4>m)return 0;var g=p;m=g+m-4;for(var v=0;v<l.length;++v){var x=l.charCodeAt(v);if(55296<=x&&57343>=x){var O=l.charCodeAt(++v);x=65536+((x&1023)<<10)|O&1023}if(pt[p>>>2>>>0]=x,p+=4,p+4>m)break}return pt[p>>>2>>>0]=0,p-g},bn=l=>{for(var p=0,m=0;m<l.length;++m){var g=l.charCodeAt(m);55296<=g&&57343>=g&&++m,p+=4}return p},Ce=(l,p)=>{var m=dn[l];if(m===void 0)throw l=we(l),m=ke(l),Re(l),new Qe(p+" has unknown type "+m);return m},qn={},Tr=l=>{var p=qn[l];return p===void 0?ke(l):p},jr=[],Yn=()=>typeof globalThis=="object"?globalThis:Function("return this")(),$o=l=>{var p=jr.length;return jr.push(l),p},Bo=(l,p)=>{for(var m=Array(l),g=0;g<l;++g)m[g]=Ce(It[p+4*g>>>2>>>0],"parameter "+g);return m},qr=l=>{if(l===void 0)return"_unknown";l=l.replace(/[^a-zA-Z0-9_]/g,"$");var p=l.charCodeAt(0);return 48<=p&&57>=p?`_${l}`:l},Kn={};function Xn(l,p){return l=qr(l),{[l]:function(){return p.apply(this,arguments)}}[l]}function No(l){var p=Function;if(!(p instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof p} which is not a function`);var m=Xn(p.name||"unknownFunctionName",function(){});return m.prototype=p.prototype,m=new m,l=p.apply(m,l),l instanceof Object?l:m}var Mo=l=>{for(var p="",m=0;m<l;++m)p+=(m!==0?", ":"")+"arg"+m;var g="return function emval_allocator_"+l+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(m=0;m<l;++m)g+="var argType"+m+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+m+`');
var arg`+m+" = argType"+m+`.readValueFromPointer(args);
args += argType`+m+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",g+("var obj = new constructor("+p+`);
return valueToHandle(obj);
}
`))(Ce,o,Se,()=>It)},Jn={},xr=l=>l%4===0&&(l%100!==0||l%400===0),Zn=[0,31,60,91,121,152,182,213,244,274,305,335],Qn=[0,31,59,90,120,151,181,212,243,273,304,334],to=l=>{var p=Dr(l)+1,m=ve(p);return m&&cr(l,yt,m,p),m},vn={},eo=()=>{if(!wn){var l={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s||"./this.program"},p;for(p in vn)vn[p]===void 0?delete l[p]:l[p]=vn[p];var m=[];for(p in l)m.push(`${p}=${l[p]}`);wn=m}return wn},wn,Ro=[null,[],[]],ro=[31,29,31,30,31,30,31,31,30,31,30,31],no=[31,28,31,30,31,30,31,31,30,31,30,31];function Me(l){var p=Array(Dr(l)+1);return cr(l,p,0,p.length),p}function Tn(l,p,m,g){function v(F,rt,ct){for(F=typeof F=="number"?F.toString():F||"";F.length<rt;)F=ct[0]+F;return F}function x(F,rt){return v(F,rt,"0")}function O(F,rt){function ct(St){return 0>St?-1:0<St?1:0}var gt;return(gt=ct(F.getFullYear()-rt.getFullYear()))===0&&(gt=ct(F.getMonth()-rt.getMonth()))===0&&(gt=ct(F.getDate()-rt.getDate())),gt}function A(F){switch(F.getDay()){case 0:return new Date(F.getFullYear()-1,11,29);case 1:return F;case 2:return new Date(F.getFullYear(),0,3);case 3:return new Date(F.getFullYear(),0,2);case 4:return new Date(F.getFullYear(),0,1);case 5:return new Date(F.getFullYear()-1,11,31);case 6:return new Date(F.getFullYear()-1,11,30)}}function k(F){var rt=F.ne;for(F=new Date(new Date(F.oe+1900,0,1).getTime());0<rt;){var ct=F.getMonth(),gt=(xr(F.getFullYear())?ro:no)[ct];if(rt>gt-F.getDate())rt-=gt-F.getDate()+1,F.setDate(1),11>ct?F.setMonth(ct+1):(F.setMonth(0),F.setFullYear(F.getFullYear()+1));else{F.setDate(F.getDate()+rt);break}}return ct=new Date(F.getFullYear()+1,0,4),rt=A(new Date(F.getFullYear(),0,4)),ct=A(ct),0>=O(rt,F)?0>=O(ct,F)?F.getFullYear()+1:F.getFullYear():F.getFullYear()-1}l>>>=0,p>>>=0,m>>>=0,g>>>=0;var B=It[g+40>>>2>>>0];g={Le:pt[g>>>2>>>0],Ke:pt[g+4>>>2>>>0],te:pt[g+8>>>2>>>0],ve:pt[g+12>>>2>>>0],ue:pt[g+16>>>2>>>0],oe:pt[g+20>>>2>>>0],le:pt[g+24>>>2>>>0],ne:pt[g+28>>>2>>>0],Ne:pt[g+32>>>2>>>0],Je:pt[g+36>>>2>>>0],Me:B?Ze(B):""},m=Ze(m),B={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var R in B)m=m.replace(new RegExp(R,"g"),B[R]);var J="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),tt="January February March April May June July August September October November December".split(" ");B={"%a":F=>J[F.le].substring(0,3),"%A":F=>J[F.le],"%b":F=>tt[F.ue].substring(0,3),"%B":F=>tt[F.ue],"%C":F=>x((F.oe+1900)/100|0,2),"%d":F=>x(F.ve,2),"%e":F=>v(F.ve,2," "),"%g":F=>k(F).toString().substring(2),"%G":F=>k(F),"%H":F=>x(F.te,2),"%I":F=>(F=F.te,F==0?F=12:12<F&&(F-=12),x(F,2)),"%j":F=>{for(var rt=0,ct=0;ct<=F.ue-1;rt+=(xr(F.oe+1900)?ro:no)[ct++]);return x(F.ve+rt,3)},"%m":F=>x(F.ue+1,2),"%M":F=>x(F.Ke,2),"%n":()=>`
`,"%p":F=>0<=F.te&&12>F.te?"AM":"PM","%S":F=>x(F.Le,2),"%t":()=>"	","%u":F=>F.le||7,"%U":F=>x(Math.floor((F.ne+7-F.le)/7),2),"%V":F=>{var rt=Math.floor((F.ne+7-(F.le+6)%7)/7);if(2>=(F.le+371-F.ne-2)%7&&rt++,rt)rt==53&&(ct=(F.le+371-F.ne)%7,ct==4||ct==3&&xr(F.oe)||(rt=1));else{rt=52;var ct=(F.le+7-F.ne-1)%7;(ct==4||ct==5&&xr(F.oe%400-1))&&rt++}return x(rt,2)},"%w":F=>F.le,"%W":F=>x(Math.floor((F.ne+7-(F.le+6)%7)/7),2),"%y":F=>(F.oe+1900).toString().substring(2),"%Y":F=>F.oe+1900,"%z":F=>{F=F.Je;var rt=0<=F;return F=Math.abs(F)/60,(rt?"+":"-")+("0000"+(F/60*100+F%60)).slice(-4)},"%Z":F=>F.Me,"%%":()=>"%"},m=m.replace(/%%/g,"\0\0");for(R in B)m.includes(R)&&(m=m.replace(new RegExp(R,"g"),B[R](g)));return m=m.replace(/\0\0/g,"%"),R=Me(m),R.length>p?0:(xt.set(R,l>>>0),R.length-1)}for(var kr=[],Go,U=l=>{var p=kr[l];return p||(l>=kr.length&&(kr.length=l+1),kr[l]=p=Go.get(l)),p},Uo=Array(256),Fe=0;256>Fe;++Fe)Uo[Fe]=String.fromCharCode(Fe);lr=Uo,Qe=o.BindingError=class extends Error{constructor(l){super(l),this.name="BindingError"}},o.InternalError=class extends Error{constructor(l){super(l),this.name="InternalError"}},Object.assign(jn.prototype,{get(l){return this.me[l]},has(l){return this.me[l]!==void 0},re(l){var p=this.we.pop()||this.me.length;return this.me[p]=l,p},se(l){this.me[l]=void 0,this.we.push(l)}}),Ae.me.push({value:void 0},{value:null},{value:!0},{value:!1}),Ae.ke=Ae.me.length,o.count_emval_handles=()=>{for(var l=0,p=Ae.ke;p<Ae.me.length;++p)Ae.me[p]!==void 0&&++l;return l};var Wo={u:function(l){return l=new fr(l>>>0),l.Ee()||(l.ye(!0),Qt--),l.ze(!1),zt.push(l),Ho(l.qe),l.Fe()},L:()=>{G(0,0);var l=zt.pop();zo(l.qe),xe=0},a:function(){return Er([])},l:function(l){return Er([l>>>0])},x:function(l,p){return Er([l>>>0,p>>>0])},q:function(l,p,m){return Er([l>>>0,p>>>0,m>>>0])},xb:()=>{var l=zt.pop();l||Sr("no exception to throw");var p=l.qe;throw l.Ae()||(zt.push(l),l.ze(!0),l.ye(!1),Qt++),xe=p,xe},t:function(l,p,m){throw l>>>=0,new fr(l).Ge(p>>>0,m>>>0),xe=l,Qt++,xe},Qa:()=>Qt,h:function(l){throw xe||(xe=l>>>0),xe},yb:function(){return 0},Uc:function(){},Dc:function(){},Fc:function(){},xc:function(){return 0},Sc:function(){},Mc:function(){},Rc:function(){},Sb:function(){},Ec:function(){},Bc:function(){},Tc:function(){},Cc:function(){},Vb:function(l,p,m,g,v){p>>>=0,p=ke(p);var x=p.indexOf("u")!=-1;x&&(v=(1n<<64n)-1n),Le(l>>>0,{name:p,fromWireType:O=>O,toWireType:function(O,A){if(typeof A!="bigint"&&typeof A!="number")throw new TypeError(`Cannot convert "${Vn(A)}" to ${this.name}`);if(A<g||A>v)throw new TypeError(`Passing a number "${Vn(A)}" from JS side to C/C++ side to an argument of type "${p}", which is outside the valid range [${g}, ${v}]!`);return A},argPackAdvance:8,readValueFromPointer:pn(p,m>>>0,!x),pe:null})},Xc:function(l,p,m,g){p=ke(p>>>0),Le(l>>>0,{name:p,fromWireType:function(v){return!!v},toWireType:function(v,x){return x?m:g},argPackAdvance:8,readValueFromPointer:function(v){return this.fromWireType(yt[v>>>0])},pe:null})},Wc:function(l,p){p=ke(p>>>0),Le(l>>>0,{name:p,fromWireType:m=>{var g=he(m);return hn(m),g},toWireType:(m,g)=>Se(g),argPackAdvance:8,readValueFromPointer:mn,pe:null})},Ub:function(l,p,m){p=ke(p>>>0),Le(l>>>0,{name:p,fromWireType:g=>g,toWireType:(g,v)=>v,argPackAdvance:8,readValueFromPointer:Ea(p,m>>>0),pe:null})},ta:function(l,p,m,g,v){if(l>>>=0,m>>>=0,p=ke(p>>>0),v===-1&&(v=4294967295),v=A=>A,g===0){var x=32-8*m;v=A=>A<<x>>>x}var O=p.includes("unsigned")?function(A,k){return k>>>0}:function(A,k){return k};Le(l,{name:p,fromWireType:v,toWireType:O,argPackAdvance:8,readValueFromPointer:pn(p,m,g!==0),pe:null})},Z:function(l,p,m){function g(x){return new v(xt.buffer,It[x+4>>>2>>>0],It[x>>>2>>>0])}var v=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][p];m=ke(m>>>0),Le(l>>>0,{name:m,fromWireType:g,argPackAdvance:8,readValueFromPointer:g},{Be:!0})},Wb:function(l,p){p=ke(p>>>0);var m=p==="std::string";Le(l>>>0,{name:p,fromWireType:function(g){var v=It[g>>>2>>>0],x=g+4;if(m)for(var O=x,A=0;A<=v;++A){var k=x+A;if(A==v||yt[k>>>0]==0){if(O=Ze(O,k-O),B===void 0)var B=O;else B+=String.fromCharCode(0),B+=O;O=k+1}}else{for(B=Array(v),A=0;A<v;++A)B[A]=String.fromCharCode(yt[x+A>>>0]);B=B.join("")}return Re(g),B},toWireType:function(g,v){v instanceof ArrayBuffer&&(v=new Uint8Array(v));var x=typeof v=="string";if(!(x||v instanceof Uint8Array||v instanceof Uint8ClampedArray||v instanceof Int8Array))throw new Qe("Cannot pass non-string to std::string");var O=m&&x?Dr(v):v.length,A=ve(4+O+1),k=A+4;if(It[A>>>2>>>0]=O,m&&x)cr(v,yt,k,O+1);else if(x)for(x=0;x<O;++x){var B=v.charCodeAt(x);if(255<B)throw Re(k),new Qe("String has UTF-16 code units that do not fit in 8 bits");yt[k+x>>>0]=B}else for(x=0;x<O;++x)yt[k+x>>>0]=v[x];return g!==null&&g.push(Re,A),A},argPackAdvance:8,readValueFromPointer:At,pe(g){Re(g)}})},Ab:function(l,p,m){if(p>>>=0,m>>>=0,m=ke(m),p===2)var g=Co,v=yn,x=Fo,O=()=>Zt,A=1;else p===4&&(g=j,v=gn,x=bn,O=()=>It,A=2);Le(l>>>0,{name:m,fromWireType:k=>{for(var B=It[k>>>2>>>0],R=O(),J,tt=k+4,F=0;F<=B;++F){var rt=k+4+F*p;(F==B||R[rt>>>A]==0)&&(tt=g(tt,rt-tt),J===void 0?J=tt:(J+=String.fromCharCode(0),J+=tt),tt=rt+p)}return Re(k),J},toWireType:(k,B)=>{if(typeof B!="string")throw new Qe(`Cannot pass non-string to C++ string type ${m}`);var R=x(B),J=ve(4+R+p);return It[J>>>2]=R>>A,v(B,J+4,R+p),k!==null&&k.push(Re,J),J},argPackAdvance:8,readValueFromPointer:mn,pe(k){Re(k)}})},$c:function(l,p){p=ke(p>>>0),Le(l>>>0,{Ce:!0,name:p,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},Vc:()=>!0,od:function(l,p,m){p>>>=0,m>>>=0,l=he(l>>>0),p=Ce(p,"emval::as");var g=[],v=Se(g);return It[m>>>2>>>0]=v,p.toWireType(g,l)},ka:function(l,p,m,g,v){m>>>=0,g>>>=0,v>>>=0,l=jr[l>>>0],p=he(p>>>0),m=Tr(m);var x=[];return It[g>>>2>>>0]=Se(x),l(p,m,x,v)},dd:function(l,p,m,g){m>>>=0,g>>>=0,l=jr[l>>>0],p=he(p>>>0),m=Tr(m),l(p,m,null,g)},wc:hn,pd:function(l,p){return p>>>=0,l=he(l>>>0),p=he(p),l==p},vc:function(l){return l>>>=0,l===0?Se(Yn()):(l=Tr(l),Se(Yn()[l]))},ja:function(l,p){var m=Bo(l,p>>>0),g=m[0];p=g.name+"_$"+m.slice(1).map(function(R){return R.name}).join("_")+"$";var v=Kn[p];if(v!==void 0)return v;v=["retType"];for(var x=[g],O="",A=0;A<l-1;++A)O+=(A!==0?", ":"")+"arg"+A,v.push("argType"+A),x.push(m[1+A]);var k="return function "+qr("methodCaller_"+p)+`(handle, name, destructors, args) {
`,B=0;for(A=0;A<l-1;++A)k+="    var arg"+A+" = argType"+A+".readValueFromPointer(args"+(B?"+"+B:"")+`);
`,B+=m[A+1].argPackAdvance;for(k+="    var rv = handle[name]("+O+`);
`,A=0;A<l-1;++A)m[A+1].deleteObject&&(k+="    argType"+A+".deleteObject(arg"+A+`);
`);return g.Ce||(k+=`    return retType.toWireType(destructors, rv);
`),v.push(k+`};
`),l=No(v).apply(null,x),v=$o(l),Kn[p]=v},id:function(l,p){return p>>>=0,l=he(l>>>0),p=he(p),Se(l[p])},P:function(l){l>>>=0,4<l&&(Ae.get(l).xe+=1)},qd:function(l,p,m,g){m>>>=0,g>>>=0,l=he(l>>>0);var v=Jn[p];return v||(v=Mo(p),Jn[p]=v),v(l,m,g)},hd:function(){return Se([])},ld:function(l){l=he(l>>>0);for(var p=Array(l.length),m=0;m<l.length;m++)p[m]=l[m];return Se(p)},W:function(l){return Se(Tr(l>>>0))},Pa:function(){return Se({})},rd:function(l){l>>>=0;for(var p=he(l);p.length;){var m=p.pop();p.pop()(m)}hn(l)},td:function(l,p,m){p>>>=0,m>>>=0,l=he(l>>>0),p=he(p),m=he(m),l[p]=m},Za:function(l,p){return p>>>=0,l=Ce(l>>>0,"_emval_take_value"),l=l.readValueFromPointer(p),Se(l)},Jc:function(l,p){l=-9007199254740992>l||9007199254740992<l?NaN:Number(l),p>>>=0,l=new Date(1e3*l),pt[p>>>2>>>0]=l.getUTCSeconds(),pt[p+4>>>2>>>0]=l.getUTCMinutes(),pt[p+8>>>2>>>0]=l.getUTCHours(),pt[p+12>>>2>>>0]=l.getUTCDate(),pt[p+16>>>2>>>0]=l.getUTCMonth(),pt[p+20>>>2>>>0]=l.getUTCFullYear()-1900,pt[p+24>>>2>>>0]=l.getUTCDay(),pt[p+28>>>2>>>0]=(l.getTime()-Date.UTC(l.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Kc:function(l,p){l=-9007199254740992>l||9007199254740992<l?NaN:Number(l),p>>>=0,l=new Date(1e3*l),pt[p>>>2>>>0]=l.getSeconds(),pt[p+4>>>2>>>0]=l.getMinutes(),pt[p+8>>>2>>>0]=l.getHours(),pt[p+12>>>2>>>0]=l.getDate(),pt[p+16>>>2>>>0]=l.getMonth(),pt[p+20>>>2>>>0]=l.getFullYear()-1900,pt[p+24>>>2>>>0]=l.getDay(),pt[p+28>>>2>>>0]=(xr(l.getFullYear())?Zn:Qn)[l.getMonth()]+l.getDate()-1|0,pt[p+36>>>2>>>0]=-(60*l.getTimezoneOffset());var m=new Date(l.getFullYear(),6,1).getTimezoneOffset(),g=new Date(l.getFullYear(),0,1).getTimezoneOffset();pt[p+32>>>2>>>0]=(m!=g&&l.getTimezoneOffset()==Math.min(g,m))|0},Lc:function(l){l>>>=0;var p=new Date(pt[l+20>>>2>>>0]+1900,pt[l+16>>>2>>>0],pt[l+12>>>2>>>0],pt[l+8>>>2>>>0],pt[l+4>>>2>>>0],pt[l>>>2>>>0],0),m=pt[l+32>>>2>>>0],g=p.getTimezoneOffset(),v=new Date(p.getFullYear(),6,1).getTimezoneOffset(),x=new Date(p.getFullYear(),0,1).getTimezoneOffset(),O=Math.min(x,v);return 0>m?pt[l+32>>>2>>>0]=+(v!=x&&O==g):0<m!=(O==g)&&(v=Math.max(x,v),p.setTime(p.getTime()+6e4*((0<m?O:v)-g))),pt[l+24>>>2>>>0]=p.getDay(),pt[l+28>>>2>>>0]=(xr(p.getFullYear())?Zn:Qn)[p.getMonth()]+p.getDate()-1|0,pt[l>>>2>>>0]=p.getSeconds(),pt[l+4>>>2>>>0]=p.getMinutes(),pt[l+8>>>2>>>0]=p.getHours(),pt[l+12>>>2>>>0]=p.getDate(),pt[l+16>>>2>>>0]=p.getMonth(),pt[l+20>>>2>>>0]=p.getYear(),BigInt(p.getTime()/1e3)},Gc:function(){return-52},Ic:function(){},zc:function(l,p,m){function g(k){return(k=k.toTimeString().match(/\(([A-Za-z ]+)\)$/))?k[1]:"GMT"}m>>>=0;var v=new Date().getFullYear(),x=new Date(v,0,1),O=new Date(v,6,1);v=x.getTimezoneOffset();var A=O.getTimezoneOffset();It[l>>>0>>>2>>>0]=60*Math.max(v,A),pt[p>>>0>>>2>>>0]=+(v!=A),l=g(x),p=g(O),l=to(l),p=to(p),A<v?(It[m>>>2>>>0]=l,It[m+4>>>2>>>0]=p):(It[m>>>2>>>0]=p,It[m+4>>>2>>>0]=l)},hb:()=>{Sr("")},Tb:()=>Date.now(),Ac:function(){return 4294901760},da:()=>performance.now(),Qc:function(l,p,m){return p>>>=0,yt.copyWithin(l>>>0>>>0,p>>>0,p+(m>>>0)>>>0)},yc:function(l){l>>>=0;var p=yt.length;if(4294901760<l)return!1;for(var m=1;4>=m;m*=2){var g=p*(1+.2/m);g=Math.min(g,l+100663296);var v=Math;g=Math.max(l,g);t:{v=(v.min.call(v,4294901760,g+(65536-g%65536)%65536)-ot.buffer.byteLength+65535)/65536;try{ot.grow(v),Bt();var x=1;break t}catch{}x=void 0}if(x)return!0}return!1},Oc:function(l,p){l>>>=0,p>>>=0;var m=0;return eo().forEach((g,v)=>{var x=p+m;for(v=It[l+4*v>>>2>>>0]=x,x=0;x<g.length;++x)xt[v++>>>0>>>0]=g.charCodeAt(x);xt[v>>>0>>>0]=0,m+=g.length+1}),0},Pc:function(l,p){l>>>=0,p>>>=0;var m=eo();It[l>>>2>>>0]=m.length;var g=0;return m.forEach(v=>g+=v.length+1),It[p>>>2>>>0]=g,0},zb:()=>52,Rb:function(){return 52},Nc:function(){return 70},Qb:function(l,p,m,g){p>>>=0,m>>>=0,g>>>=0;for(var v=0,x=0;x<m;x++){var O=It[p>>>2>>>0],A=It[p+4>>>2>>>0];p+=8;for(var k=0;k<A;k++){var B=yt[O+k>>>0],R=Ro[l];B===0||B===10?((l===1?nt:at)(Hr(R,0)),R.length=0):R.push(B)}v+=A}return It[g>>>2>>>0]=v,0},gb:Ra,Yc:Bu,ra:Eu,E:Au,pa:cs,ea:Na,Zc:$u,bd:Ou,N:V,z:qo,b:io,$b:Tu,va:Us,f:ka,Cb:xu,c:Da,X:fu,i:Fa,_c:Cu,j:_n,r:ao,s:Ko,o:Xo,ya:so,Ta:Ks,ga:ui,Ob:vi,Xa:Va,Hb:Xs,lb:Ns,ec:lu,rc:Ga,bc:mu,cc:pu,Xb:Lu,ia:ps,fb:uo,za:su,Bb:Du,ba:gs,dc:du,Na:qa,D:Ca,K:hi,Eb:cu,gd:hu,oa:Es,M:yi,_:mi,U:Ka,y:$a,Db:bu,ac:yu,B:Qs,Gb:ru,fd:gu,Oa:Ti,ab:Ts,fc:ou,Yb:ku,Lb:ds,O:Ma,F:ai,C:vt,jb:tu,R:co,e:jt,Va:gi,k:xn,ua:_u,Ua:Cs,tb:li,g:La,sc:si,aa:au,bb:W,wa:ls,kb:Rs,db:An,d:On,pc:Sn,jd:Js,m:In,nc:z,n:Yo,qc:za,mc:lo,md:Ws,p:Jo,La:Qa,rb:Za,Ka:ts,Jb:Fs,A:ti,H:ri,V:ii,Sa:Zs,jc:Ss,cb:Yr,sa:Ya,ma:Ms,Q:wi,Ya:fi,Fa:Ds,ib:Fu,Ba:Vs,hc:qs,Aa:js,Ca:Gs,sd:bi,na:Ls,kd:Ys,Ga:Is,Ea:ks,tc:oi,lc:bs,Da:$s,Ha:Os,nb:ys,fa:xs,xa:Xa,gc:eu,kc:vs,Ib:Hs,Fb:nu,la:tr,wb:Qo,ed:vu,T:ms,ub:Ua,$a:Ps,Ra:iu,eb:di,I:Cr,S:Wa,vb:ni,cd:wu,$:ei,mb:Bs,ha:ws,Zb:Pu,ud:ci,w:Ba,_a:uu,nd:As,Mb:as,ic:zs,uc:Zo,Nb:is,Kb:hs,Wa:ja,Pb:pi,Ia:_s,_b:Su,Y:ss,oc:Pn,J:fo,ad:Iu,sb:Ha,qa:fs,G:us,pb:ns,Ja:rs,Ma:Ja,ob:os,qb:es,v:function(l){return l>>>0},Hc:Tn,ca:function(l,p,m,g){return Tn(l>>>0,p>>>0,m>>>0,g>>>0)}},Ot=function(){var l={a:Wo};return be++,zr(l,function(p){Ot=p.instance.exports,Ot=Nu(),ot=Ot.vd,Bt(),Go=Ot.ae,vr.unshift(Ot.wd),be--,be==0&&(Vt!==null&&(clearInterval(Vt),Vt=null),me&&(p=me,me=null,p()))}).catch(r),{}}();o._OrtInit=(l,p)=>(o._OrtInit=Ot.xd)(l,p),o._OrtGetLastError=(l,p)=>(o._OrtGetLastError=Ot.yd)(l,p),o._OrtCreateSessionOptions=(l,p,m,g,v,x,O,A,k,B)=>(o._OrtCreateSessionOptions=Ot.zd)(l,p,m,g,v,x,O,A,k,B),o._OrtAppendExecutionProvider=(l,p)=>(o._OrtAppendExecutionProvider=Ot.Ad)(l,p),o._OrtAddFreeDimensionOverride=(l,p,m)=>(o._OrtAddFreeDimensionOverride=Ot.Bd)(l,p,m),o._OrtAddSessionConfigEntry=(l,p,m)=>(o._OrtAddSessionConfigEntry=Ot.Cd)(l,p,m),o._OrtReleaseSessionOptions=l=>(o._OrtReleaseSessionOptions=Ot.Dd)(l),o._OrtCreateSession=(l,p,m)=>(o._OrtCreateSession=Ot.Ed)(l,p,m),o._OrtReleaseSession=l=>(o._OrtReleaseSession=Ot.Fd)(l),o._OrtGetInputOutputCount=(l,p,m)=>(o._OrtGetInputOutputCount=Ot.Gd)(l,p,m),o._OrtGetInputName=(l,p)=>(o._OrtGetInputName=Ot.Hd)(l,p),o._OrtGetOutputName=(l,p)=>(o._OrtGetOutputName=Ot.Id)(l,p),o._OrtFree=l=>(o._OrtFree=Ot.Jd)(l),o._OrtCreateTensor=(l,p,m,g,v,x)=>(o._OrtCreateTensor=Ot.Kd)(l,p,m,g,v,x),o._OrtGetTensorData=(l,p,m,g,v)=>(o._OrtGetTensorData=Ot.Ld)(l,p,m,g,v),o._OrtReleaseTensor=l=>(o._OrtReleaseTensor=Ot.Md)(l),o._OrtCreateRunOptions=(l,p,m,g)=>(o._OrtCreateRunOptions=Ot.Nd)(l,p,m,g),o._OrtAddRunConfigEntry=(l,p,m)=>(o._OrtAddRunConfigEntry=Ot.Od)(l,p,m),o._OrtReleaseRunOptions=l=>(o._OrtReleaseRunOptions=Ot.Pd)(l),o._OrtCreateBinding=l=>(o._OrtCreateBinding=Ot.Qd)(l),o._OrtBindInput=(l,p,m)=>(o._OrtBindInput=Ot.Rd)(l,p,m),o._OrtBindOutput=(l,p,m,g)=>(o._OrtBindOutput=Ot.Sd)(l,p,m,g),o._OrtClearBoundOutputs=l=>(o._OrtClearBoundOutputs=Ot.Td)(l),o._OrtReleaseBinding=l=>(o._OrtReleaseBinding=Ot.Ud)(l),o._OrtRunWithBinding=(l,p,m,g,v)=>(o._OrtRunWithBinding=Ot.Vd)(l,p,m,g,v),o._OrtRun=(l,p,m,g,v,x,O,A)=>(o._OrtRun=Ot.Wd)(l,p,m,g,v,x,O,A),o._OrtEndProfiling=l=>(o._OrtEndProfiling=Ot.Xd)(l);var ve=o._malloc=l=>(ve=o._malloc=Ot.Yd)(l),Re=o._free=l=>(Re=o._free=Ot.Zd)(l),we=l=>(we=Ot._d)(l);o.__embind_initialize_bindings=()=>(o.__embind_initialize_bindings=Ot.$d)();var G=(l,p)=>(G=Ot.be)(l,p),Lr=l=>(Lr=Ot.ce)(l),Y=()=>(Y=Ot.de)(),K=l=>(K=Ot.ee)(l),oo=l=>(oo=Ot.fe)(l),zo=l=>(zo=Ot.ge)(l),Ho=l=>(Ho=Ot.he)(l),Vo=(l,p,m)=>(Vo=Ot.ie)(l,p,m),jo=l=>(jo=Ot.je)(l);function Da(l,p,m,g){var v=Y();try{return U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function ka(l,p,m){var g=Y();try{return U(l)(p,m)}catch(v){if(K(g),v!==v+0)throw v;G(1,0)}}function La(l,p,m){var g=Y();try{U(l)(p,m)}catch(v){if(K(g),v!==v+0)throw v;G(1,0)}}function io(l,p){var m=Y();try{return U(l)(p)}catch(g){if(K(m),g!==g+0)throw g;G(1,0)}}function xn(l,p){var m=Y();try{U(l)(p)}catch(g){if(K(m),g!==g+0)throw g;G(1,0)}}function Ca(l,p,m,g){var v=Y();try{return U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function jt(l){var p=Y();try{U(l)()}catch(m){if(K(p),m!==m+0)throw m;G(1,0)}}function ao(l,p,m,g,v,x,O){var A=Y();try{return U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function _n(l,p,m,g,v,x){var O=Y();try{return U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Fa(l,p,m,g,v){var x=Y();try{return U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function On(l,p,m,g){var v=Y();try{U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function In(l,p,m,g,v){var x=Y();try{U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function qo(l){var p=Y();try{return U(l)()}catch(m){if(K(p),m!==m+0)throw m;G(1,0)}}function $a(l,p,m){var g=Y();try{return U(l)(p,m)}catch(v){if(K(g),v!==v+0)throw v;G(1,0)}}function Ba(l,p,m){var g=Y();try{U(l)(p,m)}catch(v){if(K(g),v!==v+0)throw v;G(1,0)}}function Yo(l,p,m,g,v,x){var O=Y();try{U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Ko(l,p,m,g,v,x,O,A){var k=Y();try{return U(l)(p,m,g,v,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function Na(l,p){var m=Y();try{return U(l)(p)}catch(g){if(K(m),g!==g+0)throw g;G(1,0)}}function Ma(l,p){var m=Y();try{return U(l)(p)}catch(g){if(K(m),g!==g+0)throw g;return G(1,0),0n}}function Ra(l,p){var m=Y();try{return U(l)(p)}catch(g){if(K(m),g!==g+0)throw g;G(1,0)}}function Xo(l,p,m,g,v,x,O,A,k){var B=Y();try{return U(l)(p,m,g,v,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function Cr(l,p,m,g){var v=Y();try{U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function Jo(l,p,m,g,v,x,O){var A=Y();try{U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function Zo(l,p,m,g){var v=Y();try{U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function Qo(l,p,m,g,v,x,O){var A=Y();try{U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function ti(l,p,m,g,v,x,O,A){var k=Y();try{U(l)(p,m,g,v,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function ei(l,p,m,g,v){var x=Y();try{U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function so(l,p,m,g,v,x,O,A,k,B){var R=Y();try{return U(l)(p,m,g,v,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function ri(l,p,m,g,v,x,O,A,k){var B=Y();try{U(l)(p,m,g,v,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function uo(l,p,m,g,v,x,O,A,k,B,R){var J=Y();try{return U(l)(p,m,g,v,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function ni(l,p,m,g,v,x,O){var A=Y();try{U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function oi(l,p,m,g,v,x,O){var A=Y();try{U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function ii(l,p,m,g,v,x,O,A,k,B){var R=Y();try{U(l)(p,m,g,v,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function ai(l,p,m){var g=Y();try{return U(l)(p,m)}catch(v){if(K(g),v!==v+0)throw v;return G(1,0),0n}}function si(l,p,m,g){var v=Y();try{U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function Ga(l,p,m,g,v,x,O,A,k){var B=Y();try{return U(l)(p,m,g,v,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function ui(l,p,m,g,v,x,O,A,k,B,R,J){var tt=Y();try{return U(l)(p,m,g,v,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function fi(l,p,m,g,v,x,O,A,k,B,R,J,tt,F){var rt=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F)}catch(ct){if(K(rt),ct!==ct+0)throw ct;G(1,0)}}function ci(l,p,m,g,v,x,O,A,k,B,R,J){var tt=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function Ua(l,p,m,g,v,x,O,A,k,B,R,J){var tt=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function Wa(l,p,m,g,v){var x=Y();try{U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function li(l,p,m,g,v,x,O){var A=Y();try{U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function di(l,p,m,g,v,x,O,A,k){var B=Y();try{U(l)(p,m,g,v,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function An(l,p,m,g,v,x,O){var A=Y();try{U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function za(l,p,m,g,v,x,O,A,k,B,R){var J=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function Ha(l,p,m,g,v,x,O,A){var k=Y();try{U(l)(p,m,g,v,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function vt(l,p,m,g){var v=Y();try{return U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;return G(1,0),0n}}function Sn(l,p,m,g,v){var x=Y();try{U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function Pn(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct){var gt=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct)}catch(St){if(K(gt),St!==St+0)throw St;G(1,0)}}function tr(l,p,m,g,v,x){var O=Y();try{U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function pi(l,p,m,g,v,x,O,A,k){var B=Y();try{U(l)(p,m,g,v,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function hi(l,p,m,g,v){var x=Y();try{return U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function mi(l,p,m,g,v,x,O,A,k,B,R,J,tt,F){var rt=Y();try{return U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F)}catch(ct){if(K(rt),ct!==ct+0)throw ct;G(1,0)}}function fo(l,p){var m=Y();try{U(l)(p)}catch(g){if(K(m),g!==g+0)throw g;G(1,0)}}function co(l,p,m){var g=Y();try{return U(l)(p,m)}catch(v){if(K(g),v!==v+0)throw v;return G(1,0),0n}}function yi(l,p,m,g,v,x,O,A,k,B){var R=Y();try{return U(l)(p,m,g,v,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function V(l,p,m,g,v){var x=Y();try{return U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function Yr(l,p,m,g,v,x,O,A,k,B,R,J,tt,F){var rt=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F)}catch(ct){if(K(rt),ct!==ct+0)throw ct;G(1,0)}}function gi(l,p,m,g,v){var x=Y();try{U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function z(l,p,m,g,v,x,O){var A=Y();try{U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function W(l,p,m,g,v){var x=Y();try{U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function lo(l,p,m,g,v,x,O,A){var k=Y();try{U(l)(p,m,g,v,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function bi(l,p,m,g,v,x,O,A,k,B,R){var J=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function vi(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt){var St=Y();try{return U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt)}catch(Ct){if(K(St),Ct!==Ct+0)throw Ct;G(1,0)}}function wi(l,p,m,g,v,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt)}catch(rt){if(K(F),rt!==rt+0)throw rt;G(1,0)}}function Ti(l,p){var m=Y();try{return U(l)(p)}catch(g){if(K(m),g!==g+0)throw g;G(1,0)}}function Va(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te){var ee=Y();try{return U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te)}catch(re){if(K(ee),re!==re+0)throw re;G(1,0)}}function ja(l,p,m,g,v,x,O,A,k,B){var R=Y();try{U(l)(p,m,g,v,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function qa(l,p,m,g,v,x,O){var A=Y();try{return U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function Ya(l,p,m,g,v,x,O,A,k,B,R){var J=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function Ka(l,p,m,g,v,x){var O=Y();try{return U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Xa(l,p,m,g,v,x){var O=Y();try{U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Ja(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St){var Ct=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St)}catch(te){if(K(Ct),te!==te+0)throw te;G(1,0)}}function Za(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt){var St=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt)}catch(Ct){if(K(St),Ct!==Ct+0)throw Ct;G(1,0)}}function Qa(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct){var gt=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct)}catch(St){if(K(gt),St!==St+0)throw St;G(1,0)}}function ts(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt){var ct=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt)}catch(gt){if(K(ct),gt!==gt+0)throw gt;G(1,0)}}function es(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te,ee){var re=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te,ee)}catch(er){if(K(re),er!==er+0)throw er;G(1,0)}}function rs(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct){var te=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct)}catch(ee){if(K(te),ee!==ee+0)throw ee;G(1,0)}}function ns(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt){var St=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt)}catch(Ct){if(K(St),Ct!==Ct+0)throw Ct;G(1,0)}}function os(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te){var ee=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te)}catch(re){if(K(ee),re!==re+0)throw re;G(1,0)}}function is(l,p,m,g,v,x,O,A,k,B){var R=Y();try{U(l)(p,m,g,v,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function as(l,p,m,g,v,x,O,A,k,B,R){var J=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function ss(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt){var ct=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt)}catch(gt){if(K(ct),gt!==gt+0)throw gt;G(1,0)}}function us(l,p,m,g,v,x,O,A,k,B){var R=Y();try{U(l)(p,m,g,v,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function fs(l,p,m,g,v,x,O,A,k){var B=Y();try{U(l)(p,m,g,v,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function cs(l,p,m,g,v,x,O){var A=Y();try{return U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function ls(l,p,m,g,v){var x=Y();try{U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function ds(l,p,m){var g=Y();try{return U(l)(p,m)}catch(v){if(K(g),v!==v+0)throw v;return G(1,0),0n}}function ps(l,p,m,g,v,x,O){var A=Y();try{return U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function hs(l,p,m,g,v,x){var O=Y();try{U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function ms(l,p,m,g,v,x,O,A,k,B,R){var J=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function ys(l,p,m,g,v,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt)}catch(rt){if(K(F),rt!==rt+0)throw rt;G(1,0)}}function gs(l,p,m,g,v,x){var O=Y();try{return U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function bs(l,p,m,g,v,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt)}catch(rt){if(K(F),rt!==rt+0)throw rt;G(1,0)}}function vs(l,p,m,g,v,x,O,A){var k=Y();try{U(l)(p,m,g,v,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function ws(l,p,m,g,v,x,O,A){var k=Y();try{U(l)(p,m,g,v,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function Ts(l,p,m,g){var v=Y();try{return U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function xs(l,p,m,g,v,x,O,A,k,B){var R=Y();try{U(l)(p,m,g,v,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function _s(l,p,m,g,v,x,O,A,k){var B=Y();try{U(l)(p,m,g,v,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function Os(l,p,m,g,v,x,O,A,k){var B=Y();try{U(l)(p,m,g,v,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function Is(l,p,m,g,v,x,O,A,k,B){var R=Y();try{U(l)(p,m,g,v,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function As(l,p,m,g,v,x){var O=Y();try{U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Ss(l,p,m,g,v,x,O,A,k,B,R,J){var tt=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function Ps(l,p,m,g,v,x,O,A,k,B,R,J,tt,F){var rt=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F)}catch(ct){if(K(rt),ct!==ct+0)throw ct;G(1,0)}}function Es(l,p,m,g,v,x,O,A){var k=Y();try{return U(l)(p,m,g,v,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function Ds(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt){var ct=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt)}catch(gt){if(K(ct),gt!==gt+0)throw gt;G(1,0)}}function ks(l,p,m,g,v,x,O,A,k,B,R,J,tt,F){var rt=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F)}catch(ct){if(K(rt),ct!==ct+0)throw ct;G(1,0)}}function Ls(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt){var ct=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt)}catch(gt){if(K(ct),gt!==gt+0)throw gt;G(1,0)}}function Cs(l,p,m){var g=Y();try{U(l)(p,m)}catch(v){if(K(g),v!==v+0)throw v;G(1,0)}}function Fs(l,p,m,g,v,x,O,A,k,B){var R=Y();try{U(l)(p,m,g,v,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function $s(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te,ee,re,er,Mu,Ru,Gu){var Uu=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te,ee,re,er,Mu,Ru,Gu)}catch(po){if(K(Uu),po!==po+0)throw po;G(1,0)}}function Bs(l,p,m,g,v,x){var O=Y();try{U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Ns(l,p,m,g,v,x,O,A,k,B,R,J,tt){var F=Y();try{return U(l)(p,m,g,v,x,O,A,k,B,R,J,tt)}catch(rt){if(K(F),rt!==rt+0)throw rt;G(1,0)}}function Ms(l,p,m,g,v,x,O,A,k,B,R,J){var tt=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function Rs(l,p,m,g,v,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt)}catch(rt){if(K(F),rt!==rt+0)throw rt;G(1,0)}}function Gs(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te,ee){var re=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te,ee)}catch(er){if(K(re),er!==er+0)throw er;G(1,0)}}function Us(l,p,m){var g=Y();try{return U(l)(p,m)}catch(v){if(K(g),v!==v+0)throw v;G(1,0)}}function Ws(l,p,m,g,v,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt)}catch(rt){if(K(F),rt!==rt+0)throw rt;G(1,0)}}function zs(l,p,m,g,v,x,O,A,k,B,R,J,tt,F){var rt=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F)}catch(ct){if(K(rt),ct!==ct+0)throw ct;G(1,0)}}function Hs(l,p,m,g,v,x,O,A){var k=Y();try{U(l)(p,m,g,v,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function Vs(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt){var St=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt)}catch(Ct){if(K(St),Ct!==Ct+0)throw Ct;G(1,0)}}function js(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te){var ee=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te)}catch(re){if(K(ee),re!==re+0)throw re;G(1,0)}}function qs(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct){var te=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct)}catch(ee){if(K(te),ee!==ee+0)throw ee;G(1,0)}}function Ys(l,p,m,g,v,x,O,A,k,B,R){var J=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function Ks(l,p,m,g,v,x,O,A,k,B,R){var J=Y();try{return U(l)(p,m,g,v,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function Xs(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te){var ee=Y();try{return U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct,gt,St,Ct,te)}catch(re){if(K(ee),re!==re+0)throw re;G(1,0)}}function Js(l,p,m,g,v){var x=Y();try{U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function Zs(l,p,m,g,v,x,O,A,k,B,R,J){var tt=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function Qs(l,p,m,g,v){var x=Y();try{return U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function tu(l,p,m,g){var v=Y();try{return U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;return G(1,0),0n}}function eu(l,p,m,g,v,x,O){var A=Y();try{U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function ru(l,p,m,g,v,x){var O=Y();try{return U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function nu(l,p,m,g,v){var x=Y();try{U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function ou(l,p,m,g,v,x){var O=Y();try{return U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function iu(l,p,m,g,v,x,O,A,k){var B=Y();try{U(l)(p,m,g,v,x,O,A,k)}catch(R){if(K(B),R!==R+0)throw R;G(1,0)}}function au(l,p,m,g){var v=Y();try{U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function su(l,p,m,g,v,x,O,A){var k=Y();try{return U(l)(p,m,g,v,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function uu(l,p,m,g){var v=Y();try{U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function fu(l,p,m,g,v,x){var O=Y();try{return U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function cu(l,p,m,g,v,x){var O=Y();try{return U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function lu(l,p,m,g,v,x,O,A,k,B,R,J){var tt=Y();try{return U(l)(p,m,g,v,x,O,A,k,B,R,J)}catch(F){if(K(tt),F!==F+0)throw F;G(1,0)}}function du(l,p,m,g,v,x,O,A){var k=Y();try{return U(l)(p,m,g,v,x,O,A)}catch(B){if(K(k),B!==B+0)throw B;G(1,0)}}function pu(l,p,m,g,v,x,O,A,k,B,R){var J=Y();try{return U(l)(p,m,g,v,x,O,A,k,B,R)}catch(tt){if(K(J),tt!==tt+0)throw tt;G(1,0)}}function hu(l,p,m,g,v,x,O){var A=Y();try{return U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function mu(l,p,m,g,v,x,O,A,k,B,R,J,tt){var F=Y();try{return U(l)(p,m,g,v,x,O,A,k,B,R,J,tt)}catch(rt){if(K(F),rt!==rt+0)throw rt;G(1,0)}}function yu(l,p,m,g,v,x,O){var A=Y();try{return U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function gu(l,p,m,g,v,x,O){var A=Y();try{return U(l)(p,m,g,v,x,O)}catch(k){if(K(A),k!==k+0)throw k;G(1,0)}}function bu(l,p,m,g){var v=Y();try{return U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function vu(l,p,m,g,v,x,O,A,k,B){var R=Y();try{U(l)(p,m,g,v,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function wu(l,p,m,g,v,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt)}catch(rt){if(K(F),rt!==rt+0)throw rt;G(1,0)}}function Tu(l,p,m){var g=Y();try{return U(l)(p,m)}catch(v){if(K(g),v!==v+0)throw v;G(1,0)}}function xu(l,p,m,g){var v=Y();try{return U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function _u(l,p,m,g){var v=Y();try{U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function Ou(l,p,m,g){var v=Y();try{return U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function Iu(l,p,m,g,v){var x=Y();try{U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function Au(l,p,m,g,v,x){var O=Y();try{return U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Su(l,p,m,g,v,x,O,A,k,B,R,J,tt){var F=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt)}catch(rt){if(K(F),rt!==rt+0)throw rt;G(1,0)}}function Pu(l,p,m,g,v,x,O,A,k,B){var R=Y();try{U(l)(p,m,g,v,x,O,A,k,B)}catch(J){if(K(R),J!==J+0)throw J;G(1,0)}}function Eu(l,p,m,g){var v=Y();try{return U(l)(p,m,g)}catch(x){if(K(v),x!==x+0)throw x;G(1,0)}}function Du(l,p,m,g,v){var x=Y();try{return U(l)(p,m,g,v)}catch(O){if(K(x),O!==O+0)throw O;G(1,0)}}function ku(l){var p=Y();try{return U(l)()}catch(m){if(K(p),m!==m+0)throw m;return G(1,0),0n}}function Lu(l,p,m,g,v,x){var O=Y();try{return U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Cu(l,p,m,g,v,x){var O=Y();try{return U(l)(p,m,g,v,x)}catch(A){if(K(O),A!==A+0)throw A;G(1,0)}}function Fu(l,p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct){var gt=Y();try{U(l)(p,m,g,v,x,O,A,k,B,R,J,tt,F,rt,ct)}catch(St){if(K(gt),St!==St+0)throw St;G(1,0)}}function $u(l,p,m){var g=Y();try{return U(l)(p,m)}catch(v){if(K(g),v!==v+0)throw v;G(1,0)}}function Bu(l,p,m){var g=Y();try{return U(l)(p,m)}catch(v){if(K(g),v!==v+0)throw v;G(1,0)}}function Nu(){var l=Ot;l=Object.assign({},l);var p=g=>()=>g()>>>0,m=g=>v=>g(v)>>>0;return l.__errno_location=p(l.__errno_location),l.Yd=m(l.Yd),l._d=m(l._d),l.de=p(l.de),l.fe=m(l.fe),l}o.stackAlloc=oo,o.stackSave=Y,o.stackRestore=K,o.UTF8ToString=Ze,o.stringToUTF8=(l,p,m)=>cr(l,yt,p,m),o.lengthBytesUTF8=Dr;var En;me=function l(){En||xi(),En||(me=l)};function xi(){if(!(0<be)){for(;0<Ht.length;)Ht.shift()(o);if(!(0<be||En||(En=!0,o.calledRun=!0,ft))){for(;0<vr.length;)vr.shift()(o);for(t(o);0<Oe.length;)Oe.shift()(o)}}}return xi(),e.ready}})();typeof oy=="object"&&typeof nc=="object"?nc.exports=ny:typeof define=="function"&&define.amd&&define([],()=>ny)});var ay=qt(()=>{});var sy=qt(()=>{});var uy={};ho(uy,{cpus:()=>hw});var hw,fy=it(()=>{hw=void 0});var dy=qt((ly,oc)=>{"use strict";var cy=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(i=i||__filename),function(e={}){function o(){return Ht.buffer!=Vt.buffer&&zt(),Vt}function t(){return Ht.buffer!=Vt.buffer&&zt(),me}function r(){return Ht.buffer!=Vt.buffer&&zt(),Sr}function n(){return Ht.buffer!=Vt.buffer&&zt(),ur}function s(){return Ht.buffer!=Vt.buffer&&zt(),Xe}function a(){return Ht.buffer!=Vt.buffer&&zt(),Pr}function u(){return Ht.buffer!=Vt.buffer&&zt(),zr}var c=e,w,S;c.ready=new Promise((f,d)=>{w=f,S=d});var E=Object.assign({},c),N="./this.program",Z=(f,d)=>{throw d},H=typeof window=="object",nt=typeof importScripts=="function",at=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",ot=c.ENVIRONMENT_IS_PTHREAD||!1,ft="";function xt(f){return c.locateFile?c.locateFile(f,ft):ft+f}var yt,Wt,Zt;if(at){var pt=(tc(),Kr(Qf)),It=(rc(),Kr(ec));ft=nt?It.dirname(ft)+"/":__dirname+"/",yt=(d,h)=>(d=d.startsWith("file://")?new URL(d):It.normalize(d),pt.readFileSync(d,h?void 0:"utf8")),Zt=d=>(d=yt(d,!0),d.buffer||(d=new Uint8Array(d)),d),Wt=(d,h,y,b=!0)=>{d=d.startsWith("file://")?new URL(d):It.normalize(d),pt.readFile(d,b?void 0:"utf8",(T,_)=>{T?y(T):h(b?_.buffer:_)})},!c.thisProgram&&1<process.argv.length&&(N=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),Z=(d,h)=>{throw process.exitCode=d,h},c.inspect=()=>"[Emscripten Module object]";let f;try{f=ay()}catch(d){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),d}global.Worker=f.Worker}else(H||nt)&&(nt?ft=self.location.href:typeof document<"u"&&document.currentScript&&(ft=document.currentScript.src),typeof i<"u"&&i&&(ft=i),ft.indexOf("blob:")!==0?ft=ft.substr(0,ft.replace(/[?#].*/,"").lastIndexOf("/")+1):ft="",at||(yt=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.send(null),d.responseText},nt&&(Zt=f=>{var d=new XMLHttpRequest;return d.open("GET",f,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),Wt=(f,d,h)=>{var y=new XMLHttpRequest;y.open("GET",f,!0),y.responseType="arraybuffer",y.onload=()=>{y.status==200||y.status==0&&y.response?d(y.response):h()},y.onerror=h,y.send(null)}));at&&typeof performance>"u"&&(global.performance=sy().performance);var Ue=console.log.bind(console),_t=console.error.bind(console);at&&(Ue=(...f)=>pt.writeSync(1,f.join(" ")+`
`),_t=(...f)=>pt.writeSync(2,f.join(" ")+`
`));var Ur=Ue,de=_t;Object.assign(c,E),E=null;var Bt=!0;typeof WebAssembly!="object"&&lr("no native wasm support detected");var Ht,vr,Oe=!1,be,Vt,me,Sr,ur,Xe,Pr,Wr,Ie,Je,zr;function zt(){var f=Ht.buffer;c.HEAP8=Vt=new Int8Array(f),c.HEAP16=Sr=new Int16Array(f),c.HEAPU8=me=new Uint8Array(f),c.HEAPU16=ur=new Uint16Array(f),c.HEAP32=Xe=new Int32Array(f),c.HEAPU32=Pr=new Uint32Array(f),c.HEAPF32=Wr=new Float32Array(f),c.HEAPF64=zr=new Float64Array(f),c.HEAP64=Ie=new BigInt64Array(f),c.HEAPU64=Je=new BigUint64Array(f)}var Qt=16777216;if(5242880<=Qt||lr("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Qt+"! (STACK_SIZE=5242880)"),ot)Ht=c.wasmMemory;else if(Ht=new WebAssembly.Memory({initial:Qt/65536,maximum:65536,shared:!0}),!(Ht.buffer instanceof SharedArrayBuffer))throw de("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),at&&de("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");zt(),Qt=Ht.buffer.byteLength;var xe=[],fr=[],Er=[],Hn=0;function Hr(){return Bt||0<Hn}var Ze=0,Dr=null,cr=null;function Vn(){if(Ze--,Ze==0&&(Dr!==null&&(clearInterval(Dr),Dr=null),cr)){var f=cr;cr=null,f()}}function lr(f){throw f="Aborted("+f+")",de(f),Oe=!0,be=1,f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info."),S(f),f}function ke(f){return f.startsWith("data:application/octet-stream;base64,")}var wr;wr="ort-wasm-threaded.wasm",ke(wr)||(wr=xt(wr));function dn(f){if(Zt)return Zt(f);throw"both async and sync fetching of the wasm failed"}function Sa(f){if(H||nt){if(typeof fetch=="function"&&!f.startsWith("file://"))return fetch(f,{credentials:"same-origin"}).then(d=>{if(!d.ok)throw"failed to load wasm binary file at '"+f+"'";return d.arrayBuffer()}).catch(()=>dn(f));if(Wt)return new Promise((d,h)=>{Wt(f,y=>d(new Uint8Array(y)),h)})}return Promise.resolve().then(()=>dn(f))}function Qe(f,d,h){return Sa(f).then(y=>WebAssembly.instantiate(y,d)).then(y=>y).then(h,y=>{de(`failed to asynchronously prepare wasm: ${y}`),lr(y)})}function Pa(f,d){var h=wr;return typeof WebAssembly.instantiateStreaming!="function"||ke(h)||h.startsWith("file://")||at||typeof fetch!="function"?Qe(h,f,d):fetch(h,{credentials:"same-origin"}).then(y=>WebAssembly.instantiateStreaming(y,f).then(d,function(b){return de(`wasm streaming compile failed: ${b}`),de("falling back to ArrayBuffer instantiation"),Qe(h,f,d)}))}function Le(f){this.name="ExitStatus",this.message=`Program terminated with exit(${f})`,this.status=f}var pn=f=>{f.terminate(),f.onmessage=()=>{}},jn=f=>{if(At.Oe.length==0){var d=xt("ort-wasm-threaded.worker.js");d=new Worker(d),At.Oe.push(d),At.qf(At.Oe[0])}if(d=At.Oe.pop(),!d)return 6;At.Le.push(d),At.He[f.Ke]=d,d.Ke=f.Ke;var h={cmd:"run",start_routine:f.sf,arg:f.kf,pthread_ptr:f.Ke};return at&&d.unref(),d.postMessage(h,f.yf),0},Ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,hn=(f,d,h)=>{d>>>=0;var y=d+h;for(h=d;f[h]&&!(h>=y);)++h;if(16<h-d&&f.buffer&&Ae)return Ae.decode(f.buffer instanceof SharedArrayBuffer?f.slice(d,h):f.subarray(d,h));for(y="";d<h;){var b=f[d++];if(b&128){var T=f[d++]&63;if((b&224)==192)y+=String.fromCharCode((b&31)<<6|T);else{var _=f[d++]&63;b=(b&240)==224?(b&15)<<12|T<<6|_:(b&7)<<18|T<<12|_<<6|f[d++]&63,65536>b?y+=String.fromCharCode(b):(b-=65536,y+=String.fromCharCode(55296|b>>10,56320|b&1023))}}else y+=String.fromCharCode(b)}return y},he=(f,d)=>(f>>>=0)?hn(t(),f,d):"";function Se(f){if(ot)return jt(0,1,f);be=f,Hr()||(At.tf(),Oe=!0),Z(f,new Le(f))}var mn=f=>{if(be=f,ot)throw Co(f),"unwind";Se(f)};function Ea(){xe.unshift(()=>{Ze++,Vn()})}var At={Oe:[],Le:[],df:[],He:{},Ve(){ot?(At.receiveObjectTransfer=At.rf,At.threadInitTLS=At.cf,At.setExitStatus=At.$e,Bt=!1):Ea()},$e:f=>{be=f},Bf:["$terminateWorker"],tf:()=>{for(var f of At.Le)pn(f);for(f of At.Oe)pn(f);At.Oe=[],At.Le=[],At.He=[]},Ze:f=>{var d=f.Ke;delete At.He[d],At.Oe.push(f),At.Le.splice(At.Le.indexOf(f),1),f.Ke=0,fo(d)},rf(){},cf(){At.df.forEach(f=>f())},qf:f=>new Promise(d=>{f.onmessage=T=>{T=T.data;var _=T.cmd;if(T.targetThread&&T.targetThread!=Sn()){var I=At.He[T.targetThread];I?I.postMessage(T,T.transferList):de(`Internal error! Worker sent a message "${_}" to target pthread ${T.targetThread}, but that thread no longer exists!`)}else _==="checkMailbox"?xn():_==="spawnThread"?jn(T):_==="cleanupThread"?((T=At.He[T.thread])||lr(),At.Ze(T)):_==="killThread"?(T=T.thread,_=At.He[T],delete At.He[T],pn(_),fo(T),At.Le.splice(At.Le.indexOf(_),1),_.Ke=0):_==="cancelThread"?At.He[T.thread].postMessage({cmd:"cancel"}):_==="loaded"?(f.loaded=!0,d(f)):_==="alert"?alert(`Thread ${T.threadId}: ${T.text}`):T.target==="setimmediate"?f.postMessage(T):_==="callHandler"?c[T.handler](...T.args):_&&de(`worker sent an unknown command ${_}`)},f.onerror=T=>{throw de(`worker sent an error! ${T.filename}:${T.lineno}: ${T.message}`),T},at&&(f.on("message",T=>f.onmessage({data:T})),f.on("error",T=>f.onerror(T)));var h=[],y=[],b;for(b of y)c.hasOwnProperty(b)&&h.push(b);f.postMessage({cmd:"load",handlers:h,urlOrBlob:c.mainScriptUrlOrBlob||i,wasmMemory:Ht,wasmModule:vr})})};c.PThread=At;var Vr=f=>{for(;0<f.length;)f.shift()(c)};c.establishStackSpace=()=>{var f=Sn(),d=a()[f+52>>>2>>>0];f=a()[f+56>>>2>>>0],gi(d,d-f),W(d)};function Co(f){if(ot)return jt(1,0,f);mn(f)}var yn=[],Fo,j=f=>{var d=yn[f];return d||(f>=yn.length&&(yn.length=f+1),yn[f]=d=Fo.get(f)),d};c.invokeEntryPoint=(f,d)=>{f=j(f)(d),Hr()?At.$e(f):co(f)};var gn=[],bn=0,Ce=0;function qn(f){this.Qe=f,this.Ge=f-24,this.jf=function(d){a()[this.Ge+4>>>2>>>0]=d},this.Re=function(){return a()[this.Ge+4>>>2>>>0]},this.hf=function(d){a()[this.Ge+8>>>2>>>0]=d},this.af=function(d){d=d?1:0,o()[this.Ge+12>>>0>>>0]=d},this.ff=function(){return o()[this.Ge+12>>>0>>>0]!=0},this.bf=function(d){d=d?1:0,o()[this.Ge+13>>>0>>>0]=d},this.mf=function(){return o()[this.Ge+13>>>0>>>0]!=0},this.Ve=function(d,h){this.Se(0),this.jf(d),this.hf(h)},this.Se=function(d){a()[this.Ge+16>>>2>>>0]=d},this.ef=function(){return a()[this.Ge+16>>>2>>>0]},this.gf=function(){if(Ti(this.Re()))return a()[this.Qe>>>2>>>0];var d=this.ef();return d!==0?d:this.Qe}}var Tr=f=>{var d=Ce;if(!d)return Yr(0),0;var h=new qn(d);h.Se(d);var y=h.Re();if(!y)return Yr(0),d;for(var b in f){var T=f[b];if(T===0||T===y)break;if(wi(T,y,h.Ge+16))return Yr(T),d}return Yr(y),d};function jr(f,d,h,y){return ot?jt(2,1,f,d,h,y):Yn(f,d,h,y)}function Yn(f,d,h,y){if(f>>>=0,d>>>=0,h>>>=0,y>>>=0,typeof SharedArrayBuffer>"u")return de("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var b=[];return ot&&b.length===0?jr(f,d,h,y):(f={sf:h,Ke:f,kf:y,yf:b},ot?(f.Af="spawnThread",postMessage(f,b),0):jn(f))}function $o(f,d,h){return ot?jt(3,1,f,d,h):0}function Bo(f,d){if(ot)return jt(4,1,f,d)}var qr=f=>{for(var d=0,h=0;h<f.length;++h){var y=f.charCodeAt(h);127>=y?d++:2047>=y?d+=2:55296<=y&&57343>=y?(d+=4,++h):d+=3}return d},Kn=(f,d,h,y)=>{if(h>>>=0,!(0<y))return 0;var b=h;y=h+y-1;for(var T=0;T<f.length;++T){var _=f.charCodeAt(T);if(55296<=_&&57343>=_){var I=f.charCodeAt(++T);_=65536+((_&1023)<<10)|I&1023}if(127>=_){if(h>=y)break;d[h++>>>0]=_}else{if(2047>=_){if(h+1>=y)break;d[h++>>>0]=192|_>>6}else{if(65535>=_){if(h+2>=y)break;d[h++>>>0]=224|_>>12}else{if(h+3>=y)break;d[h++>>>0]=240|_>>18,d[h++>>>0]=128|_>>12&63}d[h++>>>0]=128|_>>6&63}d[h++>>>0]=128|_&63}}return d[h>>>0]=0,h-b},Xn=(f,d,h)=>Kn(f,t(),d,h);function No(f,d){if(ot)return jt(5,1,f,d)}function Mo(f,d,h){if(ot)return jt(6,1,f,d,h)}function Jn(f,d,h){return ot?jt(7,1,f,d,h):0}function xr(f,d){if(ot)return jt(8,1,f,d)}function Zn(f,d,h){if(ot)return jt(9,1,f,d,h)}function Qn(f,d,h,y){if(ot)return jt(10,1,f,d,h,y)}function to(f,d,h,y){if(ot)return jt(11,1,f,d,h,y)}function vn(f,d,h,y){if(ot)return jt(12,1,f,d,h,y)}function eo(f){if(ot)return jt(13,1,f)}function wn(f,d){if(ot)return jt(14,1,f,d)}function Ro(f,d,h){if(ot)return jt(15,1,f,d,h)}var ro=f=>{if(f===null)return"null";var d=typeof f;return d==="object"||d==="array"||d==="function"?f.toString():""+f},no,Me=f=>{for(var d="";t()[f>>>0];)d+=no[t()[f++>>>0]];return d},Tn={},kr={},Go={},U;function Uo(f,d,h={}){var y=d.name;if(!f)throw new U(`type "${y}" must have a positive integer typeid pointer`);if(kr.hasOwnProperty(f)){if(h.nf)return;throw new U(`Cannot register type '${y}' twice`)}kr[f]=d,delete Go[f],Tn.hasOwnProperty(f)&&(d=Tn[f],delete Tn[f],d.forEach(b=>b()))}function Fe(f,d,h={}){if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");Uo(f,d,h)}var Wo=(f,d,h)=>{switch(d){case 1:return h?y=>o()[y>>>0>>>0]:y=>t()[y>>>0>>>0];case 2:return h?y=>r()[y>>>1>>>0]:y=>n()[y>>>1>>>0];case 4:return h?y=>s()[y>>>2>>>0]:y=>a()[y>>>2>>>0];case 8:return h?y=>Ie[y>>>3]:y=>Je[y>>>3];default:throw new TypeError(`invalid integer width (${d}): ${f}`)}};function Ot(){this.Je=[void 0],this.Xe=[]}var ve=new Ot;function Re(f){f>>>=0,f>=ve.Ge&&--ve.get(f).Ye===0&&ve.Se(f)}var we=f=>{if(!f)throw new U("Cannot use deleted val. handle = "+f);return ve.get(f).value},G=f=>{switch(f){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ve.Re({Ye:1,value:f})}};function Lr(f){return this.fromWireType(s()[f>>>2>>>0])}var Y=(f,d)=>{switch(d){case 4:return function(h){var y=this.fromWireType;return Ht.buffer!=Vt.buffer&&zt(),y.call(this,Wr[h>>>2>>>0])};case 8:return function(h){return this.fromWireType(u()[h>>>3>>>0])};default:throw new TypeError(`invalid float width (${d}): ${f}`)}};function K(f){return this.fromWireType(a()[f>>>2>>>0])}var oo=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,zo=(f,d)=>{for(var h=f>>1,y=h+d/2;!(h>=y)&&n()[h>>>0];)++h;if(h<<=1,32<h-f&&oo)return oo.decode(t().slice(f,h));for(h="",y=0;!(y>=d/2);++y){var b=r()[f+2*y>>>1>>>0];if(b==0)break;h+=String.fromCharCode(b)}return h},Ho=(f,d,h)=>{if(h===void 0&&(h=2147483647),2>h)return 0;h-=2;var y=d;h=h<2*f.length?h/2:f.length;for(var b=0;b<h;++b){var T=f.charCodeAt(b);r()[d>>>1>>>0]=T,d+=2}return r()[d>>>1>>>0]=0,d-y},Vo=f=>2*f.length,jo=(f,d)=>{for(var h=0,y="";!(h>=d/4);){var b=s()[f+4*h>>>2>>>0];if(b==0)break;++h,65536<=b?(b-=65536,y+=String.fromCharCode(55296|b>>10,56320|b&1023)):y+=String.fromCharCode(b)}return y},Da=(f,d,h)=>{if(d>>>=0,h===void 0&&(h=2147483647),4>h)return 0;var y=d;h=y+h-4;for(var b=0;b<f.length;++b){var T=f.charCodeAt(b);if(55296<=T&&57343>=T){var _=f.charCodeAt(++b);T=65536+((T&1023)<<10)|_&1023}if(s()[d>>>2>>>0]=T,d+=4,d+4>h)break}return s()[d>>>2>>>0]=0,d-y},ka=f=>{for(var d=0,h=0;h<f.length;++h){var y=f.charCodeAt(h);55296<=y&&57343>=y&&++h,d+=4}return d},La=f=>{if(!Oe)try{if(f(),!Hr())try{ot?co(be):mn(be)}catch(d){d instanceof Le||d=="unwind"||Z(1,d)}}catch(d){d instanceof Le||d=="unwind"||Z(1,d)}};function io(f){f>>>=0,typeof Atomics.zf=="function"&&(Atomics.zf(s(),f>>>2,f).value.then(xn),f+=128,Atomics.store(s(),f>>>2,1))}c.__emscripten_thread_mailbox_await=io;var xn=()=>{var f=Sn();f&&(io(f),La(()=>yi()))};c.checkMailbox=xn;var Ca=f=>{var d=z();return f=f(),W(d),f};function jt(f,d){var h=arguments.length-2,y=arguments;return Ca(()=>{for(var b=2*h,T=lo(8*b),_=T>>>3,I=0;I<h;I++){var D=y[2+I];typeof D=="bigint"?(Ie[_+2*I]=1n,Ie[_+2*I+1]=D):(Ie[_+2*I]=0n,u()[_+2*I+1>>>0]=D)}return mi(f,b,T,d)})}var ao=[],_n=(f,d)=>{var h=kr[f];if(h===void 0)throw f=pi(f),h=Me(f),tr(f),new U(d+" has unknown type "+h);return h},Fa={},On=f=>{var d=Fa[f];return d===void 0?Me(f):d},In=[],qo=()=>typeof globalThis=="object"?globalThis:Function("return this")(),$a=f=>{var d=In.length;return In.push(f),d},Ba=(f,d)=>{for(var h=Array(f),y=0;y<f;++y)h[y]=_n(a()[d+4*y>>>2>>>0],"parameter "+y);return h},Yo=f=>{if(f===void 0)return"_unknown";f=f.replace(/[^a-zA-Z0-9_]/g,"$");var d=f.charCodeAt(0);return 48<=d&&57>=d?`_${f}`:f},Ko={};function Na(f,d){return f=Yo(f),{[f]:function(){return d.apply(this,arguments)}}[f]}function Ma(f){var d=Function;if(!(d instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof d} which is not a function`);var h=Na(d.name||"unknownFunctionName",function(){});return h.prototype=d.prototype,h=new h,f=d.apply(h,f),f instanceof Object?f:h}var Ra=f=>{for(var d="",h=0;h<f;++h)d+=(h!==0?", ":"")+"arg"+h;var y="return function emval_allocator_"+f+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`;for(h=0;h<f;++h)y+="var argType"+h+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], 'parameter "+h+`');
var arg`+h+" = argType"+h+`.readValueFromPointer(args);
args += argType`+h+`['argPackAdvance'];
argTypes += 4;
`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",y+("var obj = new constructor("+d+`);
return valueToHandle(obj);
}
`))(_n,c,G,()=>a())},Xo={},Cr=f=>f%4===0&&(f%100!==0||f%400===0),Jo=[0,31,60,91,121,152,182,213,244,274,305,335],Zo=[0,31,59,90,120,151,181,212,243,273,304,334];function Qo(f,d,h,y,b,T,_){return ot?jt(16,1,f,d,h,y,b,T,_):-52}function ti(f,d,h,y,b,T){if(ot)return jt(17,1,f,d,h,y,b,T)}var ei=f=>{var d=qr(f)+1,h=Pn(d);return h&&Xn(f,h,d),h},so={},ri=()=>{if(!uo){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:N||"./this.program"},d;for(d in so)so[d]===void 0?delete f[d]:f[d]=so[d];var h=[];for(d in f)h.push(`${d}=${f[d]}`);uo=h}return uo},uo;function ni(f,d){if(ot)return jt(18,1,f,d);f>>>=0,d>>>=0;var h=0;return ri().forEach((y,b)=>{var T=d+h;for(b=a()[f+4*b>>>2>>>0]=T,T=0;T<y.length;++T)o()[b++>>>0>>>0]=y.charCodeAt(T);o()[b>>>0>>>0]=0,h+=y.length+1}),0}function oi(f,d){if(ot)return jt(19,1,f,d);f>>>=0,d>>>=0;var h=ri();a()[f>>>2>>>0]=h.length;var y=0;return h.forEach(b=>y+=b.length+1),a()[d>>>2>>>0]=y,0}function ii(f){return ot?jt(20,1,f):52}function ai(f,d,h,y){return ot?jt(21,1,f,d,h,y):52}function si(f,d,h,y){return ot?jt(22,1,f,d,h,y):70}var Ga=[null,[],[]];function ui(f,d,h,y){if(ot)return jt(23,1,f,d,h,y);d>>>=0,h>>>=0,y>>>=0;for(var b=0,T=0;T<h;T++){var _=a()[d>>>2>>>0],I=a()[d+4>>>2>>>0];d+=8;for(var D=0;D<I;D++){var C=t()[_+D>>>0],M=Ga[f];C===0||C===10?((f===1?Ur:de)(hn(M,0)),M.length=0):M.push(C)}b+=I}return a()[y>>>2>>>0]=b,0}var fi=[31,29,31,30,31,30,31,31,30,31,30,31],ci=[31,28,31,30,31,30,31,31,30,31,30,31];function Ua(f){var d=Array(qr(f)+1);return Kn(f,d,0,d.length),d}var Wa=(f,d)=>{o().set(f,d>>>0)};function li(f,d,h,y){function b(L,et,st){for(L=typeof L=="number"?L.toString():L||"";L.length<et;)L=st[0]+L;return L}function T(L,et){return b(L,et,"0")}function _(L,et){function st(Pt){return 0>Pt?-1:0<Pt?1:0}var mt;return(mt=st(L.getFullYear()-et.getFullYear()))===0&&(mt=st(L.getMonth()-et.getMonth()))===0&&(mt=st(L.getDate()-et.getDate())),mt}function I(L){switch(L.getDay()){case 0:return new Date(L.getFullYear()-1,11,29);case 1:return L;case 2:return new Date(L.getFullYear(),0,3);case 3:return new Date(L.getFullYear(),0,2);case 4:return new Date(L.getFullYear(),0,1);case 5:return new Date(L.getFullYear()-1,11,31);case 6:return new Date(L.getFullYear()-1,11,30)}}function D(L){var et=L.Me;for(L=new Date(new Date(L.Ne+1900,0,1).getTime());0<et;){var st=L.getMonth(),mt=(Cr(L.getFullYear())?fi:ci)[st];if(et>mt-L.getDate())et-=mt-L.getDate()+1,L.setDate(1),11>st?L.setMonth(st+1):(L.setMonth(0),L.setFullYear(L.getFullYear()+1));else{L.setDate(L.getDate()+et);break}}return st=new Date(L.getFullYear()+1,0,4),et=I(new Date(L.getFullYear(),0,4)),st=I(st),0>=_(et,L)?0>=_(st,L)?L.getFullYear()+1:L.getFullYear():L.getFullYear()-1}f>>>=0,d>>>=0,h>>>=0,y>>>=0;var C=a()[y+40>>>2>>>0];y={wf:s()[y>>>2>>>0],vf:s()[y+4>>>2>>>0],Te:s()[y+8>>>2>>>0],We:s()[y+12>>>2>>>0],Ue:s()[y+16>>>2>>>0],Ne:s()[y+20>>>2>>>0],Ie:s()[y+24>>>2>>>0],Me:s()[y+28>>>2>>>0],Cf:s()[y+32>>>2>>>0],uf:s()[y+36>>>2>>>0],xf:C?he(C):""},h=he(h),C={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var M in C)h=h.replace(new RegExp(M,"g"),C[M]);var X="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Q="January February March April May June July August September October November December".split(" ");C={"%a":L=>X[L.Ie].substring(0,3),"%A":L=>X[L.Ie],"%b":L=>Q[L.Ue].substring(0,3),"%B":L=>Q[L.Ue],"%C":L=>T((L.Ne+1900)/100|0,2),"%d":L=>T(L.We,2),"%e":L=>b(L.We,2," "),"%g":L=>D(L).toString().substring(2),"%G":L=>D(L),"%H":L=>T(L.Te,2),"%I":L=>(L=L.Te,L==0?L=12:12<L&&(L-=12),T(L,2)),"%j":L=>{for(var et=0,st=0;st<=L.Ue-1;et+=(Cr(L.Ne+1900)?fi:ci)[st++]);return T(L.We+et,3)},"%m":L=>T(L.Ue+1,2),"%M":L=>T(L.vf,2),"%n":()=>`
`,"%p":L=>0<=L.Te&&12>L.Te?"AM":"PM","%S":L=>T(L.wf,2),"%t":()=>"	","%u":L=>L.Ie||7,"%U":L=>T(Math.floor((L.Me+7-L.Ie)/7),2),"%V":L=>{var et=Math.floor((L.Me+7-(L.Ie+6)%7)/7);if(2>=(L.Ie+371-L.Me-2)%7&&et++,et)et==53&&(st=(L.Ie+371-L.Me)%7,st==4||st==3&&Cr(L.Ne)||(et=1));else{et=52;var st=(L.Ie+7-L.Me-1)%7;(st==4||st==5&&Cr(L.Ne%400-1))&&et++}return T(et,2)},"%w":L=>L.Ie,"%W":L=>T(Math.floor((L.Me+7-(L.Ie+6)%7)/7),2),"%y":L=>(L.Ne+1900).toString().substring(2),"%Y":L=>L.Ne+1900,"%z":L=>{L=L.uf;var et=0<=L;return L=Math.abs(L)/60,(et?"+":"-")+("0000"+(L/60*100+L%60)).slice(-4)},"%Z":L=>L.xf,"%%":()=>"%"},h=h.replace(/%%/g,"\0\0");for(M in C)h.includes(M)&&(h=h.replace(new RegExp(M,"g"),C[M](y)));return h=h.replace(/\0\0/g,"%"),M=Ua(h),M.length>d?0:(Wa(M,f),M.length-1)}At.Ve();for(var di=Array(256),An=0;256>An;++An)di[An]=String.fromCharCode(An);no=di,U=c.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},c.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Object.assign(Ot.prototype,{get(f){return this.Je[f]},has(f){return this.Je[f]!==void 0},Re(f){var d=this.Xe.pop()||this.Je.length;return this.Je[d]=f,d},Se(f){this.Je[f]=void 0,this.Xe.push(f)}}),ve.Je.push({value:void 0},{value:null},{value:!0},{value:!1}),ve.Ge=ve.Je.length,c.count_emval_handles=()=>{for(var f=0,d=ve.Ge;d<ve.Je.length;++d)ve.Je[d]!==void 0&&++f;return f};var za=[Se,Co,jr,$o,Bo,No,Mo,Jn,xr,Zn,Qn,to,vn,eo,wn,Ro,Qo,ti,ni,oi,ii,ai,si,ui],Ha={u:function(f){return f=new qn(f>>>0),f.ff()||(f.af(!0),bn--),f.bf(!1),gn.push(f),vi(f.Qe),f.gf()},M:()=>{V(0,0);var f=gn.pop();bi(f.Qe),Ce=0},b:function(){return Tr([])},n:function(f){return Tr([f>>>0])},y:function(f,d){return Tr([f>>>0,d>>>0])},q:function(f,d,h){return Tr([f>>>0,d>>>0,h>>>0])},yb:()=>{var f=gn.pop();f||lr("no exception to throw");var d=f.Qe;throw f.mf()||(gn.push(f),f.bf(!0),f.af(!1),bn++),Ce=d,Ce},t:function(f,d,h){throw f>>>=0,new qn(f).Ve(d>>>0,h>>>0),Ce=f,bn++,Ce},Sa:()=>bn,Vc:function(f){hi(f>>>0,!nt,1,!H,131072,!1),At.cf()},Ub:function(f){f>>>=0,ot?postMessage({cmd:"cleanupThread",thread:f}):((f=At.He[f])||lr(),At.Ze(f))},Lc:Yn,i:function(f){throw Ce||(Ce=f>>>0),Ce},zb:$o,$c:Bo,Gc:No,Ic:Mo,zc:Jn,Zc:xr,Sc:Zn,Yc:Qn,Wb:to,Hc:vn,Ec:eo,_c:wn,Fc:Ro,Zb:function(f,d,h,y,b){f>>>=0,d>>>=0,h>>>=0,d=Me(d);var T=d.indexOf("u")!=-1;T&&(b=(1n<<64n)-1n),Fe(f,{name:d,fromWireType:_=>_,toWireType:function(_,I){if(typeof I!="bigint"&&typeof I!="number")throw new TypeError(`Cannot convert "${ro(I)}" to ${this.name}`);if(I<y||I>b)throw new TypeError(`Passing a number "${ro(I)}" from JS side to C/C++ side to an argument of type "${d}", which is outside the valid range [${y}, ${b}]!`);return I},argPackAdvance:8,readValueFromPointer:Wo(d,h,!T),Pe:null})},ed:function(f,d,h,y){f>>>=0,d=Me(d>>>0),Fe(f,{name:d,fromWireType:function(b){return!!b},toWireType:function(b,T){return T?h:y},argPackAdvance:8,readValueFromPointer:function(b){return this.fromWireType(t()[b>>>0])},Pe:null})},dd:function(f,d){f>>>=0,d=Me(d>>>0),Fe(f,{name:d,fromWireType:h=>{var y=we(h);return Re(h),y},toWireType:(h,y)=>G(y),argPackAdvance:8,readValueFromPointer:Lr,Pe:null})},Yb:function(f,d,h){f>>>=0,h>>>=0,d=Me(d>>>0),Fe(f,{name:d,fromWireType:y=>y,toWireType:(y,b)=>b,argPackAdvance:8,readValueFromPointer:Y(d,h),Pe:null})},va:function(f,d,h,y,b){if(f>>>=0,h>>>=0,d=Me(d>>>0),b===-1&&(b=4294967295),b=I=>I,y===0){var T=32-8*h;b=I=>I<<T>>>T}var _=d.includes("unsigned")?function(I,D){return D>>>0}:function(I,D){return D};Fe(f,{name:d,fromWireType:b,toWireType:_,argPackAdvance:8,readValueFromPointer:Wo(d,h,y!==0),Pe:null})},_:function(f,d,h){function y(T){var _=a()[T>>>2>>>0];return T=a()[T+4>>>2>>>0],new b(o().buffer,T,_)}f>>>=0;var b=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][d];h=Me(h>>>0),Fe(f,{name:h,fromWireType:y,argPackAdvance:8,readValueFromPointer:y},{nf:!0})},_b:function(f,d){f>>>=0,d=Me(d>>>0);var h=d==="std::string";Fe(f,{name:d,fromWireType:function(y){var b=a()[y>>>2>>>0],T=y+4;if(h)for(var _=T,I=0;I<=b;++I){var D=T+I;if(I==b||t()[D>>>0]==0){if(_=he(_,D-_),C===void 0)var C=_;else C+=String.fromCharCode(0),C+=_;_=D+1}}else{for(C=Array(b),I=0;I<b;++I)C[I]=String.fromCharCode(t()[T+I>>>0]);C=C.join("")}return tr(y),C},toWireType:function(y,b){b instanceof ArrayBuffer&&(b=new Uint8Array(b));var T=typeof b=="string";if(!(T||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int8Array))throw new U("Cannot pass non-string to std::string");var _=h&&T?qr(b):b.length,I=Pn(4+_+1),D=I+4;if(a()[I>>>2>>>0]=_,h&&T)Xn(b,D,_+1);else if(T)for(T=0;T<_;++T){var C=b.charCodeAt(T);if(255<C)throw tr(D),new U("String has UTF-16 code units that do not fit in 8 bits");t()[D+T>>>0]=C}else for(T=0;T<_;++T)t()[D+T>>>0]=b[T];return y!==null&&y.push(tr,I),I},argPackAdvance:8,readValueFromPointer:K,Pe(y){tr(y)}})},Bb:function(f,d,h){if(f>>>=0,d>>>=0,h>>>=0,h=Me(h),d===2)var y=zo,b=Ho,T=Vo,_=()=>n(),I=1;else d===4&&(y=jo,b=Da,T=ka,_=()=>a(),I=2);Fe(f,{name:h,fromWireType:D=>{for(var C=a()[D>>>2>>>0],M=_(),X,Q=D+4,L=0;L<=C;++L){var et=D+4+L*d;(L==C||M[et>>>I]==0)&&(Q=y(Q,et-Q),X===void 0?X=Q:(X+=String.fromCharCode(0),X+=Q),Q=et+d)}return tr(D),X},toWireType:(D,C)=>{if(typeof C!="string")throw new U(`Cannot pass non-string to C++ string type ${h}`);var M=T(C),X=Pn(4+M+d);return a()[X>>>2]=M>>I,b(C,X+4,M+d),D!==null&&D.push(tr,X),X},argPackAdvance:8,readValueFromPointer:Lr,Pe(D){tr(D)}})},jd:function(f,d){f>>>=0,d=Me(d>>>0),Fe(f,{pf:!0,name:d,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},cd:()=>!0,Cc:function(f,d){f>>>=0,f==d>>>0?setTimeout(()=>xn()):ot?postMessage({targetThread:f,cmd:"checkMailbox"}):(f=At.He[f])&&f.postMessage({cmd:"checkMailbox"})},Mc:function(f,d,h,y){d>>>=0,h/=2,ao.length=h,y=y>>>0>>>3;for(var b=0;b<h;b++)ao[b]=Ie[y+2*b]?Ie[y+2*b+1]:u()[y+2*b+1>>>0];return f=za[f],At.lf=d,d=f.apply(null,ao),At.lf=0,d},Uc:io,bd:function(f){at&&At.He[f>>>0].ref()},ud:function(f,d,h){d>>>=0,h>>>=0,f=we(f>>>0),d=_n(d,"emval::as");var y=[],b=G(y);return a()[h>>>2>>>0]=b,d.toWireType(y,f)},ka:function(f,d,h,y,b){h>>>=0,y>>>=0,b>>>=0,f=In[f>>>0],d=we(d>>>0),h=On(h);var T=[];return a()[y>>>2>>>0]=G(T),f(d,h,T,b)},Dd:function(f,d,h,y){h>>>=0,y>>>=0,f=In[f>>>0],d=we(d>>>0),h=On(h),f(d,h,null,y)},yc:Re,wd:function(f,d){return d>>>=0,f=we(f>>>0),d=we(d),f==d},Hd:function(f){return f>>>=0,f===0?G(qo()):(f=On(f),G(qo()[f]))},la:function(f,d){var h=Ba(f,d>>>0),y=h[0];d=y.name+"_$"+h.slice(1).map(function(M){return M.name}).join("_")+"$";var b=Ko[d];if(b!==void 0)return b;b=["retType"];for(var T=[y],_="",I=0;I<f-1;++I)_+=(I!==0?", ":"")+"arg"+I,b.push("argType"+I),T.push(h[1+I]);var D="return function "+Yo("methodCaller_"+d)+`(handle, name, destructors, args) {
`,C=0;for(I=0;I<f-1;++I)D+="    var arg"+I+" = argType"+I+".readValueFromPointer(args"+(C?"+"+C:"")+`);
`,C+=h[I+1].argPackAdvance;for(D+="    var rv = handle[name]("+_+`);
`,I=0;I<f-1;++I)h[I+1].deleteObject&&(D+="    argType"+I+".deleteObject(arg"+I+`);
`);return y.pf||(D+=`    return retType.toWireType(destructors, rv);
`),b.push(D+`};
`),f=Ma(b).apply(null,T),b=$a(f),Ko[d]=b},Fd:function(f,d){return d>>>=0,f=we(f>>>0),d=we(d),G(f[d])},Q:function(f){f>>>=0,4<f&&(ve.get(f).Ye+=1)},zd:function(f,d,h,y){h>>>=0,y>>>=0,f=we(f>>>0);var b=Xo[d];return b||(b=Ra(d),Xo[d]=b),b(f,h,y)},od:function(){return G([])},rd:function(f){f=we(f>>>0);for(var d=Array(f.length),h=0;h<f.length;h++)d[h]=f[h];return G(d)},X:function(f){return G(On(f>>>0))},Ra:function(){return G({})},Ad:function(f){f>>>=0;for(var d=we(f);d.length;){var h=d.pop();d.pop()(h)}Re(f)},yd:function(f,d,h){d>>>=0,h>>>=0,f=we(f>>>0),d=we(d),h=we(h),f[d]=h},Ya:function(f,d){return d>>>=0,f=_n(f>>>0,"_emval_take_value"),f=f.readValueFromPointer(d),G(f)},Pc:function(f,d){f=-9007199254740992>f||9007199254740992<f?NaN:Number(f),d>>>=0,f=new Date(1e3*f),s()[d>>>2>>>0]=f.getUTCSeconds(),s()[d+4>>>2>>>0]=f.getUTCMinutes(),s()[d+8>>>2>>>0]=f.getUTCHours(),s()[d+12>>>2>>>0]=f.getUTCDate(),s()[d+16>>>2>>>0]=f.getUTCMonth(),s()[d+20>>>2>>>0]=f.getUTCFullYear()-1900,s()[d+24>>>2>>>0]=f.getUTCDay(),f=(f.getTime()-Date.UTC(f.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,s()[d+28>>>2>>>0]=f},Qc:function(f,d){f=-9007199254740992>f||9007199254740992<f?NaN:Number(f),d>>>=0,f=new Date(1e3*f),s()[d>>>2>>>0]=f.getSeconds(),s()[d+4>>>2>>>0]=f.getMinutes(),s()[d+8>>>2>>>0]=f.getHours(),s()[d+12>>>2>>>0]=f.getDate(),s()[d+16>>>2>>>0]=f.getMonth(),s()[d+20>>>2>>>0]=f.getFullYear()-1900,s()[d+24>>>2>>>0]=f.getDay();var h=(Cr(f.getFullYear())?Jo:Zo)[f.getMonth()]+f.getDate()-1|0;s()[d+28>>>2>>>0]=h,s()[d+36>>>2>>>0]=-(60*f.getTimezoneOffset()),h=new Date(f.getFullYear(),6,1).getTimezoneOffset();var y=new Date(f.getFullYear(),0,1).getTimezoneOffset();f=(h!=y&&f.getTimezoneOffset()==Math.min(y,h))|0,s()[d+32>>>2>>>0]=f},Rc:function(f){f>>>=0;var d=new Date(s()[f+20>>>2>>>0]+1900,s()[f+16>>>2>>>0],s()[f+12>>>2>>>0],s()[f+8>>>2>>>0],s()[f+4>>>2>>>0],s()[f>>>2>>>0],0),h=s()[f+32>>>2>>>0],y=d.getTimezoneOffset(),b=new Date(d.getFullYear(),6,1).getTimezoneOffset(),T=new Date(d.getFullYear(),0,1).getTimezoneOffset(),_=Math.min(T,b);return 0>h?s()[f+32>>>2>>>0]=+(b!=T&&_==y):0<h!=(_==y)&&(b=Math.max(T,b),d.setTime(d.getTime()+6e4*((0<h?_:b)-y))),s()[f+24>>>2>>>0]=d.getDay(),h=(Cr(d.getFullYear())?Jo:Zo)[d.getMonth()]+d.getDate()-1|0,s()[f+28>>>2>>>0]=h,s()[f>>>2>>>0]=d.getSeconds(),s()[f+4>>>2>>>0]=d.getMinutes(),s()[f+8>>>2>>>0]=d.getHours(),s()[f+12>>>2>>>0]=d.getDate(),s()[f+16>>>2>>>0]=d.getMonth(),s()[f+20>>>2>>>0]=d.getYear(),BigInt(d.getTime()/1e3)},Nc:Qo,Oc:ti,Bc:function(f,d,h){function y(C){return(C=C.toTimeString().match(/\(([A-Za-z ]+)\)$/))?C[1]:"GMT"}f>>>=0,d>>>=0,h>>>=0;var b=new Date().getFullYear(),T=new Date(b,0,1),_=new Date(b,6,1);b=T.getTimezoneOffset();var I=_.getTimezoneOffset(),D=Math.max(b,I);a()[f>>>2>>>0]=60*D,s()[d>>>2>>>0]=+(b!=I),f=y(T),d=y(_),f=ei(f),d=ei(d),I<b?(a()[h>>>2>>>0]=f,a()[h+4>>>2>>>0]=d):(a()[h>>>2>>>0]=d,a()[h+4>>>2>>>0]=f)},aa:()=>{lr("")},Vb:()=>{},Xb:()=>Date.now(),ad:()=>{throw Hn+=1,"unwind"},Dc:function(){return 4294901760},ua:()=>performance.timeOrigin+performance.now(),hb:()=>at?(fy(),Kr(uy)).cpus().length:navigator.hardwareConcurrency,Ac:function(f){f>>>=0;var d=t().length;if(f<=d||4294901760<f)return!1;for(var h=1;4>=h;h*=2){var y=d*(1+.2/h);y=Math.min(y,f+100663296);var b=Math;y=Math.max(f,y);t:{b=(b.min.call(b,4294901760,y+(65536-y%65536)%65536)-Ht.buffer.byteLength+65535)/65536;try{Ht.grow(b),zt();var T=1;break t}catch{}T=void 0}if(T)return!0}return!1},Wc:ni,Xc:oi,Kc:mn,Ab:ii,Tb:ai,Tc:si,Sb:ui,gb:cs,fd:Dg,sa:xg,G:vg,pa:_u,fa:us,gd:Eg,ld:gg,O:qs,A:ns,c:Ya,dc:hg,xa:ct,g:ja,Db:mg,d:Va,Y:rg,j:ts,hd:Sg,k:Qa,r:Za,s:ss,p:ls,Qa:bs,Va:Mu,ha:As,Pb:tu,_a:nu,Ib:Ru,lb:J,ic:og,wc:Is,fc:ug,gc:ag,$b:Ag,ja:Au,xb:ws,Aa:tg,Cb:Og,da:Du,hc:ig,Oa:iu,F:Xa,L:Ws,Fb:ng,qd:sg,oa:m,N:js,$:zs,V:su,z:os,Eb:lg,ec:fg,C:po,Hb:Ky,pd:cg,Pa:ru,cb:Fu,jc:Jy,ac:Ig,Mb:Iu,P:fs,H:_s,D:Bs,jb:qy,S:Vs,e:Ja,Xa:Ks,l:Ka,wa:yg,Wa:O,ub:ks,h:qa,xc:Os,ca:Qy,db:Js,ya:Ou,kb:F,eb:Cs,f:es,uc:Ns,sd:Gu,o:rs,sc:Xs,m:as,vc:Fs,rc:Zs,vd:gt,w:ps,Ma:du,rb:lu,La:pu,Kb:k,B:ys,E:vs,W:xs,Ua:Uu,oc:l,Bd:fu,sb:Ys,ta:au,ia:tt,R:eu,$a:Ss,Ga:g,Ed:Ms,ib:Pg,Ca:te,lc:re,Ba:ee,Da:rt,id:_g,Cd:Qs,na:x,td:er,Ha:En,Fa:v,qc:ku,Ea:B,Ia:Nu,nb:Eu,ga:$u,za:uu,kc:Yy,pc:Lu,Jb:Ct,Gb:Xy,ma:Gs,Rb:ms,nd:dg,U:Pu,vb:Es,bb:p,Ta:Zy,fb:Ls,K:ds,T:Ds,wb:Ts,md:pg,ba:gs,mb:R,ra:Cu,nc:A,bc:Tg,Gd:Ps,x:is,ab:eg,xd:xi,Nb:vu,mc:St,Id:hs,Ob:bu,Lb:Su,Za:ou,Qb:Us,Ja:Bu,cc:wg,Z:wu,tc:Rs,J:Hs,kd:bg,tb:$s,qa:xu,I:Tu,pb:yu,Ka:mu,Na:cu,ob:gu,qb:hu,v:function(f){return f>>>0},a:Ht||c.wasmMemory,Jc:li,ea:function(f,d,h,y){return li(f>>>0,d>>>0,h>>>0,y>>>0)}},vt=function(){var f={a:Ha};return Ze++,Pa(f,function(d){var h=d.module;vt=d.instance.exports,vt=kg(),At.df.push(vt.me),Fo=vt.pe,fr.unshift(vt.Jd),vr=h,Vn()}).catch(S),{}}();c._OrtInit=(f,d)=>(c._OrtInit=vt.Kd)(f,d),c._OrtGetLastError=(f,d)=>(c._OrtGetLastError=vt.Ld)(f,d),c._OrtCreateSessionOptions=(f,d,h,y,b,T,_,I,D,C)=>(c._OrtCreateSessionOptions=vt.Md)(f,d,h,y,b,T,_,I,D,C),c._OrtAppendExecutionProvider=(f,d)=>(c._OrtAppendExecutionProvider=vt.Nd)(f,d),c._OrtAddFreeDimensionOverride=(f,d,h)=>(c._OrtAddFreeDimensionOverride=vt.Od)(f,d,h),c._OrtAddSessionConfigEntry=(f,d,h)=>(c._OrtAddSessionConfigEntry=vt.Pd)(f,d,h),c._OrtReleaseSessionOptions=f=>(c._OrtReleaseSessionOptions=vt.Qd)(f),c._OrtCreateSession=(f,d,h)=>(c._OrtCreateSession=vt.Rd)(f,d,h),c._OrtReleaseSession=f=>(c._OrtReleaseSession=vt.Sd)(f),c._OrtGetInputOutputCount=(f,d,h)=>(c._OrtGetInputOutputCount=vt.Td)(f,d,h),c._OrtGetInputName=(f,d)=>(c._OrtGetInputName=vt.Ud)(f,d),c._OrtGetOutputName=(f,d)=>(c._OrtGetOutputName=vt.Vd)(f,d),c._OrtFree=f=>(c._OrtFree=vt.Wd)(f),c._OrtCreateTensor=(f,d,h,y,b,T)=>(c._OrtCreateTensor=vt.Xd)(f,d,h,y,b,T),c._OrtGetTensorData=(f,d,h,y,b)=>(c._OrtGetTensorData=vt.Yd)(f,d,h,y,b),c._OrtReleaseTensor=f=>(c._OrtReleaseTensor=vt.Zd)(f),c._OrtCreateRunOptions=(f,d,h,y)=>(c._OrtCreateRunOptions=vt._d)(f,d,h,y),c._OrtAddRunConfigEntry=(f,d,h)=>(c._OrtAddRunConfigEntry=vt.$d)(f,d,h),c._OrtReleaseRunOptions=f=>(c._OrtReleaseRunOptions=vt.ae)(f),c._OrtCreateBinding=f=>(c._OrtCreateBinding=vt.be)(f),c._OrtBindInput=(f,d,h)=>(c._OrtBindInput=vt.ce)(f,d,h),c._OrtBindOutput=(f,d,h,y)=>(c._OrtBindOutput=vt.de)(f,d,h,y),c._OrtClearBoundOutputs=f=>(c._OrtClearBoundOutputs=vt.ee)(f),c._OrtReleaseBinding=f=>(c._OrtReleaseBinding=vt.fe)(f),c._OrtRunWithBinding=(f,d,h,y,b)=>(c._OrtRunWithBinding=vt.ge)(f,d,h,y,b),c._OrtRun=(f,d,h,y,b,T,_,I)=>(c._OrtRun=vt.he)(f,d,h,y,b,T,_,I),c._OrtEndProfiling=f=>(c._OrtEndProfiling=vt.ie)(f);var Sn=c._pthread_self=()=>(Sn=c._pthread_self=vt.je)(),Pn=c._malloc=f=>(Pn=c._malloc=vt.ke)(f),tr=c._free=f=>(tr=c._free=vt.le)(f);c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=vt.me)();var pi=f=>(pi=vt.ne)(f);c.__embind_initialize_bindings=()=>(c.__embind_initialize_bindings=vt.oe)();var hi=c.__emscripten_thread_init=(f,d,h,y,b,T)=>(hi=c.__emscripten_thread_init=vt.qe)(f,d,h,y,b,T);c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=vt.re)();var mi=(f,d,h,y)=>(mi=vt.se)(f,d,h,y),fo=f=>(fo=vt.te)(f),co=c.__emscripten_thread_exit=f=>(co=c.__emscripten_thread_exit=vt.ue)(f),yi=c.__emscripten_check_mailbox=()=>(yi=c.__emscripten_check_mailbox=vt.ve)(),V=(f,d)=>(V=vt.we)(f,d),Yr=f=>(Yr=vt.xe)(f),gi=(f,d)=>(gi=vt.ye)(f,d),z=()=>(z=vt.ze)(),W=f=>(W=vt.Ae)(f),lo=f=>(lo=vt.Be)(f),bi=f=>(bi=vt.Ce)(f),vi=f=>(vi=vt.De)(f),wi=(f,d,h)=>(wi=vt.Ee)(f,d,h),Ti=f=>(Ti=vt.Fe)(f);function Va(f,d,h,y){var b=z();try{return j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function ja(f,d,h){var y=z();try{return j(f)(d,h)}catch(b){if(W(y),b!==b+0)throw b;V(1,0)}}function qa(f,d,h){var y=z();try{j(f)(d,h)}catch(b){if(W(y),b!==b+0)throw b;V(1,0)}}function Ya(f,d){var h=z();try{return j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;V(1,0)}}function Ka(f,d){var h=z();try{j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;V(1,0)}}function Xa(f,d,h,y){var b=z();try{return j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function Ja(f){var d=z();try{j(f)()}catch(h){if(W(d),h!==h+0)throw h;V(1,0)}}function Za(f,d,h,y,b,T,_){var I=z();try{return j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function Qa(f,d,h,y,b,T){var _=z();try{return j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function ts(f,d,h,y,b){var T=z();try{return j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function es(f,d,h,y){var b=z();try{j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function rs(f,d,h,y,b){var T=z();try{j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function ns(f){var d=z();try{return j(f)()}catch(h){if(W(d),h!==h+0)throw h;V(1,0)}}function os(f,d,h){var y=z();try{return j(f)(d,h)}catch(b){if(W(y),b!==b+0)throw b;V(1,0)}}function is(f,d,h){var y=z();try{j(f)(d,h)}catch(b){if(W(y),b!==b+0)throw b;V(1,0)}}function as(f,d,h,y,b,T){var _=z();try{j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function ss(f,d,h,y,b,T,_,I){var D=z();try{return j(f)(d,h,y,b,T,_,I)}catch(C){if(W(D),C!==C+0)throw C;V(1,0)}}function us(f,d){var h=z();try{return j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;V(1,0)}}function fs(f,d){var h=z();try{return j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;return V(1,0),0n}}function cs(f,d){var h=z();try{return j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;V(1,0)}}function ls(f,d,h,y,b,T,_,I,D){var C=z();try{return j(f)(d,h,y,b,T,_,I,D)}catch(M){if(W(C),M!==M+0)throw M;V(1,0)}}function ds(f,d,h,y){var b=z();try{j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function ps(f,d,h,y,b,T,_){var I=z();try{j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function hs(f,d,h,y){var b=z();try{j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function ms(f,d,h,y,b,T,_){var I=z();try{j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function ys(f,d,h,y,b,T,_,I){var D=z();try{j(f)(d,h,y,b,T,_,I)}catch(C){if(W(D),C!==C+0)throw C;V(1,0)}}function gs(f,d,h,y,b){var T=z();try{j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function bs(f,d,h,y,b,T,_,I,D,C){var M=z();try{return j(f)(d,h,y,b,T,_,I,D,C)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function vs(f,d,h,y,b,T,_,I,D){var C=z();try{j(f)(d,h,y,b,T,_,I,D)}catch(M){if(W(C),M!==M+0)throw M;V(1,0)}}function ws(f,d,h,y,b,T,_,I,D,C,M){var X=z();try{return j(f)(d,h,y,b,T,_,I,D,C,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function Ts(f,d,h,y,b,T,_){var I=z();try{j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function xs(f,d,h,y,b,T,_,I,D,C){var M=z();try{j(f)(d,h,y,b,T,_,I,D,C)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function _s(f,d,h){var y=z();try{return j(f)(d,h)}catch(b){if(W(y),b!==b+0)throw b;return V(1,0),0n}}function Os(f,d,h,y){var b=z();try{j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function Is(f,d,h,y,b,T,_,I,D){var C=z();try{return j(f)(d,h,y,b,T,_,I,D)}catch(M){if(W(C),M!==M+0)throw M;V(1,0)}}function As(f,d,h,y,b,T,_,I,D,C,M,X){var Q=z();try{return j(f)(d,h,y,b,T,_,I,D,C,M,X)}catch(L){if(W(Q),L!==L+0)throw L;V(1,0)}}function Ss(f,d,h,y,b,T,_,I,D,C,M,X,Q,L){var et=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L)}catch(st){if(W(et),st!==st+0)throw st;V(1,0)}}function Ps(f,d,h,y,b,T,_,I,D,C,M,X){var Q=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X)}catch(L){if(W(Q),L!==L+0)throw L;V(1,0)}}function Es(f,d,h,y,b,T,_,I,D,C,M,X){var Q=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X)}catch(L){if(W(Q),L!==L+0)throw L;V(1,0)}}function Ds(f,d,h,y,b){var T=z();try{j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function ks(f,d,h,y,b,T,_){var I=z();try{j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function Ls(f,d,h,y,b,T,_,I,D){var C=z();try{j(f)(d,h,y,b,T,_,I,D)}catch(M){if(W(C),M!==M+0)throw M;V(1,0)}}function Cs(f,d,h,y,b,T,_){var I=z();try{j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function Fs(f,d,h,y,b,T,_,I,D,C,M){var X=z();try{j(f)(d,h,y,b,T,_,I,D,C,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function $s(f,d,h,y,b,T,_,I){var D=z();try{j(f)(d,h,y,b,T,_,I)}catch(C){if(W(D),C!==C+0)throw C;V(1,0)}}function Bs(f,d,h,y){var b=z();try{return j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;return V(1,0),0n}}function Ns(f,d,h,y,b){var T=z();try{j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Ms(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt){var Pt=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt)}catch(Lt){if(W(Pt),Lt!==Lt+0)throw Lt;V(1,0)}}function Rs(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st){var mt=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st)}catch(Pt){if(W(mt),Pt!==Pt+0)throw Pt;V(1,0)}}function Gs(f,d,h,y,b,T){var _=z();try{j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function Us(f,d,h,y,b,T,_,I,D){var C=z();try{j(f)(d,h,y,b,T,_,I,D)}catch(M){if(W(C),M!==M+0)throw M;V(1,0)}}function Ws(f,d,h,y,b){var T=z();try{return j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function zs(f,d,h,y,b,T,_,I,D,C,M,X,Q,L){var et=z();try{return j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L)}catch(st){if(W(et),st!==st+0)throw st;V(1,0)}}function Hs(f,d){var h=z();try{j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;V(1,0)}}function Vs(f,d,h){var y=z();try{return j(f)(d,h)}catch(b){if(W(y),b!==b+0)throw b;return V(1,0),0n}}function js(f,d,h,y,b,T,_,I,D,C){var M=z();try{return j(f)(d,h,y,b,T,_,I,D,C)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function qs(f,d,h,y,b){var T=z();try{return j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Ys(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et){var st=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et)}catch(mt){if(W(st),mt!==mt+0)throw mt;V(1,0)}}function Ks(f,d,h,y,b){var T=z();try{j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Xs(f,d,h,y,b,T,_){var I=z();try{j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function Js(f,d,h,y,b){var T=z();try{j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Zs(f,d,h,y,b,T,_,I){var D=z();try{j(f)(d,h,y,b,T,_,I)}catch(C){if(W(D),C!==C+0)throw C;V(1,0)}}function Qs(f,d,h,y,b,T,_,I,D,C,M){var X=z();try{j(f)(d,h,y,b,T,_,I,D,C,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function tu(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt){var Pt=z();try{return j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt)}catch(Lt){if(W(Pt),Lt!==Lt+0)throw Lt;V(1,0)}}function eu(f,d,h,y,b,T,_,I,D,C,M,X,Q){var L=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q)}catch(et){if(W(L),et!==et+0)throw et;V(1,0)}}function ru(f,d){var h=z();try{return j(f)(d)}catch(y){if(W(h),y!==y+0)throw y;V(1,0)}}function nu(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe){var ie=z();try{return j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe)}catch(ae){if(W(ie),ae!==ae+0)throw ae;V(1,0)}}function ou(f,d,h,y,b,T,_,I,D,C){var M=z();try{j(f)(d,h,y,b,T,_,I,D,C)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function iu(f,d,h,y,b,T,_){var I=z();try{return j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function au(f,d,h,y,b,T,_,I,D,C,M){var X=z();try{j(f)(d,h,y,b,T,_,I,D,C,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function su(f,d,h,y,b,T){var _=z();try{return j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function uu(f,d,h,y,b,T){var _=z();try{j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function fu(f,d,h,y,b,T,_,I,D,C,M,X,Q,L){var et=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L)}catch(st){if(W(et),st!==st+0)throw st;V(1,0)}}function cu(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt){var Lt=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt)}catch(oe){if(W(Lt),oe!==oe+0)throw oe;V(1,0)}}function lu(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt){var Pt=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt)}catch(Lt){if(W(Pt),Lt!==Lt+0)throw Lt;V(1,0)}}function du(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st){var mt=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st)}catch(Pt){if(W(mt),Pt!==Pt+0)throw Pt;V(1,0)}}function pu(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et){var st=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et)}catch(mt){if(W(st),mt!==mt+0)throw mt;V(1,0)}}function hu(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe,ie){var ae=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe,ie)}catch(_r){if(W(ae),_r!==_r+0)throw _r;V(1,0)}}function mu(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt){var oe=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt)}catch(ie){if(W(oe),ie!==ie+0)throw ie;V(1,0)}}function yu(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt){var Pt=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt)}catch(Lt){if(W(Pt),Lt!==Lt+0)throw Lt;V(1,0)}}function gu(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe){var ie=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe)}catch(ae){if(W(ie),ae!==ae+0)throw ae;V(1,0)}}function bu(f,d,h,y,b,T,_,I,D,C){var M=z();try{j(f)(d,h,y,b,T,_,I,D,C)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function vu(f,d,h,y,b,T,_,I,D,C,M){var X=z();try{j(f)(d,h,y,b,T,_,I,D,C,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function wu(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et){var st=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et)}catch(mt){if(W(st),mt!==mt+0)throw mt;V(1,0)}}function Tu(f,d,h,y,b,T,_,I,D,C){var M=z();try{j(f)(d,h,y,b,T,_,I,D,C)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function xu(f,d,h,y,b,T,_,I,D){var C=z();try{j(f)(d,h,y,b,T,_,I,D)}catch(M){if(W(C),M!==M+0)throw M;V(1,0)}}function _u(f,d,h,y,b,T,_){var I=z();try{return j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function Ou(f,d,h,y,b){var T=z();try{j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Iu(f,d,h){var y=z();try{return j(f)(d,h)}catch(b){if(W(y),b!==b+0)throw b;return V(1,0),0n}}function Au(f,d,h,y,b,T,_){var I=z();try{return j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function Su(f,d,h,y,b,T){var _=z();try{j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function Pu(f,d,h,y,b,T,_,I,D,C,M){var X=z();try{j(f)(d,h,y,b,T,_,I,D,C,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function Eu(f,d,h,y,b,T,_,I,D,C,M,X,Q){var L=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q)}catch(et){if(W(L),et!==et+0)throw et;V(1,0)}}function Du(f,d,h,y,b,T){var _=z();try{return j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function ku(f,d,h,y,b,T,_,I,D,C,M,X,Q){var L=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q)}catch(et){if(W(L),et!==et+0)throw et;V(1,0)}}function Lu(f,d,h,y,b,T,_,I){var D=z();try{j(f)(d,h,y,b,T,_,I)}catch(C){if(W(D),C!==C+0)throw C;V(1,0)}}function Cu(f,d,h,y,b,T,_,I){var D=z();try{j(f)(d,h,y,b,T,_,I)}catch(C){if(W(D),C!==C+0)throw C;V(1,0)}}function Fu(f,d,h,y){var b=z();try{return j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function $u(f,d,h,y,b,T,_,I,D,C){var M=z();try{j(f)(d,h,y,b,T,_,I,D,C)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function Bu(f,d,h,y,b,T,_,I,D){var C=z();try{j(f)(d,h,y,b,T,_,I,D)}catch(M){if(W(C),M!==M+0)throw M;V(1,0)}}function Nu(f,d,h,y,b,T,_,I,D){var C=z();try{j(f)(d,h,y,b,T,_,I,D)}catch(M){if(W(C),M!==M+0)throw M;V(1,0)}}function En(f,d,h,y,b,T,_,I,D,C){var M=z();try{j(f)(d,h,y,b,T,_,I,D,C)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function xi(f,d,h,y,b,T){var _=z();try{j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function l(f,d,h,y,b,T,_,I,D,C,M,X){var Q=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X)}catch(L){if(W(Q),L!==L+0)throw L;V(1,0)}}function p(f,d,h,y,b,T,_,I,D,C,M,X,Q,L){var et=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L)}catch(st){if(W(et),st!==st+0)throw st;V(1,0)}}function m(f,d,h,y,b,T,_,I){var D=z();try{return j(f)(d,h,y,b,T,_,I)}catch(C){if(W(D),C!==C+0)throw C;V(1,0)}}function g(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et){var st=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et)}catch(mt){if(W(st),mt!==mt+0)throw mt;V(1,0)}}function v(f,d,h,y,b,T,_,I,D,C,M,X,Q,L){var et=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L)}catch(st){if(W(et),st!==st+0)throw st;V(1,0)}}function x(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et){var st=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et)}catch(mt){if(W(st),mt!==mt+0)throw mt;V(1,0)}}function O(f,d,h){var y=z();try{j(f)(d,h)}catch(b){if(W(y),b!==b+0)throw b;V(1,0)}}function A(f,d,h,y,b,T,_,I,D){var C=z();try{j(f)(d,h,y,b,T,_,I,D)}catch(M){if(W(C),M!==M+0)throw M;V(1,0)}}function k(f,d,h,y,b,T,_,I,D,C,M){var X=z();try{j(f)(d,h,y,b,T,_,I,D,C,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function B(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe,ie,ae,_r,Lg,Cg,Fg){var $g=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe,ie,ae,_r,Lg,Cg,Fg)}catch(Wu){if(W($g),Wu!==Wu+0)throw Wu;V(1,0)}}function R(f,d,h,y,b,T){var _=z();try{j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function J(f,d,h,y,b,T,_,I,D,C,M,X,Q){var L=z();try{return j(f)(d,h,y,b,T,_,I,D,C,M,X,Q)}catch(et){if(W(L),et!==et+0)throw et;V(1,0)}}function tt(f,d,h,y,b,T,_,I,D,C,M,X){var Q=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X)}catch(L){if(W(Q),L!==L+0)throw L;V(1,0)}}function F(f,d,h,y,b,T,_,I,D,C,M,X,Q){var L=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q)}catch(et){if(W(L),et!==et+0)throw et;V(1,0)}}function rt(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe,ie){var ae=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe,ie)}catch(_r){if(W(ae),_r!==_r+0)throw _r;V(1,0)}}function ct(f,d,h){var y=z();try{return j(f)(d,h)}catch(b){if(W(y),b!==b+0)throw b;V(1,0)}}function gt(f,d,h,y,b,T,_,I,D,C,M,X,Q){var L=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q)}catch(et){if(W(L),et!==et+0)throw et;V(1,0)}}function St(f,d,h,y,b,T,_,I,D,C,M,X,Q,L){var et=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L)}catch(st){if(W(et),st!==st+0)throw st;V(1,0)}}function Ct(f,d,h,y,b,T,_,I){var D=z();try{j(f)(d,h,y,b,T,_,I)}catch(C){if(W(D),C!==C+0)throw C;V(1,0)}}function te(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt){var Pt=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt)}catch(Lt){if(W(Pt),Lt!==Lt+0)throw Lt;V(1,0)}}function ee(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe){var ie=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe)}catch(ae){if(W(ie),ae!==ae+0)throw ae;V(1,0)}}function re(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt){var oe=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt)}catch(ie){if(W(oe),ie!==ie+0)throw ie;V(1,0)}}function er(f,d,h,y,b,T,_,I,D,C,M){var X=z();try{j(f)(d,h,y,b,T,_,I,D,C,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function Mu(f,d,h,y,b,T,_,I,D,C,M){var X=z();try{return j(f)(d,h,y,b,T,_,I,D,C,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function Ru(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe){var ie=z();try{return j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st,mt,Pt,Lt,oe)}catch(ae){if(W(ie),ae!==ae+0)throw ae;V(1,0)}}function Gu(f,d,h,y,b){var T=z();try{j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Uu(f,d,h,y,b,T,_,I,D,C,M,X){var Q=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X)}catch(L){if(W(Q),L!==L+0)throw L;V(1,0)}}function po(f,d,h,y,b){var T=z();try{return j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function qy(f,d,h,y){var b=z();try{return j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;return V(1,0),0n}}function Yy(f,d,h,y,b,T,_){var I=z();try{j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function Ky(f,d,h,y,b,T){var _=z();try{return j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function Xy(f,d,h,y,b){var T=z();try{j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Jy(f,d,h,y,b,T){var _=z();try{return j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function Zy(f,d,h,y,b,T,_,I,D){var C=z();try{j(f)(d,h,y,b,T,_,I,D)}catch(M){if(W(C),M!==M+0)throw M;V(1,0)}}function Qy(f,d,h,y){var b=z();try{j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function tg(f,d,h,y,b,T,_,I){var D=z();try{return j(f)(d,h,y,b,T,_,I)}catch(C){if(W(D),C!==C+0)throw C;V(1,0)}}function eg(f,d,h,y){var b=z();try{j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function rg(f,d,h,y,b,T){var _=z();try{return j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function ng(f,d,h,y,b,T){var _=z();try{return j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function og(f,d,h,y,b,T,_,I,D,C,M,X){var Q=z();try{return j(f)(d,h,y,b,T,_,I,D,C,M,X)}catch(L){if(W(Q),L!==L+0)throw L;V(1,0)}}function ig(f,d,h,y,b,T,_,I){var D=z();try{return j(f)(d,h,y,b,T,_,I)}catch(C){if(W(D),C!==C+0)throw C;V(1,0)}}function ag(f,d,h,y,b,T,_,I,D,C,M){var X=z();try{return j(f)(d,h,y,b,T,_,I,D,C,M)}catch(Q){if(W(X),Q!==Q+0)throw Q;V(1,0)}}function sg(f,d,h,y,b,T,_){var I=z();try{return j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function ug(f,d,h,y,b,T,_,I,D,C,M,X,Q){var L=z();try{return j(f)(d,h,y,b,T,_,I,D,C,M,X,Q)}catch(et){if(W(L),et!==et+0)throw et;V(1,0)}}function fg(f,d,h,y,b,T,_){var I=z();try{return j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function cg(f,d,h,y,b,T,_){var I=z();try{return j(f)(d,h,y,b,T,_)}catch(D){if(W(I),D!==D+0)throw D;V(1,0)}}function lg(f,d,h,y){var b=z();try{return j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function dg(f,d,h,y,b,T,_,I,D,C){var M=z();try{j(f)(d,h,y,b,T,_,I,D,C)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function pg(f,d,h,y,b,T,_,I,D,C,M,X,Q){var L=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q)}catch(et){if(W(L),et!==et+0)throw et;V(1,0)}}function hg(f,d,h){var y=z();try{return j(f)(d,h)}catch(b){if(W(y),b!==b+0)throw b;V(1,0)}}function mg(f,d,h,y){var b=z();try{return j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function yg(f,d,h,y){var b=z();try{j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function gg(f,d,h,y){var b=z();try{return j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function bg(f,d,h,y,b){var T=z();try{j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function vg(f,d,h,y,b,T){var _=z();try{return j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function wg(f,d,h,y,b,T,_,I,D,C,M,X,Q){var L=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q)}catch(et){if(W(L),et!==et+0)throw et;V(1,0)}}function Tg(f,d,h,y,b,T,_,I,D,C){var M=z();try{j(f)(d,h,y,b,T,_,I,D,C)}catch(X){if(W(M),X!==X+0)throw X;V(1,0)}}function xg(f,d,h,y){var b=z();try{return j(f)(d,h,y)}catch(T){if(W(b),T!==T+0)throw T;V(1,0)}}function _g(f,d,h,y,b,T,_,I,D,C,M,X){var Q=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X)}catch(L){if(W(Q),L!==L+0)throw L;V(1,0)}}function Og(f,d,h,y,b){var T=z();try{return j(f)(d,h,y,b)}catch(_){if(W(T),_!==_+0)throw _;V(1,0)}}function Ig(f){var d=z();try{return j(f)()}catch(h){if(W(d),h!==h+0)throw h;return V(1,0),0n}}function Ag(f,d,h,y,b,T){var _=z();try{return j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function Sg(f,d,h,y,b,T){var _=z();try{return j(f)(d,h,y,b,T)}catch(I){if(W(_),I!==I+0)throw I;V(1,0)}}function Pg(f,d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st){var mt=z();try{j(f)(d,h,y,b,T,_,I,D,C,M,X,Q,L,et,st)}catch(Pt){if(W(mt),Pt!==Pt+0)throw Pt;V(1,0)}}function Eg(f,d,h){var y=z();try{return j(f)(d,h)}catch(b){if(W(y),b!==b+0)throw b;V(1,0)}}function Dg(f,d,h){var y=z();try{return j(f)(d,h)}catch(b){if(W(y),b!==b+0)throw b;V(1,0)}}function kg(){var f=vt;f=Object.assign({},f);var d=y=>()=>y()>>>0,h=y=>b=>y(b)>>>0;return f.__errno_location=d(f.__errno_location),f.je=d(f.je),f.ke=h(f.ke),f.ne=h(f.ne),f.ze=d(f.ze),f.Be=h(f.Be),f}c.keepRuntimeAlive=Hr,c.wasmMemory=Ht,c.stackAlloc=lo,c.stackSave=z,c.stackRestore=W,c.UTF8ToString=he,c.stringToUTF8=Xn,c.lengthBytesUTF8=qr,c.ExitStatus=Le,c.PThread=At;var _i;cr=function f(){_i||Oc(),_i||(cr=f)};function Oc(){0<Ze||(ot?(w(c),ot||Vr(fr),startWorker(c)):(Vr(xe),0<Ze||_i||(_i=!0,c.calledRun=!0,Oe||(ot||Vr(fr),w(c),ot||Vr(Er)))))}return Oc(),e.ready}})();typeof ly=="object"&&typeof oc=="object"?oc.exports=cy:typeof define=="function"&&define.amd&&define([],()=>cy)});var py=qt((pP,mw)=>{mw.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\n'});var my,yw,ic,ac,va,hy,gw,bw,vw,yy,ce,zn=it(()=>{"use strict";my=iy();yw=dy(),ac=!1,va=!1,hy=!1,gw=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},bw=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},vw=(i,e)=>i?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":e?"ort-wasm-threaded.wasm":"ort-wasm.wasm",yy=async i=>{if(ac)return Promise.resolve();if(va)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(hy)throw new Error("previous call to 'initializeWebAssembly()' failed.");va=!0;let e=i.initTimeout,o=i.numThreads,t=i.simd,r=o>1&&gw(),n=t&&bw(),s=i.wasmPaths,a=typeof s=="string"?s:void 0,u=vw(n,r),c=typeof s=="object"?s[u]:void 0,w=!1,S=[];if(e>0&&S.push(new Promise(E=>{setTimeout(()=>{w=!0,E()},e)})),S.push(new Promise((E,N)=>{let Z=r?yw:my,H={locateFile:(nt,at)=>r&&nt.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([py()],{type:"text/javascript"})):nt.endsWith(".wasm")?c||(a??at)+u:at+nt};if(r)if(typeof Blob>"u")H.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let nt=`var ortWasmThreaded=${Z.toString()};`;H.mainScriptUrlOrBlob=new Blob([nt],{type:"text/javascript"})}Z(H).then(nt=>{va=!1,ac=!0,ic=nt,E()},nt=>{va=!1,hy=!0,N(nt)})})),await Promise.race(S),w)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},ce=()=>{if(ac&&ic)return ic;throw new Error("WebAssembly is not initialized yet.")}});var le,ko,ne,wa=it(()=>{"use strict";zn();le=(i,e)=>{let o=ce(),t=o.lengthBytesUTF8(i)+1,r=o._malloc(t);return o.stringToUTF8(i,r,t),e.push(r),r},ko=(i,e,o,t)=>{if(typeof i=="object"&&i!==null){if(o.has(i))throw new Error("Circular reference in options");o.add(i)}Object.entries(i).forEach(([r,n])=>{let s=e?e+r:r;if(typeof n=="object")ko(n,s+".",o,t);else if(typeof n=="string"||typeof n=="number")t(s,n.toString());else if(typeof n=="boolean")t(s,n?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof n}`)})},ne=i=>{let e=ce(),o=e.stackSave();try{let t=e.stackAlloc(8);e._OrtGetLastError(t,t+4);let r=e.HEAP32[t/4],n=e.HEAPU32[t/4+1],s=n?e.UTF8ToString(n):"";throw new Error(`${i} ERROR_CODE: ${r}, ERROR_MESSAGE: ${s}`)}finally{e.stackRestore(o)}}});var gy,by=it(()=>{"use strict";zn();wa();gy=i=>{let e=ce(),o=0,t=[],r=i||{};try{if(i?.logSeverityLevel===void 0)r.logSeverityLevel=2;else if(typeof i.logSeverityLevel!="number"||!Number.isInteger(i.logSeverityLevel)||i.logSeverityLevel<0||i.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${i.logSeverityLevel}`);if(i?.logVerbosityLevel===void 0)r.logVerbosityLevel=0;else if(typeof i.logVerbosityLevel!="number"||!Number.isInteger(i.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${i.logVerbosityLevel}`);i?.terminate===void 0&&(r.terminate=!1);let n=0;return i?.tag!==void 0&&(n=le(i.tag,t)),o=e._OrtCreateRunOptions(r.logSeverityLevel,r.logVerbosityLevel,!!r.terminate,n),o===0&&ne("Can't create run options."),i?.extra!==void 0&&ko(i.extra,"",new WeakSet,(s,a)=>{let u=le(s,t),c=le(a,t);e._OrtAddRunConfigEntry(o,u,c)!==0&&ne(`Can't set a run config entry: ${s} - ${a}.`)}),[o,t]}catch(n){throw o!==0&&e._OrtReleaseRunOptions(o),t.forEach(s=>e._free(s)),n}}});var ww,Tw,xw,_w,vy,wy=it(()=>{"use strict";zn();wa();ww=i=>{switch(i){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${i}`)}},Tw=i=>{switch(i){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${i}`)}},xw=i=>{i.extra||(i.extra={}),i.extra.session||(i.extra.session={});let e=i.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1"),i.executionProviders&&i.executionProviders.some(o=>(typeof o=="string"?o:o.name)==="webgpu")&&(i.enableMemPattern=!1)},_w=(i,e,o)=>{for(let t of e){let r=typeof t=="string"?t:t.name;switch(r){case"xnnpack":r="XNNPACK";break;case"webnn":if(r="WEBNN",typeof t!="string"){let s=t;if(s?.deviceType){let a=le("deviceType",o),u=le(s.deviceType,o);ce()._OrtAddSessionConfigEntry(i,a,u)!==0&&ne(`Can't set a session config entry: 'deviceType' - ${s.deviceType}.`)}if(s?.numThreads){let a=s.numThreads;(typeof a!="number"||!Number.isInteger(a)||a<0)&&(a=0);let u=le("numThreads",o),c=le(a.toString(),o);ce()._OrtAddSessionConfigEntry(i,u,c)!==0&&ne(`Can't set a session config entry: 'numThreads' - ${s.numThreads}.`)}if(s?.powerPreference){let a=le("powerPreference",o),u=le(s.powerPreference,o);ce()._OrtAddSessionConfigEntry(i,a,u)!==0&&ne(`Can't set a session config entry: 'powerPreference' - ${s.powerPreference}.`)}}break;case"webgpu":if(r="JS",typeof t!="string"){let s=t;if(s?.preferredLayout){if(s.preferredLayout!=="NCHW"&&s.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${s.preferredLayout}`);let a=le("preferredLayout",o),u=le(s.preferredLayout,o);ce()._OrtAddSessionConfigEntry(i,a,u)!==0&&ne(`Can't set a session config entry: 'preferredLayout' - ${s.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${r}`)}let n=le(r,o);ce()._OrtAppendExecutionProvider(i,n)!==0&&ne(`Can't append execution provider: ${r}.`)}},vy=i=>{let e=ce(),o=0,t=[],r=i||{};xw(r);try{let n=ww(r.graphOptimizationLevel??"all"),s=Tw(r.executionMode??"sequential"),a=typeof r.logId=="string"?le(r.logId,t):0,u=r.logSeverityLevel??2;if(!Number.isInteger(u)||u<0||u>4)throw new Error(`log serverity level is not valid: ${u}`);let c=r.logVerbosityLevel??0;if(!Number.isInteger(c)||c<0||c>4)throw new Error(`log verbosity level is not valid: ${c}`);let w=typeof r.optimizedModelFilePath=="string"?le(r.optimizedModelFilePath,t):0;if(o=e._OrtCreateSessionOptions(n,!!r.enableCpuMemArena,!!r.enableMemPattern,s,!!r.enableProfiling,0,a,u,c,w),o===0&&ne("Can't create session options."),r.executionProviders&&_w(o,r.executionProviders,t),r.freeDimensionOverrides)for(let[S,E]of Object.entries(r.freeDimensionOverrides)){if(typeof S!="string")throw new Error(`free dimension override name must be a string: ${S}`);if(typeof E!="number"||!Number.isInteger(E)||E<0)throw new Error(`free dimension override value must be a non-negative integer: ${E}`);let N=le(S,t);e._OrtAddFreeDimensionOverride(o,N,E)!==0&&ne(`Can't set a free dimension override: ${S} - ${E}.`)}return r.extra!==void 0&&ko(r.extra,"",new WeakSet,(S,E)=>{let N=le(S,t),Z=le(E,t);e._OrtAddSessionConfigEntry(o,N,Z)!==0&&ne(`Can't set a session config entry: ${S} - ${E}.`)}),[o,t]}catch(n){throw o!==0&&e._OrtReleaseSessionOptions(o),t.forEach(s=>e._free(s)),n}}});var sc,Ty,uc,xy,_y,Ta,Oy,fc=it(()=>{"use strict";sc=i=>{switch(i){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${i}`)}},Ty=i=>{switch(i){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${i}`)}},uc=i=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][i],xy=i=>{switch(i){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${i}`)}},_y=i=>{switch(i){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${i}`)}},Ta=i=>i==="float32"||i==="int32"||i==="int64"||i==="bool"||i==="float16"||i==="uint32",Oy=i=>{switch(i){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${i}`)}}});var Ow,Iw,Ay,Lo,cc,lc,Sy,Py,Iy,Ey,Dy,ky,Ly=it(()=>{"use strict";by();wy();fc();zn();wa();Ow=i=>{let e=ce(),o=e.stackSave();try{let t=e.stackAlloc(8);return e._OrtGetInputOutputCount(i,t,t+4)!==0&&ne("Can't get session input/output count."),[e.HEAP32[t/4],e.HEAP32[t/4+1]]}finally{e.stackRestore(o)}},Iw=(i,e)=>{ce()._OrtInit(i,e)!==0&&ne("Can't initialize onnxruntime.")},Ay=async i=>{Iw(i.wasm.numThreads,_y(i.logLevel))},Lo=new Map,cc=i=>{let e=ce(),o=e._malloc(i.byteLength);if(o===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${i.byteLength}.`);return e.HEAPU8.set(i,o),[o,i.byteLength]},lc=(i,e)=>{let o=ce(),t=0,r=0,n=0,s=[],a=[],u=[];try{[r,s]=vy(e),t=o._OrtCreateSession(i[0],i[1],r),t===0&&ne("Can't create a session.");let[c,w]=Ow(t),S=[],E=[],N=[];for(let H=0;H<c;H++){let nt=o._OrtGetInputName(t,H);nt===0&&ne("Can't get an input name."),a.push(nt),S.push(o.UTF8ToString(nt))}for(let H=0;H<w;H++){let nt=o._OrtGetOutputName(t,H);nt===0&&ne("Can't get an output name."),u.push(nt);let at=o.UTF8ToString(nt);E.push(at)}let Z=null;return Lo.set(t,[t,a,u,Z]),[t,S,E]}catch(c){throw a.forEach(w=>o._OrtFree(w)),u.forEach(w=>o._OrtFree(w)),n!==0&&o._OrtReleaseBinding(n),t!==0&&o._OrtReleaseSession(t),c}finally{o._free(i[0]),r!==0&&o._OrtReleaseSessionOptions(r),s.forEach(c=>o._free(c))}},Sy=(i,e)=>{let o=cc(i);return lc(o,e)},Py=i=>{let e=ce(),o=Lo.get(i);if(!o)throw new Error(`cannot release session. invalid session id: ${i}`);let[t,r,n,s]=o;s&&e._OrtReleaseBinding(s.handle),e.jsepUnregisterBuffers?.(i),r.forEach(a=>e._OrtFree(a)),n.forEach(a=>e._OrtFree(a)),e._OrtReleaseSession(t),Lo.delete(i)},Iy=(i,e,o,t,r)=>{if(!i){e.push(0);return}let n=ce(),s=i[0],a=i[1],u=i[3],c,w;if(s==="string"&&u==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(u==="gpu-buffer"){let N=i[2].gpuBuffer,Z=uc(sc(s));w=a.reduce((H,nt)=>H*nt,1)*Z,c=n.jsepRegisterBuffer(t,r,N,w)}else{let N=i[2];if(Array.isArray(N)){w=4*N.length,c=n._malloc(w),o.push(c);let Z=c/4;for(let H=0;H<N.length;H++){if(typeof N[H]!="string")throw new TypeError(`tensor data at index ${H} is not a string`);n.HEAPU32[Z++]=le(N[H],o)}}else w=N.byteLength,c=n._malloc(w),o.push(c),n.HEAPU8.set(new Uint8Array(N.buffer,N.byteOffset,w),c)}let S=n.stackSave(),E=n.stackAlloc(4*a.length);try{let N=E/4;a.forEach(H=>n.HEAP32[N++]=H);let Z=n._OrtCreateTensor(sc(s),c,w,E,a.length,Oy(u));Z===0&&ne(`Can't create tensor for input/output. session=${t}, index=${r}.`),e.push(Z)}finally{n.stackRestore(S)}},Ey=async(i,e,o,t,r,n)=>{let s=ce(),a=Lo.get(i);if(!a)throw new Error(`cannot run inference. invalid session id: ${i}`);let[u,c,w,S]=a,E=e.length,N=t.length,Z=0,H=[],nt=[],at=[],ot=[],ft=s.stackSave(),xt=s.stackAlloc(E*4),yt=s.stackAlloc(E*4),Wt=s.stackAlloc(N*4),Zt=s.stackAlloc(N*4);try{[Z,H]=gy(n);for(let Bt=0;Bt<E;Bt++)Iy(o[Bt],nt,ot,i,e[Bt]);for(let Bt=0;Bt<N;Bt++)Iy(r[Bt],at,ot,i,E+t[Bt]);let pt=xt/4,It=yt/4,Ue=Wt/4,_t=Zt/4;for(let Bt=0;Bt<E;Bt++)s.HEAPU32[pt++]=nt[Bt],s.HEAPU32[It++]=c[e[Bt]];for(let Bt=0;Bt<N;Bt++)s.HEAPU32[Ue++]=at[Bt],s.HEAPU32[_t++]=w[t[Bt]];let Ur;Ur=await s._OrtRun(u,yt,xt,E,Zt,N,Wt,Z),Ur!==0&&ne("failed to call OrtRun().");let de=[];for(let Bt=0;Bt<N;Bt++){let Ht=s.HEAPU32[Wt/4+Bt];if(Ht===at[Bt]){de.push(r[Bt]);continue}let vr=s.stackSave(),Oe=s.stackAlloc(4*4),be=!1,Vt,me=0;try{s._OrtGetTensorData(Ht,Oe,Oe+4,Oe+8,Oe+12)!==0&&ne(`Can't access output tensor data on index ${Bt}.`);let ur=Oe/4,Xe=s.HEAPU32[ur++];me=s.HEAPU32[ur++];let Pr=s.HEAPU32[ur++],Wr=s.HEAPU32[ur++],Ie=[];for(let zt=0;zt<Wr;zt++)Ie.push(s.HEAPU32[Pr/4+zt]);s._OrtFree(Pr);let Je=Ie.reduce((zt,Qt)=>zt*Qt,1);Vt=Ty(Xe);let zr=S?.outputPreferredLocations[t[Bt]];if(Vt==="string"){if(zr==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let zt=[],Qt=me/4;for(let xe=0;xe<Je;xe++){let fr=s.HEAPU32[Qt++],Er=xe===Je-1?void 0:s.HEAPU32[Qt]-fr;zt.push(s.UTF8ToString(fr,Er))}de.push([Vt,Ie,zt,"cpu"])}else if(zr==="gpu-buffer"&&Je>0){let zt=s.jsepGetBuffer(me),Qt=uc(Xe);if(Qt===void 0||!Ta(Vt))throw new Error(`Unsupported data type: ${Vt}`);be=!0,de.push([Vt,Ie,{gpuBuffer:zt,download:s.jsepCreateDownloader(zt,Je*Qt,Vt),dispose:()=>{s._OrtReleaseTensor(Ht)}},"gpu-buffer"])}else{let zt=xy(Vt),Qt=new zt(Je);new Uint8Array(Qt.buffer,Qt.byteOffset,Qt.byteLength).set(s.HEAPU8.subarray(me,me+Qt.byteLength)),de.push([Vt,Ie,Qt,"cpu"])}}finally{s.stackRestore(vr),Vt==="string"&&me&&s._free(me),be||s._OrtReleaseTensor(Ht)}}return S&&s._OrtClearBoundOutputs(S.handle),de}finally{s.stackRestore(ft),nt.forEach(pt=>s._OrtReleaseTensor(pt)),at.forEach(pt=>s._OrtReleaseTensor(pt)),ot.forEach(pt=>s._free(pt)),Z!==0&&s._OrtReleaseRunOptions(Z),H.forEach(pt=>s._free(pt))}},Dy=i=>{let e=ce(),o=Lo.get(i);if(!o)throw new Error("invalid session id");let t=o[0],r=e._OrtEndProfiling(t);r===0&&ne("Can't get an profile file name."),e._OrtFree(r)},ky=i=>{let e=[];for(let o of i){let t=o[2];!Array.isArray(t)&&"buffer"in t&&e.push(t.buffer)}return e}});var Cy=qt((DP,Sw)=>{Sw.exports='/*!\n * ONNX Runtime Web v1.17.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Da=Object.defineProperty;var hc=Object.getOwnPropertyDescriptor;var dc=Object.getOwnPropertyNames;var lc=Object.prototype.hasOwnProperty;var Wa=(U,H)=>()=>(U&&(H=U(U=0)),H);var wr=(U,H)=>()=>(H||U((H={exports:{}}).exports,H),H.exports),Ia=(U,H)=>{for(var T in H)Da(U,T,{get:H[T],enumerable:!0})},vc=(U,H,T,z)=>{if(H&&typeof H=="object"||typeof H=="function")for(let Y of dc(H))!lc.call(U,Y)&&Y!==T&&Da(U,Y,{get:()=>H[Y],enumerable:!(z=hc(H,Y))||z.enumerable});return U};var mr=U=>vc(Da({},"__esModule",{value:!0}),U);var Ua={};Ia(Ua,{readFile:()=>yc});var yc,xa=Wa(()=>{yc=void 0});var Ba={};Ia(Ba,{join:()=>pc});var pc,Ra=Wa(()=>{pc=void 0});var Xa=wr((Ka,La)=>{"use strict";var Ja=(()=>{var U=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(U=U||__filename),function(H={}){var T=H,z,Y;T.ready=new Promise((e,n)=>{z=e,Y=n});var Q=Object.assign({},T),B="./this.program",q=typeof window=="object",at=typeof importScripts=="function",x=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",it="",yt,ft,st;if(x){var wt=(xa(),mr(Ua)),ht=(Ra(),mr(Ba));it=at?ht.dirname(it)+"/":__dirname+"/",yt=(e,n)=>(e=e.startsWith("file://")?new URL(e):ht.normalize(e),wt.readFileSync(e,n?void 0:"utf8")),st=e=>(e=yt(e,!0),e.buffer||(e=new Uint8Array(e)),e),ft=(e,n,a,c=!0)=>{e=e.startsWith("file://")?new URL(e):ht.normalize(e),wt.readFile(e,c?void 0:"utf8",(f,h)=>{f?a(f):n(c?h.buffer:h)})},!T.thisProgram&&1<process.argv.length&&(B=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),T.inspect=()=>"[Emscripten Module object]"}else(q||at)&&(at?it=self.location.href:typeof document<"u"&&document.currentScript&&(it=document.currentScript.src),U&&(it=U),it.indexOf("blob:")!==0?it=it.substr(0,it.replace(/[?#].*/,"").lastIndexOf("/")+1):it="",yt=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},at&&(st=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),ft=(e,n,a)=>{var c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?n(c.response):a()},c.onerror=a,c.send(null)});var lt=console.log.bind(console),mt=console.error.bind(console);Object.assign(T,Q),Q=null,typeof WebAssembly!="object"&&ve("no native wasm support detected");var tt,Ut=!1,Lt,bt,Gt,Qt,J,ct,be,_e,Te,Dt;function dt(){var e=tt.buffer;T.HEAP8=Lt=new Int8Array(e),T.HEAP16=Gt=new Int16Array(e),T.HEAPU8=bt=new Uint8Array(e),T.HEAPU16=Qt=new Uint16Array(e),T.HEAP32=J=new Int32Array(e),T.HEAPU32=ct=new Uint32Array(e),T.HEAPF32=be=new Float32Array(e),T.HEAPF64=Dt=new Float64Array(e),T.HEAP64=_e=new BigInt64Array(e),T.HEAPU64=Te=new BigUint64Array(e)}var pt=[],fe=[],$t=[],xt=0,gt=null,It=null;function ve(e){throw e="Aborted("+e+")",mt(e),Ut=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),Y(e),e}function ae(e){return e.startsWith("data:application/octet-stream;base64,")}var Vt;if(Vt="ort-wasm.wasm",!ae(Vt)){var ye=Vt;Vt=T.locateFile?T.locateFile(ye,it):it+ye}function Ae(e){if(st)return st(e);throw"both async and sync fetching of the wasm failed"}function Nt(e){if(q||at){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(n=>{if(!n.ok)throw"failed to load wasm binary file at \'"+e+"\'";return n.arrayBuffer()}).catch(()=>Ae(e));if(ft)return new Promise((n,a)=>{ft(e,c=>n(new Uint8Array(c)),a)})}return Promise.resolve().then(()=>Ae(e))}function te(e,n,a){return Nt(e).then(c=>WebAssembly.instantiate(c,n)).then(c=>c).then(a,c=>{mt(`failed to asynchronously prepare wasm: ${c}`),ve(c)})}function Ee(e,n){var a=Vt;return typeof WebAssembly.instantiateStreaming!="function"||ae(a)||a.startsWith("file://")||x||typeof fetch!="function"?te(a,e,n):fetch(a,{credentials:"same-origin"}).then(c=>WebAssembly.instantiateStreaming(c,e).then(n,function(f){return mt(`wasm streaming compile failed: ${f}`),mt("falling back to ArrayBuffer instantiation"),te(a,e,n)}))}var vt=[],_t=0,Ht=0;function ie(e){this.qe=e,this.ke=e-24,this.Ie=function(n){ct[this.ke+4>>>2>>>0]=n},this.re=function(){return ct[this.ke+4>>>2>>>0]},this.He=function(n){ct[this.ke+8>>>2>>>0]=n},this.ye=function(n){Lt[this.ke+12>>>0>>>0]=n?1:0},this.Ee=function(){return Lt[this.ke+12>>>0>>>0]!=0},this.ze=function(n){Lt[this.ke+13>>>0>>>0]=n?1:0},this.Ae=function(){return Lt[this.ke+13>>>0>>>0]!=0},this.Ge=function(n,a){this.se(0),this.Ie(n),this.He(a)},this.se=function(n){ct[this.ke+16>>>2>>>0]=n},this.De=function(){return ct[this.ke+16>>>2>>>0]},this.Fe=function(){if(Ur(this.re()))return ct[this.qe>>>2>>>0];var n=this.De();return n!==0?n:this.qe}}var pe=e=>{var n=Ht;if(!n)return me(0),0;var a=new ie(n);a.se(n);var c=a.re();if(!c)return me(0),n;for(var f in e){var h=e[f];if(h===0||h===c)break;if(Ir(h,c,a.ke+16))return me(h),n}return me(c),n},Ke=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Se=(e,n,a)=>{n>>>=0;var c=n+a;for(a=n;e[a]&&!(a>=c);)++a;if(16<a-n&&e.buffer&&Ke)return Ke.decode(e.subarray(n,a));for(c="";n<a;){var f=e[n++];if(f&128){var h=e[n++]&63;if((f&224)==192)c+=String.fromCharCode((f&31)<<6|h);else{var l=e[n++]&63;f=(f&240)==224?(f&15)<<12|h<<6|l:(f&7)<<18|h<<12|l<<6|e[n++]&63,65536>f?c+=String.fromCharCode(f):(f-=65536,c+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else c+=String.fromCharCode(f)}return c},ee=(e,n)=>(e>>>=0)?Se(bt,e,n):"",ge=e=>{for(var n=0,a=0;a<e.length;++a){var c=e.charCodeAt(a);127>=c?n++:2047>=c?n+=2:55296<=c&&57343>=c?(n+=4,++a):n+=3}return n},ce=(e,n,a,c)=>{if(a>>>=0,!(0<c))return 0;var f=a;c=a+c-1;for(var h=0;h<e.length;++h){var l=e.charCodeAt(h);if(55296<=l&&57343>=l){var y=e.charCodeAt(++h);l=65536+((l&1023)<<10)|y&1023}if(127>=l){if(a>=c)break;n[a++>>>0]=l}else{if(2047>=l){if(a+1>=c)break;n[a++>>>0]=192|l>>6}else{if(65535>=l){if(a+2>=c)break;n[a++>>>0]=224|l>>12}else{if(a+3>=c)break;n[a++>>>0]=240|l>>18,n[a++>>>0]=128|l>>12&63}n[a++>>>0]=128|l>>6&63}n[a++>>>0]=128|l&63}}return n[a>>>0]=0,a-f},Xe=e=>{if(e===null)return"null";var n=typeof e;return n==="object"||n==="array"||n==="function"?e.toString():""+e},ue,Yt=e=>{for(var n="";bt[e>>>0];)n+=ue[bt[e++>>>0]];return n},se={},Fe={},yn={},re;function pn(e,n,a={}){var c=n.name;if(!e)throw new re(`type "${c}" must have a positive integer typeid pointer`);if(Fe.hasOwnProperty(e)){if(a.Be)return;throw new re(`Cannot register type \'${c}\' twice`)}Fe[e]=n,delete yn[e],se.hasOwnProperty(e)&&(n=se[e],delete se[e],n.forEach(f=>f()))}function qt(e,n,a={}){if(!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");pn(e,n,a)}var De=(e,n,a)=>{switch(n){case 1:return a?c=>Lt[c>>>0>>>0]:c=>bt[c>>>0>>>0];case 2:return a?c=>Gt[c>>>1>>>0]:c=>Qt[c>>>1>>>0];case 4:return a?c=>J[c>>>2>>>0]:c=>ct[c>>>2>>>0];case 8:return a?c=>_e[c>>>3]:c=>Te[c>>>3];default:throw new TypeError(`invalid integer width (${n}): ${e}`)}};function Ze(){this.me=[void 0],this.we=[]}var zt=new Ze;function We(e){e>>>=0,e>=zt.ke&&--zt.get(e).xe===0&&zt.se(e)}var Wt=e=>{if(!e)throw new re("Cannot use deleted val. handle = "+e);return zt.get(e).value},jt=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return zt.re({xe:1,value:e})}};function Ie(e){return this.fromWireType(J[e>>>2>>>0])}var gn=(e,n)=>{switch(n){case 4:return function(a){return this.fromWireType(be[a>>>2>>>0])};case 8:return function(a){return this.fromWireType(Dt[a>>>3>>>0])};default:throw new TypeError(`invalid float width (${n}): ${e}`)}};function et(e){return this.fromWireType(ct[e>>>2>>>0])}var Me=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,_r=(e,n)=>{for(var a=e>>1,c=a+n/2;!(a>=c)&&Qt[a>>>0];)++a;if(a<<=1,32<a-e&&Me)return Me.decode(bt.subarray(e>>>0,a>>>0));for(a="",c=0;!(c>=n/2);++c){var f=Gt[e+2*c>>>1>>>0];if(f==0)break;a+=String.fromCharCode(f)}return a},Ue=(e,n,a)=>{if(a===void 0&&(a=2147483647),2>a)return 0;a-=2;var c=n;a=a<2*e.length?a/2:e.length;for(var f=0;f<a;++f)Gt[n>>>1>>>0]=e.charCodeAt(f),n+=2;return Gt[n>>>1>>>0]=0,n-c},Tr=e=>2*e.length,P=(e,n)=>{for(var a=0,c="";!(a>=n/4);){var f=J[e+4*a>>>2>>>0];if(f==0)break;++a,65536<=f?(f-=65536,c+=String.fromCharCode(55296|f>>10,56320|f&1023)):c+=String.fromCharCode(f)}return c},xe=(e,n,a)=>{if(n>>>=0,a===void 0&&(a=2147483647),4>a)return 0;var c=n;a=c+a-4;for(var f=0;f<e.length;++f){var h=e.charCodeAt(f);if(55296<=h&&57343>=h){var l=e.charCodeAt(++f);h=65536+((h&1023)<<10)|l&1023}if(J[n>>>2>>>0]=h,n+=4,n+4>a)break}return J[n>>>2>>>0]=0,n-c},Be=e=>{for(var n=0,a=0;a<e.length;++a){var c=e.charCodeAt(a);55296<=c&&57343>=c&&++a,n+=4}return n},Jt=(e,n)=>{var a=Fe[e];if(a===void 0)throw e=Rt(e),a=Yt(e),Zt(e),new re(n+" has unknown type "+a);return a},Qe={},he=e=>{var n=Qe[e];return n===void 0?Yt(e):n},Ce=[],Ve=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Ar=e=>{var n=Ce.length;return Ce.push(e),n},Er=(e,n)=>{for(var a=Array(e),c=0;c<e;++c)a[c]=Jt(ct[n+4*c>>>2>>>0],"parameter "+c);return a},ke=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var n=e.charCodeAt(0);return 48<=n&&57>=n?`_${e}`:e},tr={};function er(e,n){return e=ke(e),{[e]:function(){return n.apply(this,arguments)}}[e]}function Sr(e){var n=Function;if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var a=er(n.name||"unknownFunctionName",function(){});return a.prototype=n.prototype,a=new a,e=n.apply(a,e),e instanceof Object?e:a}var Mr=e=>{for(var n="",a=0;a<e;++a)n+=(a!==0?", ":"")+"arg"+a;var c="return function emval_allocator_"+e+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(a=0;a<e;++a)c+="var argType"+a+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+a+`\');\nvar arg`+a+" = argType"+a+`.readValueFromPointer(args);\nargs += argType`+a+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",c+("var obj = new constructor("+n+`);\nreturn valueToHandle(obj);\n}\n`))(Jt,T,jt,()=>ct)},rr={},de=e=>e%4===0&&(e%100!==0||e%400===0),nr=[0,31,60,91,121,152,182,213,244,274,305,335],or=[0,31,59,90,120,151,181,212,243,273,304,334],ar=e=>{var n=ge(e)+1,a=Bt(n);return a&&ce(e,bt,a,n),a},Re={},ir=()=>{if(!Le){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:B||"./this.program"},n;for(n in Re)Re[n]===void 0?delete e[n]:e[n]=Re[n];var a=[];for(n in e)a.push(`${n}=${e[n]}`);Le=a}return Le},Le,Cr=[null,[],[]],cr=[31,29,31,30,31,30,31,31,30,31,30,31],ur=[31,28,31,30,31,30,31,31,30,31,30,31];function Xt(e){var n=Array(ge(e)+1);return ce(e,n,0,n.length),n}function He(e,n,a,c){function f(O,N,G){for(O=typeof O=="number"?O.toString():O||"";O.length<N;)O=G[0]+O;return O}function h(O,N){return f(O,N,"0")}function l(O,N){function G(rt){return 0>rt?-1:0<rt?1:0}var X;return(X=G(O.getFullYear()-N.getFullYear()))===0&&(X=G(O.getMonth()-N.getMonth()))===0&&(X=G(O.getDate()-N.getDate())),X}function y(O){switch(O.getDay()){case 0:return new Date(O.getFullYear()-1,11,29);case 1:return O;case 2:return new Date(O.getFullYear(),0,3);case 3:return new Date(O.getFullYear(),0,2);case 4:return new Date(O.getFullYear(),0,1);case 5:return new Date(O.getFullYear()-1,11,31);case 6:return new Date(O.getFullYear()-1,11,30)}}function g(O){var N=O.ne;for(O=new Date(new Date(O.oe+1900,0,1).getTime());0<N;){var G=O.getMonth(),X=(de(O.getFullYear())?cr:ur)[G];if(N>X-O.getDate())N-=X-O.getDate()+1,O.setDate(1),11>G?O.setMonth(G+1):(O.setMonth(0),O.setFullYear(O.getFullYear()+1));else{O.setDate(O.getDate()+N);break}}return G=new Date(O.getFullYear()+1,0,4),N=y(new Date(O.getFullYear(),0,4)),G=y(G),0>=l(N,O)?0>=l(G,O)?O.getFullYear()+1:O.getFullYear():O.getFullYear()-1}e>>>=0,n>>>=0,a>>>=0,c>>>=0;var b=ct[c+40>>>2>>>0];c={Le:J[c>>>2>>>0],Ke:J[c+4>>>2>>>0],te:J[c+8>>>2>>>0],ve:J[c+12>>>2>>>0],ue:J[c+16>>>2>>>0],oe:J[c+20>>>2>>>0],le:J[c+24>>>2>>>0],ne:J[c+28>>>2>>>0],Ne:J[c+32>>>2>>>0],Je:J[c+36>>>2>>>0],Me:b?ee(b):""},a=ee(a),b={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var A in b)a=a.replace(new RegExp(A,"g"),b[A]);var I="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),L="January February March April May June July August September October November December".split(" ");b={"%a":O=>I[O.le].substring(0,3),"%A":O=>I[O.le],"%b":O=>L[O.ue].substring(0,3),"%B":O=>L[O.ue],"%C":O=>h((O.oe+1900)/100|0,2),"%d":O=>h(O.ve,2),"%e":O=>f(O.ve,2," "),"%g":O=>g(O).toString().substring(2),"%G":O=>g(O),"%H":O=>h(O.te,2),"%I":O=>(O=O.te,O==0?O=12:12<O&&(O-=12),h(O,2)),"%j":O=>{for(var N=0,G=0;G<=O.ue-1;N+=(de(O.oe+1900)?cr:ur)[G++]);return h(O.ve+N,3)},"%m":O=>h(O.ue+1,2),"%M":O=>h(O.Ke,2),"%n":()=>`\n`,"%p":O=>0<=O.te&&12>O.te?"AM":"PM","%S":O=>h(O.Le,2),"%t":()=>"	","%u":O=>O.le||7,"%U":O=>h(Math.floor((O.ne+7-O.le)/7),2),"%V":O=>{var N=Math.floor((O.ne+7-(O.le+6)%7)/7);if(2>=(O.le+371-O.ne-2)%7&&N++,N)N==53&&(G=(O.le+371-O.ne)%7,G==4||G==3&&de(O.oe)||(N=1));else{N=52;var G=(O.le+7-O.ne-1)%7;(G==4||G==5&&de(O.oe%400-1))&&N++}return h(N,2)},"%w":O=>O.le,"%W":O=>h(Math.floor((O.ne+7-(O.le+6)%7)/7),2),"%y":O=>(O.oe+1900).toString().substring(2),"%Y":O=>O.oe+1900,"%z":O=>{O=O.Je;var N=0<=O;return O=Math.abs(O)/60,(N?"+":"-")+("0000"+(O/60*100+O%60)).slice(-4)},"%Z":O=>O.Me,"%%":()=>"%"},a=a.replace(/%%/g,"\\0\\0");for(A in b)a.includes(A)&&(a=a.replace(new RegExp(A,"g"),b[A](c)));return a=a.replace(/\\0\\0/g,"%"),A=Xt(a),A.length>n?0:(Lt.set(A,e>>>0),A.length-1)}for(var we=[],kr,S=e=>{var n=we[e];return n||(e>=we.length&&(we.length=e+1),we[e]=n=kr.get(e)),n},Pr=Array(256),Kt=0;256>Kt;++Kt)Pr[Kt]=String.fromCharCode(Kt);ue=Pr,re=T.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},T.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(Ze.prototype,{get(e){return this.me[e]},has(e){return this.me[e]!==void 0},re(e){var n=this.we.pop()||this.me.length;return this.me[n]=e,n},se(e){this.me[e]=void 0,this.we.push(e)}}),zt.me.push({value:void 0},{value:null},{value:!0},{value:!1}),zt.ke=zt.me.length,T.count_emval_handles=()=>{for(var e=0,n=zt.ke;n<zt.me.length;++n)zt.me[n]!==void 0&&++e;return e};var Fr={u:function(e){return e=new ie(e>>>0),e.Ee()||(e.ye(!0),_t--),e.ze(!1),vt.push(e),Wr(e.qe),e.Fe()},L:()=>{E(0,0);var e=vt.pop();Dr(e.qe),Ht=0},a:function(){return pe([])},l:function(e){return pe([e>>>0])},x:function(e,n){return pe([e>>>0,n>>>0])},q:function(e,n,a){return pe([e>>>0,n>>>0,a>>>0])},xb:()=>{var e=vt.pop();e||ve("no exception to throw");var n=e.qe;throw e.Ae()||(vt.push(e),e.ze(!0),e.ye(!1),_t++),Ht=n,Ht},t:function(e,n,a){throw e>>>=0,new ie(e).Ge(n>>>0,a>>>0),Ht=e,_t++,Ht},Qa:()=>_t,h:function(e){throw Ht||(Ht=e>>>0),Ht},yb:function(){return 0},Uc:function(){},Dc:function(){},Fc:function(){},xc:function(){return 0},Sc:function(){},Mc:function(){},Rc:function(){},Sb:function(){},Ec:function(){},Bc:function(){},Tc:function(){},Cc:function(){},Vb:function(e,n,a,c,f){n>>>=0,n=Yt(n);var h=n.indexOf("u")!=-1;h&&(f=(1n<<64n)-1n),qt(e>>>0,{name:n,fromWireType:l=>l,toWireType:function(l,y){if(typeof y!="bigint"&&typeof y!="number")throw new TypeError(`Cannot convert "${Xe(y)}" to ${this.name}`);if(y<c||y>f)throw new TypeError(`Passing a number "${Xe(y)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${c}, ${f}]!`);return y},argPackAdvance:8,readValueFromPointer:De(n,a>>>0,!h),pe:null})},Xc:function(e,n,a,c){n=Yt(n>>>0),qt(e>>>0,{name:n,fromWireType:function(f){return!!f},toWireType:function(f,h){return h?a:c},argPackAdvance:8,readValueFromPointer:function(f){return this.fromWireType(bt[f>>>0])},pe:null})},Wc:function(e,n){n=Yt(n>>>0),qt(e>>>0,{name:n,fromWireType:a=>{var c=Wt(a);return We(a),c},toWireType:(a,c)=>jt(c),argPackAdvance:8,readValueFromPointer:Ie,pe:null})},Ub:function(e,n,a){n=Yt(n>>>0),qt(e>>>0,{name:n,fromWireType:c=>c,toWireType:(c,f)=>f,argPackAdvance:8,readValueFromPointer:gn(n,a>>>0),pe:null})},ta:function(e,n,a,c,f){if(e>>>=0,a>>>=0,n=Yt(n>>>0),f===-1&&(f=4294967295),f=y=>y,c===0){var h=32-8*a;f=y=>y<<h>>>h}var l=n.includes("unsigned")?function(y,g){return g>>>0}:function(y,g){return g};qt(e,{name:n,fromWireType:f,toWireType:l,argPackAdvance:8,readValueFromPointer:De(n,a,c!==0),pe:null})},Z:function(e,n,a){function c(h){return new f(Lt.buffer,ct[h+4>>>2>>>0],ct[h>>>2>>>0])}var f=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][n];a=Yt(a>>>0),qt(e>>>0,{name:a,fromWireType:c,argPackAdvance:8,readValueFromPointer:c},{Be:!0})},Wb:function(e,n){n=Yt(n>>>0);var a=n==="std::string";qt(e>>>0,{name:n,fromWireType:function(c){var f=ct[c>>>2>>>0],h=c+4;if(a)for(var l=h,y=0;y<=f;++y){var g=h+y;if(y==f||bt[g>>>0]==0){if(l=ee(l,g-l),b===void 0)var b=l;else b+=String.fromCharCode(0),b+=l;l=g+1}}else{for(b=Array(f),y=0;y<f;++y)b[y]=String.fromCharCode(bt[h+y>>>0]);b=b.join("")}return Zt(c),b},toWireType:function(c,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var h=typeof f=="string";if(!(h||f instanceof Uint8Array||f instanceof Uint8ClampedArray||f instanceof Int8Array))throw new re("Cannot pass non-string to std::string");var l=a&&h?ge(f):f.length,y=Bt(4+l+1),g=y+4;if(ct[y>>>2>>>0]=l,a&&h)ce(f,bt,g,l+1);else if(h)for(h=0;h<l;++h){var b=f.charCodeAt(h);if(255<b)throw Zt(g),new re("String has UTF-16 code units that do not fit in 8 bits");bt[g+h>>>0]=b}else for(h=0;h<l;++h)bt[g+h>>>0]=f[h];return c!==null&&c.push(Zt,y),y},argPackAdvance:8,readValueFromPointer:et,pe(c){Zt(c)}})},Ab:function(e,n,a){if(n>>>=0,a>>>=0,a=Yt(a),n===2)var c=_r,f=Ue,h=Tr,l=()=>Qt,y=1;else n===4&&(c=P,f=xe,h=Be,l=()=>ct,y=2);qt(e>>>0,{name:a,fromWireType:g=>{for(var b=ct[g>>>2>>>0],A=l(),I,L=g+4,O=0;O<=b;++O){var N=g+4+O*n;(O==b||A[N>>>y]==0)&&(L=c(L,N-L),I===void 0?I=L:(I+=String.fromCharCode(0),I+=L),L=N+n)}return Zt(g),I},toWireType:(g,b)=>{if(typeof b!="string")throw new re(`Cannot pass non-string to C++ string type ${a}`);var A=h(b),I=Bt(4+A+n);return ct[I>>>2]=A>>y,f(b,I+4,A+n),g!==null&&g.push(Zt,I),I},argPackAdvance:8,readValueFromPointer:Ie,pe(g){Zt(g)}})},$c:function(e,n){n=Yt(n>>>0),qt(e>>>0,{Ce:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},Vc:()=>!0,od:function(e,n,a){n>>>=0,a>>>=0,e=Wt(e>>>0),n=Jt(n,"emval::as");var c=[],f=jt(c);return ct[a>>>2>>>0]=f,n.toWireType(c,e)},ka:function(e,n,a,c,f){a>>>=0,c>>>=0,f>>>=0,e=Ce[e>>>0],n=Wt(n>>>0),a=he(a);var h=[];return ct[c>>>2>>>0]=jt(h),e(n,a,h,f)},dd:function(e,n,a,c){a>>>=0,c>>>=0,e=Ce[e>>>0],n=Wt(n>>>0),a=he(a),e(n,a,null,c)},wc:We,pd:function(e,n){return n>>>=0,e=Wt(e>>>0),n=Wt(n),e==n},vc:function(e){return e>>>=0,e===0?jt(Ve()):(e=he(e),jt(Ve()[e]))},ja:function(e,n){var a=Er(e,n>>>0),c=a[0];n=c.name+"_$"+a.slice(1).map(function(A){return A.name}).join("_")+"$";var f=tr[n];if(f!==void 0)return f;f=["retType"];for(var h=[c],l="",y=0;y<e-1;++y)l+=(y!==0?", ":"")+"arg"+y,f.push("argType"+y),h.push(a[1+y]);var g="return function "+ke("methodCaller_"+n)+`(handle, name, destructors, args) {\n`,b=0;for(y=0;y<e-1;++y)g+="    var arg"+y+" = argType"+y+".readValueFromPointer(args"+(b?"+"+b:"")+`);\n`,b+=a[y+1].argPackAdvance;for(g+="    var rv = handle[name]("+l+`);\n`,y=0;y<e-1;++y)a[y+1].deleteObject&&(g+="    argType"+y+".deleteObject(arg"+y+`);\n`);return c.Ce||(g+=`    return retType.toWireType(destructors, rv);\n`),f.push(g+`};\n`),e=Sr(f).apply(null,h),f=Ar(e),tr[n]=f},id:function(e,n){return n>>>=0,e=Wt(e>>>0),n=Wt(n),jt(e[n])},P:function(e){e>>>=0,4<e&&(zt.get(e).xe+=1)},qd:function(e,n,a,c){a>>>=0,c>>>=0,e=Wt(e>>>0);var f=rr[n];return f||(f=Mr(n),rr[n]=f),f(e,a,c)},hd:function(){return jt([])},ld:function(e){e=Wt(e>>>0);for(var n=Array(e.length),a=0;a<e.length;a++)n[a]=e[a];return jt(n)},W:function(e){return jt(he(e>>>0))},Pa:function(){return jt({})},rd:function(e){e>>>=0;for(var n=Wt(e);n.length;){var a=n.pop();n.pop()(a)}We(e)},td:function(e,n,a){n>>>=0,a>>>=0,e=Wt(e>>>0),n=Wt(n),a=Wt(a),e[n]=a},Za:function(e,n){return n>>>=0,e=Jt(e>>>0,"_emval_take_value"),e=e.readValueFromPointer(n),jt(e)},Jc:function(e,n){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),n>>>=0,e=new Date(1e3*e),J[n>>>2>>>0]=e.getUTCSeconds(),J[n+4>>>2>>>0]=e.getUTCMinutes(),J[n+8>>>2>>>0]=e.getUTCHours(),J[n+12>>>2>>>0]=e.getUTCDate(),J[n+16>>>2>>>0]=e.getUTCMonth(),J[n+20>>>2>>>0]=e.getUTCFullYear()-1900,J[n+24>>>2>>>0]=e.getUTCDay(),J[n+28>>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Kc:function(e,n){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),n>>>=0,e=new Date(1e3*e),J[n>>>2>>>0]=e.getSeconds(),J[n+4>>>2>>>0]=e.getMinutes(),J[n+8>>>2>>>0]=e.getHours(),J[n+12>>>2>>>0]=e.getDate(),J[n+16>>>2>>>0]=e.getMonth(),J[n+20>>>2>>>0]=e.getFullYear()-1900,J[n+24>>>2>>>0]=e.getDay(),J[n+28>>>2>>>0]=(de(e.getFullYear())?nr:or)[e.getMonth()]+e.getDate()-1|0,J[n+36>>>2>>>0]=-(60*e.getTimezoneOffset());var a=new Date(e.getFullYear(),6,1).getTimezoneOffset(),c=new Date(e.getFullYear(),0,1).getTimezoneOffset();J[n+32>>>2>>>0]=(a!=c&&e.getTimezoneOffset()==Math.min(c,a))|0},Lc:function(e){e>>>=0;var n=new Date(J[e+20>>>2>>>0]+1900,J[e+16>>>2>>>0],J[e+12>>>2>>>0],J[e+8>>>2>>>0],J[e+4>>>2>>>0],J[e>>>2>>>0],0),a=J[e+32>>>2>>>0],c=n.getTimezoneOffset(),f=new Date(n.getFullYear(),6,1).getTimezoneOffset(),h=new Date(n.getFullYear(),0,1).getTimezoneOffset(),l=Math.min(h,f);return 0>a?J[e+32>>>2>>>0]=+(f!=h&&l==c):0<a!=(l==c)&&(f=Math.max(h,f),n.setTime(n.getTime()+6e4*((0<a?l:f)-c))),J[e+24>>>2>>>0]=n.getDay(),J[e+28>>>2>>>0]=(de(n.getFullYear())?nr:or)[n.getMonth()]+n.getDate()-1|0,J[e>>>2>>>0]=n.getSeconds(),J[e+4>>>2>>>0]=n.getMinutes(),J[e+8>>>2>>>0]=n.getHours(),J[e+12>>>2>>>0]=n.getDate(),J[e+16>>>2>>>0]=n.getMonth(),J[e+20>>>2>>>0]=n.getYear(),BigInt(n.getTime()/1e3)},Gc:function(){return-52},Ic:function(){},zc:function(e,n,a){function c(g){return(g=g.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?g[1]:"GMT"}a>>>=0;var f=new Date().getFullYear(),h=new Date(f,0,1),l=new Date(f,6,1);f=h.getTimezoneOffset();var y=l.getTimezoneOffset();ct[e>>>0>>>2>>>0]=60*Math.max(f,y),J[n>>>0>>>2>>>0]=+(f!=y),e=c(h),n=c(l),e=ar(e),n=ar(n),y<f?(ct[a>>>2>>>0]=e,ct[a+4>>>2>>>0]=n):(ct[a>>>2>>>0]=n,ct[a+4>>>2>>>0]=e)},hb:()=>{ve("")},Tb:()=>Date.now(),Ac:function(){return 4294901760},da:()=>performance.now(),Qc:function(e,n,a){return n>>>=0,bt.copyWithin(e>>>0>>>0,n>>>0,n+(a>>>0)>>>0)},yc:function(e){e>>>=0;var n=bt.length;if(4294901760<e)return!1;for(var a=1;4>=a;a*=2){var c=n*(1+.2/a);c=Math.min(c,e+100663296);var f=Math;c=Math.max(e,c);t:{f=(f.min.call(f,4294901760,c+(65536-c%65536)%65536)-tt.buffer.byteLength+65535)/65536;try{tt.grow(f),dt();var h=1;break t}catch{}h=void 0}if(h)return!0}return!1},Oc:function(e,n){e>>>=0,n>>>=0;var a=0;return ir().forEach((c,f)=>{var h=n+a;for(f=ct[e+4*f>>>2>>>0]=h,h=0;h<c.length;++h)Lt[f++>>>0>>>0]=c.charCodeAt(h);Lt[f>>>0>>>0]=0,a+=c.length+1}),0},Pc:function(e,n){e>>>=0,n>>>=0;var a=ir();ct[e>>>2>>>0]=a.length;var c=0;return a.forEach(f=>c+=f.length+1),ct[n>>>2>>>0]=c,0},zb:()=>52,Rb:function(){return 52},Nc:function(){return 70},Qb:function(e,n,a,c){n>>>=0,a>>>=0,c>>>=0;for(var f=0,h=0;h<a;h++){var l=ct[n>>>2>>>0],y=ct[n+4>>>2>>>0];n+=8;for(var g=0;g<y;g++){var b=bt[l+g>>>0],A=Cr[e];b===0||b===10?((e===1?lt:mt)(Se(A,0)),A.length=0):A.push(b)}f+=y}return ct[c>>>2>>>0]=f,0},gb:Mn,Yc:Ea,ra:wa,E:ya,pa:Qn,ea:En,Zc:Aa,bd:la,N:k,z:xr,b:sr,$b:sa,va:Po,f:mn,Cb:ha,c:wn,X:Qo,i:_n,_c:_a,j:Ne,r:hr,s:Rr,o:Lr,ya:dr,Ta:Ro,ga:Zr,Ob:fn,Xa:Wn,Hb:Lo,lb:So,ec:ta,rc:Cn,bc:oa,cc:ra,Xb:ba,ia:eo,fb:lr,za:Xo,Bb:ma,ba:ao,dc:ea,Na:Un,D:bn,K:nn,Eb:Vo,gd:na,oa:wo,M:an,_:on,U:Bn,y:Tn,Db:ca,ac:aa,B:No,Gb:Go,fd:ia,Oa:hn,ab:fo,fc:qo,Yb:Oa,Lb:to,O:Sn,F:Kr,C:Z,jb:zo,R:yr,e:Ot,Va:cn,k:$e,ua:da,Ua:_o,tb:tn,g:On,sc:Xr,aa:Ko,bb:M,wa:Vn,kb:Co,db:Ge,d:ze,pc:Ye,jd:Ho,m:je,nc:C,n:Br,qc:Fn,mc:pr,md:Fo,p:Hr,La:$n,rb:Hn,Ka:Nn,Jb:To,A:zr,H:Gr,V:Jr,Sa:$o,jc:po,cb:Pe,sa:xn,ma:Mo,Q:sn,Ya:Qr,Fa:mo,ib:Ta,Ba:Io,hc:xo,Aa:Uo,Ca:ko,sd:un,na:bo,kd:Bo,Ga:vo,Ea:Oo,tc:qr,lc:io,Da:Ao,Ha:lo,nb:oo,fa:so,xa:Rn,gc:jo,kc:co,Ib:Wo,Fb:Yo,la:ne,wb:Nr,ed:ua,T:no,ub:kn,$a:go,Ra:Jo,eb:en,I:Oe,S:Pn,vb:Yr,cd:fa,$:jr,mb:Eo,ha:uo,Zb:ga,ud:Vr,w:An,_a:Zo,nd:yo,Mb:Jn,ic:Do,uc:$r,Nb:qn,Kb:ro,Wa:In,Pb:rn,Ia:ho,_b:pa,Y:Kn,oc:qe,J:vr,ad:va,sb:Dn,qa:Zn,G:Xn,pb:Gn,Ja:jn,Ma:Ln,ob:Yn,qb:zn,v:function(e){return e>>>0},Hc:He,ca:function(e,n,a,c){return He(e>>>0,n>>>0,a>>>0,c>>>0)}},V=function(){var e={a:Fr};return xt++,Ee(e,function(n){V=n.instance.exports,V=Sa(),tt=V.vd,dt(),kr=V.ae,fe.unshift(V.wd),xt--,xt==0&&(gt!==null&&(clearInterval(gt),gt=null),It&&(n=It,It=null,n()))}).catch(Y),{}}();T._OrtInit=(e,n)=>(T._OrtInit=V.xd)(e,n),T._OrtGetLastError=(e,n)=>(T._OrtGetLastError=V.yd)(e,n),T._OrtCreateSessionOptions=(e,n,a,c,f,h,l,y,g,b)=>(T._OrtCreateSessionOptions=V.zd)(e,n,a,c,f,h,l,y,g,b),T._OrtAppendExecutionProvider=(e,n)=>(T._OrtAppendExecutionProvider=V.Ad)(e,n),T._OrtAddFreeDimensionOverride=(e,n,a)=>(T._OrtAddFreeDimensionOverride=V.Bd)(e,n,a),T._OrtAddSessionConfigEntry=(e,n,a)=>(T._OrtAddSessionConfigEntry=V.Cd)(e,n,a),T._OrtReleaseSessionOptions=e=>(T._OrtReleaseSessionOptions=V.Dd)(e),T._OrtCreateSession=(e,n,a)=>(T._OrtCreateSession=V.Ed)(e,n,a),T._OrtReleaseSession=e=>(T._OrtReleaseSession=V.Fd)(e),T._OrtGetInputOutputCount=(e,n,a)=>(T._OrtGetInputOutputCount=V.Gd)(e,n,a),T._OrtGetInputName=(e,n)=>(T._OrtGetInputName=V.Hd)(e,n),T._OrtGetOutputName=(e,n)=>(T._OrtGetOutputName=V.Id)(e,n),T._OrtFree=e=>(T._OrtFree=V.Jd)(e),T._OrtCreateTensor=(e,n,a,c,f,h)=>(T._OrtCreateTensor=V.Kd)(e,n,a,c,f,h),T._OrtGetTensorData=(e,n,a,c,f)=>(T._OrtGetTensorData=V.Ld)(e,n,a,c,f),T._OrtReleaseTensor=e=>(T._OrtReleaseTensor=V.Md)(e),T._OrtCreateRunOptions=(e,n,a,c)=>(T._OrtCreateRunOptions=V.Nd)(e,n,a,c),T._OrtAddRunConfigEntry=(e,n,a)=>(T._OrtAddRunConfigEntry=V.Od)(e,n,a),T._OrtReleaseRunOptions=e=>(T._OrtReleaseRunOptions=V.Pd)(e),T._OrtCreateBinding=e=>(T._OrtCreateBinding=V.Qd)(e),T._OrtBindInput=(e,n,a)=>(T._OrtBindInput=V.Rd)(e,n,a),T._OrtBindOutput=(e,n,a,c)=>(T._OrtBindOutput=V.Sd)(e,n,a,c),T._OrtClearBoundOutputs=e=>(T._OrtClearBoundOutputs=V.Td)(e),T._OrtReleaseBinding=e=>(T._OrtReleaseBinding=V.Ud)(e),T._OrtRunWithBinding=(e,n,a,c,f)=>(T._OrtRunWithBinding=V.Vd)(e,n,a,c,f),T._OrtRun=(e,n,a,c,f,h,l,y)=>(T._OrtRun=V.Wd)(e,n,a,c,f,h,l,y),T._OrtEndProfiling=e=>(T._OrtEndProfiling=V.Xd)(e);var Bt=T._malloc=e=>(Bt=T._malloc=V.Yd)(e),Zt=T._free=e=>(Zt=T._free=V.Zd)(e),Rt=e=>(Rt=V._d)(e);T.__embind_initialize_bindings=()=>(T.__embind_initialize_bindings=V.$d)();var E=(e,n)=>(E=V.be)(e,n),me=e=>(me=V.ce)(e),F=()=>(F=V.de)(),D=e=>(D=V.ee)(e),fr=e=>(fr=V.fe)(e),Dr=e=>(Dr=V.ge)(e),Wr=e=>(Wr=V.he)(e),Ir=(e,n,a)=>(Ir=V.ie)(e,n,a),Ur=e=>(Ur=V.je)(e);function wn(e,n,a,c){var f=F();try{return S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function mn(e,n,a){var c=F();try{return S(e)(n,a)}catch(f){if(D(c),f!==f+0)throw f;E(1,0)}}function On(e,n,a){var c=F();try{S(e)(n,a)}catch(f){if(D(c),f!==f+0)throw f;E(1,0)}}function sr(e,n){var a=F();try{return S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;E(1,0)}}function $e(e,n){var a=F();try{S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;E(1,0)}}function bn(e,n,a,c){var f=F();try{return S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function Ot(e){var n=F();try{S(e)()}catch(a){if(D(n),a!==a+0)throw a;E(1,0)}}function hr(e,n,a,c,f,h,l){var y=F();try{return S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function Ne(e,n,a,c,f,h){var l=F();try{return S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function _n(e,n,a,c,f){var h=F();try{return S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function ze(e,n,a,c){var f=F();try{S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function je(e,n,a,c,f){var h=F();try{S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function xr(e){var n=F();try{return S(e)()}catch(a){if(D(n),a!==a+0)throw a;E(1,0)}}function Tn(e,n,a){var c=F();try{return S(e)(n,a)}catch(f){if(D(c),f!==f+0)throw f;E(1,0)}}function An(e,n,a){var c=F();try{S(e)(n,a)}catch(f){if(D(c),f!==f+0)throw f;E(1,0)}}function Br(e,n,a,c,f,h){var l=F();try{S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Rr(e,n,a,c,f,h,l,y){var g=F();try{return S(e)(n,a,c,f,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function En(e,n){var a=F();try{return S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;E(1,0)}}function Sn(e,n){var a=F();try{return S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;return E(1,0),0n}}function Mn(e,n){var a=F();try{return S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;E(1,0)}}function Lr(e,n,a,c,f,h,l,y,g){var b=F();try{return S(e)(n,a,c,f,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function Oe(e,n,a,c){var f=F();try{S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function Hr(e,n,a,c,f,h,l){var y=F();try{S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function $r(e,n,a,c){var f=F();try{S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function Nr(e,n,a,c,f,h,l){var y=F();try{S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function zr(e,n,a,c,f,h,l,y){var g=F();try{S(e)(n,a,c,f,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function jr(e,n,a,c,f){var h=F();try{S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function dr(e,n,a,c,f,h,l,y,g,b){var A=F();try{return S(e)(n,a,c,f,h,l,y,g,b)}catch(I){if(D(A),I!==I+0)throw I;E(1,0)}}function Gr(e,n,a,c,f,h,l,y,g){var b=F();try{S(e)(n,a,c,f,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function lr(e,n,a,c,f,h,l,y,g,b,A){var I=F();try{return S(e)(n,a,c,f,h,l,y,g,b,A)}catch(L){if(D(I),L!==L+0)throw L;E(1,0)}}function Yr(e,n,a,c,f,h,l){var y=F();try{S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function qr(e,n,a,c,f,h,l){var y=F();try{S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function Jr(e,n,a,c,f,h,l,y,g,b){var A=F();try{S(e)(n,a,c,f,h,l,y,g,b)}catch(I){if(D(A),I!==I+0)throw I;E(1,0)}}function Kr(e,n,a){var c=F();try{return S(e)(n,a)}catch(f){if(D(c),f!==f+0)throw f;return E(1,0),0n}}function Xr(e,n,a,c){var f=F();try{S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function Cn(e,n,a,c,f,h,l,y,g){var b=F();try{return S(e)(n,a,c,f,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function Zr(e,n,a,c,f,h,l,y,g,b,A,I){var L=F();try{return S(e)(n,a,c,f,h,l,y,g,b,A,I)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function Qr(e,n,a,c,f,h,l,y,g,b,A,I,L,O){var N=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O)}catch(G){if(D(N),G!==G+0)throw G;E(1,0)}}function Vr(e,n,a,c,f,h,l,y,g,b,A,I){var L=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function kn(e,n,a,c,f,h,l,y,g,b,A,I){var L=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function Pn(e,n,a,c,f){var h=F();try{S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function tn(e,n,a,c,f,h,l){var y=F();try{S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function en(e,n,a,c,f,h,l,y,g){var b=F();try{S(e)(n,a,c,f,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function Ge(e,n,a,c,f,h,l){var y=F();try{S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function Fn(e,n,a,c,f,h,l,y,g,b,A){var I=F();try{S(e)(n,a,c,f,h,l,y,g,b,A)}catch(L){if(D(I),L!==L+0)throw L;E(1,0)}}function Dn(e,n,a,c,f,h,l,y){var g=F();try{S(e)(n,a,c,f,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function Z(e,n,a,c){var f=F();try{return S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;return E(1,0),0n}}function Ye(e,n,a,c,f){var h=F();try{S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function qe(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G){var X=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G)}catch(rt){if(D(X),rt!==rt+0)throw rt;E(1,0)}}function ne(e,n,a,c,f,h){var l=F();try{S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function rn(e,n,a,c,f,h,l,y,g){var b=F();try{S(e)(n,a,c,f,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function nn(e,n,a,c,f){var h=F();try{return S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function on(e,n,a,c,f,h,l,y,g,b,A,I,L,O){var N=F();try{return S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O)}catch(G){if(D(N),G!==G+0)throw G;E(1,0)}}function vr(e,n){var a=F();try{S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;E(1,0)}}function yr(e,n,a){var c=F();try{return S(e)(n,a)}catch(f){if(D(c),f!==f+0)throw f;return E(1,0),0n}}function an(e,n,a,c,f,h,l,y,g,b){var A=F();try{return S(e)(n,a,c,f,h,l,y,g,b)}catch(I){if(D(A),I!==I+0)throw I;E(1,0)}}function k(e,n,a,c,f){var h=F();try{return S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function Pe(e,n,a,c,f,h,l,y,g,b,A,I,L,O){var N=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O)}catch(G){if(D(N),G!==G+0)throw G;E(1,0)}}function cn(e,n,a,c,f){var h=F();try{S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function C(e,n,a,c,f,h,l){var y=F();try{S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function M(e,n,a,c,f){var h=F();try{S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function pr(e,n,a,c,f,h,l,y){var g=F();try{S(e)(n,a,c,f,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function un(e,n,a,c,f,h,l,y,g,b,A){var I=F();try{S(e)(n,a,c,f,h,l,y,g,b,A)}catch(L){if(D(I),L!==L+0)throw L;E(1,0)}}function fn(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X){var rt=F();try{return S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X)}catch(ut){if(D(rt),ut!==ut+0)throw ut;E(1,0)}}function sn(e,n,a,c,f,h,l,y,g,b,A,I,L){var O=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function hn(e,n){var a=F();try{return S(e)(n)}catch(c){if(D(a),c!==c+0)throw c;E(1,0)}}function Wn(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt){var At=F();try{return S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt)}catch(Et){if(D(At),Et!==Et+0)throw Et;E(1,0)}}function In(e,n,a,c,f,h,l,y,g,b){var A=F();try{S(e)(n,a,c,f,h,l,y,g,b)}catch(I){if(D(A),I!==I+0)throw I;E(1,0)}}function Un(e,n,a,c,f,h,l){var y=F();try{return S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function xn(e,n,a,c,f,h,l,y,g,b,A){var I=F();try{S(e)(n,a,c,f,h,l,y,g,b,A)}catch(L){if(D(I),L!==L+0)throw L;E(1,0)}}function Bn(e,n,a,c,f,h){var l=F();try{return S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Rn(e,n,a,c,f,h){var l=F();try{S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Ln(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt){var ut=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt)}catch(Tt){if(D(ut),Tt!==Tt+0)throw Tt;E(1,0)}}function Hn(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X){var rt=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X)}catch(ut){if(D(rt),ut!==ut+0)throw ut;E(1,0)}}function $n(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G){var X=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G)}catch(rt){if(D(X),rt!==rt+0)throw rt;E(1,0)}}function Nn(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N){var G=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N)}catch(X){if(D(G),X!==X+0)throw X;E(1,0)}}function zn(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt,At){var Et=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt,At)}catch(oe){if(D(Et),oe!==oe+0)throw oe;E(1,0)}}function jn(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut){var Tt=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut)}catch(At){if(D(Tt),At!==At+0)throw At;E(1,0)}}function Gn(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X){var rt=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X)}catch(ut){if(D(rt),ut!==ut+0)throw ut;E(1,0)}}function Yn(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt){var At=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt)}catch(Et){if(D(At),Et!==Et+0)throw Et;E(1,0)}}function qn(e,n,a,c,f,h,l,y,g,b){var A=F();try{S(e)(n,a,c,f,h,l,y,g,b)}catch(I){if(D(A),I!==I+0)throw I;E(1,0)}}function Jn(e,n,a,c,f,h,l,y,g,b,A){var I=F();try{S(e)(n,a,c,f,h,l,y,g,b,A)}catch(L){if(D(I),L!==L+0)throw L;E(1,0)}}function Kn(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N){var G=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N)}catch(X){if(D(G),X!==X+0)throw X;E(1,0)}}function Xn(e,n,a,c,f,h,l,y,g,b){var A=F();try{S(e)(n,a,c,f,h,l,y,g,b)}catch(I){if(D(A),I!==I+0)throw I;E(1,0)}}function Zn(e,n,a,c,f,h,l,y,g){var b=F();try{S(e)(n,a,c,f,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function Qn(e,n,a,c,f,h,l){var y=F();try{return S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function Vn(e,n,a,c,f){var h=F();try{S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function to(e,n,a){var c=F();try{return S(e)(n,a)}catch(f){if(D(c),f!==f+0)throw f;return E(1,0),0n}}function eo(e,n,a,c,f,h,l){var y=F();try{return S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function ro(e,n,a,c,f,h){var l=F();try{S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function no(e,n,a,c,f,h,l,y,g,b,A){var I=F();try{S(e)(n,a,c,f,h,l,y,g,b,A)}catch(L){if(D(I),L!==L+0)throw L;E(1,0)}}function oo(e,n,a,c,f,h,l,y,g,b,A,I,L){var O=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function ao(e,n,a,c,f,h){var l=F();try{return S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function io(e,n,a,c,f,h,l,y,g,b,A,I,L){var O=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function co(e,n,a,c,f,h,l,y){var g=F();try{S(e)(n,a,c,f,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function uo(e,n,a,c,f,h,l,y){var g=F();try{S(e)(n,a,c,f,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function fo(e,n,a,c){var f=F();try{return S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function so(e,n,a,c,f,h,l,y,g,b){var A=F();try{S(e)(n,a,c,f,h,l,y,g,b)}catch(I){if(D(A),I!==I+0)throw I;E(1,0)}}function ho(e,n,a,c,f,h,l,y,g){var b=F();try{S(e)(n,a,c,f,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function lo(e,n,a,c,f,h,l,y,g){var b=F();try{S(e)(n,a,c,f,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function vo(e,n,a,c,f,h,l,y,g,b){var A=F();try{S(e)(n,a,c,f,h,l,y,g,b)}catch(I){if(D(A),I!==I+0)throw I;E(1,0)}}function yo(e,n,a,c,f,h){var l=F();try{S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function po(e,n,a,c,f,h,l,y,g,b,A,I){var L=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function go(e,n,a,c,f,h,l,y,g,b,A,I,L,O){var N=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O)}catch(G){if(D(N),G!==G+0)throw G;E(1,0)}}function wo(e,n,a,c,f,h,l,y){var g=F();try{return S(e)(n,a,c,f,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function mo(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N){var G=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N)}catch(X){if(D(G),X!==X+0)throw X;E(1,0)}}function Oo(e,n,a,c,f,h,l,y,g,b,A,I,L,O){var N=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O)}catch(G){if(D(N),G!==G+0)throw G;E(1,0)}}function bo(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N){var G=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N)}catch(X){if(D(G),X!==X+0)throw X;E(1,0)}}function _o(e,n,a){var c=F();try{S(e)(n,a)}catch(f){if(D(c),f!==f+0)throw f;E(1,0)}}function To(e,n,a,c,f,h,l,y,g,b){var A=F();try{S(e)(n,a,c,f,h,l,y,g,b)}catch(I){if(D(A),I!==I+0)throw I;E(1,0)}}function Ao(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt,At,Et,oe,Ma,Ca,ka){var Pa=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt,At,Et,oe,Ma,Ca,ka)}catch(gr){if(D(Pa),gr!==gr+0)throw gr;E(1,0)}}function Eo(e,n,a,c,f,h){var l=F();try{S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function So(e,n,a,c,f,h,l,y,g,b,A,I,L){var O=F();try{return S(e)(n,a,c,f,h,l,y,g,b,A,I,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function Mo(e,n,a,c,f,h,l,y,g,b,A,I){var L=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function Co(e,n,a,c,f,h,l,y,g,b,A,I,L){var O=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function ko(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt,At){var Et=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt,At)}catch(oe){if(D(Et),oe!==oe+0)throw oe;E(1,0)}}function Po(e,n,a){var c=F();try{return S(e)(n,a)}catch(f){if(D(c),f!==f+0)throw f;E(1,0)}}function Fo(e,n,a,c,f,h,l,y,g,b,A,I,L){var O=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function Do(e,n,a,c,f,h,l,y,g,b,A,I,L,O){var N=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O)}catch(G){if(D(N),G!==G+0)throw G;E(1,0)}}function Wo(e,n,a,c,f,h,l,y){var g=F();try{S(e)(n,a,c,f,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function Io(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X){var rt=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X)}catch(ut){if(D(rt),ut!==ut+0)throw ut;E(1,0)}}function Uo(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt){var At=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt)}catch(Et){if(D(At),Et!==Et+0)throw Et;E(1,0)}}function xo(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut){var Tt=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut)}catch(At){if(D(Tt),At!==At+0)throw At;E(1,0)}}function Bo(e,n,a,c,f,h,l,y,g,b,A){var I=F();try{S(e)(n,a,c,f,h,l,y,g,b,A)}catch(L){if(D(I),L!==L+0)throw L;E(1,0)}}function Ro(e,n,a,c,f,h,l,y,g,b,A){var I=F();try{return S(e)(n,a,c,f,h,l,y,g,b,A)}catch(L){if(D(I),L!==L+0)throw L;E(1,0)}}function Lo(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt){var At=F();try{return S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G,X,rt,ut,Tt)}catch(Et){if(D(At),Et!==Et+0)throw Et;E(1,0)}}function Ho(e,n,a,c,f){var h=F();try{S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function $o(e,n,a,c,f,h,l,y,g,b,A,I){var L=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function No(e,n,a,c,f){var h=F();try{return S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function zo(e,n,a,c){var f=F();try{return S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;return E(1,0),0n}}function jo(e,n,a,c,f,h,l){var y=F();try{S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function Go(e,n,a,c,f,h){var l=F();try{return S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Yo(e,n,a,c,f){var h=F();try{S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function qo(e,n,a,c,f,h){var l=F();try{return S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Jo(e,n,a,c,f,h,l,y,g){var b=F();try{S(e)(n,a,c,f,h,l,y,g)}catch(A){if(D(b),A!==A+0)throw A;E(1,0)}}function Ko(e,n,a,c){var f=F();try{S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function Xo(e,n,a,c,f,h,l,y){var g=F();try{return S(e)(n,a,c,f,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function Zo(e,n,a,c){var f=F();try{S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function Qo(e,n,a,c,f,h){var l=F();try{return S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Vo(e,n,a,c,f,h){var l=F();try{return S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function ta(e,n,a,c,f,h,l,y,g,b,A,I){var L=F();try{return S(e)(n,a,c,f,h,l,y,g,b,A,I)}catch(O){if(D(L),O!==O+0)throw O;E(1,0)}}function ea(e,n,a,c,f,h,l,y){var g=F();try{return S(e)(n,a,c,f,h,l,y)}catch(b){if(D(g),b!==b+0)throw b;E(1,0)}}function ra(e,n,a,c,f,h,l,y,g,b,A){var I=F();try{return S(e)(n,a,c,f,h,l,y,g,b,A)}catch(L){if(D(I),L!==L+0)throw L;E(1,0)}}function na(e,n,a,c,f,h,l){var y=F();try{return S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function oa(e,n,a,c,f,h,l,y,g,b,A,I,L){var O=F();try{return S(e)(n,a,c,f,h,l,y,g,b,A,I,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function aa(e,n,a,c,f,h,l){var y=F();try{return S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function ia(e,n,a,c,f,h,l){var y=F();try{return S(e)(n,a,c,f,h,l)}catch(g){if(D(y),g!==g+0)throw g;E(1,0)}}function ca(e,n,a,c){var f=F();try{return S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function ua(e,n,a,c,f,h,l,y,g,b){var A=F();try{S(e)(n,a,c,f,h,l,y,g,b)}catch(I){if(D(A),I!==I+0)throw I;E(1,0)}}function fa(e,n,a,c,f,h,l,y,g,b,A,I,L){var O=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function sa(e,n,a){var c=F();try{return S(e)(n,a)}catch(f){if(D(c),f!==f+0)throw f;E(1,0)}}function ha(e,n,a,c){var f=F();try{return S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function da(e,n,a,c){var f=F();try{S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function la(e,n,a,c){var f=F();try{return S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function va(e,n,a,c,f){var h=F();try{S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function ya(e,n,a,c,f,h){var l=F();try{return S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function pa(e,n,a,c,f,h,l,y,g,b,A,I,L){var O=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L)}catch(N){if(D(O),N!==N+0)throw N;E(1,0)}}function ga(e,n,a,c,f,h,l,y,g,b){var A=F();try{S(e)(n,a,c,f,h,l,y,g,b)}catch(I){if(D(A),I!==I+0)throw I;E(1,0)}}function wa(e,n,a,c){var f=F();try{return S(e)(n,a,c)}catch(h){if(D(f),h!==h+0)throw h;E(1,0)}}function ma(e,n,a,c,f){var h=F();try{return S(e)(n,a,c,f)}catch(l){if(D(h),l!==l+0)throw l;E(1,0)}}function Oa(e){var n=F();try{return S(e)()}catch(a){if(D(n),a!==a+0)throw a;return E(1,0),0n}}function ba(e,n,a,c,f,h){var l=F();try{return S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function _a(e,n,a,c,f,h){var l=F();try{return S(e)(n,a,c,f,h)}catch(y){if(D(l),y!==y+0)throw y;E(1,0)}}function Ta(e,n,a,c,f,h,l,y,g,b,A,I,L,O,N,G){var X=F();try{S(e)(n,a,c,f,h,l,y,g,b,A,I,L,O,N,G)}catch(rt){if(D(X),rt!==rt+0)throw rt;E(1,0)}}function Aa(e,n,a){var c=F();try{return S(e)(n,a)}catch(f){if(D(c),f!==f+0)throw f;E(1,0)}}function Ea(e,n,a){var c=F();try{return S(e)(n,a)}catch(f){if(D(c),f!==f+0)throw f;E(1,0)}}function Sa(){var e=V;e=Object.assign({},e);var n=c=>()=>c()>>>0,a=c=>f=>c(f)>>>0;return e.__errno_location=n(e.__errno_location),e.Yd=a(e.Yd),e._d=a(e._d),e.de=n(e.de),e.fe=a(e.fe),e}T.stackAlloc=fr,T.stackSave=F,T.stackRestore=D,T.UTF8ToString=ee,T.stringToUTF8=(e,n,a)=>ce(e,bt,n,a),T.lengthBytesUTF8=ge;var Je;It=function e(){Je||dn(),Je||(It=e)};function dn(){if(!(0<xt)){for(;0<pt.length;)pt.shift()(T);if(!(0<xt||Je||(Je=!0,T.calledRun=!0,Ut))){for(;0<fe.length;)fe.shift()(T);for(z(T);0<$t.length;)$t.shift()(T)}}}return dn(),H.ready}})();typeof Ka=="object"&&typeof La=="object"?La.exports=Ja:typeof define=="function"&&define.amd&&define([],()=>Ja)});var Za=wr(()=>{});var Qa=wr(()=>{});var Va={};Ia(Va,{cpus:()=>gc});var gc,ti=Wa(()=>{gc=void 0});var ni=wr((ri,Ha)=>{"use strict";var ei=(()=>{var U=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(U=U||__filename),function(H={}){function T(){return pt.buffer!=gt.buffer&&vt(),gt}function z(){return pt.buffer!=gt.buffer&&vt(),It}function Y(){return pt.buffer!=gt.buffer&&vt(),ve}function Q(){return pt.buffer!=gt.buffer&&vt(),ae}function B(){return pt.buffer!=gt.buffer&&vt(),Vt}function q(){return pt.buffer!=gt.buffer&&vt(),ye}function at(){return pt.buffer!=gt.buffer&&vt(),Ee}var x=H,it,yt;x.ready=new Promise((t,r)=>{it=t,yt=r});var ft=Object.assign({},x),st="./this.program",wt=(t,r)=>{throw r},ht=typeof window=="object",lt=typeof importScripts=="function",mt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",tt=x.ENVIRONMENT_IS_PTHREAD||!1,Ut="";function Lt(t){return x.locateFile?x.locateFile(t,Ut):Ut+t}var bt,Gt,Qt;if(mt){var J=(xa(),mr(Ua)),ct=(Ra(),mr(Ba));Ut=lt?ct.dirname(Ut)+"/":__dirname+"/",bt=(r,o)=>(r=r.startsWith("file://")?new URL(r):ct.normalize(r),J.readFileSync(r,o?void 0:"utf8")),Qt=r=>(r=bt(r,!0),r.buffer||(r=new Uint8Array(r)),r),Gt=(r,o,i,u=!0)=>{r=r.startsWith("file://")?new URL(r):ct.normalize(r),J.readFile(r,u?void 0:"utf8",(s,d)=>{s?i(s):o(u?d.buffer:d)})},!x.thisProgram&&1<process.argv.length&&(st=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),wt=(r,o)=>{throw process.exitCode=r,o},x.inspect=()=>"[Emscripten Module object]";let t;try{t=Za()}catch(r){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),r}global.Worker=t.Worker}else(ht||lt)&&(lt?Ut=self.location.href:typeof document<"u"&&document.currentScript&&(Ut=document.currentScript.src),typeof U<"u"&&U&&(Ut=U),Ut.indexOf("blob:")!==0?Ut=Ut.substr(0,Ut.replace(/[?#].*/,"").lastIndexOf("/")+1):Ut="",mt||(bt=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.send(null),r.responseText},lt&&(Qt=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Gt=(t,r,o)=>{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?r(i.response):o()},i.onerror=o,i.send(null)}));mt&&typeof performance>"u"&&(global.performance=Qa().performance);var be=console.log.bind(console),_e=console.error.bind(console);mt&&(be=(...t)=>J.writeSync(1,t.join(" ")+`\n`),_e=(...t)=>J.writeSync(2,t.join(" ")+`\n`));var Te=be,Dt=_e;Object.assign(x,ft),ft=null;var dt=!0;typeof WebAssembly!="object"&&ue("no native wasm support detected");var pt,fe,$t=!1,xt,gt,It,ve,ae,Vt,ye,Ae,Nt,te,Ee;function vt(){var t=pt.buffer;x.HEAP8=gt=new Int8Array(t),x.HEAP16=ve=new Int16Array(t),x.HEAPU8=It=new Uint8Array(t),x.HEAPU16=ae=new Uint16Array(t),x.HEAP32=Vt=new Int32Array(t),x.HEAPU32=ye=new Uint32Array(t),x.HEAPF32=Ae=new Float32Array(t),x.HEAPF64=Ee=new Float64Array(t),x.HEAP64=Nt=new BigInt64Array(t),x.HEAPU64=te=new BigUint64Array(t)}var _t=16777216;if(5242880<=_t||ue("INITIAL_MEMORY should be larger than STACK_SIZE, was "+_t+"! (STACK_SIZE=5242880)"),tt)pt=x.wasmMemory;else if(pt=new WebAssembly.Memory({initial:_t/65536,maximum:65536,shared:!0}),!(pt.buffer instanceof SharedArrayBuffer))throw Dt("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),mt&&Dt("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");vt(),_t=pt.buffer.byteLength;var Ht=[],ie=[],pe=[],Ke=0;function Se(){return dt||0<Ke}var ee=0,ge=null,ce=null;function Xe(){if(ee--,ee==0&&(ge!==null&&(clearInterval(ge),ge=null),ce)){var t=ce;ce=null,t()}}function ue(t){throw t="Aborted("+t+")",Dt(t),$t=!0,xt=1,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),yt(t),t}function Yt(t){return t.startsWith("data:application/octet-stream;base64,")}var se;se="ort-wasm-threaded.wasm",Yt(se)||(se=Lt(se));function Fe(t){if(Qt)return Qt(t);throw"both async and sync fetching of the wasm failed"}function yn(t){if(ht||lt){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at \'"+t+"\'";return r.arrayBuffer()}).catch(()=>Fe(t));if(Gt)return new Promise((r,o)=>{Gt(t,i=>r(new Uint8Array(i)),o)})}return Promise.resolve().then(()=>Fe(t))}function re(t,r,o){return yn(t).then(i=>WebAssembly.instantiate(i,r)).then(i=>i).then(o,i=>{Dt(`failed to asynchronously prepare wasm: ${i}`),ue(i)})}function pn(t,r){var o=se;return typeof WebAssembly.instantiateStreaming!="function"||Yt(o)||o.startsWith("file://")||mt||typeof fetch!="function"?re(o,t,r):fetch(o,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,t).then(r,function(u){return Dt(`wasm streaming compile failed: ${u}`),Dt("falling back to ArrayBuffer instantiation"),re(o,t,r)}))}function qt(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}var De=t=>{t.terminate(),t.onmessage=()=>{}},Ze=t=>{if(et.Oe.length==0){var r=Lt("ort-wasm-threaded.worker.js");r=new Worker(r),et.Oe.push(r),et.qf(et.Oe[0])}if(r=et.Oe.pop(),!r)return 6;et.Le.push(r),et.He[t.Ke]=r,r.Ke=t.Ke;var o={cmd:"run",start_routine:t.sf,arg:t.kf,pthread_ptr:t.Ke};return mt&&r.unref(),r.postMessage(o,t.yf),0},zt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,We=(t,r,o)=>{r>>>=0;var i=r+o;for(o=r;t[o]&&!(o>=i);)++o;if(16<o-r&&t.buffer&&zt)return zt.decode(t.buffer instanceof SharedArrayBuffer?t.slice(r,o):t.subarray(r,o));for(i="";r<o;){var u=t[r++];if(u&128){var s=t[r++]&63;if((u&224)==192)i+=String.fromCharCode((u&31)<<6|s);else{var d=t[r++]&63;u=(u&240)==224?(u&15)<<12|s<<6|d:(u&7)<<18|s<<12|d<<6|t[r++]&63,65536>u?i+=String.fromCharCode(u):(u-=65536,i+=String.fromCharCode(55296|u>>10,56320|u&1023))}}else i+=String.fromCharCode(u)}return i},Wt=(t,r)=>(t>>>=0)?We(z(),t,r):"";function jt(t){if(tt)return Ot(0,1,t);xt=t,Se()||(et.tf(),$t=!0),wt(t,new qt(t))}var Ie=t=>{if(xt=t,tt)throw _r(t),"unwind";jt(t)};function gn(){Ht.unshift(()=>{ee++,Xe()})}var et={Oe:[],Le:[],df:[],He:{},Ve(){tt?(et.receiveObjectTransfer=et.rf,et.threadInitTLS=et.cf,et.setExitStatus=et.$e,dt=!1):gn()},$e:t=>{xt=t},Bf:["$terminateWorker"],tf:()=>{for(var t of et.Le)De(t);for(t of et.Oe)De(t);et.Oe=[],et.Le=[],et.He=[]},Ze:t=>{var r=t.Ke;delete et.He[r],et.Oe.push(t),et.Le.splice(et.Le.indexOf(t),1),t.Ke=0,vr(r)},rf(){},cf(){et.df.forEach(t=>t())},qf:t=>new Promise(r=>{t.onmessage=s=>{s=s.data;var d=s.cmd;if(s.targetThread&&s.targetThread!=Ye()){var v=et.He[s.targetThread];v?v.postMessage(s,s.transferList):Dt(`Internal error! Worker sent a message "${d}" to target pthread ${s.targetThread}, but that thread no longer exists!`)}else d==="checkMailbox"?$e():d==="spawnThread"?Ze(s):d==="cleanupThread"?((s=et.He[s.thread])||ue(),et.Ze(s)):d==="killThread"?(s=s.thread,d=et.He[s],delete et.He[s],De(d),vr(s),et.Le.splice(et.Le.indexOf(d),1),d.Ke=0):d==="cancelThread"?et.He[s.thread].postMessage({cmd:"cancel"}):d==="loaded"?(t.loaded=!0,r(t)):d==="alert"?alert(`Thread ${s.threadId}: ${s.text}`):s.target==="setimmediate"?t.postMessage(s):d==="callHandler"?x[s.handler](...s.args):d&&Dt(`worker sent an unknown command ${d}`)},t.onerror=s=>{throw Dt(`worker sent an error! ${s.filename}:${s.lineno}: ${s.message}`),s},mt&&(t.on("message",s=>t.onmessage({data:s})),t.on("error",s=>t.onerror(s)));var o=[],i=[],u;for(u of i)x.hasOwnProperty(u)&&o.push(u);t.postMessage({cmd:"load",handlers:o,urlOrBlob:x.mainScriptUrlOrBlob||U,wasmMemory:pt,wasmModule:fe})})};x.PThread=et;var Me=t=>{for(;0<t.length;)t.shift()(x)};x.establishStackSpace=()=>{var t=Ye(),r=q()[t+52>>>2>>>0];t=q()[t+56>>>2>>>0],cn(r,r-t),M(r)};function _r(t){if(tt)return Ot(1,0,t);Ie(t)}var Ue=[],Tr,P=t=>{var r=Ue[t];return r||(t>=Ue.length&&(Ue.length=t+1),Ue[t]=r=Tr.get(t)),r};x.invokeEntryPoint=(t,r)=>{t=P(t)(r),Se()?et.$e(t):yr(t)};var xe=[],Be=0,Jt=0;function Qe(t){this.Qe=t,this.Ge=t-24,this.jf=function(r){q()[this.Ge+4>>>2>>>0]=r},this.Re=function(){return q()[this.Ge+4>>>2>>>0]},this.hf=function(r){q()[this.Ge+8>>>2>>>0]=r},this.af=function(r){r=r?1:0,T()[this.Ge+12>>>0>>>0]=r},this.ff=function(){return T()[this.Ge+12>>>0>>>0]!=0},this.bf=function(r){r=r?1:0,T()[this.Ge+13>>>0>>>0]=r},this.mf=function(){return T()[this.Ge+13>>>0>>>0]!=0},this.Ve=function(r,o){this.Se(0),this.jf(r),this.hf(o)},this.Se=function(r){q()[this.Ge+16>>>2>>>0]=r},this.ef=function(){return q()[this.Ge+16>>>2>>>0]},this.gf=function(){if(hn(this.Re()))return q()[this.Qe>>>2>>>0];var r=this.ef();return r!==0?r:this.Qe}}var he=t=>{var r=Jt;if(!r)return Pe(0),0;var o=new Qe(r);o.Se(r);var i=o.Re();if(!i)return Pe(0),r;for(var u in t){var s=t[u];if(s===0||s===i)break;if(sn(s,i,o.Ge+16))return Pe(s),r}return Pe(i),r};function Ce(t,r,o,i){return tt?Ot(2,1,t,r,o,i):Ve(t,r,o,i)}function Ve(t,r,o,i){if(t>>>=0,r>>>=0,o>>>=0,i>>>=0,typeof SharedArrayBuffer>"u")return Dt("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var u=[];return tt&&u.length===0?Ce(t,r,o,i):(t={sf:o,Ke:t,kf:i,yf:u},tt?(t.Af="spawnThread",postMessage(t,u),0):Ze(t))}function Ar(t,r,o){return tt?Ot(3,1,t,r,o):0}function Er(t,r){if(tt)return Ot(4,1,t,r)}var ke=t=>{for(var r=0,o=0;o<t.length;++o){var i=t.charCodeAt(o);127>=i?r++:2047>=i?r+=2:55296<=i&&57343>=i?(r+=4,++o):r+=3}return r},tr=(t,r,o,i)=>{if(o>>>=0,!(0<i))return 0;var u=o;i=o+i-1;for(var s=0;s<t.length;++s){var d=t.charCodeAt(s);if(55296<=d&&57343>=d){var v=t.charCodeAt(++s);d=65536+((d&1023)<<10)|v&1023}if(127>=d){if(o>=i)break;r[o++>>>0]=d}else{if(2047>=d){if(o+1>=i)break;r[o++>>>0]=192|d>>6}else{if(65535>=d){if(o+2>=i)break;r[o++>>>0]=224|d>>12}else{if(o+3>=i)break;r[o++>>>0]=240|d>>18,r[o++>>>0]=128|d>>12&63}r[o++>>>0]=128|d>>6&63}r[o++>>>0]=128|d&63}}return r[o>>>0]=0,o-u},er=(t,r,o)=>tr(t,z(),r,o);function Sr(t,r){if(tt)return Ot(5,1,t,r)}function Mr(t,r,o){if(tt)return Ot(6,1,t,r,o)}function rr(t,r,o){return tt?Ot(7,1,t,r,o):0}function de(t,r){if(tt)return Ot(8,1,t,r)}function nr(t,r,o){if(tt)return Ot(9,1,t,r,o)}function or(t,r,o,i){if(tt)return Ot(10,1,t,r,o,i)}function ar(t,r,o,i){if(tt)return Ot(11,1,t,r,o,i)}function Re(t,r,o,i){if(tt)return Ot(12,1,t,r,o,i)}function ir(t){if(tt)return Ot(13,1,t)}function Le(t,r){if(tt)return Ot(14,1,t,r)}function Cr(t,r,o){if(tt)return Ot(15,1,t,r,o)}var cr=t=>{if(t===null)return"null";var r=typeof t;return r==="object"||r==="array"||r==="function"?t.toString():""+t},ur,Xt=t=>{for(var r="";z()[t>>>0];)r+=ur[z()[t++>>>0]];return r},He={},we={},kr={},S;function Pr(t,r,o={}){var i=r.name;if(!t)throw new S(`type "${i}" must have a positive integer typeid pointer`);if(we.hasOwnProperty(t)){if(o.nf)return;throw new S(`Cannot register type \'${i}\' twice`)}we[t]=r,delete kr[t],He.hasOwnProperty(t)&&(r=He[t],delete He[t],r.forEach(u=>u()))}function Kt(t,r,o={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");Pr(t,r,o)}var Fr=(t,r,o)=>{switch(r){case 1:return o?i=>T()[i>>>0>>>0]:i=>z()[i>>>0>>>0];case 2:return o?i=>Y()[i>>>1>>>0]:i=>Q()[i>>>1>>>0];case 4:return o?i=>B()[i>>>2>>>0]:i=>q()[i>>>2>>>0];case 8:return o?i=>Nt[i>>>3]:i=>te[i>>>3];default:throw new TypeError(`invalid integer width (${r}): ${t}`)}};function V(){this.Je=[void 0],this.Xe=[]}var Bt=new V;function Zt(t){t>>>=0,t>=Bt.Ge&&--Bt.get(t).Ye===0&&Bt.Se(t)}var Rt=t=>{if(!t)throw new S("Cannot use deleted val. handle = "+t);return Bt.get(t).value},E=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Bt.Re({Ye:1,value:t})}};function me(t){return this.fromWireType(B()[t>>>2>>>0])}var F=(t,r)=>{switch(r){case 4:return function(o){var i=this.fromWireType;return pt.buffer!=gt.buffer&&vt(),i.call(this,Ae[o>>>2>>>0])};case 8:return function(o){return this.fromWireType(at()[o>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${t}`)}};function D(t){return this.fromWireType(q()[t>>>2>>>0])}var fr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Dr=(t,r)=>{for(var o=t>>1,i=o+r/2;!(o>=i)&&Q()[o>>>0];)++o;if(o<<=1,32<o-t&&fr)return fr.decode(z().slice(t,o));for(o="",i=0;!(i>=r/2);++i){var u=Y()[t+2*i>>>1>>>0];if(u==0)break;o+=String.fromCharCode(u)}return o},Wr=(t,r,o)=>{if(o===void 0&&(o=2147483647),2>o)return 0;o-=2;var i=r;o=o<2*t.length?o/2:t.length;for(var u=0;u<o;++u){var s=t.charCodeAt(u);Y()[r>>>1>>>0]=s,r+=2}return Y()[r>>>1>>>0]=0,r-i},Ir=t=>2*t.length,Ur=(t,r)=>{for(var o=0,i="";!(o>=r/4);){var u=B()[t+4*o>>>2>>>0];if(u==0)break;++o,65536<=u?(u-=65536,i+=String.fromCharCode(55296|u>>10,56320|u&1023)):i+=String.fromCharCode(u)}return i},wn=(t,r,o)=>{if(r>>>=0,o===void 0&&(o=2147483647),4>o)return 0;var i=r;o=i+o-4;for(var u=0;u<t.length;++u){var s=t.charCodeAt(u);if(55296<=s&&57343>=s){var d=t.charCodeAt(++u);s=65536+((s&1023)<<10)|d&1023}if(B()[r>>>2>>>0]=s,r+=4,r+4>o)break}return B()[r>>>2>>>0]=0,r-i},mn=t=>{for(var r=0,o=0;o<t.length;++o){var i=t.charCodeAt(o);55296<=i&&57343>=i&&++o,r+=4}return r},On=t=>{if(!$t)try{if(t(),!Se())try{tt?yr(xt):Ie(xt)}catch(r){r instanceof qt||r=="unwind"||wt(1,r)}}catch(r){r instanceof qt||r=="unwind"||wt(1,r)}};function sr(t){t>>>=0,typeof Atomics.zf=="function"&&(Atomics.zf(B(),t>>>2,t).value.then($e),t+=128,Atomics.store(B(),t>>>2,1))}x.__emscripten_thread_mailbox_await=sr;var $e=()=>{var t=Ye();t&&(sr(t),On(()=>an()))};x.checkMailbox=$e;var bn=t=>{var r=C();return t=t(),M(r),t};function Ot(t,r){var o=arguments.length-2,i=arguments;return bn(()=>{for(var u=2*o,s=pr(8*u),d=s>>>3,v=0;v<o;v++){var p=i[2+v];typeof p=="bigint"?(Nt[d+2*v]=1n,Nt[d+2*v+1]=p):(Nt[d+2*v]=0n,at()[d+2*v+1>>>0]=p)}return on(t,u,s,r)})}var hr=[],Ne=(t,r)=>{var o=we[t];if(o===void 0)throw t=rn(t),o=Xt(t),ne(t),new S(r+" has unknown type "+o);return o},_n={},ze=t=>{var r=_n[t];return r===void 0?Xt(t):r},je=[],xr=()=>typeof globalThis=="object"?globalThis:Function("return this")(),Tn=t=>{var r=je.length;return je.push(t),r},An=(t,r)=>{for(var o=Array(t),i=0;i<t;++i)o[i]=Ne(q()[r+4*i>>>2>>>0],"parameter "+i);return o},Br=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var r=t.charCodeAt(0);return 48<=r&&57>=r?`_${t}`:t},Rr={};function En(t,r){return t=Br(t),{[t]:function(){return r.apply(this,arguments)}}[t]}function Sn(t){var r=Function;if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var o=En(r.name||"unknownFunctionName",function(){});return o.prototype=r.prototype,o=new o,t=r.apply(o,t),t instanceof Object?t:o}var Mn=t=>{for(var r="",o=0;o<t;++o)r+=(o!==0?", ":"")+"arg"+o;var i="return function emval_allocator_"+t+`(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n`;for(o=0;o<t;++o)i+="var argType"+o+" = requireRegisteredType(HEAPU32[((argTypes)>>>2)], \'parameter "+o+`\');\nvar arg`+o+" = argType"+o+`.readValueFromPointer(args);\nargs += argType`+o+`[\'argPackAdvance\'];\nargTypes += 4;\n`;return new Function("requireRegisteredType","Module","valueToHandle","getMemory",i+("var obj = new constructor("+r+`);\nreturn valueToHandle(obj);\n}\n`))(Ne,x,E,()=>q())},Lr={},Oe=t=>t%4===0&&(t%100!==0||t%400===0),Hr=[0,31,60,91,121,152,182,213,244,274,305,335],$r=[0,31,59,90,120,151,181,212,243,273,304,334];function Nr(t,r,o,i,u,s,d){return tt?Ot(16,1,t,r,o,i,u,s,d):-52}function zr(t,r,o,i,u,s){if(tt)return Ot(17,1,t,r,o,i,u,s)}var jr=t=>{var r=ke(t)+1,o=qe(r);return o&&er(t,o,r),o},dr={},Gr=()=>{if(!lr){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:st||"./this.program"},r;for(r in dr)dr[r]===void 0?delete t[r]:t[r]=dr[r];var o=[];for(r in t)o.push(`${r}=${t[r]}`);lr=o}return lr},lr;function Yr(t,r){if(tt)return Ot(18,1,t,r);t>>>=0,r>>>=0;var o=0;return Gr().forEach((i,u)=>{var s=r+o;for(u=q()[t+4*u>>>2>>>0]=s,s=0;s<i.length;++s)T()[u++>>>0>>>0]=i.charCodeAt(s);T()[u>>>0>>>0]=0,o+=i.length+1}),0}function qr(t,r){if(tt)return Ot(19,1,t,r);t>>>=0,r>>>=0;var o=Gr();q()[t>>>2>>>0]=o.length;var i=0;return o.forEach(u=>i+=u.length+1),q()[r>>>2>>>0]=i,0}function Jr(t){return tt?Ot(20,1,t):52}function Kr(t,r,o,i){return tt?Ot(21,1,t,r,o,i):52}function Xr(t,r,o,i){return tt?Ot(22,1,t,r,o,i):70}var Cn=[null,[],[]];function Zr(t,r,o,i){if(tt)return Ot(23,1,t,r,o,i);r>>>=0,o>>>=0,i>>>=0;for(var u=0,s=0;s<o;s++){var d=q()[r>>>2>>>0],v=q()[r+4>>>2>>>0];r+=8;for(var p=0;p<v;p++){var m=z()[d+p>>>0],_=Cn[t];m===0||m===10?((t===1?Te:Dt)(We(_,0)),_.length=0):_.push(m)}u+=v}return q()[i>>>2>>>0]=u,0}var Qr=[31,29,31,30,31,30,31,31,30,31,30,31],Vr=[31,28,31,30,31,30,31,31,30,31,30,31];function kn(t){var r=Array(ke(t)+1);return tr(t,r,0,r.length),r}var Pn=(t,r)=>{T().set(t,r>>>0)};function tn(t,r,o,i){function u(w,$,j){for(w=typeof w=="number"?w.toString():w||"";w.length<$;)w=j[0]+w;return w}function s(w,$){return u(w,$,"0")}function d(w,$){function j(nt){return 0>nt?-1:0<nt?1:0}var K;return(K=j(w.getFullYear()-$.getFullYear()))===0&&(K=j(w.getMonth()-$.getMonth()))===0&&(K=j(w.getDate()-$.getDate())),K}function v(w){switch(w.getDay()){case 0:return new Date(w.getFullYear()-1,11,29);case 1:return w;case 2:return new Date(w.getFullYear(),0,3);case 3:return new Date(w.getFullYear(),0,2);case 4:return new Date(w.getFullYear(),0,1);case 5:return new Date(w.getFullYear()-1,11,31);case 6:return new Date(w.getFullYear()-1,11,30)}}function p(w){var $=w.Me;for(w=new Date(new Date(w.Ne+1900,0,1).getTime());0<$;){var j=w.getMonth(),K=(Oe(w.getFullYear())?Qr:Vr)[j];if($>K-w.getDate())$-=K-w.getDate()+1,w.setDate(1),11>j?w.setMonth(j+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1));else{w.setDate(w.getDate()+$);break}}return j=new Date(w.getFullYear()+1,0,4),$=v(new Date(w.getFullYear(),0,4)),j=v(j),0>=d($,w)?0>=d(j,w)?w.getFullYear()+1:w.getFullYear():w.getFullYear()-1}t>>>=0,r>>>=0,o>>>=0,i>>>=0;var m=q()[i+40>>>2>>>0];i={wf:B()[i>>>2>>>0],vf:B()[i+4>>>2>>>0],Te:B()[i+8>>>2>>>0],We:B()[i+12>>>2>>>0],Ue:B()[i+16>>>2>>>0],Ne:B()[i+20>>>2>>>0],Ie:B()[i+24>>>2>>>0],Me:B()[i+28>>>2>>>0],Cf:B()[i+32>>>2>>>0],uf:B()[i+36>>>2>>>0],xf:m?Wt(m):""},o=Wt(o),m={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var _ in m)o=o.replace(new RegExp(_,"g"),m[_]);var W="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),R="January February March April May June July August September October November December".split(" ");m={"%a":w=>W[w.Ie].substring(0,3),"%A":w=>W[w.Ie],"%b":w=>R[w.Ue].substring(0,3),"%B":w=>R[w.Ue],"%C":w=>s((w.Ne+1900)/100|0,2),"%d":w=>s(w.We,2),"%e":w=>u(w.We,2," "),"%g":w=>p(w).toString().substring(2),"%G":w=>p(w),"%H":w=>s(w.Te,2),"%I":w=>(w=w.Te,w==0?w=12:12<w&&(w-=12),s(w,2)),"%j":w=>{for(var $=0,j=0;j<=w.Ue-1;$+=(Oe(w.Ne+1900)?Qr:Vr)[j++]);return s(w.We+$,3)},"%m":w=>s(w.Ue+1,2),"%M":w=>s(w.vf,2),"%n":()=>`\n`,"%p":w=>0<=w.Te&&12>w.Te?"AM":"PM","%S":w=>s(w.wf,2),"%t":()=>"	","%u":w=>w.Ie||7,"%U":w=>s(Math.floor((w.Me+7-w.Ie)/7),2),"%V":w=>{var $=Math.floor((w.Me+7-(w.Ie+6)%7)/7);if(2>=(w.Ie+371-w.Me-2)%7&&$++,$)$==53&&(j=(w.Ie+371-w.Me)%7,j==4||j==3&&Oe(w.Ne)||($=1));else{$=52;var j=(w.Ie+7-w.Me-1)%7;(j==4||j==5&&Oe(w.Ne%400-1))&&$++}return s($,2)},"%w":w=>w.Ie,"%W":w=>s(Math.floor((w.Me+7-(w.Ie+6)%7)/7),2),"%y":w=>(w.Ne+1900).toString().substring(2),"%Y":w=>w.Ne+1900,"%z":w=>{w=w.uf;var $=0<=w;return w=Math.abs(w)/60,($?"+":"-")+("0000"+(w/60*100+w%60)).slice(-4)},"%Z":w=>w.xf,"%%":()=>"%"},o=o.replace(/%%/g,"\\0\\0");for(_ in m)o.includes(_)&&(o=o.replace(new RegExp(_,"g"),m[_](i)));return o=o.replace(/\\0\\0/g,"%"),_=kn(o),_.length>r?0:(Pn(_,t),_.length-1)}et.Ve();for(var en=Array(256),Ge=0;256>Ge;++Ge)en[Ge]=String.fromCharCode(Ge);ur=en,S=x.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},x.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Object.assign(V.prototype,{get(t){return this.Je[t]},has(t){return this.Je[t]!==void 0},Re(t){var r=this.Xe.pop()||this.Je.length;return this.Je[r]=t,r},Se(t){this.Je[t]=void 0,this.Xe.push(t)}}),Bt.Je.push({value:void 0},{value:null},{value:!0},{value:!1}),Bt.Ge=Bt.Je.length,x.count_emval_handles=()=>{for(var t=0,r=Bt.Ge;r<Bt.Je.length;++r)Bt.Je[r]!==void 0&&++t;return t};var Fn=[jt,_r,Ce,Ar,Er,Sr,Mr,rr,de,nr,or,ar,Re,ir,Le,Cr,Nr,zr,Yr,qr,Jr,Kr,Xr,Zr],Dn={u:function(t){return t=new Qe(t>>>0),t.ff()||(t.af(!0),Be--),t.bf(!1),xe.push(t),fn(t.Qe),t.gf()},M:()=>{k(0,0);var t=xe.pop();un(t.Qe),Jt=0},b:function(){return he([])},n:function(t){return he([t>>>0])},y:function(t,r){return he([t>>>0,r>>>0])},q:function(t,r,o){return he([t>>>0,r>>>0,o>>>0])},yb:()=>{var t=xe.pop();t||ue("no exception to throw");var r=t.Qe;throw t.mf()||(xe.push(t),t.bf(!0),t.af(!1),Be++),Jt=r,Jt},t:function(t,r,o){throw t>>>=0,new Qe(t).Ve(r>>>0,o>>>0),Jt=t,Be++,Jt},Sa:()=>Be,Vc:function(t){nn(t>>>0,!lt,1,!ht,131072,!1),et.cf()},Ub:function(t){t>>>=0,tt?postMessage({cmd:"cleanupThread",thread:t}):((t=et.He[t])||ue(),et.Ze(t))},Lc:Ve,i:function(t){throw Jt||(Jt=t>>>0),Jt},zb:Ar,$c:Er,Gc:Sr,Ic:Mr,zc:rr,Zc:de,Sc:nr,Yc:or,Wb:ar,Hc:Re,Ec:ir,_c:Le,Fc:Cr,Zb:function(t,r,o,i,u){t>>>=0,r>>>=0,o>>>=0,r=Xt(r);var s=r.indexOf("u")!=-1;s&&(u=(1n<<64n)-1n),Kt(t,{name:r,fromWireType:d=>d,toWireType:function(d,v){if(typeof v!="bigint"&&typeof v!="number")throw new TypeError(`Cannot convert "${cr(v)}" to ${this.name}`);if(v<i||v>u)throw new TypeError(`Passing a number "${cr(v)}" from JS side to C/C++ side to an argument of type "${r}", which is outside the valid range [${i}, ${u}]!`);return v},argPackAdvance:8,readValueFromPointer:Fr(r,o,!s),Pe:null})},ed:function(t,r,o,i){t>>>=0,r=Xt(r>>>0),Kt(t,{name:r,fromWireType:function(u){return!!u},toWireType:function(u,s){return s?o:i},argPackAdvance:8,readValueFromPointer:function(u){return this.fromWireType(z()[u>>>0])},Pe:null})},dd:function(t,r){t>>>=0,r=Xt(r>>>0),Kt(t,{name:r,fromWireType:o=>{var i=Rt(o);return Zt(o),i},toWireType:(o,i)=>E(i),argPackAdvance:8,readValueFromPointer:me,Pe:null})},Yb:function(t,r,o){t>>>=0,o>>>=0,r=Xt(r>>>0),Kt(t,{name:r,fromWireType:i=>i,toWireType:(i,u)=>u,argPackAdvance:8,readValueFromPointer:F(r,o),Pe:null})},va:function(t,r,o,i,u){if(t>>>=0,o>>>=0,r=Xt(r>>>0),u===-1&&(u=4294967295),u=v=>v,i===0){var s=32-8*o;u=v=>v<<s>>>s}var d=r.includes("unsigned")?function(v,p){return p>>>0}:function(v,p){return p};Kt(t,{name:r,fromWireType:u,toWireType:d,argPackAdvance:8,readValueFromPointer:Fr(r,o,i!==0),Pe:null})},_:function(t,r,o){function i(s){var d=q()[s>>>2>>>0];return s=q()[s+4>>>2>>>0],new u(T().buffer,s,d)}t>>>=0;var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][r];o=Xt(o>>>0),Kt(t,{name:o,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{nf:!0})},_b:function(t,r){t>>>=0,r=Xt(r>>>0);var o=r==="std::string";Kt(t,{name:r,fromWireType:function(i){var u=q()[i>>>2>>>0],s=i+4;if(o)for(var d=s,v=0;v<=u;++v){var p=s+v;if(v==u||z()[p>>>0]==0){if(d=Wt(d,p-d),m===void 0)var m=d;else m+=String.fromCharCode(0),m+=d;d=p+1}}else{for(m=Array(u),v=0;v<u;++v)m[v]=String.fromCharCode(z()[s+v>>>0]);m=m.join("")}return ne(i),m},toWireType:function(i,u){u instanceof ArrayBuffer&&(u=new Uint8Array(u));var s=typeof u=="string";if(!(s||u instanceof Uint8Array||u instanceof Uint8ClampedArray||u instanceof Int8Array))throw new S("Cannot pass non-string to std::string");var d=o&&s?ke(u):u.length,v=qe(4+d+1),p=v+4;if(q()[v>>>2>>>0]=d,o&&s)er(u,p,d+1);else if(s)for(s=0;s<d;++s){var m=u.charCodeAt(s);if(255<m)throw ne(p),new S("String has UTF-16 code units that do not fit in 8 bits");z()[p+s>>>0]=m}else for(s=0;s<d;++s)z()[p+s>>>0]=u[s];return i!==null&&i.push(ne,v),v},argPackAdvance:8,readValueFromPointer:D,Pe(i){ne(i)}})},Bb:function(t,r,o){if(t>>>=0,r>>>=0,o>>>=0,o=Xt(o),r===2)var i=Dr,u=Wr,s=Ir,d=()=>Q(),v=1;else r===4&&(i=Ur,u=wn,s=mn,d=()=>q(),v=2);Kt(t,{name:o,fromWireType:p=>{for(var m=q()[p>>>2>>>0],_=d(),W,R=p+4,w=0;w<=m;++w){var $=p+4+w*r;(w==m||_[$>>>v]==0)&&(R=i(R,$-R),W===void 0?W=R:(W+=String.fromCharCode(0),W+=R),R=$+r)}return ne(p),W},toWireType:(p,m)=>{if(typeof m!="string")throw new S(`Cannot pass non-string to C++ string type ${o}`);var _=s(m),W=qe(4+_+r);return q()[W>>>2]=_>>v,u(m,W+4,_+r),p!==null&&p.push(ne,W),W},argPackAdvance:8,readValueFromPointer:me,Pe(p){ne(p)}})},jd:function(t,r){t>>>=0,r=Xt(r>>>0),Kt(t,{pf:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},cd:()=>!0,Cc:function(t,r){t>>>=0,t==r>>>0?setTimeout(()=>$e()):tt?postMessage({targetThread:t,cmd:"checkMailbox"}):(t=et.He[t])&&t.postMessage({cmd:"checkMailbox"})},Mc:function(t,r,o,i){r>>>=0,o/=2,hr.length=o,i=i>>>0>>>3;for(var u=0;u<o;u++)hr[u]=Nt[i+2*u]?Nt[i+2*u+1]:at()[i+2*u+1>>>0];return t=Fn[t],et.lf=r,r=t.apply(null,hr),et.lf=0,r},Uc:sr,bd:function(t){mt&&et.He[t>>>0].ref()},ud:function(t,r,o){r>>>=0,o>>>=0,t=Rt(t>>>0),r=Ne(r,"emval::as");var i=[],u=E(i);return q()[o>>>2>>>0]=u,r.toWireType(i,t)},ka:function(t,r,o,i,u){o>>>=0,i>>>=0,u>>>=0,t=je[t>>>0],r=Rt(r>>>0),o=ze(o);var s=[];return q()[i>>>2>>>0]=E(s),t(r,o,s,u)},Dd:function(t,r,o,i){o>>>=0,i>>>=0,t=je[t>>>0],r=Rt(r>>>0),o=ze(o),t(r,o,null,i)},yc:Zt,wd:function(t,r){return r>>>=0,t=Rt(t>>>0),r=Rt(r),t==r},Hd:function(t){return t>>>=0,t===0?E(xr()):(t=ze(t),E(xr()[t]))},la:function(t,r){var o=An(t,r>>>0),i=o[0];r=i.name+"_$"+o.slice(1).map(function(_){return _.name}).join("_")+"$";var u=Rr[r];if(u!==void 0)return u;u=["retType"];for(var s=[i],d="",v=0;v<t-1;++v)d+=(v!==0?", ":"")+"arg"+v,u.push("argType"+v),s.push(o[1+v]);var p="return function "+Br("methodCaller_"+r)+`(handle, name, destructors, args) {\n`,m=0;for(v=0;v<t-1;++v)p+="    var arg"+v+" = argType"+v+".readValueFromPointer(args"+(m?"+"+m:"")+`);\n`,m+=o[v+1].argPackAdvance;for(p+="    var rv = handle[name]("+d+`);\n`,v=0;v<t-1;++v)o[v+1].deleteObject&&(p+="    argType"+v+".deleteObject(arg"+v+`);\n`);return i.pf||(p+=`    return retType.toWireType(destructors, rv);\n`),u.push(p+`};\n`),t=Sn(u).apply(null,s),u=Tn(t),Rr[r]=u},Fd:function(t,r){return r>>>=0,t=Rt(t>>>0),r=Rt(r),E(t[r])},Q:function(t){t>>>=0,4<t&&(Bt.get(t).Ye+=1)},zd:function(t,r,o,i){o>>>=0,i>>>=0,t=Rt(t>>>0);var u=Lr[r];return u||(u=Mn(r),Lr[r]=u),u(t,o,i)},od:function(){return E([])},rd:function(t){t=Rt(t>>>0);for(var r=Array(t.length),o=0;o<t.length;o++)r[o]=t[o];return E(r)},X:function(t){return E(ze(t>>>0))},Ra:function(){return E({})},Ad:function(t){t>>>=0;for(var r=Rt(t);r.length;){var o=r.pop();r.pop()(o)}Zt(t)},yd:function(t,r,o){r>>>=0,o>>>=0,t=Rt(t>>>0),r=Rt(r),o=Rt(o),t[r]=o},Ya:function(t,r){return r>>>=0,t=Ne(t>>>0,"_emval_take_value"),t=t.readValueFromPointer(r),E(t)},Pc:function(t,r){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),r>>>=0,t=new Date(1e3*t),B()[r>>>2>>>0]=t.getUTCSeconds(),B()[r+4>>>2>>>0]=t.getUTCMinutes(),B()[r+8>>>2>>>0]=t.getUTCHours(),B()[r+12>>>2>>>0]=t.getUTCDate(),B()[r+16>>>2>>>0]=t.getUTCMonth(),B()[r+20>>>2>>>0]=t.getUTCFullYear()-1900,B()[r+24>>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,B()[r+28>>>2>>>0]=t},Qc:function(t,r){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t),r>>>=0,t=new Date(1e3*t),B()[r>>>2>>>0]=t.getSeconds(),B()[r+4>>>2>>>0]=t.getMinutes(),B()[r+8>>>2>>>0]=t.getHours(),B()[r+12>>>2>>>0]=t.getDate(),B()[r+16>>>2>>>0]=t.getMonth(),B()[r+20>>>2>>>0]=t.getFullYear()-1900,B()[r+24>>>2>>>0]=t.getDay();var o=(Oe(t.getFullYear())?Hr:$r)[t.getMonth()]+t.getDate()-1|0;B()[r+28>>>2>>>0]=o,B()[r+36>>>2>>>0]=-(60*t.getTimezoneOffset()),o=new Date(t.getFullYear(),6,1).getTimezoneOffset();var i=new Date(t.getFullYear(),0,1).getTimezoneOffset();t=(o!=i&&t.getTimezoneOffset()==Math.min(i,o))|0,B()[r+32>>>2>>>0]=t},Rc:function(t){t>>>=0;var r=new Date(B()[t+20>>>2>>>0]+1900,B()[t+16>>>2>>>0],B()[t+12>>>2>>>0],B()[t+8>>>2>>>0],B()[t+4>>>2>>>0],B()[t>>>2>>>0],0),o=B()[t+32>>>2>>>0],i=r.getTimezoneOffset(),u=new Date(r.getFullYear(),6,1).getTimezoneOffset(),s=new Date(r.getFullYear(),0,1).getTimezoneOffset(),d=Math.min(s,u);return 0>o?B()[t+32>>>2>>>0]=+(u!=s&&d==i):0<o!=(d==i)&&(u=Math.max(s,u),r.setTime(r.getTime()+6e4*((0<o?d:u)-i))),B()[t+24>>>2>>>0]=r.getDay(),o=(Oe(r.getFullYear())?Hr:$r)[r.getMonth()]+r.getDate()-1|0,B()[t+28>>>2>>>0]=o,B()[t>>>2>>>0]=r.getSeconds(),B()[t+4>>>2>>>0]=r.getMinutes(),B()[t+8>>>2>>>0]=r.getHours(),B()[t+12>>>2>>>0]=r.getDate(),B()[t+16>>>2>>>0]=r.getMonth(),B()[t+20>>>2>>>0]=r.getYear(),BigInt(r.getTime()/1e3)},Nc:Nr,Oc:zr,Bc:function(t,r,o){function i(m){return(m=m.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?m[1]:"GMT"}t>>>=0,r>>>=0,o>>>=0;var u=new Date().getFullYear(),s=new Date(u,0,1),d=new Date(u,6,1);u=s.getTimezoneOffset();var v=d.getTimezoneOffset(),p=Math.max(u,v);q()[t>>>2>>>0]=60*p,B()[r>>>2>>>0]=+(u!=v),t=i(s),r=i(d),t=jr(t),r=jr(r),v<u?(q()[o>>>2>>>0]=t,q()[o+4>>>2>>>0]=r):(q()[o>>>2>>>0]=r,q()[o+4>>>2>>>0]=t)},aa:()=>{ue("")},Vb:()=>{},Xb:()=>Date.now(),ad:()=>{throw Ke+=1,"unwind"},Dc:function(){return 4294901760},ua:()=>performance.timeOrigin+performance.now(),hb:()=>mt?(ti(),mr(Va)).cpus().length:navigator.hardwareConcurrency,Ac:function(t){t>>>=0;var r=z().length;if(t<=r||4294901760<t)return!1;for(var o=1;4>=o;o*=2){var i=r*(1+.2/o);i=Math.min(i,t+100663296);var u=Math;i=Math.max(t,i);t:{u=(u.min.call(u,4294901760,i+(65536-i%65536)%65536)-pt.buffer.byteLength+65535)/65536;try{pt.grow(u),vt();var s=1;break t}catch{}s=void 0}if(s)return!0}return!1},Wc:Yr,Xc:qr,Kc:Ie,Ab:Jr,Tb:Kr,Tc:Xr,Sb:Zr,gb:Qn,fd:ac,sa:Zi,G:Ji,pa:da,fa:Xn,gd:oc,ld:Yi,O:xo,A:Gn,c:xn,dc:zi,xa:G,g:In,Db:ji,d:Wn,Y:Fi,j:Nn,hd:rc,k:$n,r:Hn,s:Kn,p:Vn,Qa:io,Va:Ma,ha:yo,Pb:zo,_a:Yo,Ib:Ca,lb:I,ic:Wi,wc:vo,fc:Bi,gc:Ui,$b:ec,ja:ya,xb:uo,Aa:ki,Cb:Vi,da:ma,hc:Ii,Oa:Jo,F:Rn,L:Fo,Fb:Di,qd:xi,oa:a,N:Uo,$:Do,V:Xo,z:Yn,Eb:Hi,ec:Ri,C:gr,Hb:Ai,pd:Li,Pa:Go,cb:Ta,jc:Si,ac:tc,Mb:va,P:Zn,H:ho,D:Eo,jb:_i,S:Io,e:Ln,Xa:Ro,l:Bn,wa:Gi,Wa:l,ub:Oo,h:Un,xc:lo,ca:Ci,db:Ho,ya:la,kb:O,eb:_o,f:zn,uc:So,sd:ka,o:jn,sc:Lo,m:Jn,vc:To,rc:$o,vd:X,w:eo,Ma:ea,rb:ta,La:ra,Kb:g,B:oo,E:co,W:so,Ua:Pa,oc:e,Bd:Qo,sb:Bo,ta:Ko,ia:L,R:jo,$a:po,Ga:c,Ed:Mo,ib:nc,Ca:Tt,lc:Et,Ba:At,Da:N,id:Qi,Cd:No,na:h,td:oe,Ha:Je,Fa:f,qc:Oa,Ea:b,Ia:Sa,nb:wa,ga:Aa,za:Zo,kc:Ti,pc:ba,Jb:ut,Gb:Ei,ma:ko,Rb:no,nd:$i,U:ga,vb:wo,bb:n,Ta:Mi,fb:bo,K:to,T:mo,wb:fo,md:Ni,ba:ao,mb:A,ra:_a,nc:y,bc:Xi,Gd:go,x:qn,ab:Pi,xd:dn,Nb:ua,mc:rt,Id:ro,Ob:ca,Lb:pa,Za:qo,Qb:Po,Ja:Ea,cc:Ki,Z:fa,tc:Co,J:Wo,kd:qi,tb:Ao,qa:ha,I:sa,pb:aa,Ka:oa,Na:Vo,ob:ia,qb:na,v:function(t){return t>>>0},a:pt||x.wasmMemory,Jc:tn,ea:function(t,r,o,i){return tn(t>>>0,r>>>0,o>>>0,i>>>0)}},Z=function(){var t={a:Dn};return ee++,pn(t,function(r){var o=r.module;Z=r.instance.exports,Z=ic(),et.df.push(Z.me),Tr=Z.pe,ie.unshift(Z.Jd),fe=o,Xe()}).catch(yt),{}}();x._OrtInit=(t,r)=>(x._OrtInit=Z.Kd)(t,r),x._OrtGetLastError=(t,r)=>(x._OrtGetLastError=Z.Ld)(t,r),x._OrtCreateSessionOptions=(t,r,o,i,u,s,d,v,p,m)=>(x._OrtCreateSessionOptions=Z.Md)(t,r,o,i,u,s,d,v,p,m),x._OrtAppendExecutionProvider=(t,r)=>(x._OrtAppendExecutionProvider=Z.Nd)(t,r),x._OrtAddFreeDimensionOverride=(t,r,o)=>(x._OrtAddFreeDimensionOverride=Z.Od)(t,r,o),x._OrtAddSessionConfigEntry=(t,r,o)=>(x._OrtAddSessionConfigEntry=Z.Pd)(t,r,o),x._OrtReleaseSessionOptions=t=>(x._OrtReleaseSessionOptions=Z.Qd)(t),x._OrtCreateSession=(t,r,o)=>(x._OrtCreateSession=Z.Rd)(t,r,o),x._OrtReleaseSession=t=>(x._OrtReleaseSession=Z.Sd)(t),x._OrtGetInputOutputCount=(t,r,o)=>(x._OrtGetInputOutputCount=Z.Td)(t,r,o),x._OrtGetInputName=(t,r)=>(x._OrtGetInputName=Z.Ud)(t,r),x._OrtGetOutputName=(t,r)=>(x._OrtGetOutputName=Z.Vd)(t,r),x._OrtFree=t=>(x._OrtFree=Z.Wd)(t),x._OrtCreateTensor=(t,r,o,i,u,s)=>(x._OrtCreateTensor=Z.Xd)(t,r,o,i,u,s),x._OrtGetTensorData=(t,r,o,i,u)=>(x._OrtGetTensorData=Z.Yd)(t,r,o,i,u),x._OrtReleaseTensor=t=>(x._OrtReleaseTensor=Z.Zd)(t),x._OrtCreateRunOptions=(t,r,o,i)=>(x._OrtCreateRunOptions=Z._d)(t,r,o,i),x._OrtAddRunConfigEntry=(t,r,o)=>(x._OrtAddRunConfigEntry=Z.$d)(t,r,o),x._OrtReleaseRunOptions=t=>(x._OrtReleaseRunOptions=Z.ae)(t),x._OrtCreateBinding=t=>(x._OrtCreateBinding=Z.be)(t),x._OrtBindInput=(t,r,o)=>(x._OrtBindInput=Z.ce)(t,r,o),x._OrtBindOutput=(t,r,o,i)=>(x._OrtBindOutput=Z.de)(t,r,o,i),x._OrtClearBoundOutputs=t=>(x._OrtClearBoundOutputs=Z.ee)(t),x._OrtReleaseBinding=t=>(x._OrtReleaseBinding=Z.fe)(t),x._OrtRunWithBinding=(t,r,o,i,u)=>(x._OrtRunWithBinding=Z.ge)(t,r,o,i,u),x._OrtRun=(t,r,o,i,u,s,d,v)=>(x._OrtRun=Z.he)(t,r,o,i,u,s,d,v),x._OrtEndProfiling=t=>(x._OrtEndProfiling=Z.ie)(t);var Ye=x._pthread_self=()=>(Ye=x._pthread_self=Z.je)(),qe=x._malloc=t=>(qe=x._malloc=Z.ke)(t),ne=x._free=t=>(ne=x._free=Z.le)(t);x.__emscripten_tls_init=()=>(x.__emscripten_tls_init=Z.me)();var rn=t=>(rn=Z.ne)(t);x.__embind_initialize_bindings=()=>(x.__embind_initialize_bindings=Z.oe)();var nn=x.__emscripten_thread_init=(t,r,o,i,u,s)=>(nn=x.__emscripten_thread_init=Z.qe)(t,r,o,i,u,s);x.__emscripten_thread_crashed=()=>(x.__emscripten_thread_crashed=Z.re)();var on=(t,r,o,i)=>(on=Z.se)(t,r,o,i),vr=t=>(vr=Z.te)(t),yr=x.__emscripten_thread_exit=t=>(yr=x.__emscripten_thread_exit=Z.ue)(t),an=x.__emscripten_check_mailbox=()=>(an=x.__emscripten_check_mailbox=Z.ve)(),k=(t,r)=>(k=Z.we)(t,r),Pe=t=>(Pe=Z.xe)(t),cn=(t,r)=>(cn=Z.ye)(t,r),C=()=>(C=Z.ze)(),M=t=>(M=Z.Ae)(t),pr=t=>(pr=Z.Be)(t),un=t=>(un=Z.Ce)(t),fn=t=>(fn=Z.De)(t),sn=(t,r,o)=>(sn=Z.Ee)(t,r,o),hn=t=>(hn=Z.Fe)(t);function Wn(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function In(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function Un(t,r,o){var i=C();try{P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function xn(t,r){var o=C();try{return P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;k(1,0)}}function Bn(t,r){var o=C();try{P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;k(1,0)}}function Rn(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function Ln(t){var r=C();try{P(t)()}catch(o){if(M(r),o!==o+0)throw o;k(1,0)}}function Hn(t,r,o,i,u,s,d){var v=C();try{return P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function $n(t,r,o,i,u,s){var d=C();try{return P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Nn(t,r,o,i,u){var s=C();try{return P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function zn(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function jn(t,r,o,i,u){var s=C();try{P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function Gn(t){var r=C();try{return P(t)()}catch(o){if(M(r),o!==o+0)throw o;k(1,0)}}function Yn(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function qn(t,r,o){var i=C();try{P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function Jn(t,r,o,i,u,s){var d=C();try{P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Kn(t,r,o,i,u,s,d,v){var p=C();try{return P(t)(r,o,i,u,s,d,v)}catch(m){if(M(p),m!==m+0)throw m;k(1,0)}}function Xn(t,r){var o=C();try{return P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;k(1,0)}}function Zn(t,r){var o=C();try{return P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;return k(1,0),0n}}function Qn(t,r){var o=C();try{return P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;k(1,0)}}function Vn(t,r,o,i,u,s,d,v,p){var m=C();try{return P(t)(r,o,i,u,s,d,v,p)}catch(_){if(M(m),_!==_+0)throw _;k(1,0)}}function to(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function eo(t,r,o,i,u,s,d){var v=C();try{P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function ro(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function no(t,r,o,i,u,s,d){var v=C();try{P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function oo(t,r,o,i,u,s,d,v){var p=C();try{P(t)(r,o,i,u,s,d,v)}catch(m){if(M(p),m!==m+0)throw m;k(1,0)}}function ao(t,r,o,i,u){var s=C();try{P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function io(t,r,o,i,u,s,d,v,p,m){var _=C();try{return P(t)(r,o,i,u,s,d,v,p,m)}catch(W){if(M(_),W!==W+0)throw W;k(1,0)}}function co(t,r,o,i,u,s,d,v,p){var m=C();try{P(t)(r,o,i,u,s,d,v,p)}catch(_){if(M(m),_!==_+0)throw _;k(1,0)}}function uo(t,r,o,i,u,s,d,v,p,m,_){var W=C();try{return P(t)(r,o,i,u,s,d,v,p,m,_)}catch(R){if(M(W),R!==R+0)throw R;k(1,0)}}function fo(t,r,o,i,u,s,d){var v=C();try{P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function so(t,r,o,i,u,s,d,v,p,m){var _=C();try{P(t)(r,o,i,u,s,d,v,p,m)}catch(W){if(M(_),W!==W+0)throw W;k(1,0)}}function ho(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;return k(1,0),0n}}function lo(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function vo(t,r,o,i,u,s,d,v,p){var m=C();try{return P(t)(r,o,i,u,s,d,v,p)}catch(_){if(M(m),_!==_+0)throw _;k(1,0)}}function yo(t,r,o,i,u,s,d,v,p,m,_,W){var R=C();try{return P(t)(r,o,i,u,s,d,v,p,m,_,W)}catch(w){if(M(R),w!==w+0)throw w;k(1,0)}}function po(t,r,o,i,u,s,d,v,p,m,_,W,R,w){var $=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w)}catch(j){if(M($),j!==j+0)throw j;k(1,0)}}function go(t,r,o,i,u,s,d,v,p,m,_,W){var R=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W)}catch(w){if(M(R),w!==w+0)throw w;k(1,0)}}function wo(t,r,o,i,u,s,d,v,p,m,_,W){var R=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W)}catch(w){if(M(R),w!==w+0)throw w;k(1,0)}}function mo(t,r,o,i,u){var s=C();try{P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function Oo(t,r,o,i,u,s,d){var v=C();try{P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function bo(t,r,o,i,u,s,d,v,p){var m=C();try{P(t)(r,o,i,u,s,d,v,p)}catch(_){if(M(m),_!==_+0)throw _;k(1,0)}}function _o(t,r,o,i,u,s,d){var v=C();try{P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function To(t,r,o,i,u,s,d,v,p,m,_){var W=C();try{P(t)(r,o,i,u,s,d,v,p,m,_)}catch(R){if(M(W),R!==R+0)throw R;k(1,0)}}function Ao(t,r,o,i,u,s,d,v){var p=C();try{P(t)(r,o,i,u,s,d,v)}catch(m){if(M(p),m!==m+0)throw m;k(1,0)}}function Eo(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;return k(1,0),0n}}function So(t,r,o,i,u){var s=C();try{P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function Mo(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K){var nt=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K)}catch(ot){if(M(nt),ot!==ot+0)throw ot;k(1,0)}}function Co(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j){var K=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j)}catch(nt){if(M(K),nt!==nt+0)throw nt;k(1,0)}}function ko(t,r,o,i,u,s){var d=C();try{P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Po(t,r,o,i,u,s,d,v,p){var m=C();try{P(t)(r,o,i,u,s,d,v,p)}catch(_){if(M(m),_!==_+0)throw _;k(1,0)}}function Fo(t,r,o,i,u){var s=C();try{return P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function Do(t,r,o,i,u,s,d,v,p,m,_,W,R,w){var $=C();try{return P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w)}catch(j){if(M($),j!==j+0)throw j;k(1,0)}}function Wo(t,r){var o=C();try{P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;k(1,0)}}function Io(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;return k(1,0),0n}}function Uo(t,r,o,i,u,s,d,v,p,m){var _=C();try{return P(t)(r,o,i,u,s,d,v,p,m)}catch(W){if(M(_),W!==W+0)throw W;k(1,0)}}function xo(t,r,o,i,u){var s=C();try{return P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function Bo(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$){var j=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$)}catch(K){if(M(j),K!==K+0)throw K;k(1,0)}}function Ro(t,r,o,i,u){var s=C();try{P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function Lo(t,r,o,i,u,s,d){var v=C();try{P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function Ho(t,r,o,i,u){var s=C();try{P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function $o(t,r,o,i,u,s,d,v){var p=C();try{P(t)(r,o,i,u,s,d,v)}catch(m){if(M(p),m!==m+0)throw m;k(1,0)}}function No(t,r,o,i,u,s,d,v,p,m,_){var W=C();try{P(t)(r,o,i,u,s,d,v,p,m,_)}catch(R){if(M(W),R!==R+0)throw R;k(1,0)}}function zo(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K){var nt=C();try{return P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K)}catch(ot){if(M(nt),ot!==ot+0)throw ot;k(1,0)}}function jo(t,r,o,i,u,s,d,v,p,m,_,W,R){var w=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R)}catch($){if(M(w),$!==$+0)throw $;k(1,0)}}function Go(t,r){var o=C();try{return P(t)(r)}catch(i){if(M(o),i!==i+0)throw i;k(1,0)}}function Yo(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt){var Ct=C();try{return P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt)}catch(kt){if(M(Ct),kt!==kt+0)throw kt;k(1,0)}}function qo(t,r,o,i,u,s,d,v,p,m){var _=C();try{P(t)(r,o,i,u,s,d,v,p,m)}catch(W){if(M(_),W!==W+0)throw W;k(1,0)}}function Jo(t,r,o,i,u,s,d){var v=C();try{return P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function Ko(t,r,o,i,u,s,d,v,p,m,_){var W=C();try{P(t)(r,o,i,u,s,d,v,p,m,_)}catch(R){if(M(W),R!==R+0)throw R;k(1,0)}}function Xo(t,r,o,i,u,s){var d=C();try{return P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Zo(t,r,o,i,u,s){var d=C();try{P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Qo(t,r,o,i,u,s,d,v,p,m,_,W,R,w){var $=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w)}catch(j){if(M($),j!==j+0)throw j;k(1,0)}}function Vo(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt){var ot=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt)}catch(Mt){if(M(ot),Mt!==Mt+0)throw Mt;k(1,0)}}function ta(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K){var nt=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K)}catch(ot){if(M(nt),ot!==ot+0)throw ot;k(1,0)}}function ea(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j){var K=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j)}catch(nt){if(M(K),nt!==nt+0)throw nt;k(1,0)}}function ra(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$){var j=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$)}catch(K){if(M(j),K!==K+0)throw K;k(1,0)}}function na(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt,Ct){var kt=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt,Ct)}catch(le){if(M(kt),le!==le+0)throw le;k(1,0)}}function oa(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot){var Mt=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot)}catch(Ct){if(M(Mt),Ct!==Ct+0)throw Ct;k(1,0)}}function aa(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K){var nt=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K)}catch(ot){if(M(nt),ot!==ot+0)throw ot;k(1,0)}}function ia(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt){var Ct=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt)}catch(kt){if(M(Ct),kt!==kt+0)throw kt;k(1,0)}}function ca(t,r,o,i,u,s,d,v,p,m){var _=C();try{P(t)(r,o,i,u,s,d,v,p,m)}catch(W){if(M(_),W!==W+0)throw W;k(1,0)}}function ua(t,r,o,i,u,s,d,v,p,m,_){var W=C();try{P(t)(r,o,i,u,s,d,v,p,m,_)}catch(R){if(M(W),R!==R+0)throw R;k(1,0)}}function fa(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$){var j=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$)}catch(K){if(M(j),K!==K+0)throw K;k(1,0)}}function sa(t,r,o,i,u,s,d,v,p,m){var _=C();try{P(t)(r,o,i,u,s,d,v,p,m)}catch(W){if(M(_),W!==W+0)throw W;k(1,0)}}function ha(t,r,o,i,u,s,d,v,p){var m=C();try{P(t)(r,o,i,u,s,d,v,p)}catch(_){if(M(m),_!==_+0)throw _;k(1,0)}}function da(t,r,o,i,u,s,d){var v=C();try{return P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function la(t,r,o,i,u){var s=C();try{P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function va(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;return k(1,0),0n}}function ya(t,r,o,i,u,s,d){var v=C();try{return P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function pa(t,r,o,i,u,s){var d=C();try{P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function ga(t,r,o,i,u,s,d,v,p,m,_){var W=C();try{P(t)(r,o,i,u,s,d,v,p,m,_)}catch(R){if(M(W),R!==R+0)throw R;k(1,0)}}function wa(t,r,o,i,u,s,d,v,p,m,_,W,R){var w=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R)}catch($){if(M(w),$!==$+0)throw $;k(1,0)}}function ma(t,r,o,i,u,s){var d=C();try{return P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Oa(t,r,o,i,u,s,d,v,p,m,_,W,R){var w=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R)}catch($){if(M(w),$!==$+0)throw $;k(1,0)}}function ba(t,r,o,i,u,s,d,v){var p=C();try{P(t)(r,o,i,u,s,d,v)}catch(m){if(M(p),m!==m+0)throw m;k(1,0)}}function _a(t,r,o,i,u,s,d,v){var p=C();try{P(t)(r,o,i,u,s,d,v)}catch(m){if(M(p),m!==m+0)throw m;k(1,0)}}function Ta(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function Aa(t,r,o,i,u,s,d,v,p,m){var _=C();try{P(t)(r,o,i,u,s,d,v,p,m)}catch(W){if(M(_),W!==W+0)throw W;k(1,0)}}function Ea(t,r,o,i,u,s,d,v,p){var m=C();try{P(t)(r,o,i,u,s,d,v,p)}catch(_){if(M(m),_!==_+0)throw _;k(1,0)}}function Sa(t,r,o,i,u,s,d,v,p){var m=C();try{P(t)(r,o,i,u,s,d,v,p)}catch(_){if(M(m),_!==_+0)throw _;k(1,0)}}function Je(t,r,o,i,u,s,d,v,p,m){var _=C();try{P(t)(r,o,i,u,s,d,v,p,m)}catch(W){if(M(_),W!==W+0)throw W;k(1,0)}}function dn(t,r,o,i,u,s){var d=C();try{P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function e(t,r,o,i,u,s,d,v,p,m,_,W){var R=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W)}catch(w){if(M(R),w!==w+0)throw w;k(1,0)}}function n(t,r,o,i,u,s,d,v,p,m,_,W,R,w){var $=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w)}catch(j){if(M($),j!==j+0)throw j;k(1,0)}}function a(t,r,o,i,u,s,d,v){var p=C();try{return P(t)(r,o,i,u,s,d,v)}catch(m){if(M(p),m!==m+0)throw m;k(1,0)}}function c(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$){var j=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$)}catch(K){if(M(j),K!==K+0)throw K;k(1,0)}}function f(t,r,o,i,u,s,d,v,p,m,_,W,R,w){var $=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w)}catch(j){if(M($),j!==j+0)throw j;k(1,0)}}function h(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$){var j=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$)}catch(K){if(M(j),K!==K+0)throw K;k(1,0)}}function l(t,r,o){var i=C();try{P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function y(t,r,o,i,u,s,d,v,p){var m=C();try{P(t)(r,o,i,u,s,d,v,p)}catch(_){if(M(m),_!==_+0)throw _;k(1,0)}}function g(t,r,o,i,u,s,d,v,p,m,_){var W=C();try{P(t)(r,o,i,u,s,d,v,p,m,_)}catch(R){if(M(W),R!==R+0)throw R;k(1,0)}}function b(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt,Ct,kt,le,cc,uc,fc){var sc=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt,Ct,kt,le,cc,uc,fc)}catch(Fa){if(M(sc),Fa!==Fa+0)throw Fa;k(1,0)}}function A(t,r,o,i,u,s){var d=C();try{P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function I(t,r,o,i,u,s,d,v,p,m,_,W,R){var w=C();try{return P(t)(r,o,i,u,s,d,v,p,m,_,W,R)}catch($){if(M(w),$!==$+0)throw $;k(1,0)}}function L(t,r,o,i,u,s,d,v,p,m,_,W){var R=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W)}catch(w){if(M(R),w!==w+0)throw w;k(1,0)}}function O(t,r,o,i,u,s,d,v,p,m,_,W,R){var w=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R)}catch($){if(M(w),$!==$+0)throw $;k(1,0)}}function N(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt,Ct){var kt=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt,Ct)}catch(le){if(M(kt),le!==le+0)throw le;k(1,0)}}function G(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function X(t,r,o,i,u,s,d,v,p,m,_,W,R){var w=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R)}catch($){if(M(w),$!==$+0)throw $;k(1,0)}}function rt(t,r,o,i,u,s,d,v,p,m,_,W,R,w){var $=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w)}catch(j){if(M($),j!==j+0)throw j;k(1,0)}}function ut(t,r,o,i,u,s,d,v){var p=C();try{P(t)(r,o,i,u,s,d,v)}catch(m){if(M(p),m!==m+0)throw m;k(1,0)}}function Tt(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K){var nt=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K)}catch(ot){if(M(nt),ot!==ot+0)throw ot;k(1,0)}}function At(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt){var Ct=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt)}catch(kt){if(M(Ct),kt!==kt+0)throw kt;k(1,0)}}function Et(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot){var Mt=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot)}catch(Ct){if(M(Mt),Ct!==Ct+0)throw Ct;k(1,0)}}function oe(t,r,o,i,u,s,d,v,p,m,_){var W=C();try{P(t)(r,o,i,u,s,d,v,p,m,_)}catch(R){if(M(W),R!==R+0)throw R;k(1,0)}}function Ma(t,r,o,i,u,s,d,v,p,m,_){var W=C();try{return P(t)(r,o,i,u,s,d,v,p,m,_)}catch(R){if(M(W),R!==R+0)throw R;k(1,0)}}function Ca(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt){var Ct=C();try{return P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j,K,nt,ot,Mt)}catch(kt){if(M(Ct),kt!==kt+0)throw kt;k(1,0)}}function ka(t,r,o,i,u){var s=C();try{P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function Pa(t,r,o,i,u,s,d,v,p,m,_,W){var R=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W)}catch(w){if(M(R),w!==w+0)throw w;k(1,0)}}function gr(t,r,o,i,u){var s=C();try{return P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function _i(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;return k(1,0),0n}}function Ti(t,r,o,i,u,s,d){var v=C();try{P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function Ai(t,r,o,i,u,s){var d=C();try{return P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Ei(t,r,o,i,u){var s=C();try{P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function Si(t,r,o,i,u,s){var d=C();try{return P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Mi(t,r,o,i,u,s,d,v,p){var m=C();try{P(t)(r,o,i,u,s,d,v,p)}catch(_){if(M(m),_!==_+0)throw _;k(1,0)}}function Ci(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function ki(t,r,o,i,u,s,d,v){var p=C();try{return P(t)(r,o,i,u,s,d,v)}catch(m){if(M(p),m!==m+0)throw m;k(1,0)}}function Pi(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function Fi(t,r,o,i,u,s){var d=C();try{return P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Di(t,r,o,i,u,s){var d=C();try{return P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Wi(t,r,o,i,u,s,d,v,p,m,_,W){var R=C();try{return P(t)(r,o,i,u,s,d,v,p,m,_,W)}catch(w){if(M(R),w!==w+0)throw w;k(1,0)}}function Ii(t,r,o,i,u,s,d,v){var p=C();try{return P(t)(r,o,i,u,s,d,v)}catch(m){if(M(p),m!==m+0)throw m;k(1,0)}}function Ui(t,r,o,i,u,s,d,v,p,m,_){var W=C();try{return P(t)(r,o,i,u,s,d,v,p,m,_)}catch(R){if(M(W),R!==R+0)throw R;k(1,0)}}function xi(t,r,o,i,u,s,d){var v=C();try{return P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function Bi(t,r,o,i,u,s,d,v,p,m,_,W,R){var w=C();try{return P(t)(r,o,i,u,s,d,v,p,m,_,W,R)}catch($){if(M(w),$!==$+0)throw $;k(1,0)}}function Ri(t,r,o,i,u,s,d){var v=C();try{return P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function Li(t,r,o,i,u,s,d){var v=C();try{return P(t)(r,o,i,u,s,d)}catch(p){if(M(v),p!==p+0)throw p;k(1,0)}}function Hi(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function $i(t,r,o,i,u,s,d,v,p,m){var _=C();try{P(t)(r,o,i,u,s,d,v,p,m)}catch(W){if(M(_),W!==W+0)throw W;k(1,0)}}function Ni(t,r,o,i,u,s,d,v,p,m,_,W,R){var w=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R)}catch($){if(M(w),$!==$+0)throw $;k(1,0)}}function zi(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function ji(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function Gi(t,r,o,i){var u=C();try{P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function Yi(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function qi(t,r,o,i,u){var s=C();try{P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function Ji(t,r,o,i,u,s){var d=C();try{return P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function Ki(t,r,o,i,u,s,d,v,p,m,_,W,R){var w=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R)}catch($){if(M(w),$!==$+0)throw $;k(1,0)}}function Xi(t,r,o,i,u,s,d,v,p,m){var _=C();try{P(t)(r,o,i,u,s,d,v,p,m)}catch(W){if(M(_),W!==W+0)throw W;k(1,0)}}function Zi(t,r,o,i){var u=C();try{return P(t)(r,o,i)}catch(s){if(M(u),s!==s+0)throw s;k(1,0)}}function Qi(t,r,o,i,u,s,d,v,p,m,_,W){var R=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W)}catch(w){if(M(R),w!==w+0)throw w;k(1,0)}}function Vi(t,r,o,i,u){var s=C();try{return P(t)(r,o,i,u)}catch(d){if(M(s),d!==d+0)throw d;k(1,0)}}function tc(t){var r=C();try{return P(t)()}catch(o){if(M(r),o!==o+0)throw o;return k(1,0),0n}}function ec(t,r,o,i,u,s){var d=C();try{return P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function rc(t,r,o,i,u,s){var d=C();try{return P(t)(r,o,i,u,s)}catch(v){if(M(d),v!==v+0)throw v;k(1,0)}}function nc(t,r,o,i,u,s,d,v,p,m,_,W,R,w,$,j){var K=C();try{P(t)(r,o,i,u,s,d,v,p,m,_,W,R,w,$,j)}catch(nt){if(M(K),nt!==nt+0)throw nt;k(1,0)}}function oc(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function ac(t,r,o){var i=C();try{return P(t)(r,o)}catch(u){if(M(i),u!==u+0)throw u;k(1,0)}}function ic(){var t=Z;t=Object.assign({},t);var r=i=>()=>i()>>>0,o=i=>u=>i(u)>>>0;return t.__errno_location=r(t.__errno_location),t.je=r(t.je),t.ke=o(t.ke),t.ne=o(t.ne),t.ze=r(t.ze),t.Be=o(t.Be),t}x.keepRuntimeAlive=Se,x.wasmMemory=pt,x.stackAlloc=pr,x.stackSave=C,x.stackRestore=M,x.UTF8ToString=Wt,x.stringToUTF8=er,x.lengthBytesUTF8=ke,x.ExitStatus=qt,x.PThread=et;var ln;ce=function t(){ln||qa(),ln||(ce=t)};function qa(){0<ee||(tt?(it(x),tt||Me(ie),startWorker(x)):(Me(Ht),0<ee||ln||(ln=!0,x.calledRun=!0,$t||(tt||Me(ie),it(x),tt||Me(pe)))))}return qa(),H.ready}})();typeof ri=="object"&&typeof Ha=="object"?Ha.exports=ei:typeof define=="function"&&define.amd&&define([],()=>ei)});var oi=wr((Rc,wc)=>{wc.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>(0,eval)(fs.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(Module.__embind_initialize_bindings(),initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed&&Module.__emscripten_thread_crashed(),a}}self.onmessage=handleMessage;\\n\'});var ii;ii=Xa();var mc=ni(),$a,Na=!1,vn=!1,ai=!1,Oc=()=>{try{return typeof SharedArrayBuffer>"u"?!1:(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}},bc=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},_c=(U,H)=>U?H?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":H?"ort-wasm-threaded.wasm":"ort-wasm.wasm",ci=async U=>{if(Na)return Promise.resolve();if(vn)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(ai)throw new Error("previous call to \'initializeWebAssembly()\' failed.");vn=!0;let H=U.initTimeout,T=U.numThreads,z=U.simd,Y=T>1&&Oc(),Q=z&&bc(),B=U.wasmPaths,q=typeof B=="string"?B:void 0,at=_c(Q,Y),x=typeof B=="object"?B[at]:void 0,it=!1,yt=[];if(H>0&&yt.push(new Promise(ft=>{setTimeout(()=>{it=!0,ft()},H)})),yt.push(new Promise((ft,st)=>{let wt=Y?mc:ii,ht={locateFile:(lt,mt)=>Y&&lt.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([oi()],{type:"text/javascript"})):lt.endsWith(".wasm")?x||(q??mt)+at:mt+lt};if(Y)if(typeof Blob>"u")ht.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let lt=`var ortWasmThreaded=${wt.toString()};`;ht.mainScriptUrlOrBlob=new Blob([lt],{type:"text/javascript"})}wt(ht).then(lt=>{vn=!1,Na=!0,$a=lt,ft()},lt=>{vn=!1,ai=!0,st(lt)})})),await Promise.race(yt),it)throw new Error(`WebAssembly backend initializing failed due to timeout: ${H}ms`)},Pt=()=>{if(Na&&$a)return $a;throw new Error("WebAssembly is not initialized yet.")};var Ft=(U,H)=>{let T=Pt(),z=T.lengthBytesUTF8(U)+1,Y=T._malloc(z);return T.stringToUTF8(U,Y,z),H.push(Y),Y},Or=(U,H,T,z)=>{if(typeof U=="object"&&U!==null){if(T.has(U))throw new Error("Circular reference in options");T.add(U)}Object.entries(U).forEach(([Y,Q])=>{let B=H?H+Y:Y;if(typeof Q=="object")Or(Q,B+".",T,z);else if(typeof Q=="string"||typeof Q=="number")z(B,Q.toString());else if(typeof Q=="boolean")z(B,Q?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof Q}`)})},St=U=>{let H=Pt(),T=H.stackSave();try{let z=H.stackAlloc(8);H._OrtGetLastError(z,z+4);let Y=H.HEAP32[z/4],Q=H.HEAPU32[z/4+1],B=Q?H.UTF8ToString(Q):"";throw new Error(`${U} ERROR_CODE: ${Y}, ERROR_MESSAGE: ${B}`)}finally{H.stackRestore(T)}};var ui=U=>{let H=Pt(),T=0,z=[],Y=U||{};try{if(U?.logSeverityLevel===void 0)Y.logSeverityLevel=2;else if(typeof U.logSeverityLevel!="number"||!Number.isInteger(U.logSeverityLevel)||U.logSeverityLevel<0||U.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${U.logSeverityLevel}`);if(U?.logVerbosityLevel===void 0)Y.logVerbosityLevel=0;else if(typeof U.logVerbosityLevel!="number"||!Number.isInteger(U.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${U.logVerbosityLevel}`);U?.terminate===void 0&&(Y.terminate=!1);let Q=0;return U?.tag!==void 0&&(Q=Ft(U.tag,z)),T=H._OrtCreateRunOptions(Y.logSeverityLevel,Y.logVerbosityLevel,!!Y.terminate,Q),T===0&&St("Can\'t create run options."),U?.extra!==void 0&&Or(U.extra,"",new WeakSet,(B,q)=>{let at=Ft(B,z),x=Ft(q,z);H._OrtAddRunConfigEntry(T,at,x)!==0&&St(`Can\'t set a run config entry: ${B} - ${q}.`)}),[T,z]}catch(Q){throw T!==0&&H._OrtReleaseRunOptions(T),z.forEach(B=>H._free(B)),Q}};var Tc=U=>{switch(U){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${U}`)}},Ac=U=>{switch(U){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${U}`)}},Ec=U=>{U.extra||(U.extra={}),U.extra.session||(U.extra.session={});let H=U.extra.session;H.use_ort_model_bytes_directly||(H.use_ort_model_bytes_directly="1"),U.executionProviders&&U.executionProviders.some(T=>(typeof T=="string"?T:T.name)==="webgpu")&&(U.enableMemPattern=!1)},Sc=(U,H,T)=>{for(let z of H){let Y=typeof z=="string"?z:z.name;switch(Y){case"xnnpack":Y="XNNPACK";break;case"webnn":if(Y="WEBNN",typeof z!="string"){let B=z;if(B?.deviceType){let q=Ft("deviceType",T),at=Ft(B.deviceType,T);Pt()._OrtAddSessionConfigEntry(U,q,at)!==0&&St(`Can\'t set a session config entry: \'deviceType\' - ${B.deviceType}.`)}if(B?.numThreads){let q=B.numThreads;(typeof q!="number"||!Number.isInteger(q)||q<0)&&(q=0);let at=Ft("numThreads",T),x=Ft(q.toString(),T);Pt()._OrtAddSessionConfigEntry(U,at,x)!==0&&St(`Can\'t set a session config entry: \'numThreads\' - ${B.numThreads}.`)}if(B?.powerPreference){let q=Ft("powerPreference",T),at=Ft(B.powerPreference,T);Pt()._OrtAddSessionConfigEntry(U,q,at)!==0&&St(`Can\'t set a session config entry: \'powerPreference\' - ${B.powerPreference}.`)}}break;case"webgpu":if(Y="JS",typeof z!="string"){let B=z;if(B?.preferredLayout){if(B.preferredLayout!=="NCHW"&&B.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${B.preferredLayout}`);let q=Ft("preferredLayout",T),at=Ft(B.preferredLayout,T);Pt()._OrtAddSessionConfigEntry(U,q,at)!==0&&St(`Can\'t set a session config entry: \'preferredLayout\' - ${B.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${Y}`)}let Q=Ft(Y,T);Pt()._OrtAppendExecutionProvider(U,Q)!==0&&St(`Can\'t append execution provider: ${Y}.`)}},fi=U=>{let H=Pt(),T=0,z=[],Y=U||{};Ec(Y);try{let Q=Tc(Y.graphOptimizationLevel??"all"),B=Ac(Y.executionMode??"sequential"),q=typeof Y.logId=="string"?Ft(Y.logId,z):0,at=Y.logSeverityLevel??2;if(!Number.isInteger(at)||at<0||at>4)throw new Error(`log serverity level is not valid: ${at}`);let x=Y.logVerbosityLevel??0;if(!Number.isInteger(x)||x<0||x>4)throw new Error(`log verbosity level is not valid: ${x}`);let it=typeof Y.optimizedModelFilePath=="string"?Ft(Y.optimizedModelFilePath,z):0;if(T=H._OrtCreateSessionOptions(Q,!!Y.enableCpuMemArena,!!Y.enableMemPattern,B,!!Y.enableProfiling,0,q,at,x,it),T===0&&St("Can\'t create session options."),Y.executionProviders&&Sc(T,Y.executionProviders,z),Y.freeDimensionOverrides)for(let[yt,ft]of Object.entries(Y.freeDimensionOverrides)){if(typeof yt!="string")throw new Error(`free dimension override name must be a string: ${yt}`);if(typeof ft!="number"||!Number.isInteger(ft)||ft<0)throw new Error(`free dimension override value must be a non-negative integer: ${ft}`);let st=Ft(yt,z);H._OrtAddFreeDimensionOverride(T,st,ft)!==0&&St(`Can\'t set a free dimension override: ${yt} - ${ft}.`)}return Y.extra!==void 0&&Or(Y.extra,"",new WeakSet,(yt,ft)=>{let st=Ft(yt,z),wt=Ft(ft,z);H._OrtAddSessionConfigEntry(T,st,wt)!==0&&St(`Can\'t set a session config entry: ${yt} - ${ft}.`)}),[T,z]}catch(Q){throw T!==0&&H._OrtReleaseSessionOptions(T),z.forEach(B=>H._free(B)),Q}};var za=U=>{switch(U){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${U}`)}},si=U=>{switch(U){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${U}`)}},ja=U=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][U],hi=U=>{switch(U){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${U}`)}},di=U=>{switch(U){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${U}`)}},li=U=>U==="float32"||U==="int32"||U==="int64"||U==="bool"||U==="float16"||U==="uint32",vi=U=>{switch(U){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${U}`)}};var Mc=U=>{let H=Pt(),T=H.stackSave();try{let z=H.stackAlloc(8);return H._OrtGetInputOutputCount(U,z,z+4)!==0&&St("Can\'t get session input/output count."),[H.HEAP32[z/4],H.HEAP32[z/4+1]]}finally{H.stackRestore(T)}},Cc=(U,H)=>{Pt()._OrtInit(U,H)!==0&&St("Can\'t initialize onnxruntime.")},pi=async U=>{Cc(U.wasm.numThreads,di(U.logLevel))},br=new Map,Ga=U=>{let H=Pt(),T=H._malloc(U.byteLength);if(T===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${U.byteLength}.`);return H.HEAPU8.set(U,T),[T,U.byteLength]},Ya=(U,H)=>{let T=Pt(),z=0,Y=0,Q=0,B=[],q=[],at=[];try{[Y,B]=fi(H),z=T._OrtCreateSession(U[0],U[1],Y),z===0&&St("Can\'t create a session.");let[x,it]=Mc(z),yt=[],ft=[],st=[];for(let ht=0;ht<x;ht++){let lt=T._OrtGetInputName(z,ht);lt===0&&St("Can\'t get an input name."),q.push(lt),yt.push(T.UTF8ToString(lt))}for(let ht=0;ht<it;ht++){let lt=T._OrtGetOutputName(z,ht);lt===0&&St("Can\'t get an output name."),at.push(lt);let mt=T.UTF8ToString(lt);ft.push(mt)}let wt=null;return br.set(z,[z,q,at,wt]),[z,yt,ft]}catch(x){throw q.forEach(it=>T._OrtFree(it)),at.forEach(it=>T._OrtFree(it)),Q!==0&&T._OrtReleaseBinding(Q),z!==0&&T._OrtReleaseSession(z),x}finally{T._free(U[0]),Y!==0&&T._OrtReleaseSessionOptions(Y),B.forEach(x=>T._free(x))}},gi=(U,H)=>{let T=Ga(U);return Ya(T,H)},wi=U=>{let H=Pt(),T=br.get(U);if(!T)throw new Error(`cannot release session. invalid session id: ${U}`);let[z,Y,Q,B]=T;B&&H._OrtReleaseBinding(B.handle),H.jsepUnregisterBuffers?.(U),Y.forEach(q=>H._OrtFree(q)),Q.forEach(q=>H._OrtFree(q)),H._OrtReleaseSession(z),br.delete(U)},yi=(U,H,T,z,Y)=>{if(!U){H.push(0);return}let Q=Pt(),B=U[0],q=U[1],at=U[3],x,it;if(B==="string"&&at==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(at==="gpu-buffer"){let st=U[2].gpuBuffer,wt=ja(za(B));it=q.reduce((ht,lt)=>ht*lt,1)*wt,x=Q.jsepRegisterBuffer(z,Y,st,it)}else{let st=U[2];if(Array.isArray(st)){it=4*st.length,x=Q._malloc(it),T.push(x);let wt=x/4;for(let ht=0;ht<st.length;ht++){if(typeof st[ht]!="string")throw new TypeError(`tensor data at index ${ht} is not a string`);Q.HEAPU32[wt++]=Ft(st[ht],T)}}else it=st.byteLength,x=Q._malloc(it),T.push(x),Q.HEAPU8.set(new Uint8Array(st.buffer,st.byteOffset,it),x)}let yt=Q.stackSave(),ft=Q.stackAlloc(4*q.length);try{let st=ft/4;q.forEach(ht=>Q.HEAP32[st++]=ht);let wt=Q._OrtCreateTensor(za(B),x,it,ft,q.length,vi(at));wt===0&&St(`Can\'t create tensor for input/output. session=${z}, index=${Y}.`),H.push(wt)}finally{Q.stackRestore(yt)}},mi=async(U,H,T,z,Y,Q)=>{let B=Pt(),q=br.get(U);if(!q)throw new Error(`cannot run inference. invalid session id: ${U}`);let[at,x,it,yt]=q,ft=H.length,st=z.length,wt=0,ht=[],lt=[],mt=[],tt=[],Ut=B.stackSave(),Lt=B.stackAlloc(ft*4),bt=B.stackAlloc(ft*4),Gt=B.stackAlloc(st*4),Qt=B.stackAlloc(st*4);try{[wt,ht]=ui(Q);for(let dt=0;dt<ft;dt++)yi(T[dt],lt,tt,U,H[dt]);for(let dt=0;dt<st;dt++)yi(Y[dt],mt,tt,U,ft+z[dt]);let J=Lt/4,ct=bt/4,be=Gt/4,_e=Qt/4;for(let dt=0;dt<ft;dt++)B.HEAPU32[J++]=lt[dt],B.HEAPU32[ct++]=x[H[dt]];for(let dt=0;dt<st;dt++)B.HEAPU32[be++]=mt[dt],B.HEAPU32[_e++]=it[z[dt]];let Te;Te=await B._OrtRun(at,bt,Lt,ft,Qt,st,Gt,wt),Te!==0&&St("failed to call OrtRun().");let Dt=[];for(let dt=0;dt<st;dt++){let pt=B.HEAPU32[Gt/4+dt];if(pt===mt[dt]){Dt.push(Y[dt]);continue}let fe=B.stackSave(),$t=B.stackAlloc(4*4),xt=!1,gt,It=0;try{B._OrtGetTensorData(pt,$t,$t+4,$t+8,$t+12)!==0&&St(`Can\'t access output tensor data on index ${dt}.`);let ae=$t/4,Vt=B.HEAPU32[ae++];It=B.HEAPU32[ae++];let ye=B.HEAPU32[ae++],Ae=B.HEAPU32[ae++],Nt=[];for(let vt=0;vt<Ae;vt++)Nt.push(B.HEAPU32[ye/4+vt]);B._OrtFree(ye);let te=Nt.reduce((vt,_t)=>vt*_t,1);gt=si(Vt);let Ee=yt?.outputPreferredLocations[z[dt]];if(gt==="string"){if(Ee==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let vt=[],_t=It/4;for(let Ht=0;Ht<te;Ht++){let ie=B.HEAPU32[_t++],pe=Ht===te-1?void 0:B.HEAPU32[_t]-ie;vt.push(B.UTF8ToString(ie,pe))}Dt.push([gt,Nt,vt,"cpu"])}else if(Ee==="gpu-buffer"&&te>0){let vt=B.jsepGetBuffer(It),_t=ja(Vt);if(_t===void 0||!li(gt))throw new Error(`Unsupported data type: ${gt}`);xt=!0,Dt.push([gt,Nt,{gpuBuffer:vt,download:B.jsepCreateDownloader(vt,te*_t,gt),dispose:()=>{B._OrtReleaseTensor(pt)}},"gpu-buffer"])}else{let vt=hi(gt),_t=new vt(te);new Uint8Array(_t.buffer,_t.byteOffset,_t.byteLength).set(B.HEAPU8.subarray(It,It+_t.byteLength)),Dt.push([gt,Nt,_t,"cpu"])}}finally{B.stackRestore(fe),gt==="string"&&It&&B._free(It),xt||B._OrtReleaseTensor(pt)}}return yt&&B._OrtClearBoundOutputs(yt.handle),Dt}finally{B.stackRestore(Ut),lt.forEach(J=>B._OrtReleaseTensor(J)),mt.forEach(J=>B._OrtReleaseTensor(J)),tt.forEach(J=>B._free(J)),wt!==0&&B._OrtReleaseRunOptions(wt),ht.forEach(J=>B._free(J))}},Oi=U=>{let H=Pt(),T=br.get(U);if(!T)throw new Error("invalid session id");let z=T[0],Y=H._OrtEndProfiling(z);Y===0&&St("Can\'t get an profile file name."),H._OrtFree(Y)},bi=U=>{let H=[];for(let T of U){let z=T[2];!Array.isArray(z)&&"buffer"in z&&H.push(z.buffer)}return H};self.onmessage=U=>{switch(U.data.type){case"init-wasm":try{ci(U.data.in).then(()=>postMessage({type:"init-wasm"}),H=>postMessage({type:"init-wasm",err:H}))}catch(H){postMessage({type:"init-wasm",err:H})}break;case"init-ort":try{pi(U.data.in).then(()=>postMessage({type:"init-ort"}),H=>postMessage({type:"init-ort",err:H}))}catch(H){postMessage({type:"init-ort",err:H})}break;case"create_allocate":try{let{model:H}=U.data.in,T=Ga(H);postMessage({type:"create_allocate",out:T})}catch(H){postMessage({type:"create_allocate",err:H})}break;case"create_finalize":try{let{modeldata:H,options:T}=U.data.in,z=Ya(H,T);postMessage({type:"create_finalize",out:z})}catch(H){postMessage({type:"create_finalize",err:H})}break;case"create":try{let{model:H,options:T}=U.data.in,z=gi(H,T);postMessage({type:"create",out:z})}catch(H){postMessage({type:"create",err:H})}break;case"release":try{let H=U.data.in;wi(H),postMessage({type:"release"})}catch(H){postMessage({type:"release",err:H})}break;case"run":try{let{sessionId:H,inputIndices:T,inputs:z,outputIndices:Y,options:Q}=U.data.in;mi(H,T,z,Y,Q).then(B=>{postMessage({type:"run",out:B},bi(B))},B=>{postMessage({type:"run",err:B})})}catch(H){postMessage({type:"run",err:H})}break;case"end-profiling":try{let H=U.data.in;Oi(H),postMessage({type:"end-profiling"})}catch(H){postMessage({type:"end-profiling",err:H})}break;default:}};})();\n'});var Gr,Ge,_a,wc,Tc,dc,pc,hc,mc,yc,gc,bc,vc,ln,Pw,xa,Fy,$y,By,Ny,xc,My,Ry,Gy,_c=it(()=>{"use strict";dr();Ly();zn();Gr=()=>!!Dt.wasm.proxy&&typeof document<"u",_a=!1,wc=!1,Tc=!1,hc=[],mc=[],yc=[],gc=[],bc=[],vc=[],ln=()=>{if(_a||!wc||Tc||!Ge)throw new Error("worker not ready")},Pw=i=>{switch(i.data.type){case"init-wasm":_a=!1,i.data.err?(Tc=!0,dc[1](i.data.err)):(wc=!0,dc[0]());break;case"init-ort":i.data.err?pc[1](i.data.err):pc[0]();break;case"create_allocate":i.data.err?hc.shift()[1](i.data.err):hc.shift()[0](i.data.out);break;case"create_finalize":i.data.err?mc.shift()[1](i.data.err):mc.shift()[0](i.data.out);break;case"create":i.data.err?yc.shift()[1](i.data.err):yc.shift()[0](i.data.out);break;case"release":i.data.err?gc.shift()[1](i.data.err):gc.shift()[0]();break;case"run":i.data.err?bc.shift()[1](i.data.err):bc.shift()[0](i.data.out);break;case"end-profiling":i.data.err?vc.shift()[1](i.data.err):vc.shift()[0]();break;default:}},xa=typeof document<"u"?document?.currentScript?.src:void 0,Fy=async()=>{if(Gr()){if(wc)return;if(_a)throw new Error("multiple calls to 'initWasm()' detected.");if(Tc)throw new Error("previous call to 'initWasm()' failed.");return _a=!0,Dt.wasm.wasmPaths===void 0&&xa&&xa.indexOf("blob:")!==0&&(Dt.wasm.wasmPaths=xa.substr(0,+xa.lastIndexOf("/")+1)),new Promise((i,e)=>{Ge?.terminate();let o=URL.createObjectURL(new Blob([Cy()],{type:"text/javascript"}));Ge=new Worker(o,{name:"ort-wasm-proxy-worker"}),Ge.onerror=r=>e(r),Ge.onmessage=Pw,URL.revokeObjectURL(o),dc=[i,e];let t={type:"init-wasm",in:Dt.wasm};Ge.postMessage(t)})}else return yy(Dt.wasm)},$y=async i=>{if(Gr())return ln(),new Promise((e,o)=>{pc=[e,o];let t={type:"init-ort",in:i};Ge.postMessage(t)});await Ay(i)},By=async i=>Gr()?(ln(),new Promise((e,o)=>{hc.push([e,o]);let t={type:"create_allocate",in:{model:i}};Ge.postMessage(t,[i.buffer])})):cc(i),Ny=async(i,e)=>Gr()?(ln(),new Promise((o,t)=>{mc.push([o,t]);let r={type:"create_finalize",in:{modeldata:i,options:e}};Ge.postMessage(r)})):lc(i,e),xc=async(i,e)=>{if(Gr()){if(e?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return ln(),new Promise((o,t)=>{yc.push([o,t]);let r={type:"create",in:{model:i,options:e}};Ge.postMessage(r,[i.buffer])})}else return Sy(i,e)},My=async i=>{if(Gr())return ln(),new Promise((e,o)=>{gc.push([e,o]);let t={type:"release",in:i};Ge.postMessage(t)});Py(i)},Ry=async(i,e,o,t,r,n)=>{if(Gr()){if(o.some(s=>s[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(r.some(s=>s))throw new Error("pre-allocated output tensor is not supported for proxy.");return ln(),new Promise((s,a)=>{bc.push([s,a]);let u=o,c={type:"run",in:{sessionId:i,inputIndices:e,inputs:u,outputIndices:t,options:n}};Ge.postMessage(c,ky(u))})}else return Ey(i,e,o,t,r,n)},Gy=async i=>{if(Gr())return ln(),new Promise((e,o)=>{vc.push([e,o]);let t={type:"end-profiling",in:i};Ge.postMessage(t)});Dy(i)}});var Uy,Oa,Wy,Ew,Ia,zy=it(()=>{"use strict";dr();_c();fc();Wy=(i,e)=>{switch(i.location){case"cpu":return[i.type,i.dims,i.data,"cpu"];case"gpu-buffer":return[i.type,i.dims,{gpuBuffer:i.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${i.location} for ${e()}`)}},Ew=i=>{switch(i[3]){case"cpu":return new rr(i[0],i[2],i[1]);case"gpu-buffer":{let e=i[0];if(!Ta(e))throw new Error(`not supported data type: ${e} for deserializing GPU tensor`);let{gpuBuffer:o,download:t,dispose:r}=i[2];return rr.fromGpuBuffer(o,{dataType:e,dims:i[1],download:t,dispose:r})}default:throw new Error(`invalid data location: ${i[3]}`)}},Ia=class{async createSessionAllocate(e){let o=await fetch(e);if(o.status!==200)throw new Error(`failed to load model: ${e}`);let t=await o.arrayBuffer();return By(new Uint8Array(t))}async loadModel(e,o){if(Uy||(Oa||(Oa=$y(Dt)),await Oa,Oa=void 0,Uy=!0),typeof e=="string")if(typeof process<"u"&&process.versions&&process.versions.node){let t=await(void 0)(e);[this.sessionId,this.inputNames,this.outputNames]=await xc(t,o)}else{let t=await this.createSessionAllocate(e);[this.sessionId,this.inputNames,this.outputNames]=await Ny(t,o)}else[this.sessionId,this.inputNames,this.outputNames]=await xc(e,o)}async dispose(){return My(this.sessionId)}async run(e,o,t){let r=[],n=[];Object.entries(e).forEach(E=>{let N=E[0],Z=E[1],H=this.inputNames.indexOf(N);if(H===-1)throw new Error(`invalid input '${N}'`);r.push(Z),n.push(H)});let s=[],a=[];Object.entries(o).forEach(E=>{let N=E[0],Z=E[1],H=this.outputNames.indexOf(N);if(H===-1)throw new Error(`invalid output '${N}'`);s.push(Z),a.push(H)});let u=r.map((E,N)=>Wy(E,()=>`input "${this.inputNames[n[N]]}"`)),c=s.map((E,N)=>E?Wy(E,()=>`output "${this.outputNames[a[N]]}"`):null),w=await Ry(this.sessionId,n,u,a,c,t),S={};for(let E=0;E<w.length;E++)S[this.outputNames[a[E]]]=s[E]??Ew(w[E]);return S}startProfiling(){}endProfiling(){Gy(this.sessionId)}}});var Dw,Aa,Hy=it(()=>{"use strict";dr();_c();zy();Dw=()=>{if((typeof Dt.wasm.initTimeout!="number"||Dt.wasm.initTimeout<0)&&(Dt.wasm.initTimeout=0),typeof Dt.wasm.simd!="boolean"&&(Dt.wasm.simd=!0),typeof Dt.wasm.proxy!="boolean"&&(Dt.wasm.proxy=!1),typeof Dt.wasm.numThreads!="number"||!Number.isInteger(Dt.wasm.numThreads)||Dt.wasm.numThreads<=0){let i=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;Dt.wasm.numThreads=Math.min(4,Math.ceil((i||1)/2))}},Aa=class{async init(){Dw(),await Fy()}async createInferenceSessionHandler(e,o){let t=new Ia;return await t.loadModel(e,o),Promise.resolve(t)}}});var Vy={};ho(Vy,{wasmBackend:()=>kw});var kw,jy=it(()=>{"use strict";Hy();kw=new Aa});dr();dr();var Zc="1.17.0";{let i=(ry(),Kr(ey)).onnxjsBackend;Jr("webgl",i,-10)}{let i=(jy(),Kr(Vy)).wasmBackend;Jr("cpu",i,10),Jr("wasm",i,10),Jr("xnnpack",i,9),Jr("webnn",i,9)}Object.defineProperty(Dt.versions,"web",{value:Zc,enumerable:!0});export{oT as InferenceSession,rr as Tensor,uT as TrainingSession,Dt as env,Jr as registerBackend};
/*! Bundled license information:

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
//# sourceMappingURL=ort.min.js.map
